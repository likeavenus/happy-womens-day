var bw=Object.defineProperty;var Gw=(e,t,i)=>t in e?bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var ct=(e,t,i)=>(Gw(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))n(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const r of S.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function n(y){if(y.ep)return;y.ep=!0;const S=i(y);fetch(y.href,S)}})();var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zT={exports:{}},pd={},kT={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=Symbol.for("react.element"),zw=Symbol.for("react.portal"),kw=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),Uw=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),$w=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),bm=Symbol.iterator;function Zw(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,WT={};function Za(e,t,i){this.props=e,this.context=t,this.refs=WT,this.updater=i||VT}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XT(){}XT.prototype=Za.prototype;function qp(e,t,i){this.props=e,this.context=t,this.refs=WT,this.updater=i||VT}var _p=qp.prototype=new XT;_p.constructor=qp;UT(_p,Za.prototype);_p.isPureReactComponent=!0;var Gm=Array.isArray,YT=Object.prototype.hasOwnProperty,tg={current:null},HT={key:!0,ref:!0,__self:!0,__source:!0};function $T(e,t,i){var n,y={},S=null,r=null;if(t!=null)for(n in t.ref!==void 0&&(r=t.ref),t.key!==void 0&&(S=""+t.key),t)YT.call(t,n)&&!HT.hasOwnProperty(n)&&(y[n]=t[n]);var T=arguments.length-2;if(T===1)y.children=i;else if(1<T){for(var s=Array(T),d=0;d<T;d++)s[d]=arguments[d+2];y.children=s}if(e&&e.defaultProps)for(n in T=e.defaultProps,T)y[n]===void 0&&(y[n]=T[n]);return{$$typeof:Rh,type:e,key:S,ref:r,props:y,_owner:tg.current}}function Jw(e,t){return{$$typeof:Rh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rh}function Qw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Nm=/\/+/g;function Lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qw(""+e.key):t.toString(36)}function Cu(e,t,i,n,y){var S=typeof e;(S==="undefined"||S==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(S){case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Rh:case zw:r=!0}}if(r)return r=e,y=y(r),e=n===""?"."+Lf(r,0):n,Gm(y)?(i="",e!=null&&(i=e.replace(Nm,"$&/")+"/"),Cu(y,t,i,"",function(d){return d})):y!=null&&(eg(y)&&(y=Jw(y,i+(!y.key||r&&r.key===y.key?"":(""+y.key).replace(Nm,"$&/")+"/")+e)),t.push(y)),1;if(r=0,n=n===""?".":n+":",Gm(e))for(var T=0;T<e.length;T++){S=e[T];var s=n+Lf(S,T);r+=Cu(S,t,i,s,y)}else if(s=Zw(e),typeof s=="function")for(e=s.call(e),T=0;!(S=e.next()).done;)S=S.value,s=n+Lf(S,T++),r+=Cu(S,t,i,s,y);else if(S==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return r}function el(e,t,i){if(e==null)return e;var n=[],y=0;return Cu(e,n,"","",function(S){return t.call(i,S,y++)}),n}function jw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Tu={transition:null},qw={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Tu,ReactCurrentOwner:tg};St.Children={map:el,forEach:function(e,t,i){el(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!eg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Za;St.Fragment=kw;St.Profiler=Uw;St.PureComponent=qp;St.StrictMode=Vw;St.Suspense=Hw;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qw;St.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UT({},e.props),y=e.key,S=e.ref,r=e._owner;if(t!=null){if(t.ref!==void 0&&(S=t.ref,r=tg.current),t.key!==void 0&&(y=""+t.key),e.type&&e.type.defaultProps)var T=e.type.defaultProps;for(s in t)YT.call(t,s)&&!HT.hasOwnProperty(s)&&(n[s]=t[s]===void 0&&T!==void 0?T[s]:t[s])}var s=arguments.length-2;if(s===1)n.children=i;else if(1<s){T=Array(s);for(var d=0;d<s;d++)T[d]=arguments[d+2];n.children=T}return{$$typeof:Rh,type:e.type,key:y,ref:S,props:n,_owner:r}};St.createContext=function(e){return e={$$typeof:Xw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ww,_context:e},e.Consumer=e};St.createElement=$T;St.createFactory=function(e){var t=$T.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:Yw,render:e}};St.isValidElement=eg;St.lazy=function(e){return{$$typeof:Kw,_payload:{_status:-1,_result:e},_init:jw}};St.memo=function(e,t){return{$$typeof:$w,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=Tu.transition;Tu.transition={};try{e()}finally{Tu.transition=t}};St.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};St.useCallback=function(e,t){return $e.current.useCallback(e,t)};St.useContext=function(e){return $e.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};St.useEffect=function(e,t){return $e.current.useEffect(e,t)};St.useId=function(){return $e.current.useId()};St.useImperativeHandle=function(e,t,i){return $e.current.useImperativeHandle(e,t,i)};St.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return $e.current.useMemo(e,t)};St.useReducer=function(e,t,i){return $e.current.useReducer(e,t,i)};St.useRef=function(e){return $e.current.useRef(e)};St.useState=function(e){return $e.current.useState(e)};St.useSyncExternalStore=function(e,t,i){return $e.current.useSyncExternalStore(e,t,i)};St.useTransition=function(){return $e.current.useTransition()};St.version="18.2.0";kT.exports=St;var ig=kT.exports;const _w=jp(ig);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=ig,eR=Symbol.for("react.element"),iR=Symbol.for("react.fragment"),sR=Object.prototype.hasOwnProperty,nR=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rR={key:!0,ref:!0,__self:!0,__source:!0};function KT(e,t,i){var n,y={},S=null,r=null;i!==void 0&&(S=""+i),t.key!==void 0&&(S=""+t.key),t.ref!==void 0&&(r=t.ref);for(n in t)sR.call(t,n)&&!rR.hasOwnProperty(n)&&(y[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)y[n]===void 0&&(y[n]=t[n]);return{$$typeof:eR,type:e,key:S,ref:r,props:y,_owner:nR.current}}pd.Fragment=iR;pd.jsx=KT;pd.jsxs=KT;zT.exports=pd;var aR=zT.exports;const Nv=aR.jsx;var zv={},ZT={exports:{}},Ti={},JT={exports:{}},QT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,G){var V=b.length;b.push(G);t:for(;0<V;){var W=V-1>>>1,H=b[W];if(0<y(H,G))b[W]=G,b[V]=H,V=W;else break t}}function i(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var G=b[0],V=b.pop();if(V!==G){b[0]=V;t:for(var W=0,H=b.length,z=H>>>1;W<z;){var U=2*(W+1)-1,I=b[U],N=U+1,k=b[N];if(0>y(I,V))N<H&&0>y(k,I)?(b[W]=k,b[N]=V,W=N):(b[W]=I,b[U]=V,W=U);else if(N<H&&0>y(k,V))b[W]=k,b[N]=V,W=N;else break t}}return G}function y(b,G){var V=b.sortIndex-G.sortIndex;return V!==0?V:b.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;e.unstable_now=function(){return S.now()}}else{var r=Date,T=r.now();e.unstable_now=function(){return r.now()-T}}var s=[],d=[],x=1,f=null,l=3,h=!1,a=!1,u=!1,v=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var G=i(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=b)n(d),G.sortIndex=G.expirationTime,t(s,G);else break;G=i(d)}}function g(b){if(u=!1,p(b),!a)if(i(s)!==null)a=!0,D(m);else{var G=i(d);G!==null&&B(g,G.startTime-b)}}function m(b,G){a=!1,u&&(u=!1,o(M),M=-1),h=!0;var V=l;try{for(p(G),f=i(s);f!==null&&(!(f.expirationTime>G)||b&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,l=f.priorityLevel;var H=W(f.expirationTime<=G);G=e.unstable_now(),typeof H=="function"?f.callback=H:f===i(s)&&n(s),p(G)}else n(s);f=i(s)}if(f!==null)var z=!0;else{var U=i(d);U!==null&&B(g,U.startTime-G),z=!1}return z}finally{f=null,l=V,h=!1}}var C=!1,E=null,M=-1,P=5,w=-1;function R(){return!(e.unstable_now()-w<P)}function A(){if(E!==null){var b=e.unstable_now();w=b;var G=!0;try{G=E(!0,b)}finally{G?L():(C=!1,E=null)}}else C=!1}var L;if(typeof c=="function")L=function(){c(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=A,L=function(){O.postMessage(null)}}else L=function(){v(A,0)};function D(b){E=b,C||(C=!0,L())}function B(b,G){M=v(function(){b(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){a||h||(a=!0,D(m))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return l},e.unstable_getFirstCallbackNode=function(){return i(s)},e.unstable_next=function(b){switch(l){case 1:case 2:case 3:var G=3;break;default:G=l}var V=l;l=G;try{return b()}finally{l=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,G){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var V=l;l=b;try{return G()}finally{l=V}},e.unstable_scheduleCallback=function(b,G,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,b){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,b={id:x++,callback:G,priorityLevel:b,startTime:V,expirationTime:H,sortIndex:-1},V>W?(b.sortIndex=V,t(d,b),i(s)===null&&b===i(d)&&(u?(o(M),M=-1):u=!0,B(g,V-W))):(b.sortIndex=H,t(s,b),a||h||(a=!0,D(m))),b},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(b){var G=l;return function(){var V=l;l=G;try{return b.apply(this,arguments)}finally{l=V}}}})(QT);JT.exports=QT;var oR=JT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=ig,gi=oR;function nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qT=new Set,ih={};function Or(e,t){Ga(e,t),Ga(e+"Capture",t)}function Ga(e,t){for(ih[e]=t,e=0;e<t.length;e++)qT.add(t[e])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=Object.prototype.hasOwnProperty,hR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zm={},km={};function lR(e){return kv.call(km,e)?!0:kv.call(zm,e)?!1:hR.test(e)?km[e]=!0:(zm[e]=!0,!1)}function uR(e,t,i,n){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dR(e,t,i,n){if(t===null||typeof t>"u"||uR(e,t,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,i,n,y,S,r){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=y,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=r}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var sg=/[\-:]([a-z])/g;function ng(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sg,ng);De[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sg,ng);De[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sg,ng);De[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function rg(e,t,i,n){var y=De.hasOwnProperty(t)?De[t]:null;(y!==null?y.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dR(t,i,y,n)&&(i=null),n||y===null?lR(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):y.mustUseProperty?e[y.propertyName]=i===null?y.type===3?!1:"":i:(t=y.attributeName,n=y.attributeNamespace,i===null?e.removeAttribute(t):(y=y.type,i=y===3||y===4&&i===!0?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}var js=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),va=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),_T=Symbol.for("react.provider"),tS=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),Uv=Symbol.for("react.suspense"),Wv=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),eS=Symbol.for("react.offscreen"),Vm=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,Of;function Xo(e){if(Of===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Of=t&&t[1]||""}return`
`+Of+e}var Ff=!1;function Df(e,t){if(!e||Ff)return"";Ff=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var y=d.stack.split(`
`),S=n.stack.split(`
`),r=y.length-1,T=S.length-1;1<=r&&0<=T&&y[r]!==S[T];)T--;for(;1<=r&&0<=T;r--,T--)if(y[r]!==S[T]){if(r!==1||T!==1)do if(r--,T--,0>T||y[r]!==S[T]){var s=`
`+y[r].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=r&&0<=T);break}}}finally{Ff=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Xo(e):""}function fR(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Df(e.type,!1),e;case 11:return e=Df(e.type.render,!1),e;case 1:return e=Df(e.type,!0),e;default:return""}}function Xv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case va:return"Portal";case Vv:return"Profiler";case ag:return"StrictMode";case Uv:return"Suspense";case Wv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tS:return(e.displayName||"Context")+".Consumer";case _T:return(e._context.displayName||"Context")+".Provider";case og:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hg:return t=e.displayName||null,t!==null?t:Xv(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return Xv(e(t))}catch{}}return null}function cR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xv(t);case 8:return t===ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vR(e){var t=iS(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var y=i.get,S=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return y.call(this)},set:function(r){n=""+r,S.call(this,r)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sl(e){e._valueTracker||(e._valueTracker=vR(e))}function sS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=iS(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yv(e,t){var i=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Um(e,t){var i=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;i=zn(t.value!=null?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nS(e,t){t=t.checked,t!=null&&rg(e,"checked",t,!1)}function Hv(e,t){nS(e,t);var i=zn(t.value),n=t.type;if(i!=null)n==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$v(e,t.type,i):t.hasOwnProperty("defaultValue")&&$v(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wm(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function $v(e,t,i){(t!=="number"||Gu(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Yo=Array.isArray;function Aa(e,t,i,n){if(e=e.options,t){t={};for(var y=0;y<i.length;y++)t["$"+i[y]]=!0;for(i=0;i<e.length;i++)y=t.hasOwnProperty("$"+e[i].value),e[i].selected!==y&&(e[i].selected=y),y&&n&&(e[i].defaultSelected=!0)}else{for(i=""+zn(i),t=null,y=0;y<e.length;y++){if(e[y].value===i){e[y].selected=!0,n&&(e[y].defaultSelected=!0);return}t!==null||e[y].disabled||(t=e[y])}t!==null&&(t.selected=!0)}}function Kv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xm(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(nt(92));if(Yo(i)){if(1<i.length)throw Error(nt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:zn(i)}}function rS(e,t){var i=zn(t.value),n=zn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),n!=null&&(e.defaultValue=""+n)}function Ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,oS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,n,y){MSApp.execUnsafeLocalFunction(function(){return e(t,i,n,y)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sh(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pR=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(e){pR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ko[t]=Ko[e]})});function hS(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Ko.hasOwnProperty(e)&&Ko[e]?(""+t).trim():t+"px"}function lS(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var n=i.indexOf("--")===0,y=hS(i,t[i],n);i==="float"&&(i="cssFloat"),n?e.setProperty(i,y):e[i]=y}}var gR=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jv(e,t){if(t){if(gR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function Qv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jv=null;function lg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qv=null,La=null,Oa=null;function Hm(e){if(e=Oh(e)){if(typeof qv!="function")throw Error(nt(280));var t=e.stateNode;t&&(t=Cd(t),qv(e.stateNode,e.type,t))}}function uS(e){La?Oa?Oa.push(e):Oa=[e]:La=e}function dS(){if(La){var e=La,t=Oa;if(Oa=La=null,Hm(e),t)for(e=0;e<t.length;e++)Hm(t[e])}}function fS(e,t){return e(t)}function cS(){}var If=!1;function vS(e,t,i){if(If)return e(t,i);If=!0;try{return fS(e,t,i)}finally{If=!1,(La!==null||Oa!==null)&&(cS(),dS())}}function nh(e,t){var i=e.stateNode;if(i===null)return null;var n=Cd(i);if(n===null)return null;i=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(nt(231,t,typeof i));return i}var _v=!1;if(Hs)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){_v=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{_v=!1}function mR(e,t,i,n,y,S,r,T,s){var d=Array.prototype.slice.call(arguments,3);try{t.apply(i,d)}catch(x){this.onError(x)}}var Zo=!1,Nu=null,zu=!1,tp=null,xR={onError:function(e){Zo=!0,Nu=e}};function yR(e,t,i,n,y,S,r,T,s){Zo=!1,Nu=null,mR.apply(xR,arguments)}function CR(e,t,i,n,y,S,r,T,s){if(yR.apply(this,arguments),Zo){if(Zo){var d=Nu;Zo=!1,Nu=null}else throw Error(nt(198));zu||(zu=!0,tp=d)}}function Fr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function pS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $m(e){if(Fr(e)!==e)throw Error(nt(188))}function TR(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var i=e,n=t;;){var y=i.return;if(y===null)break;var S=y.alternate;if(S===null){if(n=y.return,n!==null){i=n;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===i)return $m(y),e;if(S===n)return $m(y),t;S=S.sibling}throw Error(nt(188))}if(i.return!==n.return)i=y,n=S;else{for(var r=!1,T=y.child;T;){if(T===i){r=!0,i=y,n=S;break}if(T===n){r=!0,n=y,i=S;break}T=T.sibling}if(!r){for(T=S.child;T;){if(T===i){r=!0,i=S,n=y;break}if(T===n){r=!0,n=S,i=y;break}T=T.sibling}if(!r)throw Error(nt(189))}}if(i.alternate!==n)throw Error(nt(190))}if(i.tag!==3)throw Error(nt(188));return i.stateNode.current===i?e:t}function gS(e){return e=TR(e),e!==null?mS(e):null}function mS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mS(e);if(t!==null)return t;e=e.sibling}return null}var xS=gi.unstable_scheduleCallback,Km=gi.unstable_cancelCallback,SR=gi.unstable_shouldYield,ER=gi.unstable_requestPaint,re=gi.unstable_now,PR=gi.unstable_getCurrentPriorityLevel,ug=gi.unstable_ImmediatePriority,yS=gi.unstable_UserBlockingPriority,ku=gi.unstable_NormalPriority,MR=gi.unstable_LowPriority,CS=gi.unstable_IdlePriority,gd=null,Ms=null;function wR(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(gd,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:LR,RR=Math.log,AR=Math.LN2;function LR(e){return e>>>=0,e===0?32:31-(RR(e)/AR|0)|0}var rl=64,al=4194304;function Ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var i=e.pendingLanes;if(i===0)return 0;var n=0,y=e.suspendedLanes,S=e.pingedLanes,r=i&268435455;if(r!==0){var T=r&~y;T!==0?n=Ho(T):(S&=r,S!==0&&(n=Ho(S)))}else r=i&~y,r!==0?n=Ho(r):S!==0&&(n=Ho(S));if(n===0)return 0;if(t!==0&&t!==n&&!(t&y)&&(y=n&-n,S=t&-t,y>=S||y===16&&(S&4194240)!==0))return t;if(n&4&&(n|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)i=31-is(t),y=1<<i,n|=e[i],t&=~y;return n}function OR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FR(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,y=e.expirationTimes,S=e.pendingLanes;0<S;){var r=31-is(S),T=1<<r,s=y[r];s===-1?(!(T&i)||T&n)&&(y[r]=OR(T,t)):s<=t&&(e.expiredLanes|=T),S&=~T}}function ep(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TS(){var e=rl;return rl<<=1,!(rl&4194240)&&(rl=64),e}function Bf(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ah(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=i}function DR(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var y=31-is(i),S=1<<y;t[y]=0,n[y]=-1,e[y]=-1,i&=~S}}function dg(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-is(i),y=1<<n;y&t|e[n]&t&&(e[n]|=t),i&=~y}}var Dt=0;function SS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ES,fg,PS,MS,wS,ip=!1,ol=[],Rn=null,An=null,Ln=null,rh=new Map,ah=new Map,yn=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(t.pointerId)}}function oo(e,t,i,n,y,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:S,targetContainers:[y]},t!==null&&(t=Oh(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,y!==null&&t.indexOf(y)===-1&&t.push(y),e)}function BR(e,t,i,n,y){switch(t){case"focusin":return Rn=oo(Rn,e,t,i,n,y),!0;case"dragenter":return An=oo(An,e,t,i,n,y),!0;case"mouseover":return Ln=oo(Ln,e,t,i,n,y),!0;case"pointerover":var S=y.pointerId;return rh.set(S,oo(rh.get(S)||null,e,t,i,n,y)),!0;case"gotpointercapture":return S=y.pointerId,ah.set(S,oo(ah.get(S)||null,e,t,i,n,y)),!0}return!1}function RS(e){var t=xr(e.target);if(t!==null){var i=Fr(t);if(i!==null){if(t=i.tag,t===13){if(t=pS(i),t!==null){e.blockedOn=t,wS(e.priority,function(){PS(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Su(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=sp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);jv=n,i.target.dispatchEvent(n),jv=null}else return t=Oh(i),t!==null&&fg(t),e.blockedOn=i,!1;t.shift()}return!0}function Jm(e,t,i){Su(e)&&i.delete(t)}function bR(){ip=!1,Rn!==null&&Su(Rn)&&(Rn=null),An!==null&&Su(An)&&(An=null),Ln!==null&&Su(Ln)&&(Ln=null),rh.forEach(Jm),ah.forEach(Jm)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,ip||(ip=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,bR)))}function oh(e){function t(y){return ho(y,e)}if(0<ol.length){ho(ol[0],e);for(var i=1;i<ol.length;i++){var n=ol[i];n.blockedOn===e&&(n.blockedOn=null)}}for(Rn!==null&&ho(Rn,e),An!==null&&ho(An,e),Ln!==null&&ho(Ln,e),rh.forEach(t),ah.forEach(t),i=0;i<yn.length;i++)n=yn[i],n.blockedOn===e&&(n.blockedOn=null);for(;0<yn.length&&(i=yn[0],i.blockedOn===null);)RS(i),i.blockedOn===null&&yn.shift()}var Fa=js.ReactCurrentBatchConfig,Uu=!0;function GR(e,t,i,n){var y=Dt,S=Fa.transition;Fa.transition=null;try{Dt=1,cg(e,t,i,n)}finally{Dt=y,Fa.transition=S}}function NR(e,t,i,n){var y=Dt,S=Fa.transition;Fa.transition=null;try{Dt=4,cg(e,t,i,n)}finally{Dt=y,Fa.transition=S}}function cg(e,t,i,n){if(Uu){var y=sp(e,t,i,n);if(y===null)Yf(e,t,n,Wu,i),Zm(e,n);else if(BR(y,e,t,i,n))n.stopPropagation();else if(Zm(e,n),t&4&&-1<IR.indexOf(e)){for(;y!==null;){var S=Oh(y);if(S!==null&&ES(S),S=sp(e,t,i,n),S===null&&Yf(e,t,n,Wu,i),S===y)break;y=S}y!==null&&n.stopPropagation()}else Yf(e,t,n,null,i)}}var Wu=null;function sp(e,t,i,n){if(Wu=null,e=lg(n),e=xr(e),e!==null)if(t=Fr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=pS(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wu=e,null}function AS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PR()){case ug:return 1;case yS:return 4;case ku:case MR:return 16;case CS:return 536870912;default:return 16}default:return 16}}var Pn=null,vg=null,Eu=null;function LS(){if(Eu)return Eu;var e,t=vg,i=t.length,n,y="value"in Pn?Pn.value:Pn.textContent,S=y.length;for(e=0;e<i&&t[e]===y[e];e++);var r=i-e;for(n=1;n<=r&&t[i-n]===y[S-n];n++);return Eu=y.slice(e,1<n?1-n:void 0)}function Pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hl(){return!0}function Qm(){return!1}function Si(e){function t(i,n,y,S,r){this._reactName=i,this._targetInst=y,this.type=n,this.nativeEvent=S,this.target=r,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(S):S[T]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?hl:Qm,this.isPropagationStopped=Qm,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=Si(Ja),Lh=Zt({},Ja,{view:0,detail:0}),zR=Si(Lh),bf,Gf,lo,md=Zt({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lo&&(lo&&e.type==="mousemove"?(bf=e.screenX-lo.screenX,Gf=e.screenY-lo.screenY):Gf=bf=0,lo=e),bf)},movementY:function(e){return"movementY"in e?e.movementY:Gf}}),jm=Si(md),kR=Zt({},md,{dataTransfer:0}),VR=Si(kR),UR=Zt({},Lh,{relatedTarget:0}),Nf=Si(UR),WR=Zt({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),XR=Si(WR),YR=Zt({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HR=Si(YR),$R=Zt({},Ja,{data:0}),qm=Si($R),KR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JR[e])?!!t[e]:!1}function gg(){return QR}var jR=Zt({},Lh,{key:function(e){if(e.key){var t=KR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(e){return e.type==="keypress"?Pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qR=Si(jR),_R=Zt({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Si(_R),tA=Zt({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),eA=Si(tA),iA=Zt({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=Si(iA),nA=Zt({},md,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rA=Si(nA),aA=[9,13,27,32],mg=Hs&&"CompositionEvent"in window,Jo=null;Hs&&"documentMode"in document&&(Jo=document.documentMode);var oA=Hs&&"TextEvent"in window&&!Jo,OS=Hs&&(!mg||Jo&&8<Jo&&11>=Jo),tx=String.fromCharCode(32),ex=!1;function FS(e,t){switch(e){case"keyup":return aA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function hA(e,t){switch(e){case"compositionend":return DS(t);case"keypress":return t.which!==32?null:(ex=!0,tx);case"textInput":return e=t.data,e===tx&&ex?null:e;default:return null}}function lA(e,t){if(ga)return e==="compositionend"||!mg&&FS(e,t)?(e=LS(),Eu=vg=Pn=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OS&&t.locale!=="ko"?null:t.data;default:return null}}var uA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uA[e.type]:t==="textarea"}function IS(e,t,i,n){uS(n),t=Xu(t,"onChange"),0<t.length&&(i=new pg("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Qo=null,hh=null;function dA(e){YS(e,0)}function xd(e){var t=ya(e);if(sS(t))return e}function fA(e,t){if(e==="change")return t}var BS=!1;if(Hs){var zf;if(Hs){var kf="oninput"in document;if(!kf){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),kf=typeof sx.oninput=="function"}zf=kf}else zf=!1;BS=zf&&(!document.documentMode||9<document.documentMode)}function nx(){Qo&&(Qo.detachEvent("onpropertychange",bS),hh=Qo=null)}function bS(e){if(e.propertyName==="value"&&xd(hh)){var t=[];IS(t,hh,e,lg(e)),vS(dA,t)}}function cA(e,t,i){e==="focusin"?(nx(),Qo=t,hh=i,Qo.attachEvent("onpropertychange",bS)):e==="focusout"&&nx()}function vA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xd(hh)}function pA(e,t){if(e==="click")return xd(t)}function gA(e,t){if(e==="input"||e==="change")return xd(t)}function mA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ns=typeof Object.is=="function"?Object.is:mA;function lh(e,t){if(ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var y=i[n];if(!kv.call(t,y)||!ns(e[y],t[y]))return!1}return!0}function rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,t){var i=rx(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=rx(i)}}function GS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NS(){for(var e=window,t=Gu();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Gu(e.document)}return t}function xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xA(e){var t=NS(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&GS(i.ownerDocument.documentElement,i)){if(n!==null&&xg(i)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var y=i.textContent.length,S=Math.min(n.start,y);n=n.end===void 0?S:Math.min(n.end,y),!e.extend&&S>n&&(y=n,n=S,S=y),y=ax(i,S);var r=ax(i,n);y&&r&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(t=t.createRange(),t.setStart(y.node,y.offset),e.removeAllRanges(),S>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yA=Hs&&"documentMode"in document&&11>=document.documentMode,ma=null,np=null,jo=null,rp=!1;function ox(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;rp||ma==null||ma!==Gu(n)||(n=ma,"selectionStart"in n&&xg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jo&&lh(jo,n)||(jo=n,n=Xu(np,"onSelect"),0<n.length&&(t=new pg("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=ma)))}function ll(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var xa={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Vf={},zS={};Hs&&(zS=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function yd(e){if(Vf[e])return Vf[e];if(!xa[e])return e;var t=xa[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in zS)return Vf[e]=t[i];return e}var kS=yd("animationend"),VS=yd("animationiteration"),US=yd("animationstart"),WS=yd("transitionend"),XS=new Map,hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){XS.set(e,t),Or(t,[e])}for(var Uf=0;Uf<hx.length;Uf++){var Wf=hx[Uf],CA=Wf.toLowerCase(),TA=Wf[0].toUpperCase()+Wf.slice(1);Xn(CA,"on"+TA)}Xn(kS,"onAnimationEnd");Xn(VS,"onAnimationIteration");Xn(US,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(WS,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function lx(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,CR(n,t,void 0,e),e.currentTarget=null}function YS(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],y=n.event;n=n.listeners;t:{var S=void 0;if(t)for(var r=n.length-1;0<=r;r--){var T=n[r],s=T.instance,d=T.currentTarget;if(T=T.listener,s!==S&&y.isPropagationStopped())break t;lx(y,T,d),S=s}else for(r=0;r<n.length;r++){if(T=n[r],s=T.instance,d=T.currentTarget,T=T.listener,s!==S&&y.isPropagationStopped())break t;lx(y,T,d),S=s}}}if(zu)throw e=tp,zu=!1,tp=null,e}function Vt(e,t){var i=t[up];i===void 0&&(i=t[up]=new Set);var n=e+"__bubble";i.has(n)||(HS(t,e,2,!1),i.add(n))}function Xf(e,t,i){var n=0;t&&(n|=4),HS(i,e,n,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function uh(e){if(!e[ul]){e[ul]=!0,qT.forEach(function(i){i!=="selectionchange"&&(SA.has(i)||Xf(i,!1,e),Xf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,Xf("selectionchange",!1,t))}}function HS(e,t,i,n){switch(AS(t)){case 1:var y=GR;break;case 4:y=NR;break;default:y=cg}i=y.bind(null,t,i,e),y=void 0,!_v||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(y=!0),n?y!==void 0?e.addEventListener(t,i,{capture:!0,passive:y}):e.addEventListener(t,i,!0):y!==void 0?e.addEventListener(t,i,{passive:y}):e.addEventListener(t,i,!1)}function Yf(e,t,i,n,y){var S=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var T=n.stateNode.containerInfo;if(T===y||T.nodeType===8&&T.parentNode===y)break;if(r===4)for(r=n.return;r!==null;){var s=r.tag;if((s===3||s===4)&&(s=r.stateNode.containerInfo,s===y||s.nodeType===8&&s.parentNode===y))return;r=r.return}for(;T!==null;){if(r=xr(T),r===null)return;if(s=r.tag,s===5||s===6){n=S=r;continue t}T=T.parentNode}}n=n.return}vS(function(){var d=S,x=lg(i),f=[];t:{var l=XS.get(e);if(l!==void 0){var h=pg,a=e;switch(e){case"keypress":if(Pu(i)===0)break t;case"keydown":case"keyup":h=qR;break;case"focusin":a="focus",h=Nf;break;case"focusout":a="blur",h=Nf;break;case"beforeblur":case"afterblur":h=Nf;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=VR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=eA;break;case kS:case VS:case US:h=XR;break;case WS:h=sA;break;case"scroll":h=zR;break;case"wheel":h=rA;break;case"copy":case"cut":case"paste":h=HR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_m}var u=(t&4)!==0,v=!u&&e==="scroll",o=u?l!==null?l+"Capture":null:l;u=[];for(var c=d,p;c!==null;){p=c;var g=p.stateNode;if(p.tag===5&&g!==null&&(p=g,o!==null&&(g=nh(c,o),g!=null&&u.push(dh(c,g,p)))),v)break;c=c.return}0<u.length&&(l=new h(l,a,null,i,x),f.push({event:l,listeners:u}))}}if(!(t&7)){t:{if(l=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",l&&i!==jv&&(a=i.relatedTarget||i.fromElement)&&(xr(a)||a[$s]))break t;if((h||l)&&(l=x.window===x?x:(l=x.ownerDocument)?l.defaultView||l.parentWindow:window,h?(a=i.relatedTarget||i.toElement,h=d,a=a?xr(a):null,a!==null&&(v=Fr(a),a!==v||a.tag!==5&&a.tag!==6)&&(a=null)):(h=null,a=d),h!==a)){if(u=jm,g="onMouseLeave",o="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(u=_m,g="onPointerLeave",o="onPointerEnter",c="pointer"),v=h==null?l:ya(h),p=a==null?l:ya(a),l=new u(g,c+"leave",h,i,x),l.target=v,l.relatedTarget=p,g=null,xr(x)===d&&(u=new u(o,c+"enter",a,i,x),u.target=p,u.relatedTarget=v,g=u),v=g,h&&a)e:{for(u=h,o=a,c=0,p=u;p;p=kr(p))c++;for(p=0,g=o;g;g=kr(g))p++;for(;0<c-p;)u=kr(u),c--;for(;0<p-c;)o=kr(o),p--;for(;c--;){if(u===o||o!==null&&u===o.alternate)break e;u=kr(u),o=kr(o)}u=null}else u=null;h!==null&&ux(f,l,h,u,!1),a!==null&&v!==null&&ux(f,v,a,u,!0)}}t:{if(l=d?ya(d):window,h=l.nodeName&&l.nodeName.toLowerCase(),h==="select"||h==="input"&&l.type==="file")var m=fA;else if(ix(l))if(BS)m=gA;else{m=vA;var C=cA}else(h=l.nodeName)&&h.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(m=pA);if(m&&(m=m(e,d))){IS(f,m,i,x);break t}C&&C(e,l,d),e==="focusout"&&(C=l._wrapperState)&&C.controlled&&l.type==="number"&&$v(l,"number",l.value)}switch(C=d?ya(d):window,e){case"focusin":(ix(C)||C.contentEditable==="true")&&(ma=C,np=d,jo=null);break;case"focusout":jo=np=ma=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,ox(f,i,x);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":ox(f,i,x)}var E;if(mg)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else ga?FS(e,i)&&(M="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(OS&&i.locale!=="ko"&&(ga||M!=="onCompositionStart"?M==="onCompositionEnd"&&ga&&(E=LS()):(Pn=x,vg="value"in Pn?Pn.value:Pn.textContent,ga=!0)),C=Xu(d,M),0<C.length&&(M=new qm(M,e,null,i,x),f.push({event:M,listeners:C}),E?M.data=E:(E=DS(i),E!==null&&(M.data=E)))),(E=oA?hA(e,i):lA(e,i))&&(d=Xu(d,"onBeforeInput"),0<d.length&&(x=new qm("onBeforeInput","beforeinput",null,i,x),f.push({event:x,listeners:d}),x.data=E))}YS(f,t)})}function dh(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Xu(e,t){for(var i=t+"Capture",n=[];e!==null;){var y=e,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=nh(e,i),S!=null&&n.unshift(dh(e,S,y)),S=nh(e,t),S!=null&&n.push(dh(e,S,y))),e=e.return}return n}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ux(e,t,i,n,y){for(var S=t._reactName,r=[];i!==null&&i!==n;){var T=i,s=T.alternate,d=T.stateNode;if(s!==null&&s===n)break;T.tag===5&&d!==null&&(T=d,y?(s=nh(i,S),s!=null&&r.unshift(dh(i,s,T))):y||(s=nh(i,S),s!=null&&r.push(dh(i,s,T)))),i=i.return}r.length!==0&&e.push({event:t,listeners:r})}var EA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function dx(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(PA,"")}function dl(e,t,i){if(t=dx(t),dx(e)!==t&&i)throw Error(nt(425))}function Yu(){}var ap=null,op=null;function hp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,fx=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof fx<"u"?function(e){return fx.resolve(null).then(e).catch(RA)}:lp;function RA(e){setTimeout(function(){throw e})}function Hf(e,t){var i=t,n=0;do{var y=i.nextSibling;if(e.removeChild(i),y&&y.nodeType===8)if(i=y.data,i==="/$"){if(n===0){e.removeChild(y),oh(t);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=y}while(i);oh(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Qa,fh="__reactProps$"+Qa,$s="__reactContainer$"+Qa,up="__reactEvents$"+Qa,AA="__reactListeners$"+Qa,LA="__reactHandles$"+Qa;function xr(e){var t=e[Ts];if(t)return t;for(var i=e.parentNode;i;){if(t=i[$s]||i[Ts]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=cx(e);e!==null;){if(i=e[Ts])return i;e=cx(e)}return t}e=i,i=e.parentNode}return null}function Oh(e){return e=e[Ts]||e[$s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ya(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function Cd(e){return e[fh]||null}var dp=[],Ca=-1;function Yn(e){return{current:e}}function Wt(e){0>Ca||(e.current=dp[Ca],dp[Ca]=null,Ca--)}function zt(e,t){Ca++,dp[Ca]=e.current,e.current=t}var kn={},ke=Yn(kn),ei=Yn(!1),Pr=kn;function Na(e,t){var i=e.type.contextTypes;if(!i)return kn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in i)y[S]=t[S];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=y),y}function ii(e){return e=e.childContextTypes,e!=null}function Hu(){Wt(ei),Wt(ke)}function vx(e,t,i){if(ke.current!==kn)throw Error(nt(168));zt(ke,t),zt(ei,i)}function $S(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var y in n)if(!(y in t))throw Error(nt(108,cR(e)||"Unknown",y));return Zt({},i,n)}function $u(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Pr=ke.current,zt(ke,e),zt(ei,ei.current),!0}function px(e,t,i){var n=e.stateNode;if(!n)throw Error(nt(169));i?(e=$S(e,t,Pr),n.__reactInternalMemoizedMergedChildContext=e,Wt(ei),Wt(ke),zt(ke,e)):Wt(ei),zt(ei,i)}var zs=null,Td=!1,$f=!1;function KS(e){zs===null?zs=[e]:zs.push(e)}function OA(e){Td=!0,KS(e)}function Hn(){if(!$f&&zs!==null){$f=!0;var e=0,t=Dt;try{var i=zs;for(Dt=1;e<i.length;e++){var n=i[e];do n=n(!0);while(n!==null)}zs=null,Td=!1}catch(y){throw zs!==null&&(zs=zs.slice(e+1)),xS(ug,Hn),y}finally{Dt=t,$f=!1}}return null}var Ta=[],Sa=0,Ku=null,Zu=0,Fi=[],Di=0,Mr=null,ks=1,Vs="";function vr(e,t){Ta[Sa++]=Zu,Ta[Sa++]=Ku,Ku=e,Zu=t}function ZS(e,t,i){Fi[Di++]=ks,Fi[Di++]=Vs,Fi[Di++]=Mr,Mr=e;var n=ks;e=Vs;var y=32-is(n)-1;n&=~(1<<y),i+=1;var S=32-is(t)+y;if(30<S){var r=y-y%5;S=(n&(1<<r)-1).toString(32),n>>=r,y-=r,ks=1<<32-is(t)+y|i<<y|n,Vs=S+e}else ks=1<<S|i<<y|n,Vs=e}function yg(e){e.return!==null&&(vr(e,1),ZS(e,1,0))}function Cg(e){for(;e===Ku;)Ku=Ta[--Sa],Ta[Sa]=null,Zu=Ta[--Sa],Ta[Sa]=null;for(;e===Mr;)Mr=Fi[--Di],Fi[Di]=null,Vs=Fi[--Di],Fi[Di]=null,ks=Fi[--Di],Fi[Di]=null}var ci=null,fi=null,Xt=!1,es=null;function JS(e,t){var i=Ii(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function gx(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ci=e,fi=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ci=e,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:ks,overflow:Vs}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ii(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ci=e,fi=null,!0):!1;default:return!1}}function fp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cp(e){if(Xt){var t=fi;if(t){var i=t;if(!gx(e,t)){if(fp(e))throw Error(nt(418));t=On(i.nextSibling);var n=ci;t&&gx(e,t)?JS(n,i):(e.flags=e.flags&-4097|2,Xt=!1,ci=e)}}else{if(fp(e))throw Error(nt(418));e.flags=e.flags&-4097|2,Xt=!1,ci=e}}}function mx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ci=e}function fl(e){if(e!==ci)return!1;if(!Xt)return mx(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hp(e.type,e.memoizedProps)),t&&(t=fi)){if(fp(e))throw QS(),Error(nt(418));for(;t;)JS(e,t),t=On(t.nextSibling)}if(mx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){fi=On(e.nextSibling);break t}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}fi=null}}else fi=ci?On(e.stateNode.nextSibling):null;return!0}function QS(){for(var e=fi;e;)e=On(e.nextSibling)}function za(){fi=ci=null,Xt=!1}function Tg(e){es===null?es=[e]:es.push(e)}var FA=js.ReactCurrentBatchConfig;function ji(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Ju=Yn(null),Qu=null,Ea=null,Sg=null;function Eg(){Sg=Ea=Qu=null}function Pg(e){var t=Ju.current;Wt(Ju),e._currentValue=t}function vp(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Da(e,t){Qu=e,Sg=Ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(Sg!==e)if(e={context:e,memoizedValue:t,next:null},Ea===null){if(Qu===null)throw Error(nt(308));Ea=e,Qu.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var yr=null;function Mg(e){yr===null?yr=[e]:yr.push(e)}function jS(e,t,i,n){var y=t.interleaved;return y===null?(i.next=i,Mg(t)):(i.next=y.next,y.next=i),t.interleaved=i,Ks(e,n)}function Ks(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var pn=!1;function wg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var y=n.pending;return y===null?t.next=t:(t.next=y.next,y.next=t),n.pending=t,Ks(e,i)}return y=n.interleaved,y===null?(t.next=t,Mg(n)):(t.next=y.next,y.next=t),n.interleaved=t,Ks(e,i)}function Mu(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,dg(e,i)}}function xx(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var y=null,S=null;if(i=i.firstBaseUpdate,i!==null){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};S===null?y=S=r:S=S.next=r,i=i.next}while(i!==null);S===null?y=S=t:S=S.next=t}else y=S=t;i={baseState:n.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:n.shared,effects:n.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ju(e,t,i,n){var y=e.updateQueue;pn=!1;var S=y.firstBaseUpdate,r=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var s=T,d=s.next;s.next=null,r===null?S=d:r.next=d,r=s;var x=e.alternate;x!==null&&(x=x.updateQueue,T=x.lastBaseUpdate,T!==r&&(T===null?x.firstBaseUpdate=d:T.next=d,x.lastBaseUpdate=s))}if(S!==null){var f=y.baseState;r=0,x=d=s=null,T=S;do{var l=T.lane,h=T.eventTime;if((n&l)===l){x!==null&&(x=x.next={eventTime:h,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});t:{var a=e,u=T;switch(l=t,h=i,u.tag){case 1:if(a=u.payload,typeof a=="function"){f=a.call(h,f,l);break t}f=a;break t;case 3:a.flags=a.flags&-65537|128;case 0:if(a=u.payload,l=typeof a=="function"?a.call(h,f,l):a,l==null)break t;f=Zt({},f,l);break t;case 2:pn=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,l=y.effects,l===null?y.effects=[T]:l.push(T))}else h={eventTime:h,lane:l,tag:T.tag,payload:T.payload,callback:T.callback,next:null},x===null?(d=x=h,s=f):x=x.next=h,r|=l;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;l=T,T=l.next,l.next=null,y.lastBaseUpdate=l,y.shared.pending=null}}while(1);if(x===null&&(s=f),y.baseState=s,y.firstBaseUpdate=d,y.lastBaseUpdate=x,t=y.shared.interleaved,t!==null){y=t;do r|=y.lane,y=y.next;while(y!==t)}else S===null&&(y.shared.lanes=0);Rr|=r,e.lanes=r,e.memoizedState=f}}function yx(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],y=n.callback;if(y!==null){if(n.callback=null,n=i,typeof y!="function")throw Error(nt(191,y));y.call(n)}}}var _S=new jT.Component().refs;function pp(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:Zt({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Sd={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=He(),y=In(e),S=Us(n,y);S.payload=t,i!=null&&(S.callback=i),t=Fn(e,S,y),t!==null&&(ss(t,e,y,n),Mu(t,e,y))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=He(),y=In(e),S=Us(n,y);S.tag=1,S.payload=t,i!=null&&(S.callback=i),t=Fn(e,S,y),t!==null&&(ss(t,e,y,n),Mu(t,e,y))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=He(),n=In(e),y=Us(i,n);y.tag=2,t!=null&&(y.callback=t),t=Fn(e,y,n),t!==null&&(ss(t,e,n,i),Mu(t,e,n))}};function Cx(e,t,i,n,y,S,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,S,r):t.prototype&&t.prototype.isPureReactComponent?!lh(i,n)||!lh(y,S):!0}function tE(e,t,i){var n=!1,y=kn,S=t.contextType;return typeof S=="object"&&S!==null?S=zi(S):(y=ii(t)?Pr:ke.current,n=t.contextTypes,S=(n=n!=null)?Na(e,y):kn),t=new t(i,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=S),t}function Tx(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Sd.enqueueReplaceState(t,t.state,null)}function gp(e,t,i,n){var y=e.stateNode;y.props=i,y.state=e.memoizedState,y.refs=_S,wg(e);var S=t.contextType;typeof S=="object"&&S!==null?y.context=zi(S):(S=ii(t)?Pr:ke.current,y.context=Na(e,S)),y.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(pp(e,t,S,i),y.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(t=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),t!==y.state&&Sd.enqueueReplaceState(y,y.state,null),ju(e,i,y,n),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function uo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(nt(309));var n=i.stateNode}if(!n)throw Error(nt(147,e));var y=n,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(r){var T=y.refs;T===_S&&(T=y.refs={}),r===null?delete T[S]:T[S]=r},t._stringRef=S,t)}if(typeof e!="string")throw Error(nt(284));if(!i._owner)throw Error(nt(290,e))}return e}function cl(e,t){throw e=Object.prototype.toString.call(t),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sx(e){var t=e._init;return t(e._payload)}function eE(e){function t(o,c){if(e){var p=o.deletions;p===null?(o.deletions=[c],o.flags|=16):p.push(c)}}function i(o,c){if(!e)return null;for(;c!==null;)t(o,c),c=c.sibling;return null}function n(o,c){for(o=new Map;c!==null;)c.key!==null?o.set(c.key,c):o.set(c.index,c),c=c.sibling;return o}function y(o,c){return o=Bn(o,c),o.index=0,o.sibling=null,o}function S(o,c,p){return o.index=p,e?(p=o.alternate,p!==null?(p=p.index,p<c?(o.flags|=2,c):p):(o.flags|=2,c)):(o.flags|=1048576,c)}function r(o){return e&&o.alternate===null&&(o.flags|=2),o}function T(o,c,p,g){return c===null||c.tag!==6?(c=_f(p,o.mode,g),c.return=o,c):(c=y(c,p),c.return=o,c)}function s(o,c,p,g){var m=p.type;return m===pa?x(o,c,p.props.children,g,p.key):c!==null&&(c.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===vn&&Sx(m)===c.type)?(g=y(c,p.props),g.ref=uo(o,c,p),g.return=o,g):(g=Fu(p.type,p.key,p.props,null,o.mode,g),g.ref=uo(o,c,p),g.return=o,g)}function d(o,c,p,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=tc(p,o.mode,g),c.return=o,c):(c=y(c,p.children||[]),c.return=o,c)}function x(o,c,p,g,m){return c===null||c.tag!==7?(c=Sr(p,o.mode,g,m),c.return=o,c):(c=y(c,p),c.return=o,c)}function f(o,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=_f(""+c,o.mode,p),c.return=o,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case il:return p=Fu(c.type,c.key,c.props,null,o.mode,p),p.ref=uo(o,null,c),p.return=o,p;case va:return c=tc(c,o.mode,p),c.return=o,c;case vn:var g=c._init;return f(o,g(c._payload),p)}if(Yo(c)||ro(c))return c=Sr(c,o.mode,p,null),c.return=o,c;cl(o,c)}return null}function l(o,c,p,g){var m=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return m!==null?null:T(o,c,""+p,g);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case il:return p.key===m?s(o,c,p,g):null;case va:return p.key===m?d(o,c,p,g):null;case vn:return m=p._init,l(o,c,m(p._payload),g)}if(Yo(p)||ro(p))return m!==null?null:x(o,c,p,g,null);cl(o,p)}return null}function h(o,c,p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return o=o.get(p)||null,T(c,o,""+g,m);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case il:return o=o.get(g.key===null?p:g.key)||null,s(c,o,g,m);case va:return o=o.get(g.key===null?p:g.key)||null,d(c,o,g,m);case vn:var C=g._init;return h(o,c,p,C(g._payload),m)}if(Yo(g)||ro(g))return o=o.get(p)||null,x(c,o,g,m,null);cl(c,g)}return null}function a(o,c,p,g){for(var m=null,C=null,E=c,M=c=0,P=null;E!==null&&M<p.length;M++){E.index>M?(P=E,E=null):P=E.sibling;var w=l(o,E,p[M],g);if(w===null){E===null&&(E=P);break}e&&E&&w.alternate===null&&t(o,E),c=S(w,c,M),C===null?m=w:C.sibling=w,C=w,E=P}if(M===p.length)return i(o,E),Xt&&vr(o,M),m;if(E===null){for(;M<p.length;M++)E=f(o,p[M],g),E!==null&&(c=S(E,c,M),C===null?m=E:C.sibling=E,C=E);return Xt&&vr(o,M),m}for(E=n(o,E);M<p.length;M++)P=h(E,o,M,p[M],g),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?M:P.key),c=S(P,c,M),C===null?m=P:C.sibling=P,C=P);return e&&E.forEach(function(R){return t(o,R)}),Xt&&vr(o,M),m}function u(o,c,p,g){var m=ro(p);if(typeof m!="function")throw Error(nt(150));if(p=m.call(p),p==null)throw Error(nt(151));for(var C=m=null,E=c,M=c=0,P=null,w=p.next();E!==null&&!w.done;M++,w=p.next()){E.index>M?(P=E,E=null):P=E.sibling;var R=l(o,E,w.value,g);if(R===null){E===null&&(E=P);break}e&&E&&R.alternate===null&&t(o,E),c=S(R,c,M),C===null?m=R:C.sibling=R,C=R,E=P}if(w.done)return i(o,E),Xt&&vr(o,M),m;if(E===null){for(;!w.done;M++,w=p.next())w=f(o,w.value,g),w!==null&&(c=S(w,c,M),C===null?m=w:C.sibling=w,C=w);return Xt&&vr(o,M),m}for(E=n(o,E);!w.done;M++,w=p.next())w=h(E,o,M,w.value,g),w!==null&&(e&&w.alternate!==null&&E.delete(w.key===null?M:w.key),c=S(w,c,M),C===null?m=w:C.sibling=w,C=w);return e&&E.forEach(function(A){return t(o,A)}),Xt&&vr(o,M),m}function v(o,c,p,g){if(typeof p=="object"&&p!==null&&p.type===pa&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case il:t:{for(var m=p.key,C=c;C!==null;){if(C.key===m){if(m=p.type,m===pa){if(C.tag===7){i(o,C.sibling),c=y(C,p.props.children),c.return=o,o=c;break t}}else if(C.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===vn&&Sx(m)===C.type){i(o,C.sibling),c=y(C,p.props),c.ref=uo(o,C,p),c.return=o,o=c;break t}i(o,C);break}else t(o,C);C=C.sibling}p.type===pa?(c=Sr(p.props.children,o.mode,g,p.key),c.return=o,o=c):(g=Fu(p.type,p.key,p.props,null,o.mode,g),g.ref=uo(o,c,p),g.return=o,o=g)}return r(o);case va:t:{for(C=p.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){i(o,c.sibling),c=y(c,p.children||[]),c.return=o,o=c;break t}else{i(o,c);break}else t(o,c);c=c.sibling}c=tc(p,o.mode,g),c.return=o,o=c}return r(o);case vn:return C=p._init,v(o,c,C(p._payload),g)}if(Yo(p))return a(o,c,p,g);if(ro(p))return u(o,c,p,g);cl(o,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(i(o,c.sibling),c=y(c,p),c.return=o,o=c):(i(o,c),c=_f(p,o.mode,g),c.return=o,o=c),r(o)):i(o,c)}return v}var ka=eE(!0),iE=eE(!1),Fh={},ws=Yn(Fh),ch=Yn(Fh),vh=Yn(Fh);function Cr(e){if(e===Fh)throw Error(nt(174));return e}function Rg(e,t){switch(zt(vh,t),zt(ch,e),zt(ws,Fh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zv(t,e)}Wt(ws),zt(ws,t)}function Va(){Wt(ws),Wt(ch),Wt(vh)}function sE(e){Cr(vh.current);var t=Cr(ws.current),i=Zv(t,e.type);t!==i&&(zt(ch,e),zt(ws,i))}function Ag(e){ch.current===e&&(Wt(ws),Wt(ch))}var $t=Yn(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kf=[];function Lg(){for(var e=0;e<Kf.length;e++)Kf[e]._workInProgressVersionPrimary=null;Kf.length=0}var wu=js.ReactCurrentDispatcher,Zf=js.ReactCurrentBatchConfig,wr=0,Kt=null,ve=null,Ce=null,_u=!1,qo=!1,ph=0,DA=0;function Be(){throw Error(nt(321))}function Og(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ns(e[i],t[i]))return!1;return!0}function Fg(e,t,i,n,y,S){if(wr=S,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wu.current=e===null||e.memoizedState===null?GA:NA,e=i(n,y),qo){S=0;do{if(qo=!1,ph=0,25<=S)throw Error(nt(301));S+=1,Ce=ve=null,t.updateQueue=null,wu.current=zA,e=i(n,y)}while(qo)}if(wu.current=td,t=ve!==null&&ve.next!==null,wr=0,Ce=ve=Kt=null,_u=!1,t)throw Error(nt(300));return e}function Dg(){var e=ph!==0;return ph=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Kt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ki(){if(ve===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ce===null?Kt.memoizedState:Ce.next;if(t!==null)Ce=t,ve=e;else{if(e===null)throw Error(nt(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ce===null?Kt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function gh(e,t){return typeof t=="function"?t(e):t}function Jf(e){var t=ki(),i=t.queue;if(i===null)throw Error(nt(311));i.lastRenderedReducer=e;var n=ve,y=n.baseQueue,S=i.pending;if(S!==null){if(y!==null){var r=y.next;y.next=S.next,S.next=r}n.baseQueue=y=S,i.pending=null}if(y!==null){S=y.next,n=n.baseState;var T=r=null,s=null,d=S;do{var x=d.lane;if((wr&x)===x)s!==null&&(s=s.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};s===null?(T=s=f,r=n):s=s.next=f,Kt.lanes|=x,Rr|=x}d=d.next}while(d!==null&&d!==S);s===null?r=n:s.next=T,ns(n,t.memoizedState)||(ti=!0),t.memoizedState=n,t.baseState=r,t.baseQueue=s,i.lastRenderedState=n}if(e=i.interleaved,e!==null){y=e;do S=y.lane,Kt.lanes|=S,Rr|=S,y=y.next;while(y!==e)}else y===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Qf(e){var t=ki(),i=t.queue;if(i===null)throw Error(nt(311));i.lastRenderedReducer=e;var n=i.dispatch,y=i.pending,S=t.memoizedState;if(y!==null){i.pending=null;var r=y=y.next;do S=e(S,r.action),r=r.next;while(r!==y);ns(S,t.memoizedState)||(ti=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),i.lastRenderedState=S}return[S,n]}function nE(){}function rE(e,t){var i=Kt,n=ki(),y=t(),S=!ns(n.memoizedState,y);if(S&&(n.memoizedState=y,ti=!0),n=n.queue,Ig(hE.bind(null,i,n,e),[e]),n.getSnapshot!==t||S||Ce!==null&&Ce.memoizedState.tag&1){if(i.flags|=2048,mh(9,oE.bind(null,i,n,y,t),void 0,null),Ee===null)throw Error(nt(349));wr&30||aE(i,t,y)}return y}function aE(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function oE(e,t,i,n){t.value=i,t.getSnapshot=n,lE(t)&&uE(e)}function hE(e,t,i){return i(function(){lE(t)&&uE(e)})}function lE(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ns(e,i)}catch{return!0}}function uE(e){var t=Ks(e,1);t!==null&&ss(t,e,1,-1)}function Ex(e){var t=Cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:e},t.queue=e,e=e.dispatch=bA.bind(null,Kt,e),[t.memoizedState,e]}function mh(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e)),e}function dE(){return ki().memoizedState}function Ru(e,t,i,n){var y=Cs();Kt.flags|=e,y.memoizedState=mh(1|t,i,void 0,n===void 0?null:n)}function Ed(e,t,i,n){var y=ki();n=n===void 0?null:n;var S=void 0;if(ve!==null){var r=ve.memoizedState;if(S=r.destroy,n!==null&&Og(n,r.deps)){y.memoizedState=mh(t,i,S,n);return}}Kt.flags|=e,y.memoizedState=mh(1|t,i,S,n)}function Px(e,t){return Ru(8390656,8,e,t)}function Ig(e,t){return Ed(2048,8,e,t)}function fE(e,t){return Ed(4,2,e,t)}function cE(e,t){return Ed(4,4,e,t)}function vE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pE(e,t,i){return i=i!=null?i.concat([e]):null,Ed(4,4,vE.bind(null,t,e),i)}function Bg(){}function gE(e,t){var i=ki();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function mE(e,t){var i=ki();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function xE(e,t,i){return wr&21?(ns(i,t)||(i=TS(),Kt.lanes|=i,Rr|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=i)}function IA(e,t){var i=Dt;Dt=i!==0&&4>i?i:4,e(!0);var n=Zf.transition;Zf.transition={};try{e(!1),t()}finally{Dt=i,Zf.transition=n}}function yE(){return ki().memoizedState}function BA(e,t,i){var n=In(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},CE(e))TE(t,i);else if(i=jS(e,t,i,n),i!==null){var y=He();ss(i,e,n,y),SE(i,t,n)}}function bA(e,t,i){var n=In(e),y={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(CE(e))TE(t,y);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var r=t.lastRenderedState,T=S(r,i);if(y.hasEagerState=!0,y.eagerState=T,ns(T,r)){var s=t.interleaved;s===null?(y.next=y,Mg(t)):(y.next=s.next,s.next=y),t.interleaved=y;return}}catch{}finally{}i=jS(e,t,y,n),i!==null&&(y=He(),ss(i,e,n,y),SE(i,t,n))}}function CE(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function TE(e,t){qo=_u=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function SE(e,t,i){if(i&4194240){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,dg(e,i)}}var td={readContext:zi,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},GA={readContext:zi,useCallback:function(e,t){return Cs().memoizedState=[e,t===void 0?null:t],e},useContext:zi,useEffect:Px,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ru(4194308,4,vE.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ru(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ru(4,2,e,t)},useMemo:function(e,t){var i=Cs();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=Cs();return t=i!==void 0?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=BA.bind(null,Kt,e),[n.memoizedState,e]},useRef:function(e){var t=Cs();return e={current:e},t.memoizedState=e},useState:Ex,useDebugValue:Bg,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Ex(!1),t=e[0];return e=IA.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=Kt,y=Cs();if(Xt){if(i===void 0)throw Error(nt(407));i=i()}else{if(i=t(),Ee===null)throw Error(nt(349));wr&30||aE(n,t,i)}y.memoizedState=i;var S={value:i,getSnapshot:t};return y.queue=S,Px(hE.bind(null,n,S,e),[e]),n.flags|=2048,mh(9,oE.bind(null,n,S,i,t),void 0,null),i},useId:function(){var e=Cs(),t=Ee.identifierPrefix;if(Xt){var i=Vs,n=ks;i=(n&~(1<<32-is(n)-1)).toString(32)+i,t=":"+t+"R"+i,i=ph++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=DA++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NA={readContext:zi,useCallback:gE,useContext:zi,useEffect:Ig,useImperativeHandle:pE,useInsertionEffect:fE,useLayoutEffect:cE,useMemo:mE,useReducer:Jf,useRef:dE,useState:function(){return Jf(gh)},useDebugValue:Bg,useDeferredValue:function(e){var t=ki();return xE(t,ve.memoizedState,e)},useTransition:function(){var e=Jf(gh)[0],t=ki().memoizedState;return[e,t]},useMutableSource:nE,useSyncExternalStore:rE,useId:yE,unstable_isNewReconciler:!1},zA={readContext:zi,useCallback:gE,useContext:zi,useEffect:Ig,useImperativeHandle:pE,useInsertionEffect:fE,useLayoutEffect:cE,useMemo:mE,useReducer:Qf,useRef:dE,useState:function(){return Qf(gh)},useDebugValue:Bg,useDeferredValue:function(e){var t=ki();return ve===null?t.memoizedState=e:xE(t,ve.memoizedState,e)},useTransition:function(){var e=Qf(gh)[0],t=ki().memoizedState;return[e,t]},useMutableSource:nE,useSyncExternalStore:rE,useId:yE,unstable_isNewReconciler:!1};function Ua(e,t){try{var i="",n=t;do i+=fR(n),n=n.return;while(n);var y=i}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:y,digest:null}}function jf(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function mp(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function EE(e,t,i){i=Us(-1,i),i.tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){id||(id=!0,Rp=n),mp(e,t)},i}function PE(e,t,i){i=Us(-1,i),i.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var y=t.value;i.payload=function(){return n(y)},i.callback=function(){mp(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){mp(e,t),typeof n!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:r!==null?r:""})}),i}function Mx(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new kA;var y=new Set;n.set(t,y)}else y=n.get(t),y===void 0&&(y=new Set,n.set(t,y));y.has(i)||(y.add(i),e=_A.bind(null,e,t,i),t.then(e,e))}function wx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rx(e,t,i,n,y){return e.mode&1?(e.flags|=65536,e.lanes=y,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Us(-1,1),t.tag=2,Fn(i,t,1))),i.lanes|=1),e)}var VA=js.ReactCurrentOwner,ti=!1;function Xe(e,t,i,n){t.child=e===null?iE(t,null,i,n):ka(t,e.child,i,n)}function Ax(e,t,i,n,y){i=i.render;var S=t.ref;return Da(t,y),n=Fg(e,t,i,n,S,y),i=Dg(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~y,Zs(e,t,y)):(Xt&&i&&yg(t),t.flags|=1,Xe(e,t,n,y),t.child)}function Lx(e,t,i,n,y){if(e===null){var S=i.type;return typeof S=="function"&&!Wg(S)&&S.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=S,ME(e,t,S,n,y)):(e=Fu(i.type,null,n,t,t.mode,y),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,!(e.lanes&y)){var r=S.memoizedProps;if(i=i.compare,i=i!==null?i:lh,i(r,n)&&e.ref===t.ref)return Zs(e,t,y)}return t.flags|=1,e=Bn(S,n),e.ref=t.ref,e.return=t,t.child=e}function ME(e,t,i,n,y){if(e!==null){var S=e.memoizedProps;if(lh(S,n)&&e.ref===t.ref)if(ti=!1,t.pendingProps=n=S,(e.lanes&y)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Zs(e,t,y)}return xp(e,t,i,n,y)}function wE(e,t,i){var n=t.pendingProps,y=n.children,S=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ma,di),di|=i;else{if(!(i&1073741824))return e=S!==null?S.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Ma,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=S!==null?S.baseLanes:i,zt(Ma,di),di|=n}else S!==null?(n=S.baseLanes|i,t.memoizedState=null):n=i,zt(Ma,di),di|=n;return Xe(e,t,y,i),t.child}function RE(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function xp(e,t,i,n,y){var S=ii(i)?Pr:ke.current;return S=Na(t,S),Da(t,y),i=Fg(e,t,i,n,S,y),n=Dg(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~y,Zs(e,t,y)):(Xt&&n&&yg(t),t.flags|=1,Xe(e,t,i,y),t.child)}function Ox(e,t,i,n,y){if(ii(i)){var S=!0;$u(t)}else S=!1;if(Da(t,y),t.stateNode===null)Au(e,t),tE(t,i,n),gp(t,i,n,y),n=!0;else if(e===null){var r=t.stateNode,T=t.memoizedProps;r.props=T;var s=r.context,d=i.contextType;typeof d=="object"&&d!==null?d=zi(d):(d=ii(i)?Pr:ke.current,d=Na(t,d));var x=i.getDerivedStateFromProps,f=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function";f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T!==n||s!==d)&&Tx(t,r,n,d),pn=!1;var l=t.memoizedState;r.state=l,ju(t,n,r,y),s=t.memoizedState,T!==n||l!==s||ei.current||pn?(typeof x=="function"&&(pp(t,i,x,n),s=t.memoizedState),(T=pn||Cx(t,i,T,n,l,s,d))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=s),r.props=n,r.state=s,r.context=d,n=T):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,qS(e,t),T=t.memoizedProps,d=t.type===t.elementType?T:ji(t.type,T),r.props=d,f=t.pendingProps,l=r.context,s=i.contextType,typeof s=="object"&&s!==null?s=zi(s):(s=ii(i)?Pr:ke.current,s=Na(t,s));var h=i.getDerivedStateFromProps;(x=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T!==f||l!==s)&&Tx(t,r,n,s),pn=!1,l=t.memoizedState,r.state=l,ju(t,n,r,y);var a=t.memoizedState;T!==f||l!==a||ei.current||pn?(typeof h=="function"&&(pp(t,i,h,n),a=t.memoizedState),(d=pn||Cx(t,i,d,n,l,a,s)||!1)?(x||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,a,s),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,a,s)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||T===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=a),r.props=n,r.state=a,r.context=s,n=d):(typeof r.componentDidUpdate!="function"||T===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),n=!1)}return yp(e,t,i,n,S,y)}function yp(e,t,i,n,y,S){RE(e,t);var r=(t.flags&128)!==0;if(!n&&!r)return y&&px(t,i,!1),Zs(e,t,S);n=t.stateNode,VA.current=t;var T=r&&typeof i.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&r?(t.child=ka(t,e.child,null,S),t.child=ka(t,null,T,S)):Xe(e,t,T,S),t.memoizedState=n.state,y&&px(t,i,!0),t.child}function AE(e){var t=e.stateNode;t.pendingContext?vx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vx(e,t.context,!1),Rg(e,t.containerInfo)}function Fx(e,t,i,n,y){return za(),Tg(y),t.flags|=256,Xe(e,t,i,n),t.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function LE(e,t,i){var n=t.pendingProps,y=$t.current,S=!1,r=(t.flags&128)!==0,T;if((T=r)||(T=e!==null&&e.memoizedState===null?!1:(y&2)!==0),T?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),zt($t,y&1),e===null)return cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(r=n.children,e=n.fallback,S?(n=t.mode,S=t.child,r={mode:"hidden",children:r},!(n&1)&&S!==null?(S.childLanes=0,S.pendingProps=r):S=wd(r,n,0,null),e=Sr(e,n,i,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=Tp(i),t.memoizedState=Cp,e):bg(t,r));if(y=e.memoizedState,y!==null&&(T=y.dehydrated,T!==null))return UA(e,t,r,n,T,y,i);if(S){S=n.fallback,r=t.mode,y=e.child,T=y.sibling;var s={mode:"hidden",children:n.children};return!(r&1)&&t.child!==y?(n=t.child,n.childLanes=0,n.pendingProps=s,t.deletions=null):(n=Bn(y,s),n.subtreeFlags=y.subtreeFlags&14680064),T!==null?S=Bn(T,S):(S=Sr(S,r,i,null),S.flags|=2),S.return=t,n.return=t,n.sibling=S,t.child=n,n=S,S=t.child,r=e.child.memoizedState,r=r===null?Tp(i):{baseLanes:r.baseLanes|i,cachePool:null,transitions:r.transitions},S.memoizedState=r,S.childLanes=e.childLanes&~i,t.memoizedState=Cp,n}return S=e.child,e=S.sibling,n=Bn(S,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=i),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function bg(e,t){return t=wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vl(e,t,i,n){return n!==null&&Tg(n),ka(t,e.child,null,i),e=bg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UA(e,t,i,n,y,S,r){if(i)return t.flags&256?(t.flags&=-257,n=jf(Error(nt(422))),vl(e,t,r,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=n.fallback,y=t.mode,n=wd({mode:"visible",children:n.children},y,0,null),S=Sr(S,y,r,null),S.flags|=2,n.return=t,S.return=t,n.sibling=S,t.child=n,t.mode&1&&ka(t,e.child,null,r),t.child.memoizedState=Tp(r),t.memoizedState=Cp,S);if(!(t.mode&1))return vl(e,t,r,null);if(y.data==="$!"){if(n=y.nextSibling&&y.nextSibling.dataset,n)var T=n.dgst;return n=T,S=Error(nt(419)),n=jf(S,n,void 0),vl(e,t,r,n)}if(T=(r&e.childLanes)!==0,ti||T){if(n=Ee,n!==null){switch(r&-r){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(n.suspendedLanes|r)?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Ks(e,y),ss(n,e,y,-1))}return Ug(),n=jf(Error(nt(421))),vl(e,t,r,n)}return y.data==="$?"?(t.flags|=128,t.child=e.child,t=tL.bind(null,e),y._reactRetry=t,null):(e=S.treeContext,fi=On(y.nextSibling),ci=t,Xt=!0,es=null,e!==null&&(Fi[Di++]=ks,Fi[Di++]=Vs,Fi[Di++]=Mr,ks=e.id,Vs=e.overflow,Mr=t),t=bg(t,n.children),t.flags|=4096,t)}function Dx(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vp(e.return,t,i)}function qf(e,t,i,n,y){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:y}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=n,S.tail=i,S.tailMode=y)}function OE(e,t,i){var n=t.pendingProps,y=n.revealOrder,S=n.tail;if(Xe(e,t,n.children,i),n=$t.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dx(e,i,t);else if(e.tag===19)Dx(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt($t,n),!(t.mode&1))t.memoizedState=null;else switch(y){case"forwards":for(i=t.child,y=null;i!==null;)e=i.alternate,e!==null&&qu(e)===null&&(y=i),i=i.sibling;i=y,i===null?(y=t.child,t.child=null):(y=i.sibling,i.sibling=null),qf(t,!1,y,i,S);break;case"backwards":for(i=null,y=t.child,t.child=null;y!==null;){if(e=y.alternate,e!==null&&qu(e)===null){t.child=y;break}e=y.sibling,y.sibling=i,i=y,y=e}qf(t,!0,i,null,S);break;case"together":qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,i=Bn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Bn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function WA(e,t,i){switch(t.tag){case 3:AE(t),za();break;case 5:sE(t);break;case 1:ii(t.type)&&$u(t);break;case 4:Rg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,y=t.memoizedProps.value;zt(Ju,n._currentValue),n._currentValue=y;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt($t,$t.current&1),t.flags|=128,null):i&t.child.childLanes?LE(e,t,i):(zt($t,$t.current&1),e=Zs(e,t,i),e!==null?e.sibling:null);zt($t,$t.current&1);break;case 19:if(n=(i&t.childLanes)!==0,e.flags&128){if(n)return OE(e,t,i);t.flags|=128}if(y=t.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),zt($t,$t.current),n)break;return null;case 22:case 23:return t.lanes=0,wE(e,t,i)}return Zs(e,t,i)}var FE,Sp,DE,IE;FE=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Sp=function(){};DE=function(e,t,i,n){var y=e.memoizedProps;if(y!==n){e=t.stateNode,Cr(ws.current);var S=null;switch(i){case"input":y=Yv(e,y),n=Yv(e,n),S=[];break;case"select":y=Zt({},y,{value:void 0}),n=Zt({},n,{value:void 0}),S=[];break;case"textarea":y=Kv(e,y),n=Kv(e,n),S=[];break;default:typeof y.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yu)}Jv(i,n);var r;i=null;for(d in y)if(!n.hasOwnProperty(d)&&y.hasOwnProperty(d)&&y[d]!=null)if(d==="style"){var T=y[d];for(r in T)T.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ih.hasOwnProperty(d)?S||(S=[]):(S=S||[]).push(d,null));for(d in n){var s=n[d];if(T=y!=null?y[d]:void 0,n.hasOwnProperty(d)&&s!==T&&(s!=null||T!=null))if(d==="style")if(T){for(r in T)!T.hasOwnProperty(r)||s&&s.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in s)s.hasOwnProperty(r)&&T[r]!==s[r]&&(i||(i={}),i[r]=s[r])}else i||(S||(S=[]),S.push(d,i)),i=s;else d==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,T=T?T.__html:void 0,s!=null&&T!==s&&(S=S||[]).push(d,s)):d==="children"?typeof s!="string"&&typeof s!="number"||(S=S||[]).push(d,""+s):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ih.hasOwnProperty(d)?(s!=null&&d==="onScroll"&&Vt("scroll",e),S||T===s||(S=[])):(S=S||[]).push(d,s))}i&&(S=S||[]).push("style",i);var d=S;(t.updateQueue=d)&&(t.flags|=4)}};IE=function(e,t,i,n){i!==n&&(t.flags|=4)};function fo(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var y=e.child;y!==null;)i|=y.lanes|y.childLanes,n|=y.subtreeFlags&14680064,n|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)i|=y.lanes|y.childLanes,n|=y.subtreeFlags,n|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function XA(e,t,i){var n=t.pendingProps;switch(Cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return ii(t.type)&&Hu(),be(t),null;case 3:return n=t.stateNode,Va(),Wt(ei),Wt(ke),Lg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,es!==null&&(Op(es),es=null))),Sp(e,t),be(t),null;case 5:Ag(t);var y=Cr(vh.current);if(i=t.type,e!==null&&t.stateNode!=null)DE(e,t,i,n,y),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(nt(166));return be(t),null}if(e=Cr(ws.current),fl(t)){n=t.stateNode,i=t.type;var S=t.memoizedProps;switch(n[Ts]=t,n[fh]=S,e=(t.mode&1)!==0,i){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(y=0;y<$o.length;y++)Vt($o[y],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Um(n,S),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!S.multiple},Vt("invalid",n);break;case"textarea":Xm(n,S),Vt("invalid",n)}Jv(i,S),y=null;for(var r in S)if(S.hasOwnProperty(r)){var T=S[r];r==="children"?typeof T=="string"?n.textContent!==T&&(S.suppressHydrationWarning!==!0&&dl(n.textContent,T,e),y=["children",T]):typeof T=="number"&&n.textContent!==""+T&&(S.suppressHydrationWarning!==!0&&dl(n.textContent,T,e),y=["children",""+T]):ih.hasOwnProperty(r)&&T!=null&&r==="onScroll"&&Vt("scroll",n)}switch(i){case"input":sl(n),Wm(n,S,!0);break;case"textarea":sl(n),Ym(n);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(n.onclick=Yu)}n=y,t.updateQueue=n,n!==null&&(t.flags|=4)}else{r=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aS(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=r.createElement(i,{is:n.is}):(e=r.createElement(i),i==="select"&&(r=e,n.multiple?r.multiple=!0:n.size&&(r.size=n.size))):e=r.createElementNS(e,i),e[Ts]=t,e[fh]=n,FE(e,t,!1,!1),t.stateNode=e;t:{switch(r=Qv(i,n),i){case"dialog":Vt("cancel",e),Vt("close",e),y=n;break;case"iframe":case"object":case"embed":Vt("load",e),y=n;break;case"video":case"audio":for(y=0;y<$o.length;y++)Vt($o[y],e);y=n;break;case"source":Vt("error",e),y=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),y=n;break;case"details":Vt("toggle",e),y=n;break;case"input":Um(e,n),y=Yv(e,n),Vt("invalid",e);break;case"option":y=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},y=Zt({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":Xm(e,n),y=Kv(e,n),Vt("invalid",e);break;default:y=n}Jv(i,y),T=y;for(S in T)if(T.hasOwnProperty(S)){var s=T[S];S==="style"?lS(e,s):S==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&oS(e,s)):S==="children"?typeof s=="string"?(i!=="textarea"||s!=="")&&sh(e,s):typeof s=="number"&&sh(e,""+s):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(ih.hasOwnProperty(S)?s!=null&&S==="onScroll"&&Vt("scroll",e):s!=null&&rg(e,S,s,r))}switch(i){case"input":sl(e),Wm(e,n,!1);break;case"textarea":sl(e),Ym(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zn(n.value));break;case"select":e.multiple=!!n.multiple,S=n.value,S!=null?Aa(e,!!n.multiple,S,!1):n.defaultValue!=null&&Aa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=Yu)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)IE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(nt(166));if(i=Cr(vh.current),Cr(ws.current),fl(t)){if(n=t.stateNode,i=t.memoizedProps,n[Ts]=t,(S=n.nodeValue!==i)&&(e=ci,e!==null))switch(e.tag){case 3:dl(n.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(n.nodeValue,i,(e.mode&1)!==0)}S&&(t.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[Ts]=t,t.stateNode=n}return be(t),null;case 13:if(Wt($t),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&fi!==null&&t.mode&1&&!(t.flags&128))QS(),za(),t.flags|=98560,S=!1;else if(S=fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!S)throw Error(nt(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(nt(317));S[Ts]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),S=!1}else es!==null&&(Op(es),es=null),S=!0;if(!S)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?pe===0&&(pe=3):Ug())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Va(),Sp(e,t),e===null&&uh(t.stateNode.containerInfo),be(t),null;case 10:return Pg(t.type._context),be(t),null;case 17:return ii(t.type)&&Hu(),be(t),null;case 19:if(Wt($t),S=t.memoizedState,S===null)return be(t),null;if(n=(t.flags&128)!==0,r=S.rendering,r===null)if(n)fo(S,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=qu(e),r!==null){for(t.flags|=128,fo(S,!1),n=r.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;i!==null;)S=i,e=n,S.flags&=14680066,r=S.alternate,r===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=r.childLanes,S.lanes=r.lanes,S.child=r.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=r.memoizedProps,S.memoizedState=r.memoizedState,S.updateQueue=r.updateQueue,S.type=r.type,e=r.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return zt($t,$t.current&1|2),t.child}e=e.sibling}S.tail!==null&&re()>Wa&&(t.flags|=128,n=!0,fo(S,!1),t.lanes=4194304)}else{if(!n)if(e=qu(r),e!==null){if(t.flags|=128,n=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),fo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!r.alternate&&!Xt)return be(t),null}else 2*re()-S.renderingStartTime>Wa&&i!==1073741824&&(t.flags|=128,n=!0,fo(S,!1),t.lanes=4194304);S.isBackwards?(r.sibling=t.child,t.child=r):(i=S.last,i!==null?i.sibling=r:t.child=r,S.last=r)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=re(),t.sibling=null,i=$t.current,zt($t,n?i&1|2:i&1),t):(be(t),null);case 22:case 23:return Vg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?di&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function YA(e,t){switch(Cg(t),t.tag){case 1:return ii(t.type)&&Hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Va(),Wt(ei),Wt(ke),Lg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ag(t),null;case 13:if(Wt($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt($t),null;case 4:return Va(),null;case 10:return Pg(t.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var pl=!1,ze=!1,HA=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Pa(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){_t(e,t,n)}else i.current=null}function Ep(e,t,i){try{i()}catch(n){_t(e,t,n)}}var Ix=!1;function $A(e,t){if(ap=Uu,e=NS(),xg(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var y=n.anchorOffset,S=n.focusNode;n=n.focusOffset;try{i.nodeType,S.nodeType}catch{i=null;break t}var r=0,T=-1,s=-1,d=0,x=0,f=e,l=null;e:for(;;){for(var h;f!==i||y!==0&&f.nodeType!==3||(T=r+y),f!==S||n!==0&&f.nodeType!==3||(s=r+n),f.nodeType===3&&(r+=f.nodeValue.length),(h=f.firstChild)!==null;)l=f,f=h;for(;;){if(f===e)break e;if(l===i&&++d===y&&(T=r),l===S&&++x===n&&(s=r),(h=f.nextSibling)!==null)break;f=l,l=f.parentNode}f=h}i=T===-1||s===-1?null:{start:T,end:s}}else i=null}i=i||{start:0,end:0}}else i=null;for(op={focusedElem:e,selectionRange:i},Uu=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var a=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var u=a.memoizedProps,v=a.memoizedState,o=t.stateNode,c=o.getSnapshotBeforeUpdate(t.elementType===t.type?u:ji(t.type,u),v);o.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(g){_t(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return a=Ix,Ix=!1,a}function _o(e,t,i){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var y=n=n.next;do{if((y.tag&e)===e){var S=y.destroy;y.destroy=void 0,S!==void 0&&Ep(t,i,S)}y=y.next}while(y!==n)}}function Pd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function Pp(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function BE(e){var t=e.alternate;t!==null&&(e.alternate=null,BE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ts],delete t[fh],delete t[up],delete t[AA],delete t[LA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bE(e){return e.tag===5||e.tag===3||e.tag===4}function Bx(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||bE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mp(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Yu));else if(n!==4&&(e=e.child,e!==null))for(Mp(e,t,i),e=e.sibling;e!==null;)Mp(e,t,i),e=e.sibling}function wp(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wp(e,t,i),e=e.sibling;e!==null;)wp(e,t,i),e=e.sibling}var Ae=null,qi=!1;function nn(e,t,i){for(i=i.child;i!==null;)GE(e,t,i),i=i.sibling}function GE(e,t,i){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(gd,i)}catch{}switch(i.tag){case 5:ze||Pa(i,t);case 6:var n=Ae,y=qi;Ae=null,nn(e,t,i),Ae=n,qi=y,Ae!==null&&(qi?(e=Ae,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ae.removeChild(i.stateNode));break;case 18:Ae!==null&&(qi?(e=Ae,i=i.stateNode,e.nodeType===8?Hf(e.parentNode,i):e.nodeType===1&&Hf(e,i),oh(e)):Hf(Ae,i.stateNode));break;case 4:n=Ae,y=qi,Ae=i.stateNode.containerInfo,qi=!0,nn(e,t,i),Ae=n,qi=y;break;case 0:case 11:case 14:case 15:if(!ze&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){y=n=n.next;do{var S=y,r=S.destroy;S=S.tag,r!==void 0&&(S&2||S&4)&&Ep(i,t,r),y=y.next}while(y!==n)}nn(e,t,i);break;case 1:if(!ze&&(Pa(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(T){_t(i,t,T)}nn(e,t,i);break;case 21:nn(e,t,i);break;case 22:i.mode&1?(ze=(n=ze)||i.memoizedState!==null,nn(e,t,i),ze=n):nn(e,t,i);break;default:nn(e,t,i)}}function bx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new HA),t.forEach(function(n){var y=eL.bind(null,e,n);i.has(n)||(i.add(n),n.then(y,y))})}}function Ui(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var y=i[n];try{var S=e,r=t,T=r;t:for(;T!==null;){switch(T.tag){case 5:Ae=T.stateNode,qi=!1;break t;case 3:Ae=T.stateNode.containerInfo,qi=!0;break t;case 4:Ae=T.stateNode.containerInfo,qi=!0;break t}T=T.return}if(Ae===null)throw Error(nt(160));GE(S,r,y),Ae=null,qi=!1;var s=y.alternate;s!==null&&(s.return=null),y.return=null}catch(d){_t(y,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NE(t,e),t=t.sibling}function NE(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ui(t,e),hs(e),n&4){try{_o(3,e,e.return),Pd(3,e)}catch(u){_t(e,e.return,u)}try{_o(5,e,e.return)}catch(u){_t(e,e.return,u)}}break;case 1:Ui(t,e),hs(e),n&512&&i!==null&&Pa(i,i.return);break;case 5:if(Ui(t,e),hs(e),n&512&&i!==null&&Pa(i,i.return),e.flags&32){var y=e.stateNode;try{sh(y,"")}catch(u){_t(e,e.return,u)}}if(n&4&&(y=e.stateNode,y!=null)){var S=e.memoizedProps,r=i!==null?i.memoizedProps:S,T=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{T==="input"&&S.type==="radio"&&S.name!=null&&nS(y,S),Qv(T,r);var d=Qv(T,S);for(r=0;r<s.length;r+=2){var x=s[r],f=s[r+1];x==="style"?lS(y,f):x==="dangerouslySetInnerHTML"?oS(y,f):x==="children"?sh(y,f):rg(y,x,f,d)}switch(T){case"input":Hv(y,S);break;case"textarea":rS(y,S);break;case"select":var l=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var h=S.value;h!=null?Aa(y,!!S.multiple,h,!1):l!==!!S.multiple&&(S.defaultValue!=null?Aa(y,!!S.multiple,S.defaultValue,!0):Aa(y,!!S.multiple,S.multiple?[]:"",!1))}y[fh]=S}catch(u){_t(e,e.return,u)}}break;case 6:if(Ui(t,e),hs(e),n&4){if(e.stateNode===null)throw Error(nt(162));y=e.stateNode,S=e.memoizedProps;try{y.nodeValue=S}catch(u){_t(e,e.return,u)}}break;case 3:if(Ui(t,e),hs(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{oh(t.containerInfo)}catch(u){_t(e,e.return,u)}break;case 4:Ui(t,e),hs(e);break;case 13:Ui(t,e),hs(e),y=e.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(zg=re())),n&4&&bx(e);break;case 22:if(x=i!==null&&i.memoizedState!==null,e.mode&1?(ze=(d=ze)||x,Ui(t,e),ze=d):Ui(t,e),hs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(lt=e,x=e.child;x!==null;){for(f=lt=x;lt!==null;){switch(l=lt,h=l.child,l.tag){case 0:case 11:case 14:case 15:_o(4,l,l.return);break;case 1:Pa(l,l.return);var a=l.stateNode;if(typeof a.componentWillUnmount=="function"){n=l,i=l.return;try{t=n,a.props=t.memoizedProps,a.state=t.memoizedState,a.componentWillUnmount()}catch(u){_t(n,i,u)}}break;case 5:Pa(l,l.return);break;case 22:if(l.memoizedState!==null){Nx(f);continue}}h!==null?(h.return=l,lt=h):Nx(f)}x=x.sibling}t:for(x=null,f=e;;){if(f.tag===5){if(x===null){x=f;try{y=f.stateNode,d?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(T=f.stateNode,s=f.memoizedProps.style,r=s!=null&&s.hasOwnProperty("display")?s.display:null,T.style.display=hS("display",r))}catch(u){_t(e,e.return,u)}}}else if(f.tag===6){if(x===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(u){_t(e,e.return,u)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ui(t,e),hs(e),n&4&&bx(e);break;case 21:break;default:Ui(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{t:{for(var i=e.return;i!==null;){if(bE(i)){var n=i;break t}i=i.return}throw Error(nt(160))}switch(n.tag){case 5:var y=n.stateNode;n.flags&32&&(sh(y,""),n.flags&=-33);var S=Bx(e);wp(e,S,y);break;case 3:case 4:var r=n.stateNode.containerInfo,T=Bx(e);Mp(e,T,r);break;default:throw Error(nt(161))}}catch(s){_t(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KA(e,t,i){lt=e,zE(e)}function zE(e,t,i){for(var n=(e.mode&1)!==0;lt!==null;){var y=lt,S=y.child;if(y.tag===22&&n){var r=y.memoizedState!==null||pl;if(!r){var T=y.alternate,s=T!==null&&T.memoizedState!==null||ze;T=pl;var d=ze;if(pl=r,(ze=s)&&!d)for(lt=y;lt!==null;)r=lt,s=r.child,r.tag===22&&r.memoizedState!==null?zx(y):s!==null?(s.return=r,lt=s):zx(y);for(;S!==null;)lt=S,zE(S),S=S.sibling;lt=y,pl=T,ze=d}Gx(e)}else y.subtreeFlags&8772&&S!==null?(S.return=y,lt=S):Gx(e)}}function Gx(e){for(;lt!==null;){var t=lt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Pd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ze)if(i===null)n.componentDidMount();else{var y=t.elementType===t.type?i.memoizedProps:ji(t.type,i.memoizedProps);n.componentDidUpdate(y,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&yx(t,S,n);break;case 3:var r=t.updateQueue;if(r!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}yx(t,r,i)}break;case 5:var T=t.stateNode;if(i===null&&t.flags&4){i=T;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break;case"img":s.src&&(i.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var f=x.dehydrated;f!==null&&oh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}ze||t.flags&512&&Pp(t)}catch(l){_t(t,t.return,l)}}if(t===e){lt=null;break}if(i=t.sibling,i!==null){i.return=t.return,lt=i;break}lt=t.return}}function Nx(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,lt=i;break}lt=t.return}}function zx(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Pd(4,t)}catch(s){_t(t,i,s)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var y=t.return;try{n.componentDidMount()}catch(s){_t(t,y,s)}}var S=t.return;try{Pp(t)}catch(s){_t(t,S,s)}break;case 5:var r=t.return;try{Pp(t)}catch(s){_t(t,r,s)}}}catch(s){_t(t,t.return,s)}if(t===e){lt=null;break}var T=t.sibling;if(T!==null){T.return=t.return,lt=T;break}lt=t.return}}var ZA=Math.ceil,ed=js.ReactCurrentDispatcher,Gg=js.ReactCurrentOwner,Gi=js.ReactCurrentBatchConfig,Rt=0,Ee=null,ue=null,Fe=0,di=0,Ma=Yn(0),pe=0,xh=null,Rr=0,Md=0,Ng=0,th=null,_e=null,zg=0,Wa=1/0,Ns=null,id=!1,Rp=null,Dn=null,gl=!1,Mn=null,sd=0,eh=0,Ap=null,Lu=-1,Ou=0;function He(){return Rt&6?re():Lu!==-1?Lu:Lu=re()}function In(e){return e.mode&1?Rt&2&&Fe!==0?Fe&-Fe:FA.transition!==null?(Ou===0&&(Ou=TS()),Ou):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:AS(e.type)),e):1}function ss(e,t,i,n){if(50<eh)throw eh=0,Ap=null,Error(nt(185));Ah(e,i,n),(!(Rt&2)||e!==Ee)&&(e===Ee&&(!(Rt&2)&&(Md|=i),pe===4&&Cn(e,Fe)),si(e,n),i===1&&Rt===0&&!(t.mode&1)&&(Wa=re()+500,Td&&Hn()))}function si(e,t){var i=e.callbackNode;FR(e,t);var n=Vu(e,e===Ee?Fe:0);if(n===0)i!==null&&Km(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(i!=null&&Km(i),t===1)e.tag===0?OA(kx.bind(null,e)):KS(kx.bind(null,e)),wA(function(){!(Rt&6)&&Hn()}),i=null;else{switch(SS(n)){case 1:i=ug;break;case 4:i=yS;break;case 16:i=ku;break;case 536870912:i=CS;break;default:i=ku}i=$E(i,kE.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function kE(e,t){if(Lu=-1,Ou=0,Rt&6)throw Error(nt(327));var i=e.callbackNode;if(Ia()&&e.callbackNode!==i)return null;var n=Vu(e,e===Ee?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nd(e,n);else{t=n;var y=Rt;Rt|=2;var S=UE();(Ee!==e||Fe!==t)&&(Ns=null,Wa=re()+500,Tr(e,t));do try{jA();break}catch(T){VE(e,T)}while(1);Eg(),ed.current=S,Rt=y,ue!==null?t=0:(Ee=null,Fe=0,t=pe)}if(t!==0){if(t===2&&(y=ep(e),y!==0&&(n=y,t=Lp(e,y))),t===1)throw i=xh,Tr(e,0),Cn(e,n),si(e,re()),i;if(t===6)Cn(e,n);else{if(y=e.current.alternate,!(n&30)&&!JA(y)&&(t=nd(e,n),t===2&&(S=ep(e),S!==0&&(n=S,t=Lp(e,S))),t===1))throw i=xh,Tr(e,0),Cn(e,n),si(e,re()),i;switch(e.finishedWork=y,e.finishedLanes=n,t){case 0:case 1:throw Error(nt(345));case 2:pr(e,_e,Ns);break;case 3:if(Cn(e,n),(n&130023424)===n&&(t=zg+500-re(),10<t)){if(Vu(e,0)!==0)break;if(y=e.suspendedLanes,(y&n)!==n){He(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=lp(pr.bind(null,e,_e,Ns),t);break}pr(e,_e,Ns);break;case 4:if(Cn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,y=-1;0<n;){var r=31-is(n);S=1<<r,r=t[r],r>y&&(y=r),n&=~S}if(n=y,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZA(n/1960))-n,10<n){e.timeoutHandle=lp(pr.bind(null,e,_e,Ns),n);break}pr(e,_e,Ns);break;case 5:pr(e,_e,Ns);break;default:throw Error(nt(329))}}}return si(e,re()),e.callbackNode===i?kE.bind(null,e):null}function Lp(e,t){var i=th;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=nd(e,t),e!==2&&(t=_e,_e=i,t!==null&&Op(t)),e}function Op(e){_e===null?_e=e:_e.push.apply(_e,e)}function JA(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var y=i[n],S=y.getSnapshot;y=y.value;try{if(!ns(S(),y))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Ng,t&=~Md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-is(t),n=1<<i;e[i]=-1,t&=~n}}function kx(e){if(Rt&6)throw Error(nt(327));Ia();var t=Vu(e,0);if(!(t&1))return si(e,re()),null;var i=nd(e,t);if(e.tag!==0&&i===2){var n=ep(e);n!==0&&(t=n,i=Lp(e,n))}if(i===1)throw i=xh,Tr(e,0),Cn(e,t),si(e,re()),i;if(i===6)throw Error(nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,_e,Ns),si(e,re()),null}function kg(e,t){var i=Rt;Rt|=1;try{return e(t)}finally{Rt=i,Rt===0&&(Wa=re()+500,Td&&Hn())}}function Ar(e){Mn!==null&&Mn.tag===0&&!(Rt&6)&&Ia();var t=Rt;Rt|=1;var i=Gi.transition,n=Dt;try{if(Gi.transition=null,Dt=1,e)return e()}finally{Dt=n,Gi.transition=i,Rt=t,!(Rt&6)&&Hn()}}function Vg(){di=Ma.current,Wt(Ma)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,MA(i)),ue!==null)for(i=ue.return;i!==null;){var n=i;switch(Cg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hu();break;case 3:Va(),Wt(ei),Wt(ke),Lg();break;case 5:Ag(n);break;case 4:Va();break;case 13:Wt($t);break;case 19:Wt($t);break;case 10:Pg(n.type._context);break;case 22:case 23:Vg()}i=i.return}if(Ee=e,ue=e=Bn(e.current,null),Fe=di=t,pe=0,xh=null,Ng=Md=Rr=0,_e=th=null,yr!==null){for(t=0;t<yr.length;t++)if(i=yr[t],n=i.interleaved,n!==null){i.interleaved=null;var y=n.next,S=i.pending;if(S!==null){var r=S.next;S.next=y,n.next=r}i.pending=n}yr=null}return e}function VE(e,t){do{var i=ue;try{if(Eg(),wu.current=td,_u){for(var n=Kt.memoizedState;n!==null;){var y=n.queue;y!==null&&(y.pending=null),n=n.next}_u=!1}if(wr=0,Ce=ve=Kt=null,qo=!1,ph=0,Gg.current=null,i===null||i.return===null){pe=1,xh=t,ue=null;break}t:{var S=e,r=i.return,T=i,s=t;if(t=Fe,T.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=s,x=T,f=x.tag;if(!(x.mode&1)&&(f===0||f===11||f===15)){var l=x.alternate;l?(x.updateQueue=l.updateQueue,x.memoizedState=l.memoizedState,x.lanes=l.lanes):(x.updateQueue=null,x.memoizedState=null)}var h=wx(r);if(h!==null){h.flags&=-257,Rx(h,r,T,S,t),h.mode&1&&Mx(S,d,t),t=h,s=d;var a=t.updateQueue;if(a===null){var u=new Set;u.add(s),t.updateQueue=u}else a.add(s);break t}else{if(!(t&1)){Mx(S,d,t),Ug();break t}s=Error(nt(426))}}else if(Xt&&T.mode&1){var v=wx(r);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Rx(v,r,T,S,t),Tg(Ua(s,T));break t}}S=s=Ua(s,T),pe!==4&&(pe=2),th===null?th=[S]:th.push(S),S=r;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var o=EE(S,s,t);xx(S,o);break t;case 1:T=s;var c=S.type,p=S.stateNode;if(!(S.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Dn===null||!Dn.has(p)))){S.flags|=65536,t&=-t,S.lanes|=t;var g=PE(S,T,t);xx(S,g);break t}}S=S.return}while(S!==null)}XE(i)}catch(m){t=m,ue===i&&i!==null&&(ue=i=i.return);continue}break}while(1)}function UE(){var e=ed.current;return ed.current=td,e===null?td:e}function Ug(){(pe===0||pe===3||pe===2)&&(pe=4),Ee===null||!(Rr&268435455)&&!(Md&268435455)||Cn(Ee,Fe)}function nd(e,t){var i=Rt;Rt|=2;var n=UE();(Ee!==e||Fe!==t)&&(Ns=null,Tr(e,t));do try{QA();break}catch(y){VE(e,y)}while(1);if(Eg(),Rt=i,ed.current=n,ue!==null)throw Error(nt(261));return Ee=null,Fe=0,pe}function QA(){for(;ue!==null;)WE(ue)}function jA(){for(;ue!==null&&!SR();)WE(ue)}function WE(e){var t=HE(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?XE(e):ue=t,Gg.current=null}function XE(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=YA(i,t),i!==null){i.flags&=32767,ue=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ue=null;return}}else if(i=XA(i,t,di),i!==null){ue=i;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);pe===0&&(pe=5)}function pr(e,t,i){var n=Dt,y=Gi.transition;try{Gi.transition=null,Dt=1,qA(e,t,i,n)}finally{Gi.transition=y,Dt=n}return null}function qA(e,t,i,n){do Ia();while(Mn!==null);if(Rt&6)throw Error(nt(327));i=e.finishedWork;var y=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(nt(177));e.callbackNode=null,e.callbackPriority=0;var S=i.lanes|i.childLanes;if(DR(e,S),e===Ee&&(ue=Ee=null,Fe=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||gl||(gl=!0,$E(ku,function(){return Ia(),null})),S=(i.flags&15990)!==0,i.subtreeFlags&15990||S){S=Gi.transition,Gi.transition=null;var r=Dt;Dt=1;var T=Rt;Rt|=4,Gg.current=null,$A(e,i),NE(i,e),xA(op),Uu=!!ap,op=ap=null,e.current=i,KA(i),ER(),Rt=T,Dt=r,Gi.transition=S}else e.current=i;if(gl&&(gl=!1,Mn=e,sd=y),S=e.pendingLanes,S===0&&(Dn=null),wR(i.stateNode),si(e,re()),t!==null)for(n=e.onRecoverableError,i=0;i<t.length;i++)y=t[i],n(y.value,{componentStack:y.stack,digest:y.digest});if(id)throw id=!1,e=Rp,Rp=null,e;return sd&1&&e.tag!==0&&Ia(),S=e.pendingLanes,S&1?e===Ap?eh++:(eh=0,Ap=e):eh=0,Hn(),null}function Ia(){if(Mn!==null){var e=SS(sd),t=Gi.transition,i=Dt;try{if(Gi.transition=null,Dt=16>e?16:e,Mn===null)var n=!1;else{if(e=Mn,Mn=null,sd=0,Rt&6)throw Error(nt(331));var y=Rt;for(Rt|=4,lt=e.current;lt!==null;){var S=lt,r=S.child;if(lt.flags&16){var T=S.deletions;if(T!==null){for(var s=0;s<T.length;s++){var d=T[s];for(lt=d;lt!==null;){var x=lt;switch(x.tag){case 0:case 11:case 15:_o(8,x,S)}var f=x.child;if(f!==null)f.return=x,lt=f;else for(;lt!==null;){x=lt;var l=x.sibling,h=x.return;if(BE(x),x===d){lt=null;break}if(l!==null){l.return=h,lt=l;break}lt=h}}}var a=S.alternate;if(a!==null){var u=a.child;if(u!==null){a.child=null;do{var v=u.sibling;u.sibling=null,u=v}while(u!==null)}}lt=S}}if(S.subtreeFlags&2064&&r!==null)r.return=S,lt=r;else t:for(;lt!==null;){if(S=lt,S.flags&2048)switch(S.tag){case 0:case 11:case 15:_o(9,S,S.return)}var o=S.sibling;if(o!==null){o.return=S.return,lt=o;break t}lt=S.return}}var c=e.current;for(lt=c;lt!==null;){r=lt;var p=r.child;if(r.subtreeFlags&2064&&p!==null)p.return=r,lt=p;else t:for(r=c;lt!==null;){if(T=lt,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Pd(9,T)}}catch(m){_t(T,T.return,m)}if(T===r){lt=null;break t}var g=T.sibling;if(g!==null){g.return=T.return,lt=g;break t}lt=T.return}}if(Rt=y,Hn(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(gd,e)}catch{}n=!0}return n}finally{Dt=i,Gi.transition=t}}return!1}function Vx(e,t,i){t=Ua(i,t),t=EE(e,t,1),e=Fn(e,t,1),t=He(),e!==null&&(Ah(e,1,t),si(e,t))}function _t(e,t,i){if(e.tag===3)Vx(e,e,i);else for(;t!==null;){if(t.tag===3){Vx(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dn===null||!Dn.has(n))){e=Ua(i,e),e=PE(t,e,1),t=Fn(t,e,1),e=He(),t!==null&&(Ah(t,1,e),si(t,e));break}}t=t.return}}function _A(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&i,Ee===e&&(Fe&i)===i&&(pe===4||pe===3&&(Fe&130023424)===Fe&&500>re()-zg?Tr(e,0):Ng|=i),si(e,t)}function YE(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var i=He();e=Ks(e,t),e!==null&&(Ah(e,t,i),si(e,i))}function tL(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),YE(e,i)}function eL(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,y=e.memoizedState;y!==null&&(i=y.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(nt(314))}n!==null&&n.delete(t),YE(e,i)}var HE;HE=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ei.current)ti=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return ti=!1,WA(e,t,i);ti=!!(e.flags&131072)}else ti=!1,Xt&&t.flags&1048576&&ZS(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Au(e,t),e=t.pendingProps;var y=Na(t,ke.current);Da(t,i),y=Fg(null,t,n,e,y,i);var S=Dg();return t.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ii(n)?(S=!0,$u(t)):S=!1,t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,wg(t),y.updater=Sd,t.stateNode=y,y._reactInternals=t,gp(t,n,e,i),t=yp(null,t,n,!0,S,i)):(t.tag=0,Xt&&S&&yg(t),Xe(null,t,y,i),t=t.child),t;case 16:n=t.elementType;t:{switch(Au(e,t),e=t.pendingProps,y=n._init,n=y(n._payload),t.type=n,y=t.tag=sL(n),e=ji(n,e),y){case 0:t=xp(null,t,n,e,i);break t;case 1:t=Ox(null,t,n,e,i);break t;case 11:t=Ax(null,t,n,e,i);break t;case 14:t=Lx(null,t,n,ji(n.type,e),i);break t}throw Error(nt(306,n,""))}return t;case 0:return n=t.type,y=t.pendingProps,y=t.elementType===n?y:ji(n,y),xp(e,t,n,y,i);case 1:return n=t.type,y=t.pendingProps,y=t.elementType===n?y:ji(n,y),Ox(e,t,n,y,i);case 3:t:{if(AE(t),e===null)throw Error(nt(387));n=t.pendingProps,S=t.memoizedState,y=S.element,qS(e,t),ju(t,n,null,i);var r=t.memoizedState;if(n=r.element,S.isDehydrated)if(S={element:n,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){y=Ua(Error(nt(423)),t),t=Fx(e,t,n,i,y);break t}else if(n!==y){y=Ua(Error(nt(424)),t),t=Fx(e,t,n,i,y);break t}else for(fi=On(t.stateNode.containerInfo.firstChild),ci=t,Xt=!0,es=null,i=iE(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(za(),n===y){t=Zs(e,t,i);break t}Xe(e,t,n,i)}t=t.child}return t;case 5:return sE(t),e===null&&cp(t),n=t.type,y=t.pendingProps,S=e!==null?e.memoizedProps:null,r=y.children,hp(n,y)?r=null:S!==null&&hp(n,S)&&(t.flags|=32),RE(e,t),Xe(e,t,r,i),t.child;case 6:return e===null&&cp(t),null;case 13:return LE(e,t,i);case 4:return Rg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ka(t,null,n,i):Xe(e,t,n,i),t.child;case 11:return n=t.type,y=t.pendingProps,y=t.elementType===n?y:ji(n,y),Ax(e,t,n,y,i);case 7:return Xe(e,t,t.pendingProps,i),t.child;case 8:return Xe(e,t,t.pendingProps.children,i),t.child;case 12:return Xe(e,t,t.pendingProps.children,i),t.child;case 10:t:{if(n=t.type._context,y=t.pendingProps,S=t.memoizedProps,r=y.value,zt(Ju,n._currentValue),n._currentValue=r,S!==null)if(ns(S.value,r)){if(S.children===y.children&&!ei.current){t=Zs(e,t,i);break t}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var T=S.dependencies;if(T!==null){r=S.child;for(var s=T.firstContext;s!==null;){if(s.context===n){if(S.tag===1){s=Us(-1,i&-i),s.tag=2;var d=S.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?s.next=s:(s.next=x.next,x.next=s),d.pending=s}}S.lanes|=i,s=S.alternate,s!==null&&(s.lanes|=i),vp(S.return,i,t),T.lanes|=i;break}s=s.next}}else if(S.tag===10)r=S.type===t.type?null:S.child;else if(S.tag===18){if(r=S.return,r===null)throw Error(nt(341));r.lanes|=i,T=r.alternate,T!==null&&(T.lanes|=i),vp(r,i,t),r=S.sibling}else r=S.child;if(r!==null)r.return=S;else for(r=S;r!==null;){if(r===t){r=null;break}if(S=r.sibling,S!==null){S.return=r.return,r=S;break}r=r.return}S=r}Xe(e,t,y.children,i),t=t.child}return t;case 9:return y=t.type,n=t.pendingProps.children,Da(t,i),y=zi(y),n=n(y),t.flags|=1,Xe(e,t,n,i),t.child;case 14:return n=t.type,y=ji(n,t.pendingProps),y=ji(n.type,y),Lx(e,t,n,y,i);case 15:return ME(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,y=t.pendingProps,y=t.elementType===n?y:ji(n,y),Au(e,t),t.tag=1,ii(n)?(e=!0,$u(t)):e=!1,Da(t,i),tE(t,n,y),gp(t,n,y,i),yp(null,t,n,!0,e,i);case 19:return OE(e,t,i);case 22:return wE(e,t,i)}throw Error(nt(156,t.tag))};function $E(e,t){return xS(e,t)}function iL(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,t,i,n){return new iL(e,t,i,n)}function Wg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sL(e){if(typeof e=="function")return Wg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===og)return 11;if(e===hg)return 14}return 2}function Bn(e,t){var i=e.alternate;return i===null?(i=Ii(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Fu(e,t,i,n,y,S){var r=2;if(n=e,typeof e=="function")Wg(e)&&(r=1);else if(typeof e=="string")r=5;else t:switch(e){case pa:return Sr(i.children,y,S,t);case ag:r=8,y|=8;break;case Vv:return e=Ii(12,i,t,y|2),e.elementType=Vv,e.lanes=S,e;case Uv:return e=Ii(13,i,t,y),e.elementType=Uv,e.lanes=S,e;case Wv:return e=Ii(19,i,t,y),e.elementType=Wv,e.lanes=S,e;case eS:return wd(i,y,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _T:r=10;break t;case tS:r=9;break t;case og:r=11;break t;case hg:r=14;break t;case vn:r=16,n=null;break t}throw Error(nt(130,e==null?e:typeof e,""))}return t=Ii(r,i,t,y),t.elementType=e,t.type=n,t.lanes=S,t}function Sr(e,t,i,n){return e=Ii(7,e,n,t),e.lanes=i,e}function wd(e,t,i,n){return e=Ii(22,e,n,t),e.elementType=eS,e.lanes=i,e.stateNode={isHidden:!1},e}function _f(e,t,i){return e=Ii(6,e,null,t),e.lanes=i,e}function tc(e,t,i){return t=Ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nL(e,t,i,n,y){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=n,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Xg(e,t,i,n,y,S,r,T,s){return e=new nL(e,t,i,T,s),t===1?(t=1,S===!0&&(t|=8)):t=0,S=Ii(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(S),e}function rL(e,t,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:n==null?null:""+n,children:e,containerInfo:t,implementation:i}}function KE(e){if(!e)return kn;e=e._reactInternals;t:{if(Fr(e)!==e||e.tag!==1)throw Error(nt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(nt(171))}if(e.tag===1){var i=e.type;if(ii(i))return $S(e,i,t)}return t}function ZE(e,t,i,n,y,S,r,T,s){return e=Xg(i,n,!0,e,y,S,r,T,s),e.context=KE(null),i=e.current,n=He(),y=In(i),S=Us(n,y),S.callback=t??null,Fn(i,S,y),e.current.lanes=y,Ah(e,y,n),si(e,n),e}function Rd(e,t,i,n){var y=t.current,S=He(),r=In(y);return i=KE(i),t.context===null?t.context=i:t.pendingContext=i,t=Us(S,r),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fn(y,t,r),e!==null&&(ss(e,y,r,S),Mu(e,y,r)),r}function rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ux(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Yg(e,t){Ux(e,t),(e=e.alternate)&&Ux(e,t)}function aL(){return null}var JE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hg(e){this._internalRoot=e}Ad.prototype.render=Hg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nt(409));Rd(e,t,null,null)};Ad.prototype.unmount=Hg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){Rd(null,e,null,null)}),t[$s]=null}};function Ad(e){this._internalRoot=e}Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=MS();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yn.length&&t!==0&&t<yn[i].priority;i++);yn.splice(i,0,e),i===0&&RS(e)}};function $g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wx(){}function oL(e,t,i,n,y){if(y){if(typeof n=="function"){var S=n;n=function(){var d=rd(r);S.call(d)}}var r=ZE(t,n,e,0,null,!1,!1,"",Wx);return e._reactRootContainer=r,e[$s]=r.current,uh(e.nodeType===8?e.parentNode:e),Ar(),r}for(;y=e.lastChild;)e.removeChild(y);if(typeof n=="function"){var T=n;n=function(){var d=rd(s);T.call(d)}}var s=Xg(e,0,!1,null,null,!1,!1,"",Wx);return e._reactRootContainer=s,e[$s]=s.current,uh(e.nodeType===8?e.parentNode:e),Ar(function(){Rd(t,s,i,n)}),s}function Od(e,t,i,n,y){var S=i._reactRootContainer;if(S){var r=S;if(typeof y=="function"){var T=y;y=function(){var s=rd(r);T.call(s)}}Rd(t,r,e,y)}else r=oL(i,t,e,y,n);return rd(r)}ES=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Ho(t.pendingLanes);i!==0&&(dg(t,i|1),si(t,re()),!(Rt&6)&&(Wa=re()+500,Hn()))}break;case 13:Ar(function(){var n=Ks(e,1);if(n!==null){var y=He();ss(n,e,1,y)}}),Yg(e,1)}};fg=function(e){if(e.tag===13){var t=Ks(e,134217728);if(t!==null){var i=He();ss(t,e,134217728,i)}Yg(e,134217728)}};PS=function(e){if(e.tag===13){var t=In(e),i=Ks(e,t);if(i!==null){var n=He();ss(i,e,t,n)}Yg(e,t)}};MS=function(){return Dt};wS=function(e,t){var i=Dt;try{return Dt=e,t()}finally{Dt=i}};qv=function(e,t,i){switch(t){case"input":if(Hv(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var y=Cd(n);if(!y)throw Error(nt(90));sS(n),Hv(n,y)}}}break;case"textarea":rS(e,i);break;case"select":t=i.value,t!=null&&Aa(e,!!i.multiple,t,!1)}};fS=kg;cS=Ar;var hL={usingClientEntryPoint:!1,Events:[Oh,ya,Cd,uS,dS,kg]},co={findFiberByHostInstance:xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lL={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gS(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{gd=ml.inject(lL),Ms=ml}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hL;Ti.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(t))throw Error(nt(200));return rL(e,t,null,i)};Ti.createRoot=function(e,t){if(!$g(e))throw Error(nt(299));var i=!1,n="",y=JE;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Xg(e,1,!1,null,null,i,!1,n,y),e[$s]=t.current,uh(e.nodeType===8?e.parentNode:e),new Hg(t)};Ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=gS(t),e=e===null?null:e.stateNode,e};Ti.flushSync=function(e){return Ar(e)};Ti.hydrate=function(e,t,i){if(!Ld(t))throw Error(nt(200));return Od(null,e,t,!0,i)};Ti.hydrateRoot=function(e,t,i){if(!$g(e))throw Error(nt(405));var n=i!=null&&i.hydratedSources||null,y=!1,S="",r=JE;if(i!=null&&(i.unstable_strictMode===!0&&(y=!0),i.identifierPrefix!==void 0&&(S=i.identifierPrefix),i.onRecoverableError!==void 0&&(r=i.onRecoverableError)),t=ZE(t,null,e,1,i??null,y,!1,S,r),e[$s]=t.current,uh(e),n)for(e=0;e<n.length;e++)i=n[e],y=i._getVersion,y=y(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,y]:t.mutableSourceEagerHydrationData.push(i,y);return new Ad(t)};Ti.render=function(e,t,i){if(!Ld(t))throw Error(nt(200));return Od(null,e,t,!1,i)};Ti.unmountComponentAtNode=function(e){if(!Ld(e))throw Error(nt(40));return e._reactRootContainer?(Ar(function(){Od(null,null,e,!1,function(){e._reactRootContainer=null,e[$s]=null})}),!0):!1};Ti.unstable_batchedUpdates=kg;Ti.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Ld(i))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return Od(e,t,i,!1,n)};Ti.version="18.2.0-next-9e3b772b8-20220608";function QE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QE)}catch(e){console.error(e)}}QE(),ZT.exports=Ti;var uL=ZT.exports,Xx=uL;zv.createRoot=Xx.createRoot,zv.hydrateRoot=Xx.hydrateRoot;const dL={};function fL(){return Nv("div",{className:dL.App})}var jE={exports:{}};(function(e,t){(function(n,y){e.exports=y()})(Nw,()=>(()=>{var i={50792:r=>{var T=Object.prototype.hasOwnProperty,s="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(s=!1));function x(a,u,v){this.fn=a,this.context=u,this.once=v||!1}function f(a,u,v,o,c){if(typeof v!="function")throw new TypeError("The listener must be a function");var p=new x(v,o||a,c),g=s?s+u:u;return a._events[g]?a._events[g].fn?a._events[g]=[a._events[g],p]:a._events[g].push(p):(a._events[g]=p,a._eventsCount++),a}function l(a,u){--a._eventsCount===0?a._events=new d:delete a._events[u]}function h(){this._events=new d,this._eventsCount=0}h.prototype.eventNames=function(){var u=[],v,o;if(this._eventsCount===0)return u;for(o in v=this._events)T.call(v,o)&&u.push(s?o.slice(1):o);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(v)):u},h.prototype.listeners=function(u){var v=s?s+u:u,o=this._events[v];if(!o)return[];if(o.fn)return[o.fn];for(var c=0,p=o.length,g=new Array(p);c<p;c++)g[c]=o[c].fn;return g},h.prototype.listenerCount=function(u){var v=s?s+u:u,o=this._events[v];return o?o.fn?1:o.length:0},h.prototype.emit=function(u,v,o,c,p,g){var m=s?s+u:u;if(!this._events[m])return!1;var C=this._events[m],E=arguments.length,M,P;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),E){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,v),!0;case 3:return C.fn.call(C.context,v,o),!0;case 4:return C.fn.call(C.context,v,o,c),!0;case 5:return C.fn.call(C.context,v,o,c,p),!0;case 6:return C.fn.call(C.context,v,o,c,p,g),!0}for(P=1,M=new Array(E-1);P<E;P++)M[P-1]=arguments[P];C.fn.apply(C.context,M)}else{var w=C.length,R;for(P=0;P<w;P++)switch(C[P].once&&this.removeListener(u,C[P].fn,void 0,!0),E){case 1:C[P].fn.call(C[P].context);break;case 2:C[P].fn.call(C[P].context,v);break;case 3:C[P].fn.call(C[P].context,v,o);break;case 4:C[P].fn.call(C[P].context,v,o,c);break;default:if(!M)for(R=1,M=new Array(E-1);R<E;R++)M[R-1]=arguments[R];C[P].fn.apply(C[P].context,M)}}return!0},h.prototype.on=function(u,v,o){return f(this,u,v,o,!1)},h.prototype.once=function(u,v,o){return f(this,u,v,o,!0)},h.prototype.removeListener=function(u,v,o,c){var p=s?s+u:u;if(!this._events[p])return this;if(!v)return l(this,p),this;var g=this._events[p];if(g.fn)g.fn===v&&(!c||g.once)&&(!o||g.context===o)&&l(this,p);else{for(var m=0,C=[],E=g.length;m<E;m++)(g[m].fn!==v||c&&!g[m].once||o&&g[m].context!==o)&&C.push(g[m]);C.length?this._events[p]=C.length===1?C[0]:C:l(this,p)}return this},h.prototype.removeAllListeners=function(u){var v;return u?(v=s?s+u:u,this._events[v]&&l(this,v)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=s,h.EventEmitter=h,r.exports=h},11517:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(38829),x=function(f,l,h,a){for(var u=f[0],v=1;v<f.length;v++){var o=f[v];d(o,u,l,h,a),u=o}return f};r.exports=x},80318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"angle",l,h,a,u)};r.exports=x},60757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){for(var f=0;f<s.length;f++){var l=s[f];d.call(x,l)}return s};r.exports=T},69927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){x===void 0&&(x=0);for(var f=x;f<s.length;f++){var l=s[f],h=!0;for(var a in d)l[a]!==d[a]&&(h=!1);if(h)return l}return null};r.exports=T},32265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){x===void 0&&(x=0);for(var f=s.length-1;f>=x;f--){var l=s[f],h=!0;for(var a in d)l[a]!==d[a]&&(h=!1);if(h)return l}return null};r.exports=T},94420:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(11879),x=s(60461),f=s(95540),l=s(29747),h=s(41481),a=new h({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),u=function(v,o){o===void 0&&(o={});var c=o.hasOwnProperty("width"),p=o.hasOwnProperty("height"),g=f(o,"width",-1),m=f(o,"height",-1),C=f(o,"cellWidth",1),E=f(o,"cellHeight",C),M=f(o,"position",x.TOP_LEFT),P=f(o,"x",0),w=f(o,"y",0),R=0,A=0,L=g*C,F=m*E;a.setPosition(P,w),a.setSize(C,E);for(var O=0;O<v.length;O++)if(d(v[O],a,M),c&&g===-1)a.x+=C;else if(p&&m===-1)a.y+=E;else if(p&&!c){if(A+=E,a.y+=E,A===F&&(A=0,R+=C,a.y=w,a.x+=C,R===L))break}else if(R+=C,a.x+=C,R===L&&(R=0,A+=E,a.x=P,a.y+=E,A===F))break;return v};r.exports=u},41721:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"alpha",l,h,a,u)};r.exports=x},67285:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"x",l,h,a,u)};r.exports=x},9074:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"x",l,a,v,o),d(f,"y",h,u,v,o)};r.exports=x},75222:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"y",l,h,a,u)};r.exports=x},22983:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var l=x,h=(f-x)/s.length,a=d.x,u=d.y,v=d.radius,o=0;o<s.length;o++)s[o].x=a+v*Math.cos(l),s[o].y=u+v*Math.sin(l),l+=h;return s};r.exports=T},95253:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var l=x,h=(f-x)/s.length,a=d.width/2,u=d.height/2,v=0;v<s.length;v++)s[v].x=d.x+a*Math.cos(l),s[v].y=d.y+u*Math.sin(l),l+=h;return s};r.exports=T},88505:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(15258),x=s(26708),f=function(l,h,a){var u;a?u=x(h,a,l.length):u=d(h,l.length);for(var v=0;v<l.length;v++){var o=l[v],c=u[v];o.x=c.x,o.y=c.y}return l};r.exports=f},41346:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(14649),x=s(86003),f=s(49498),l=function(h,a,u){u===void 0&&(u=0);var v=d(a,!1,h.length);u>0?x(v,u):u<0&&f(v,Math.abs(u));for(var o=0;o<h.length;o++)h[o].x=v[o].x,h[o].y=v[o].y;return h};r.exports=l},11575:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(84993),x=function(f,l,h){var a=d({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},h),u=d({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},h),v=d({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},h);a.pop(),u.pop(),v.pop(),a=a.concat(u,v);for(var o=a.length/f.length,c=0,p=0;p<f.length;p++){var g=f[p],m=a[Math.floor(c)];g.x=m.x,g.y=m.y,c+=o}return f};r.exports=x},29953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){for(var f=0;f<s.length;f++){var l=s[f];l.anims&&l.anims.play(d,x)}return s};r.exports=T},66979:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=1);var a,u=0,v=s.length;if(h===1)for(a=l;a<v;a++)s[a][d]+=x+u*f,u++;else for(a=l;a>=0;a--)s[a][d]+=x+u*f,u++;return s};r.exports=T},43967:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=1);var a,u=0,v=s.length;if(h===1)for(a=l;a<v;a++)s[a][d]=x+u*f,u++;else for(a=l;a>=0;a--)s[a][d]=x+u*f,u++;return s};r.exports=T},88926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(28176),x=function(f,l){for(var h=0;h<f.length;h++)d(l,f[h]);return f};r.exports=x},33286:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(24820),x=function(f,l){for(var h=0;h<f.length;h++)d(l,f[h]);return f};r.exports=x},96e3:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65822),x=function(f,l){for(var h=0;h<f.length;h++)d(l,f[h]);return f};r.exports=x},28789:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26597),x=function(f,l){for(var h=0;h<f.length;h++)d(l,f[h]);return f};r.exports=x},97154:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(90260),x=function(f,l){for(var h=0;h<f.length;h++)d(l,f[h]);return f};r.exports=x},20510:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"rotation",l,h,a,u)};r.exports=x},91051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(1163),x=s(20339),f=function(l,h,a){for(var u=h.x,v=h.y,o=0;o<l.length;o++){var c=l[o];d(c,u,v,a,Math.max(1,x(c.x,c.y,u,v)))}return l};r.exports=f},76332:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(1163),x=function(f,l,h,a){var u=l.x,v=l.y;if(a===0)return f;for(var o=0;o<f.length;o++)d(f[o],u,v,h,a);return f};r.exports=x},61619:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"scaleX",l,h,a,u)};r.exports=x},94868:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"scaleX",l,a,v,o),d(f,"scaleY",h,u,v,o)};r.exports=x},95532:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66979),x=function(f,l,h,a,u){return d(f,"scaleY",l,h,a,u)};r.exports=x},8689:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"alpha",l,h,a,u)};r.exports=x},2645:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a){return d(f,"blendMode",l,0,h,a)};r.exports=x},32372:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"depth",l,h,a,u)};r.exports=x},85373:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){for(var f=0;f<s.length;f++)s[f].setInteractive(d,x);return s};r.exports=T},81583:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"originX",l,a,v,o),d(f,"originY",h,u,v,o),f.forEach(function(c){c.updateDisplayOrigin()}),f};r.exports=x},79939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"rotation",l,h,a,u)};r.exports=x},2699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"scaleX",l,a,v,o),d(f,"scaleY",h,u,v,o)};r.exports=x},98739:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"scaleX",l,h,a,u)};r.exports=x},98476:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"scaleY",l,h,a,u)};r.exports=x},6207:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"scrollFactorX",l,a,v,o),d(f,"scrollFactorY",h,u,v,o)};r.exports=x},6607:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"scrollFactorX",l,h,a,u)};r.exports=x},72248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"scrollFactorY",l,h,a,u)};r.exports=x},14036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){for(var h=0;h<s.length;h++)s[h].setTint(d,x,f,l);return s};r.exports=T},50159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a){return d(f,"visible",l,0,h,a)};r.exports=x},77597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"x",l,h,a,u)};r.exports=x},83194:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u,v,o){return h==null&&(h=l),d(f,"x",l,a,v,o),d(f,"y",h,u,v,o)};r.exports=x},67678:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43967),x=function(f,l,h,a,u){return d(f,"y",l,h,a,u)};r.exports=x},35850:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u){a===void 0&&(a=0),u===void 0&&(u=new d);var v,o,c=f.length;if(c===1)v=f[0].x,o=f[0].y,f[0].x=l,f[0].y=h;else{var p=1,g=0;a===0&&(g=c-1,p=c-2),v=f[g].x,o=f[g].y,f[g].x=l,f[g].y=h;for(var m=0;m<c;m++)if(!(p>=c||p===-1)){var C=f[p],E=C.x,M=C.y;C.x=v,C.y=o,v=E,o=M,a===0?p--:p++}}return u.x=v,u.y=o,u};r.exports=x},8628:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33680),x=function(f){return d(f)};r.exports=x},21837:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7602),x=function(f,l,h,a,u){u===void 0&&(u=!1);var v=Math.abs(a-h)/f.length,o;if(u)for(o=0;o<f.length;o++)f[o][l]+=d(o*v,h,a);else for(o=0;o<f.length;o++)f[o][l]=d(o*v,h,a);return f};r.exports=x},21910:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54261),x=function(f,l,h,a,u){u===void 0&&(u=!1);var v=Math.abs(a-h)/f.length,o;if(u)for(o=0;o<f.length;o++)f[o][l]+=d(o*v,h,a);else for(o=0;o<f.length;o++)f[o][l]=d(o*v,h,a);return f};r.exports=x},62054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){if(l===void 0&&(l=!1),s.length===0)return s;if(s.length===1)return l?s[0][d]+=(f+x)/2:s[0][d]=(f+x)/2,s;var h=Math.abs(f-x)/(s.length-1),a;if(l)for(a=0;a<s.length;a++)s[a][d]+=a*h+x;else for(a=0;a<s.length;a++)s[a][d]=a*h+x;return s};r.exports=T},79815:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=0;d<s.length;d++)s[d].visible=!s[d].visible;return s};r.exports=T},39665:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(15994),x=function(f,l,h){h===void 0&&(h=0);for(var a=0;a<f.length;a++){var u=f[a];u.x=d(u.x,l.left-h,l.right+h),u.y=d(u.y,l.top-h,l.bottom+h)}return f};r.exports=x},61061:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(74943),l=s(81957),h=s(41138),a=s(35154),u=s(90126),v=new x({initialize:function(c,p,g){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,a(g,"frames",[]),a(g,"defaultTextureKey",null),a(g,"sortFrames",!0)),this.frameRate=a(g,"frameRate",null),this.duration=a(g,"duration",null),this.msPerFrame,this.skipMissedFrames=a(g,"skipMissedFrames",!0),this.delay=a(g,"delay",0),this.repeat=a(g,"repeat",0),this.repeatDelay=a(g,"repeatDelay",0),this.yoyo=a(g,"yoyo",!1),this.showBeforeDelay=a(g,"showBeforeDelay",!1),this.showOnStart=a(g,"showOnStart",!1),this.hideOnComplete=a(g,"hideOnComplete",!1),this.randomFrame=a(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(o,c,p,g){p===null&&g===null?(o.frameRate=24,o.duration=24/c*1e3):p&&g===null?(o.duration=p,o.frameRate=c/(p/1e3)):(o.frameRate=g,o.duration=c/g*1e3),o.msPerFrame=1e3/o.frameRate},addFrame:function(o){return this.addFrameAt(this.frames.length,o)},addFrameAt:function(o,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(o===0)this.frames=p.concat(this.frames);else if(o===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,o),m=this.frames.slice(o);this.frames=g.concat(p,m)}this.updateFrameSequence()}return this},checkFrame:function(o){return o>=0&&o<this.frames.length},getFirstTick:function(o){o.accumulator=0,o.nextTick=o.currentFrame.duration?o.currentFrame.duration:o.msPerFrame},getFrameAt:function(o){return this.frames[o]},getFrames:function(o,c,p,g){g===void 0&&(g=!0);var m=[],C,E,M=1,P,w;if(typeof c=="string"){if(w=c,!o.exists(w))return console.warn('Texture "%s" not found',w),m;var R=o.get(w),A=R.getFrameNames();g&&u(A),c=[],A.forEach(function(b){c.push({key:w,frame:b})})}if(!Array.isArray(c)||c.length===0)return m;for(P=0;P<c.length;P++){var L=c[P],F=a(L,"key",p);if(F){var O=a(L,"frame",0),D=o.getFrame(F,O);if(!D){console.warn('Texture "%s" not found',F);continue}E=new h(F,O,M,D),E.duration=a(L,"duration",0),E.isFirst=!C,C&&(C.nextFrame=E,E.prevFrame=C),m.push(E),C=E,M++}}if(m.length>0){E.isLast=!0,E.nextFrame=m[0],m[0].prevFrame=E;var B=1/(m.length-1);for(P=0;P<m.length;P++)m[P].progress=P*B}return m},getNextTick:function(o){o.accumulator-=o.nextTick,o.nextTick=o.currentFrame.duration?o.currentFrame.duration:o.msPerFrame},getFrameByProgress:function(o){return o=d(o,0,1),l(o,this.frames,"progress")},nextFrame:function(o){var c=o.currentFrame;c.isLast?o.yoyo?this.handleYoyoFrame(o,!1):o.repeatCounter>0?o.inReverse&&o.forward?o.forward=!1:this.repeatAnimation(o):o.complete():this.updateAndGetNextTick(o,c.nextFrame)},handleYoyoFrame:function(o,c){if(c||(c=!1),o.inReverse===!c&&o.repeatCounter>0){(o.repeatDelay===0||o.pendingRepeat)&&(o.forward=c),this.repeatAnimation(o);return}if(o.inReverse!==c&&o.repeatCounter===0){o.complete();return}o.forward=c;var p=c?o.currentFrame.nextFrame:o.currentFrame.prevFrame;this.updateAndGetNextTick(o,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(o){var c=o.currentFrame;c.isFirst?o.yoyo?this.handleYoyoFrame(o,!0):o.repeatCounter>0?o.inReverse&&!o.forward?this.repeatAnimation(o):(o.forward=!0,this.repeatAnimation(o)):o.complete():this.updateAndGetNextTick(o,c.prevFrame)},updateAndGetNextTick:function(o,c){o.setCurrentFrame(c),this.getNextTick(o)},removeFrame:function(o){var c=this.frames.indexOf(o);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(o){return this.frames.splice(o,1),this.updateFrameSequence(),this},repeatAnimation:function(o){if(o._pendingStop===2){if(o._pendingStopValue===0)return o.stop();o._pendingStopValue--}o.repeatDelay>0&&!o.pendingRepeat?(o.pendingRepeat=!0,o.accumulator-=o.nextTick,o.nextTick+=o.repeatDelay):(o.repeatCounter--,o.forward?o.setCurrentFrame(o.currentFrame.nextFrame):o.setCurrentFrame(o.currentFrame.prevFrame),o.isPlaying&&(this.getNextTick(o),o.handleRepeat()))},toJSON:function(){var o={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){o.frames.push(c.toJSON())}),o},updateFrameSequence:function(){for(var o=this.frames.length,c=1/(o-1),p,g=0;g<o;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*c,g===0?(p.isFirst=!0,o===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[o-1],p.nextFrame=this.frames[g+1])):g===o-1&&o>1?(p.isLast=!0,p.prevFrame=this.frames[o-2],p.nextFrame=this.frames[0]):o>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var o=0;o<this.frames.length;o++)this.frames[o].destroy();this.frames=[],this.manager=null}});r.exports=v},41138:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u,v){v===void 0&&(v=!1),this.textureKey=l,this.textureFrame=h,this.index=a,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=x},60848:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(42099),x=s(83419),f=s(90330),l=s(50792),h=s(74943),a=s(8443),u=s(95540),v=s(35154),o=s(36383),c=s(20283),p=s(41836),g=new x({Extends:l,initialize:function(C){l.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(m,C,E){var M=this.anims,P=this.mixes,w=typeof m=="string"?m:m.key,R=typeof C=="string"?C:C.key;if(M.has(w)&&M.has(R)){var A=P.get(w);A||(A={}),A[R]=E,P.set(w,A)}return this},removeMix:function(m,C){var E=this.mixes,M=typeof m=="string"?m:m.key,P=E.get(M);if(P)if(C){var w=typeof C=="string"?C:C.key;P.hasOwnProperty(w)&&delete P[w]}else C||E.delete(M);return this},getMix:function(m,C){var E=this.mixes,M=typeof m=="string"?m:m.key,P=typeof C=="string"?C:C.key,w=E.get(M);return w&&w.hasOwnProperty(P)?w[P]:0},add:function(m,C){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(C.key=m,this.anims.set(m,C),this.emit(h.ADD_ANIMATION,m,C),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,C,E){var M=[],P=this.game.cache.json.get(m);if(!P)return console.warn("No Aseprite data found for: "+m),M;var w=this,R=v(P,"meta",null),A=v(P,"frames",null);if(R&&A){var L=v(R,"frameTags",[]);L.forEach(function(F){var O=[],D=u(F,"name",null),B=u(F,"from",0),b=u(F,"to",0),G=u(F,"direction","forward");if(D&&(!C||C&&C.indexOf(D)>-1)){for(var V=0,W=B;W<=b;W++){var H=W.toString(),z=A[H];if(z){var U=u(z,"duration",o.MAX_SAFE_INTEGER);O.push({key:m,frame:H,duration:U}),V+=U}}G==="reverse"&&(O=O.reverse());var I={key:D,frames:O,duration:V,yoyo:G==="pingpong"},N;E?E.anims&&(N=E.anims.create(I)):N=w.create(I),N&&M.push(N)}})}return M},create:function(m){var C=m.key,E=!1;return C&&(E=this.get(C),E?console.warn("AnimationManager key already exists: "+C):(E=new d(this,C,m),this.anims.set(C,E),this.emit(h.ADD_ANIMATION,C,E))),E},fromJSON:function(m,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var E=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var M=0;M<m.anims.length;M++)E.push(this.create(m.anims[M]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&E.push(this.create(m));return E},generateFrameNames:function(m,C){var E=v(C,"prefix",""),M=v(C,"start",0),P=v(C,"end",0),w=v(C,"suffix",""),R=v(C,"zeroPad",0),A=v(C,"outputArray",[]),L=v(C,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),A;var F=this.textureManager.get(m);if(!F)return A;var O;if(C)for(L||(L=c(M,P)),O=0;O<L.length;O++){var D=E+p(L[O],R,"0",1)+w;F.has(D)?A.push({key:m,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,m)}else for(L=F.getFrameNames(),O=0;O<L.length;O++)A.push({key:m,frame:L[O]});return A},generateFrameNumbers:function(m,C){var E=v(C,"start",0),M=v(C,"end",-1),P=v(C,"first",!1),w=v(C,"outputArray",[]),R=v(C,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var A=this.textureManager.get(m);if(!A)return w;P&&A.has(P)&&w.push({key:m,frame:P}),R||(M===-1&&(M=A.frameTotal-2),R=c(E,M));for(var L=0;L<R.length;L++){var F=R[L];A.has(F)?w.push({key:m,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,m)}return w},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var C=this.textureManager.get(m),E=C.key,M=this.anims.getArray(),P=[],w=0;w<M.length;w++)for(var R=M[w],A=R.frames,L=0;L<A.length;L++)if(A[L].textureKey===E){P.push(R.key);break}return P},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(m,C){Array.isArray(C)||(C=[C]);for(var E=0;E<C.length;E++)C[E].anims.play(m);return this},staggerPlay:function(m,C,E,M){E===void 0&&(E=0),M===void 0&&(M=!0),Array.isArray(C)||(C=[C]);var P=C.length;M||P--;for(var w=0;w<C.length;w++){var R=E<0?Math.abs(E)*(P-w):E*w;C[w].anims.playAfterDelay(m,R)}return this},remove:function(m){var C=this.get(m);return C&&(this.emit(h.REMOVE_ANIMATION,m,C),this.anims.delete(m),this.removeMix(m)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(m){var C={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?C.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(E,M){C.anims.push(M.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=g},9674:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(42099),x=s(30976),f=s(83419),l=s(90330),h=s(74943),a=s(95540),u=new f({initialize:function(o){this.parent=o,this.animationManager=o.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var o=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,o;Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var p=v[c];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var o=this.animationManager,c=typeof v=="string"?v:a(v,"key",null),p=this.exists(c)?this.get(c):o.get(c);if(!p)console.warn("Missing animation: "+c);else{this.currentAnim=p;var g=p.getTotalFrames(),m=a(v,"frameRate",p.frameRate),C=a(v,"duration",p.duration);p.calculateDuration(this,g,C,m),this.delay=a(v,"delay",p.delay),this.repeat=a(v,"repeat",p.repeat),this.repeatDelay=a(v,"repeatDelay",p.repeatDelay),this.yoyo=a(v,"yoyo",p.yoyo),this.showBeforeDelay=a(v,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=a(v,"showOnStart",p.showOnStart),this.hideOnComplete=a(v,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=a(v,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=a(v,"randomFrame",p.randomFrame),this.timeScale=a(v,"timeScale",this.timeScale);var E=a(v,"startFrame",0);E>g&&(E=0),this.randomFrame&&(E=x(0,g-1));var M=p.frames[E];E===0&&!this.forward&&(M=p.getLastFrame()),this.currentFrame=M}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,o){if(!this.isPlaying)this.delayCounter=o,this.play(v,!0);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=o}return this.parent},playAfterRepeat:function(v,o){if(o===void 0&&(o=1),!this.isPlaying)this.play(v);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=o}return this.parent},play:function(v,o){o===void 0&&(o=!1);var c=this.currentAnim,p=this.parent,g=typeof v=="string"?v:v.key;if(o&&this.isPlaying&&c.key===g)return p;if(c&&this.isPlaying){var m=this.animationManager.getMix(c.key,v);if(m>0)return this.playAfterDelay(v,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,o){o===void 0&&(o=!1);var c=typeof v=="string"?v:v.key;return o&&this.isPlaying&&this.currentAnim.key===c?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var o=this.currentAnim,c=this.parent;return o&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,o.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,o){var c=this.currentAnim;if(c){var p=this.currentFrame,g=this.parent,m=p.textureFrame;g.emit(v,c,p,g,m),o&&g.emit(o+c.key,c,p,g,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var o=v.progress;return this.inReverse&&(o*=-1),o},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,o){o===void 0&&(o=this.currentAnim),this.isPlaying&&o.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,o){v===void 0&&(v=!1),o===void 0&&(o=!1);var c=this.currentAnim,p=this.parent;return c?(o&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,o){var c=this.currentAnim;if(!(!this.isPlaying||!c||c.paused)){if(this.accumulator+=o*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=o,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?c.nextFrame(this):c.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(v){var o=this.parent;return this.currentFrame=v,o.texture=v.frame.texture,o.frame=v.frame,o.isCropped&&o.frame.updateCropUVs(o._crop,o.flipX,o.flipY),v.setAlpha&&(o.alpha=v.alpha),o.setSizeToFrame(),o._originComponent&&(v.frame.customPivot?o.setOrigin(v.frame.pivotX,v.frame.pivotY):o.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),o},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var o=v.key,c=!1;return o&&(c=this.get(o),c?console.warn("Animation key already exists: "+o):(c=new d(this,o,v),this.anims||(this.anims=new l),this.anims.set(o,c))),c},createFromAseprite:function(v,o){return this.animationManager.createFromAseprite(v,o,this.parent)},generateFrameNames:function(v,o){return this.animationManager.generateFrameNames(v,o)},generateFrameNumbers:function(v,o){return this.animationManager.generateFrameNumbers(v,o)},remove:function(v){var o=this.get(v);return o&&(this.currentAnim===o&&this.stop(),this.anims.delete(v)),o},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=u},57090:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},25312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"},89580:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"},52860:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"},63850:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"},99085:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"},28087:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"},1794:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"},52562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},57953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},68339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},74943:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(90330),f=s(50792),l=s(24736),h=new d({initialize:function(){this.entries=new x,this.events=new f},add:function(a,u){return this.entries.set(a,u),this.events.emit(l.ADD,this,a,u),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var u=this.get(a);return u&&(this.entries.delete(a),this.events.emit(l.REMOVE,this,a,u.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=h},24047:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2161),x=s(83419),f=s(8443),l=new x({initialize:function(a){this.game=a,this.binary=new d,this.bitmapFont=new d,this.json=new d,this.physics=new d,this.shader=new d,this.audio=new d,this.video=new d,this.text=new d,this.html=new d,this.obj=new d,this.tilemap=new d,this.xml=new d,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new d),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<h.length;a++)this[h[a]].destroy(),this[h[a]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null}});r.exports=l},51464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},59261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},24736:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(39506),l=s(50792),h=s(19715),a=s(87841),u=s(61340),v=s(80333),o=s(26099),c=new d({Extends:l,Mixins:[x.AlphaSingle,x.Visible],initialize:function(g,m,C,E){g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=0),E===void 0&&(E=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=g,this._y=m,this._width=C,this._height=E,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new o(C/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,m){m===void 0&&(m=new o);var C=this.width*.5,E=this.height*.5;return m.x=p-C,m.y=g-E,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,m=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,m=g[0],C=g[1],E=g[2],M=g[3],P=m*M-C*E;if(!P)return p;var w=g[4],R=g[5],A=this.scrollX,L=this.scrollY,F=this.width,O=this.height,D=this.y,B=D+O,b=this.x,G=b+F,V=this.culledObjects,W=p.length;P=1/P,V.length=0;for(var H=0;H<W;++H){var z=p[H];if(!z.hasOwnProperty("width")||z.parentContainer){V.push(z);continue}var U=z.width,I=z.height,N=z.x-A*z.scrollFactorX-U*z.originX,k=z.y-L*z.scrollFactorY-I*z.originY,X=N*m+k*E+w,Y=N*C+k*M+R,$=(N+U)*m+(k+I)*E+w,K=(N+U)*C+(k+I)*M+R;$>b&&X<G&&K>D&&Y<B&&V.push(z)}return V},getWorldPoint:function(p,g,m){m===void 0&&(m=new o);var C=this.matrix.matrix,E=C[0],M=C[1],P=C[2],w=C[3],R=C[4],A=C[5],L=E*w-M*P;if(!L)return m.x=p,m.y=g,m;L=1/L;var F=w*L,O=-M*L,D=-P*L,B=E*L,b=(P*A-w*R)*L,G=(M*R-E*A)*L,V=Math.cos(this.rotation),W=Math.sin(this.rotation),H=this.zoomX,z=this.zoomY,U=this.scrollX,I=this.scrollY,N=p+(U*V-I*W)*H,k=g+(U*W+I*V)*z;return m.x=N*F+k*D+b,m.y=N*O+k*B+G,m},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var C=p[m];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=g}return this},preRender:function(){this.renderList.length=0;var p=this.width,g=this.height,m=p*.5,C=g*.5,E=this.zoomX,M=this.zoomY,P=this.matrix,w=p*this.originX,R=g*this.originY,A=this.scrollX,L=this.scrollY;this.useBounds&&(A=this.clampX(A),L=this.clampY(L)),this.scrollX=A,this.scrollY=L;var F=A+m,O=L+C;this.midPoint.set(F,O);var D=p/E,B=g/M;this.worldView.setTo(F-D/2,O-B/2,D,B),P.applyITRS(this.x+w,this.y+R,this.rotation,E,M),P.translate(-w,-R)},clampX:function(p){var g=this._bounds,m=this.displayWidth,C=g.x+(m-this.width)/2,E=Math.max(C,C+g.width-m);return p<C?p=C:p>E&&(p=E),p},clampY:function(p){var g=this._bounds,m=this.displayHeight,C=g.y+(m-this.height)/2,E=Math.max(C,C+g.height-m);return p<C?p=C:p>E&&(p=E),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=v(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,m,C,E){return E===void 0&&(E=!1),this._bounds.setTo(p,g,m,C),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new a);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,m,C){return this.x=p,this.y=g,this.width=m,this.height=C,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=c},38058:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(71911),x=s(67502),f=s(45319),l=s(83419),h=s(31401),a=s(20052),u=s(19715),v=s(28915),o=s(87841),c=s(26099),p=new l({Extends:d,Mixins:[h.PostPipeline],initialize:function(m,C,E,M){d.call(this,m,C,E,M),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(g,m){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=m):this.deadzone=new o(0,0,g,m),this._follow){var C=this.width/2,E=this.height/2,M=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(M,P),this.scrollX=M-C,this.scrollY=P-E}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,m,C,E,M,P){return this.fadeEffect.start(!1,g,m,C,E,!0,M,P)},fadeOut:function(g,m,C,E,M,P){return this.fadeEffect.start(!0,g,m,C,E,!0,M,P)},fadeFrom:function(g,m,C,E,M,P,w){return this.fadeEffect.start(!1,g,m,C,E,M,P,w)},fade:function(g,m,C,E,M,P,w){return this.fadeEffect.start(!0,g,m,C,E,M,P,w)},flash:function(g,m,C,E,M,P,w){return this.flashEffect.start(g,m,C,E,M,P,w)},shake:function(g,m,C,E,M){return this.shakeEffect.start(g,m,C,E,M)},pan:function(g,m,C,E,M,P,w){return this.panEffect.start(g,m,C,E,M,P,w)},rotateTo:function(g,m,C,E,M,P,w){return this.rotateToEffect.start(g,m,C,E,M,P,w)},zoomTo:function(g,m,C,E,M,P){return this.zoomEffect.start(g,m,C,E,M,P)},preRender:function(){this.renderList.length=0;var g=this.width,m=this.height,C=g*.5,E=m*.5,M=this.zoom,P=this.matrix,w=g*this.originX,R=m*this.originY,A=this._follow,L=this.deadzone,F=this.scrollX,O=this.scrollY;L&&x(L,this.midPoint.x,this.midPoint.y);var D=!1;if(A&&!this.panEffect.isRunning){var B=this.lerp,b=A.x-this.followOffset.x,G=A.y-this.followOffset.y;L?(b<L.x?F=v(F,F-(L.x-b),B.x):b>L.right&&(F=v(F,F+(b-L.right),B.x)),G<L.y?O=v(O,O-(L.y-G),B.y):G>L.bottom&&(O=v(O,O+(G-L.bottom),B.y))):(F=v(F,b-w,B.x),O=v(O,G-R,B.y)),D=!0}this.useBounds&&(F=this.clampX(F),O=this.clampY(O)),this.scrollX=F,this.scrollY=O;var V=F+C,W=O+E;this.midPoint.set(V,W);var H=g/M,z=m/M,U=Math.floor(V-H/2),I=Math.floor(W-z/2);this.worldView.setTo(U,I,H,z),P.applyITRS(Math.floor(this.x+w),Math.floor(this.y+R),this.rotation,M,M),P.translate(-w,-R),this.shakeEffect.preRender(),D&&this.emit(u.FOLLOW_UPDATE,this,A)},setLerp:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),this.lerp.set(g,m),this},setFollowOffset:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=0),this.followOffset.set(g,m),this},startFollow:function(g,m,C,E,M,P){m===void 0&&(m=!1),C===void 0&&(C=1),E===void 0&&(E=C),M===void 0&&(M=0),P===void 0&&(P=M),this._follow=g,this.roundPixels=m,C=f(C,0,1),E=f(E,0,1),this.lerp.set(C,E),this.followOffset.set(M,P);var w=this.width/2,R=this.height/2,A=g.x-M,L=g.y-P;return this.midPoint.set(A,L),this.scrollX=A-w,this.scrollY=L-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,m){this.visible&&(this.rotateToEffect.update(g,m),this.panEffect.update(g,m),this.zoomEffect.update(g,m),this.shakeEffect.update(g,m),this.flashEffect.update(g,m),this.fadeEffect.update(g,m))},destroy:function(){this.resetFX(),d.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=p},32743:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(38058),x=s(83419),f=s(95540),l=s(37277),h=s(37303),a=s(97480),u=s(44594),v=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(u.BOOT,this.boot,this),c.sys.events.on(u.START,this.start,this)},boot:function(){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new d(0,0,o.scale.width,o.scale.height).setScene(this.scene),o.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(u.UPDATE,this.update,this),c.once(u.SHUTDOWN,this.shutdown,this)},add:function(o,c,p,g,m,C){o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),m===void 0&&(m=!1),C===void 0&&(C="");var E=new d(o,c,p,g);return E.setName(C),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),m&&(this.main=E),E},addExisting:function(o,c){c===void 0&&(c=!1);var p=this.cameras.indexOf(o);return p===-1?(o.id=this.getNextID(),o.setRoundPixels(this.roundPixels),this.cameras.push(o),c&&(this.main=o),o):null},getNextID:function(){for(var o=this.cameras,c=1,p=0;p<32;p++){for(var g=!1,m=0;m<o.length;m++){var C=o[m];if(C&&C.id===c){g=!0;continue}}if(g)c=c<<1;else return c}return 0},getTotal:function(o){o===void 0&&(o=!1);for(var c=0,p=this.cameras,g=0;g<p.length;g++){var m=p[g];(!o||o&&m.visible)&&c++}return c},fromJSON:function(o){Array.isArray(o)||(o=[o]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<o.length;g++){var m=o[g],C=f(m,"x",0),E=f(m,"y",0),M=f(m,"width",c),P=f(m,"height",p),w=this.add(C,E,M,P);w.name=f(m,"name",""),w.zoom=f(m,"zoom",1),w.rotation=f(m,"rotation",0),w.scrollX=f(m,"scrollX",0),w.scrollY=f(m,"scrollY",0),w.roundPixels=f(m,"roundPixels",!1),w.visible=f(m,"visible",!0);var R=f(m,"backgroundColor",!1);R&&w.setBackgroundColor(R);var A=f(m,"bounds",null);if(A){var L=f(A,"x",0),F=f(A,"y",0),O=f(A,"width",c),D=f(A,"height",p);w.setBounds(L,F,O,D)}}return this},getCamera:function(o){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===o)return c[p];return null},getCamerasBelowPointer:function(o){for(var c=this.cameras,p=o.x,g=o.y,m=[],C=0;C<c.length;C++){var E=c[C];E.visible&&E.inputEnabled&&h(E,p,g)&&m.unshift(E)}return m},remove:function(o,c){c===void 0&&(c=!0),Array.isArray(o)||(o=[o]);for(var p=0,g=this.cameras,m=0;m<o.length;m++){var C=g.indexOf(o[m]);C!==-1&&(c?g[C].destroy():g[C].renderList=[],g.splice(C,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(o,c){for(var p=this.scene,g=this.cameras,m=0;m<g.length;m++){var C=g[m];if(C.visible&&C.alpha>0){C.preRender();var E=this.getVisibleChildren(c.getChildren(),C);o.render(p,E,C)}}},getVisibleChildren:function(o,c){return o.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(o,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(o,c)},onResize:function(o,c,p,g,m){for(var C=0;C<this.cameras.length;C++){var E=this.cameras[C];E._x===0&&E._y===0&&E._width===g&&E._height===m&&E.setSize(c.width,c.height)}},resize:function(o,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(o,c)},shutdown:function(){this.main=void 0;for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();this.cameras=[];var c=this.systems.events;c.off(u.UPDATE,this.update,this),c.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",v,"cameras"),r.exports=v},5020:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(19715),l=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,a,u,v,o,c,p,g){if(h===void 0&&(h=!0),a===void 0&&(a=1e3),u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=h,this.progress=0,this.red=u,this.green=v,this.blue=o,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var m=h?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(m,this.camera,this,a,u,v,o),this.camera},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera,v=this.red/255,o=this.green/255,c=this.blue/255;return h.drawFillRect(u.x,u.y,u.width,u.height,a(c,o,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=l},10662:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(19715),l=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,a,u,v,o,c,p){return h===void 0&&(h=250),a===void 0&&(a=255),u===void 0&&(u=255),v===void 0&&(v=255),o===void 0&&(o=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=a,this.green=u,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,h,a,u,v),this.camera)},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning)return!1;var u=this.camera,v=this.red/255,o=this.green/255,c=this.blue/255;return h.drawFillRect(u.x,u.y,u.width,u.height,a(c,o,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=l},20359:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(62640),l=s(19715),h=s(26099),a=new x({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(u,v,o,c,p,g,m){o===void 0&&(o=1e3),c===void 0&&(c=f.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var C=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(u,v),C.getScroll(u,v,this.current),typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(l.PAN_START,this.camera,this,o,u,v)),C},update:function(u,v){if(this.isRunning){this._elapsed+=v;var o=d(this._elapsed/this.duration,0,1);this.progress=o;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(o);c.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,m=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(g,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,o,g,m)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,o,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=a},34208:(r,T,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d=s(45319),x=s(83419),f=s(19715),l=s(62640),h=new x({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,u,v,o,c,p,g){v===void 0&&(v=1e3),o===void 0&&(o=l.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),u===void 0&&(u=!1),this.shortestPath=u;var m=a;a<0?(m=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;m=m-Math.floor(m/C)*C;var E=this.camera;if(!c&&this.isRunning)return E;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=E.rotation,this.destination=m,typeof o=="string"&&l.hasOwnProperty(o)?this.ease=l[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var M=0,P=0;this.destination>this.source?M=Math.abs(this.destination-this.source):M=Math.abs(this.destination+C)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+C)-this.destination,M<P?this.clockwise=!0:M>P&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,v,m),E},update:function(a,u){if(this.isRunning){this._elapsed+=u;var v=d(this._elapsed/this.duration,0,1);this.progress=v;var o=this.camera;if(this._elapsed<this.duration){var c=this.ease(v);this.current=o.rotation;var p=0,g=360*Math.PI/180,m=this.destination,C=this.current;this.clockwise===!1&&(m=this.current,C=this.destination),m>=C?p=Math.abs(m-C):p=Math.abs(m+g)-C;var E=0;this.clockwise?E=o.rotation+p*c:E=o.rotation-p*c,o.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,v,E)}else o.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=h},30330:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(19715),l=s(26099),h=new x({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,u,v,o,c){return a===void 0&&(a=100),u===void 0&&(u=.05),v===void 0&&(v=!1),o===void 0&&(o=null),c===void 0&&(c=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof u=="number"?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=o,this._onUpdateScope=c,this.camera.emit(f.SHAKE_START,this.camera,this,a,u),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,u){if(this.isRunning)if(this._elapsed+=u,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,o=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*v.x*o*2-v.x*o)*p,this._offsetY=(Math.random()*v.y*c*2-v.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=h},45641:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(62640),l=s(19715),h=new x({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,u,v,o,c,p){u===void 0&&(u=1e3),v===void 0&&(v=f.Linear),o===void 0&&(o=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!o&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=g.zoom,this.destination=a,typeof v=="string"&&f.hasOwnProperty(v)?this.ease=f[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(l.ZOOM_START,this.camera,this,u,a)),g},update:function(a,u){this.isRunning&&(this._elapsed+=u,this.progress=d(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=h},20052:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"},32726:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"},87807:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"},45917:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"},95666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"},47056:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"},91261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"},45047:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"},81927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"},74264:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"},54419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},79330:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},93183:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"},80112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"},62252:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"},86017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"},539:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"},51892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"},19715:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(35154),f=new d({initialize:function(h){this.camera=x(h,"camera",null),this.left=x(h,"left",null),this.right=x(h,"right",null),this.up=x(h,"up",null),this.down=x(h,"down",null),this.zoomIn=x(h,"zoomIn",null),this.zoomOut=x(h,"zoomOut",null),this.zoomSpeed=x(h,"zoomSpeed",.01),this.minZoom=x(h,"minZoom",.001),this.maxZoom=x(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=x(h,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=x(h,"speed.x",0),this.speedY=x(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},58818:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(35154),f=new d({initialize:function(h){this.camera=x(h,"camera",null),this.left=x(h,"left",null),this.right=x(h,"right",null),this.up=x(h,"up",null),this.down=x(h,"down",null),this.zoomIn=x(h,"zoomIn",null),this.zoomOut=x(h,"zoomOut",null),this.zoomSpeed=x(h,"zoomSpeed",.01),this.minZoom=x(h,"minZoom",.001),this.maxZoom=x(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=x(h,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=x(h,"acceleration.x",0),this.accelY=x(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=x(h,"drag",null);typeof u=="number"?(this.dragX=u,this.dragY=u):(this.dragX=x(h,"drag.x",0),this.dragY=x(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=x(h,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=x(h,"maxSpeed.x",0),this.maxSpeedY=x(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*l|0),this._speedY!==0&&(h.scrollY-=this._speedY*l|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},38865:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={VERSION:"3.80.1",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=d},69547:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(8054),f=s(42363),l=s(82264),h=s(95540),a=s(35154),u=s(41212),v=s(29747),o=s(75508),c=s(36060),p=s(80333),g=new d({initialize:function(C){C===void 0&&(C={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],M="#ffffff",P=a(C,"scale",null);this.width=a(P,"width",1024,C),this.height=a(P,"height",768,C),this.zoom=a(P,"zoom",1,C),this.parent=a(P,"parent",void 0,C),this.scaleMode=a(P,P?"mode":"scaleMode",0,C),this.expandParent=a(P,"expandParent",!0,C),this.autoRound=a(P,"autoRound",!1,C),this.autoCenter=a(P,"autoCenter",0,C),this.resizeInterval=a(P,"resizeInterval",500,C),this.fullscreenTarget=a(P,"fullscreenTarget",null,C),this.minWidth=a(P,"min.width",0,C),this.maxWidth=a(P,"max.width",0,C),this.minHeight=a(P,"min.height",0,C),this.maxHeight=a(P,"max.height",0,C),this.snapWidth=a(P,"snap.width",0,C),this.snapHeight=a(P,"snap.height",0,C),this.renderType=a(C,"type",x.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),o.RND=new o.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io"),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",l.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",M),this.bannerBackgroundColor=a(C,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var w=a(C,"render",null);this.pipeline=a(w,"pipeline",null,C),this.autoMobilePipeline=a(w,"autoMobilePipeline",!0,C),this.defaultPipeline=a(w,"defaultPipeline",c.MULTI_PIPELINE,C),this.antialias=a(w,"antialias",!0,C),this.antialiasGL=a(w,"antialiasGL",!0,C),this.mipmapFilter=a(w,"mipmapFilter","",C),this.desynchronized=a(w,"desynchronized",!1,C),this.roundPixels=a(w,"roundPixels",!0,C),this.pixelArt=a(w,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(w,"transparent",!1,C),this.clearBeforeRender=a(w,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(w,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(w,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(w,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(w,"powerPreference","default",C),this.batchSize=a(w,"batchSize",4096,C),this.maxTextures=a(w,"maxTextures",-1,C),this.maxLights=a(w,"maxLights",10,C);var R=a(C,"backgroundColor",0);this.backgroundColor=p(R),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",v),this.postBoot=a(C,"callbacks.postBoot",v),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=a(C,"plugins",null),L=f.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:u(A)&&(this.installGlobalPlugins=h(A,"global",[]),this.installScenePlugins=h(A,"scene",[]),Array.isArray(A.default)?L=A.default:Array.isArray(A.defaultMerge)&&(L=L.concat(A.defaultMerge)))),this.defaultPlugins=L;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});r.exports=g},86054:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20623),x=s(27919),f=s(8054),l=s(89357),h=function(a){var u=a.config;if((u.customEnvironment||u.canvas)&&u.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==f.HEADLESS)if(u.renderType===f.AUTO&&(u.renderType=l.webGL?f.WEBGL:f.CANVAS),u.renderType===f.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(u.renderType===f.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+u.renderType);u.antialias||x.disableSmoothing();var v=a.scale.baseSize,o=v.width,c=v.height;if(u.canvas?(a.canvas=u.canvas,a.canvas.width=o,a.canvas.height=c):a.canvas=x.create(a,o,c,u.renderType),u.canvasStyle&&(a.canvas.style=u.canvasStyle),u.antialias||d.setCrisp(a.canvas),u.renderType!==f.HEADLESS){var p,g;p=s(68627),g=s(74797),u.renderType===f.WEBGL?a.renderer=new g(a):(a.renderer=new p(a),a.context=a.renderer.gameContext)}};r.exports=h},96391:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8054),x=function(f){var l=f.config;if(!l.hideBanner){var h="WebGL";l.renderType===d.CANVAS?h="Canvas":l.renderType===d.HEADLESS&&(h="Headless");var a=l.audio,u=f.device.audio,v;if(u.webAudio&&!a.disableWebAudio?v="Web Audio":a.noAudio||!u.webAudio&&!u.audioData?v="No Audio":v="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+d.VERSION+" / https://phaser.io");else{var o="",c=[o];if(Array.isArray(l.bannerBackgroundColor)){var p;l.bannerBackgroundColor.forEach(function(m){o=o.concat("%c "),c.push("background: "+m),p=m}),c[c.length-1]="color: "+l.bannerTextColor+"; background: "+p}else o=o.concat("%c "),c.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);c.push("background: transparent"),l.gameTitle&&(o=o.concat(l.gameTitle),l.gameVersion&&(o=o.concat(" v"+l.gameVersion)),l.hidePhaser||(o=o.concat(" / ")));var g="";l.hidePhaser||(o=o.concat("Phaser v"+d.VERSION+g+" ("+h+" | "+v+")")),o=o.concat(" %c "+l.gameURL),c[0]=o,console.log.apply(console,c)}}};r.exports=x},50127:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40366),x=s(60848),f=s(24047),l=s(27919),h=s(83419),a=s(69547),u=s(83719),v=s(86054),o=s(45893),c=s(96391),p=s(82264),g=s(57264),m=s(50792),C=s(8443),E=s(7003),M=s(37277),P=s(77332),w=s(76531),R=s(60903),A=s(69442),L=s(17130),F=s(65898),O=s(51085),D=s(14747),B=new h({initialize:function(G){this.config=new a(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new x(this),this.textures=new L(this),this.cache=new f(this),this.registry=new o(this,new m),this.input=new E(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new w(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new F(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!M.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),u(this),c(this),d(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var b=this.events;b.on(C.HIDDEN,this.onHidden,this),b.on(C.VISIBLE,this.onVisible,this),b.on(C.BLUR,this.onBlur,this),b.on(C.FOCUS,this.onFocus,this)},step:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(C.PRE_STEP,b,G),V.emit(C.STEP,b,G),this.scene.update(b,G),V.emit(C.POST_STEP,b,G);var W=this.renderer;W.preRender(),V.emit(C.PRE_RENDER,W,b,G),this.scene.render(W),W.postRender(),V.emit(C.POST_RENDER,W,b,G)}},headlessStep:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(C.PRE_STEP,b,G),V.emit(C.STEP,b,G),this.scene.update(b,G),V.emit(C.POST_STEP,b,G),this.scene.isProcessing=!1,V.emit(C.PRE_RENDER,null,b,G),V.emit(C.POST_RENDER,null,b,G)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(C.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=B},65898:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(35154),f=s(29747),l=s(43092),h=new d({initialize:function(u,v){this.game=u,this.raf=new l,this.started=!1,this.running=!1,this.minFps=x(v,"min",5),this.targetFps=x(v,"target",60),this.fpsLimit=x(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=x(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(v,"deltaHistory",10),this.panicMax=x(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var u=this.deltaIndex,v=this.deltaHistory,o=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=v[u],a=Math.min(a,this._min)),v[u]=a,this.deltaIndex++,this.deltaIndex>=o&&(this.deltaIndex=0);for(var c=0,p=0;p<o;p++)c+=v[p];return c/=o,c},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var u=Math.max(0,a-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var u=Math.max(0,a-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,u),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var u=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+u));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=h},51085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8443),x=function(f){var l,h=f.events;if(document.hidden!==void 0)l="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},l=v+"visibilitychange")})}var u=function(v){document.hidden||v.type==="pause"?h.emit(d.HIDDEN):h.emit(d.VISIBLE)};l&&document.addEventListener(l,u,!1),window.onblur=function(){h.emit(d.BLUR)},window.onfocus=function(){h.emit(d.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};r.exports=x},97217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"},47548:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},19814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"},68446:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},41700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"},25432:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"},65942:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},59211:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},47789:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"},39066:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},460:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"},16175:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},42331:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},11966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"},32969:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"},94830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"},8443:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(5290),x=s(27919),f=s(35154),l=function(h){var a=f(h,"data",[]),u=f(h,"canvas",null),v=f(h,"palette",d),o=f(h,"pixelWidth",1),c=f(h,"pixelHeight",o),p=f(h,"resizeCanvas",!0),g=f(h,"clearCanvas",!0),m=f(h,"preRender",null),C=f(h,"postRender",null),E=Math.floor(Math.abs(a[0].length*o)),M=Math.floor(Math.abs(a.length*c));u||(u=x.create2D(this,E,M),p=!1,g=!1),p&&(u.width=E,u.height=M);var P=u.getContext("2d",{willReadFrequently:!0});g&&P.clearRect(0,0,E,M),m&&m(u,P);for(var w=0;w<a.length;w++)for(var R=a[w],A=0;A<R.length;A++){var L=R[A];L!=="."&&L!==" "&&(P.fillStyle=v[L],P.fillRect(A*o,w*c,o,c))}return C&&C(u,P),u};r.exports=l},15822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(36316),f=s(80021),l=s(26099),h=new d({Extends:f,initialize:function(u,v,o,c){f.call(this,"CubicBezierCurve"),Array.isArray(u)&&(c=new l(u[6],u[7]),o=new l(u[4],u[5]),v=new l(u[2],u[3]),u=new l(u[0],u[1])),this.p0=u,this.p1=v,this.p2=o,this.p3=c},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,u){u===void 0&&(u=new l);var v=this.p0,o=this.p1,c=this.p2,p=this.p3;return u.set(x(a,v.x,o.x,c.x,p.x),x(a,v.y,o.y,c.y,p.y))},draw:function(a,u){u===void 0&&(u=32);var v=this.getPoints(u);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var o=1;o<v.length;o++)a.lineTo(v[o].x,v[o].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(a){var u=a.points,v=new l(u[0],u[1]),o=new l(u[2],u[3]),c=new l(u[4],u[5]),p=new l(u[6],u[7]);return new h(v,o,c,p)},r.exports=h},80021:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(19217),f=s(87841),l=s(26099),h=new d({initialize:function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(a,u){return u===void 0&&(u=32),a.strokePoints(this.getPoints(u))},getBounds:function(a,u){a||(a=new f),u===void 0&&(u=16);var v=this.getLength();u>v&&(u=v/2);var o=Math.max(1,Math.round(v/u));return x(this.getSpacedPoints(o),a)},getDistancePoints:function(a){var u=this.getLength(),v=Math.max(1,u/a);return this.getSpacedPoints(v)},getEndPoint:function(a){return a===void 0&&(a=new l),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var u=[],v,o=this.getPoint(0,this._tmpVec2A),c=0;u.push(0);for(var p=1;p<=a;p++)v=this.getPoint(p/a,this._tmpVec2B),c+=v.distance(o),u.push(c),o.copy(v);return this.cacheArcLengths=u,u},getPointAt:function(a,u){var v=this.getUtoTmapping(a);return this.getPoint(v,u)},getPoints:function(a,u,v){v===void 0&&(v=[]),a||(u?a=this.getLength()/u:a=this.defaultDivisions);for(var o=0;o<=a;o++)v.push(this.getPoint(o/a));return v},getRandomPoint:function(a){return a===void 0&&(a=new l),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,u,v){v===void 0&&(v=[]),a||(u?a=this.getLength()/u:a=this.defaultDivisions);for(var o=0;o<=a;o++){var c=this.getUtoTmapping(o/a,null,a);v.push(this.getPoint(c))}return v},getStartPoint:function(a){return a===void 0&&(a=new l),this.getPointAt(0,a)},getTangent:function(a,u){u===void 0&&(u=new l);var v=1e-4,o=a-v,c=a+v;return o<0&&(o=0),c>1&&(c=1),this.getPoint(o,this._tmpVec2A),this.getPoint(c,u),u.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,u){var v=this.getUtoTmapping(a);return this.getTangent(v,u)},getTFromDistance:function(a,u){return a<=0?0:this.getUtoTmapping(0,a,u)},getUtoTmapping:function(a,u,v){var o=this.getLengths(v),c=0,p=o.length,g;u?g=Math.min(u,o[p-1]):g=a*o[p-1];for(var m=0,C=p-1,E;m<=C;)if(c=Math.floor(m+(C-m)/2),E=o[c]-g,E<0)m=c+1;else if(E>0)C=c-1;else{C=c;break}if(c=C,o[c]===g)return c/(p-1);var M=o[c],P=o[c+1],w=P-M,R=(g-M)/w;return(c+R)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=h},73825:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(80021),f=s(39506),l=s(35154),h=s(43396),a=s(26099),u=new d({Extends:x,initialize:function(o,c,p,g,m,C,E,M){if(typeof o=="object"){var P=o;o=l(P,"x",0),c=l(P,"y",0),p=l(P,"xRadius",0),g=l(P,"yRadius",p),m=l(P,"startAngle",0),C=l(P,"endAngle",360),E=l(P,"clockwise",!1),M=l(P,"rotation",0)}else g===void 0&&(g=p),m===void 0&&(m=0),C===void 0&&(C=360),E===void 0&&(E=!1),M===void 0&&(M=0);x.call(this,"EllipseCurve"),this.p0=new a(o,c),this._xRadius=p,this._yRadius=g,this._startAngle=f(m),this._endAngle=f(C),this._clockwise=E,this._rotation=f(M)},getStartPoint:function(v){return v===void 0&&(v=new a),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,o){o===void 0&&(o=new a);for(var c=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(g?p=0:p=c),this._clockwise&&!g&&(p===c?p=-c:p=p-c);var m=this._startAngle+v*p,C=this.p0.x+this._xRadius*Math.cos(m),E=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var M=Math.cos(this._rotation),P=Math.sin(this._rotation),w=C-this.p0.x,R=E-this.p0.y;C=w*M-R*P+this.p0.x,E=w*P+R*M+this.p0.y}return o.set(C,E)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return h(this._startAngle)},set:function(v){this._startAngle=f(v)}},endAngle:{get:function(){return h(this._endAngle)},set:function(v){this._endAngle=f(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return h(this._rotation)},set:function(v){this._rotation=f(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});u.fromJSON=function(v){return new u(v)},r.exports=u},33951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(80021),f=s(19217),l=s(87841),h=s(26099),a=new d({Extends:x,initialize:function(v,o){x.call(this,"LineCurve"),Array.isArray(v)&&(o=new h(v[2],v[3]),v=new h(v[0],v[1])),this.p0=v,this.p1=o,this.arcLengthDivisions=1},getBounds:function(u){return u===void 0&&(u=new l),f([this.p0,this.p1],u)},getStartPoint:function(u){return u===void 0&&(u=new h),u.copy(this.p0)},getResolution:function(u){return u===void 0&&(u=1),u},getPoint:function(u,v){return v===void 0&&(v=new h),u===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),v)},getPointAt:function(u,v){return this.getPoint(u,v)},getTangent:function(u,v){return v===void 0&&(v=new h),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(u,v,o){var c;if(v){var p=this.getLengths(o),g=p[p.length-1],m=Math.min(v,g);c=m/g}else c=u;return c},draw:function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(u){var v=u.points,o=new h(v[0],v[1]),c=new h(v[2],v[3]);return new a(o,c)},r.exports=a},14744:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(80021),f=s(32112),l=s(26099),h=new d({Extends:x,initialize:function(u,v,o){x.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(o=new l(u[4],u[5]),v=new l(u[2],u[3]),u=new l(u[0],u[1])),this.p0=u,this.p1=v,this.p2=o},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,u){u===void 0&&(u=new l);var v=this.p0,o=this.p1,c=this.p2;return u.set(f(a,v.x,o.x,c.x),f(a,v.y,o.y,c.y))},draw:function(a,u){u===void 0&&(u=32);var v=this.getPoints(u);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var o=1;o<v.length;o++)a.lineTo(v[o].x,v[o].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(a){var u=a.points,v=new l(u[0],u[1]),o=new l(u[2],u[3]),c=new l(u[4],u[5]);return new h(v,o,c)},r.exports=h},42534:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87842),x=s(83419),f=s(80021),l=s(26099),h=new x({Extends:f,initialize:function(u){u===void 0&&(u=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},addPoints:function(a){for(var u=0;u<a.length;u++){var v=new l;typeof a[u]=="number"?(v.x=a[u],v.y=a[u+1],u++):Array.isArray(a[u])?(v.x=a[u][0],v.y=a[u][1]):(v.x=a[u].x,v.y=a[u].y),this.points.push(v)}return this},addPoint:function(a,u){var v=new l(a,u);return this.points.push(v),v},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,u){u===void 0&&(u=new l);var v=this.points,o=(v.length-1)*a,c=Math.floor(o),p=o-c,g=v[c===0?c:c-1],m=v[c],C=v[c>v.length-2?v.length-1:c+1],E=v[c>v.length-3?v.length-1:c+2];return u.set(d(p,g.x,m.x,C.x,E.x),d(p,g.y,m.y,C.y,E.y))},toJSON:function(){for(var a=[],u=0;u<this.points.length;u++)a.push(this.points[u].x),a.push(this.points[u].y);return{type:this.type,points:a}}});h.fromJSON=function(a){return new h(a.points)},r.exports=h},25410:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(26099),f=new d({initialize:function(h,a){this.active=!1,this.p0=new x(h,a)},getPoint:function(l,h){return h===void 0&&(h=new x),h.copy(this.p0)},getPointAt:function(l,h){return this.getPoint(l,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=f},46669:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(46728),f=s(73825),l=s(39429),h=s(33951),a=s(68618),u=s(14744),v=s(87841),o=s(42534),c=s(26099),p=s(36383),g=new d({initialize:function(C,E){C===void 0&&(C=0),E===void 0&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,E)},add:function(m){return this.curves.push(m),this},circleTo:function(m,C,E){return C===void 0&&(C=!1),this.ellipseTo(m,m,0,360,C,E)},closePath:function(){var m=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return m.equals(C)||this.curves.push(new h(C,m)),this},cubicBezierTo:function(m,C,E,M,P,w){var R=this.getEndPoint(),A,L,F;return m instanceof c?(A=m,L=C,F=E):(A=new c(E,M),L=new c(P,w),F=new c(m,C)),this.add(new x(R,A,L,F))},quadraticBezierTo:function(m,C,E,M){var P=this.getEndPoint(),w,R;return m instanceof c?(w=m,R=C):(w=new c(E,M),R=new c(m,C)),this.add(new u(P,w,R))},draw:function(m,C){for(var E=0;E<this.curves.length;E++){var M=this.curves[E];M.active&&M.draw(m,C)}return m},ellipseTo:function(m,C,E,M,P,w){var R=new f(0,0,m,C,E,M,P,w),A=this.getEndPoint(this._tmpVec2A),L=R.getStartPoint(this._tmpVec2B);return A.subtract(L),R.x=A.x,R.y=A.y,this.add(R)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var C=0;C<m.curves.length;C++){var E=m.curves[C];switch(E.type){case"LineCurve":this.add(h.fromJSON(E));break;case"EllipseCurve":this.add(f.fromJSON(E));break;case"SplineCurve":this.add(o.fromJSON(E));break;case"CubicBezierCurve":this.add(x.fromJSON(E));break;case"QuadraticBezierCurve":this.add(u.fromJSON(E));break}}return this},getBounds:function(m,C){m===void 0&&(m=new v),C===void 0&&(C=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var E=new v,M=p.MIN_SAFE_INTEGER,P=p.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(E,C),m.x=Math.min(m.x,E.x),m.y=Math.min(m.y,E.y),M=Math.max(M,E.right),P=Math.max(P,E.bottom))}return m.right=M,m.bottom=P,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],C=0,E=0;E<this.curves.length;E++)C+=this.curves[E].getLength(),m.push(C);return this.cacheLengths=m,m},getCurveAt:function(m){for(var C=m*this.getLength(),E=this.getCurveLengths(),M=0;M<E.length;){if(E[M]>=C)return this.curves[M];M++}return null},getEndPoint:function(m){return m===void 0&&(m=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,C){C===void 0&&(C=new c);for(var E=m*this.getLength(),M=this.getCurveLengths(),P=0;P<M.length;){if(M[P]>=E){var w=M[P]-E,R=this.curves[P],A=R.getLength(),L=A===0?0:1-w/A;return R.getPointAt(L,C)}P++}return null},getPoints:function(m,C){!m&&!C&&(m=this.defaultDivisions);for(var E=[],M,P=0;P<this.curves.length;P++){var w=this.curves[P];if(w.active)for(var R=w.getResolution(m),A=w.getPoints(R,C),L=0;L<A.length;L++){var F=A[L];M&&M.equals(F)||(E.push(F),M=F)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(m){return m===void 0&&(m=new c),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var C=[],E=0;E<=m;E++)C.push(this.getPoint(E/m));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(m){return m===void 0&&(m=new c),m.copy(this.startPoint)},getTangent:function(m,C){C===void 0&&(C=new c);for(var E=m*this.getLength(),M=this.getCurveLengths(),P=0;P<M.length;){if(M[P]>=E){var w=M[P]-E,R=this.curves[P],A=R.getLength(),L=A===0?0:1-w/A;return R.getTangentAt(L,C)}P++}return null},lineTo:function(m,C){m instanceof c?this._tmpVec2B.copy(m):typeof m=="object"?this._tmpVec2B.setFromObject(m):this._tmpVec2B.set(m,C);var E=this.getEndPoint(this._tmpVec2A);return this.add(new h([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new o(m))},moveTo:function(m,C){return m instanceof c?this.add(new a(m.x,m.y)):this.add(new a(m,C))},toJSON:function(){for(var m=[],C=0;C<this.curves.length;C++)m.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(m,C){return new g(m,C)}),r.exports=g},45893:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(24882),f=new d({initialize:function(h,a){this.parent=h,this.events=a,a||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(l){var h=this.list;if(Array.isArray(l)){for(var a=[],u=0;u<l.length;u++)a.push(h[l[u]]);return a}else return h[l]},getAll:function(){var l={};for(var h in this.list)this.list.hasOwnProperty(h)&&(l[h]=this.list[h]);return l},query:function(l){var h={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(l)&&(h[a]=this.list[a]);return h},set:function(l,h){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,h);for(var a in l)this.setValue(a,l[a]);return this},inc:function(l,h){if(this._frozen)return this;h===void 0&&(h=1);var a=this.get(l);return a===void 0&&(a=0),this.set(l,a+h),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,h){if(this._frozen)return this;if(this.has(l))this.values[l]=h;else{var a=this,u=this.list,v=this.events,o=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return u[l]},set:function(c){if(!a._frozen){var p=u[l];u[l]=c,v.emit(x.CHANGE_DATA,o,l,c,p),v.emit(x.CHANGE_DATA_KEY+l,o,c,p)}}}),u[l]=h,v.emit(x.SET_DATA,o,l,h)}return this},each:function(l,h){for(var a=[this.parent,null,void 0],u=1;u<arguments.length;u++)a.push(arguments[u]);for(var v in this.list)a[1]=v,a[2]=this.list[v],l.apply(h,a);return this},merge:function(l,h){h===void 0&&(h=!0);for(var a in l)l.hasOwnProperty(a)&&(h||!h&&!this.has(a))&&this.setValue(a,l[a]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var h=0;h<l.length;h++)this.removeValue(l[h]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var h=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,h)}return this},pop:function(l){var h=void 0;return!this._frozen&&this.has(l)&&(h=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,h)),h},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var h in this.list)this.list[h]!==void 0&&l++;return l}}});r.exports=f},63646:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(45893),f=s(37277),l=s(44594),h=new d({Extends:x,initialize:function(u){x.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(l.BOOT,this.boot,this),u.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",h,"data"),r.exports=h},10700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"},93608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"},60883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},69780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"},22166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"},24882:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),h=!!l.canPlayType;try{if(h){var a=function(o,c){var p=l.canPlayType("audio/"+o).replace(/^no$/,"");return c?!!(p||l.canPlayType("audio/"+c).replace(/^no$/,"")):!!p};if(x.ogg=a('ogg; codecs="vorbis"'),x.opus=a('ogg; codecs="opus"',"opus"),x.mp3=a("mpeg"),x.wav=a("wav"),x.m4a=a("x-m4a"),x.aac=a("aac"),x.flac=a("flac","x-flac"),x.webm=a('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(d.edge)x.dolby=!0;else if(d.safari&&d.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(u===10&&v>=11||u>10)&&(x.dolby=!0)}}}}catch{}return x}r.exports=f()},84148:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(x.edge=!0,x.es2019=!0):/OPR/.test(l)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(l)&&!d.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&d.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!d.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(x.silk=!0),x}r.exports=f()},89289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var o=new Image;o.onload=function(){var c=d.create2D(o,6),p=c.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(v,0,0),p.drawImage(o,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;d.remove(o),x.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},o.src=a+"/wCKxvRF"+u},v.src=a+"AP804Oa6"+u,!1}function l(){var a=d.create2D(this,2),u=a.getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var v=u.getImageData(0,0,1,1);if(v===null)return!1;u.putImageData(v,1,0);var o=u.getImageData(1,0,1,1),c=o.data[0]===v.data[0]&&o.data[1]===v.data[1]&&o.data[2]===v.data[2]&&o.data[3]===v.data[3];return d.remove(this),c}function h(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=f(),x.supportInverseAlpha=l()),x}r.exports=h()},89357:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25892),x=s(84148),f=s(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var u=new ArrayBuffer(4),v=new Uint8Array(u),o=new Uint32Array(u);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,o[0]===3569595041?!0:o[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var u=!1,v=function(){if(window.WebGLRenderingContext)try{var o=f.createWebGL(this),c=o.getContext("webgl")||o.getContext("experimental-webgl"),p=f.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),m=g.createImageData(1,1);return u=m.data instanceof Uint8ClampedArray,f.remove(o),f.remove(p),!!c}catch{return!1}return!1};return l.webGL=v(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(l.getUserMedia=!1),!d.iOS&&(x.ie||x.firefox||x.chrome)&&(l.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=h()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&u,l}r.exports=a()},91639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return T;var d,x="Fullscreen",f="FullScreen",l=["request"+x,"request"+f,"webkitRequest"+x,"webkitRequest"+f,"msRequest"+x,"msRequest"+f,"mozRequest"+f,"mozRequest"+x];for(d=0;d<l.length;d++)if(document.documentElement[l[d]]){T.available=!0,T.request=l[d];break}var h=["cancel"+f,"exit"+x,"webkitCancel"+f,"webkitExit"+x,"msCancel"+f,"msExit"+x,"mozCancel"+f,"mozExit"+x];if(T.available){for(d=0;d<h.length;d++)if(document[h[d]]){T.cancel=h[d];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}r.exports=s()},31784:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||d.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":d.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}r.exports=f()},25892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return T;var d=navigator.userAgent;/Windows/.test(d)?T.windows=!0:/Mac OS/.test(d)&&!/like Mac OS/.test(d)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(d)?T.android=!0:/Linux/.test(d)?T.linux=!0:/iP[ao]d|iPhone/i.test(d)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=d.toLowerCase().indexOf("iphone")!==-1,T.iPad=d.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(d)||/\bKF[A-Z][A-Z]+/.test(d)||/Silk.*Mobile Safari/.test(d)?T.kindle=!0:/CrOS/.test(d)&&(T.chromeOS=!0),(/Windows Phone/i.test(d)||/IEMobile/i.test(d))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(d);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(d)&&/Touch/i.test(d))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(d)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}r.exports=s()},43267:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return x;var l=document.createElement("video"),h=!!l.canPlayType,a=/^no$/;try{h&&(l.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(x.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(x.h264=!0,x.mp4=!0),l.canPlayType("video/x-m4v").replace(a,"")&&(x.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(x.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(x.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(x.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),x.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var o=d(u[v],"url",u[v]);if(o.indexOf("blob:")===0)return{url:o,type:""};var c;if(o.indexOf("data:")===0?c=o.split(",")[0].match(/\/(.*?);/):c=o.match(/\.([a-zA-Z0-9]+)($|\?)/),c=d(u[v],"type",c?c[1]:"").toLowerCase(),x[c])return{url:o,type:c}}return null},x}r.exports=f()},82264:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new Float32Array(20),f=new d({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],h)},saturate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l*2/3+1,u=(a-1)*-.5;return this.multiply([a,u,u,0,0,u,a,u,0,0,u,u,a,0,0,0,0,0,1,0],h)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1),l=l/180*Math.PI;var a=Math.cos(l),u=Math.sin(l),v=.213,o=.715,c=.072;return this.multiply([v+a*(1-v)+u*-v,o+a*-o+u*-o,c+a*-c+u*(1-c),0,0,v+a*-v+u*.143,o+a*(1-o)+u*.14,c+a*-c+u*-.283,0,0,v+a*-v+u*-(1-v),o+a*-o+u*o,c+a*(1-c)+u*c,0,0,0,0,0,1,0],h)},grayscale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=!1),this.saturate(-l,h)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(f.BLACK_WHITE,l)},contrast:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l+1,u=-.5*(a-1);return this.multiply([a,0,0,0,u,0,a,0,0,u,0,0,a,0,u,0,0,0,1,0],h)},negative:function(l){return l===void 0&&(l=!1),this.multiply(f.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(f.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(f.SEPIA,l)},night:function(l,h){return l===void 0&&(l=.1),h===void 0&&(h=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],h)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(f.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(f.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(f.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(f.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(f.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(f.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(f.SHIFT_BGR,l)},multiply:function(l,h){h===void 0&&(h=!1),h||this.reset();var a=this._matrix,u=x;return u.set(a),a.set([u[0]*l[0]+u[1]*l[5]+u[2]*l[10]+u[3]*l[15],u[0]*l[1]+u[1]*l[6]+u[2]*l[11]+u[3]*l[16],u[0]*l[2]+u[1]*l[7]+u[2]*l[12]+u[3]*l[17],u[0]*l[3]+u[1]*l[8]+u[2]*l[13]+u[3]*l[18],u[0]*l[4]+u[1]*l[9]+u[2]*l[14]+u[3]*l[19]+u[4],u[5]*l[0]+u[6]*l[5]+u[7]*l[10]+u[8]*l[15],u[5]*l[1]+u[6]*l[6]+u[7]*l[11]+u[8]*l[16],u[5]*l[2]+u[6]*l[7]+u[7]*l[12]+u[8]*l[17],u[5]*l[3]+u[6]*l[8]+u[7]*l[13]+u[8]*l[18],u[5]*l[4]+u[6]*l[9]+u[7]*l[14]+u[8]*l[19]+u[9],u[10]*l[0]+u[11]*l[5]+u[12]*l[10]+u[13]*l[15],u[10]*l[1]+u[11]*l[6]+u[12]*l[11]+u[13]*l[16],u[10]*l[2]+u[11]*l[7]+u[12]*l[12]+u[13]*l[17],u[10]*l[3]+u[11]*l[8]+u[12]*l[13]+u[13]*l[18],u[10]*l[4]+u[11]*l[9]+u[12]*l[14]+u[13]*l[19]+u[14],u[15]*l[0]+u[16]*l[5]+u[17]*l[10]+u[18]*l[15],u[15]*l[1]+u[16]*l[6]+u[17]*l[11]+u[18]*l[16],u[15]*l[2]+u[16]*l[7]+u[17]*l[12]+u[18]*l[17],u[15]*l[3]+u[16]*l[8]+u[17]*l[13]+u[18]*l[18],u[15]*l[4]+u[16]*l[9]+u[17]*l[14]+u[18]*l[19]+u[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=f},51767:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(29747),f=new d({initialize:function(h,a,u){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(h,a,u)},set:function(l,h,a){return l===void 0&&(l=0),h===void 0&&(h=0),a===void 0&&(a=0),this._rgb=[l,h,a],this.onChange(),this},equals:function(l,h,a){var u=this._rgb;return u[0]===l&&u[1]===h&&u[2]===a},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=f},60461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=T},54312:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(35893),f=s(86327),l=s(88417),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)+v),f(a,d(u)+o),a};r.exports=h},46768:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(26541),f=s(86327),l=s(385),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)-v),f(a,d(u)+o),a};r.exports=h},35827:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(54380),f=s(86327),l=s(40136),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)+v),f(a,d(u)+o),a};r.exports=h},46871:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66786),x=s(35893),f=s(7702),l=function(h,a,u,v){return u===void 0&&(u=0),v===void 0&&(v=0),d(h,x(a)+u,f(a)+v),h};r.exports=l},5198:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7702),x=s(26541),f=s(20786),l=s(385),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)-v),f(a,d(u)+o),a};r.exports=h},11879:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(60461),x=[];x[d.BOTTOM_CENTER]=s(54312),x[d.BOTTOM_LEFT]=s(46768),x[d.BOTTOM_RIGHT]=s(35827),x[d.CENTER]=s(46871),x[d.LEFT_CENTER]=s(5198),x[d.RIGHT_CENTER]=s(80503),x[d.TOP_CENTER]=s(89698),x[d.TOP_LEFT]=s(922),x[d.TOP_RIGHT]=s(21373),x[d.LEFT_BOTTOM]=x[d.BOTTOM_LEFT],x[d.LEFT_TOP]=x[d.TOP_LEFT],x[d.RIGHT_BOTTOM]=x[d.BOTTOM_RIGHT],x[d.RIGHT_TOP]=x[d.TOP_RIGHT];var f=function(l,h,a,u,v){return x[a](l,h,u,v)};r.exports=f},80503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7702),x=s(54380),f=s(20786),l=s(40136),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)+v),f(a,d(u)+o),a};r.exports=h},89698:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35893),x=s(17717),f=s(88417),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,d(u)+v),l(a,x(u)-o),a};r.exports=h},922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26541),x=s(17717),f=s(385),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,d(u)-v),l(a,x(u)-o),a};r.exports=h},21373:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54380),x=s(17717),f=s(40136),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,d(u)+v),l(a,x(u)-o),a};r.exports=h},91660:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(60461),x=s(79291),f={In:s(91660),To:s(16694)};f=x(!1,f,d),r.exports=f},21578:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(35893),f=s(88417),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,x(u)+v),l(a,d(u)+o),a};r.exports=h},10210:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(26541),f=s(385),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,x(u)-v),l(a,d(u)+o),a};r.exports=h},82341:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(54380),f=s(40136),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,x(u)+v),l(a,d(u)+o),a};r.exports=h},87958:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(26541),f=s(86327),l=s(40136),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)-v),f(a,d(u)+o),a};r.exports=h},40080:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7702),x=s(26541),f=s(20786),l=s(40136),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)-v),f(a,d(u)+o),a};r.exports=h},88466:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26541),x=s(17717),f=s(40136),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,d(u)-v),l(a,x(u)-o),a};r.exports=h},38829:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(60461),x=[];x[d.BOTTOM_CENTER]=s(21578),x[d.BOTTOM_LEFT]=s(10210),x[d.BOTTOM_RIGHT]=s(82341),x[d.LEFT_BOTTOM]=s(87958),x[d.LEFT_CENTER]=s(40080),x[d.LEFT_TOP]=s(88466),x[d.RIGHT_BOTTOM]=s(19211),x[d.RIGHT_CENTER]=s(34609),x[d.RIGHT_TOP]=s(48741),x[d.TOP_CENTER]=s(49440),x[d.TOP_LEFT]=s(81288),x[d.TOP_RIGHT]=s(61323);var f=function(l,h,a,u,v){return x[a](l,h,u,v)};r.exports=f},19211:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(54380),f=s(86327),l=s(385),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)+v),f(a,d(u)+o),a};r.exports=h},34609:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7702),x=s(54380),f=s(20786),l=s(385),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,x(u)+v),f(a,d(u)+o),a};r.exports=h},48741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54380),x=s(17717),f=s(385),l=s(66737),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),f(a,d(u)+v),l(a,x(u)-o),a};r.exports=h},49440:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35893),x=s(17717),f=s(86327),l=s(88417),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,d(u)+v),f(a,x(u)-o),a};r.exports=h},81288:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26541),x=s(17717),f=s(86327),l=s(385),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,d(u)-v),f(a,x(u)-o),a};r.exports=h},61323:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54380),x=s(17717),f=s(86327),l=s(40136),h=function(a,u,v,o){return v===void 0&&(v=0),o===void 0&&(o=0),l(a,d(u)+v),f(a,x(u)-o),a};r.exports=h},16694:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(88417),x=s(20786),f=function(l,h,a){return d(l,h),x(l,a)};r.exports=f},62235:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y+s.height-s.height*s.originY};r.exports=T},72873:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62235),x=s(26541),f=s(54380),l=s(17717),h=s(87841),a=function(u,v){v===void 0&&(v=new h);var o=x(u),c=l(u);return v.x=o,v.y=c,v.width=f(u)-o,v.height=d(u)-c,v};r.exports=a},35893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x-s.width*s.originX+s.width*.5};r.exports=T},7702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y-s.height*s.originY+s.height*.5};r.exports=T},26541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x-s.width*s.originX};r.exports=T},87431:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.width*s.originX};r.exports=T},46928:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.height*s.originY};r.exports=T},54380:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x+s.width-s.width*s.originX};r.exports=T},17717:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y-s.height*s.originY};r.exports=T},86327:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.y=d-s.height+s.height*s.originY,s};r.exports=T},88417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.width*s.originX;return s.x=d+x-s.width*.5,s};r.exports=T},20786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.height*s.originY;return s.y=d+x-s.height*.5,s};r.exports=T},385:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x=d+s.width*s.originX,s};r.exports=T},40136:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x=d-s.width+s.width*s.originX,s};r.exports=T},66737:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.y=d+s.height*s.originY,s};r.exports=T},58724:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(s){var d=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return d.forEach(function(x){s.style["image-rendering"]=x}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};r.exports=T},27919:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8054),x=s(68703),f=[],l=!1,h=function(){var a=function(E,M,P,w,R){M===void 0&&(M=1),P===void 0&&(P=1),w===void 0&&(w=d.CANVAS),R===void 0&&(R=!1);var A,L=o(w);return L===null?(L={parent:E,canvas:document.createElement("canvas"),type:w},w===d.CANVAS&&f.push(L),A=L.canvas):(L.parent=E,A=L.canvas),R&&(L.parent=A),A.width=M,A.height=P,l&&w===d.CANVAS&&x.disable(A.getContext("2d",{willReadFrequently:!1})),A},u=function(E,M,P){return a(E,M,P,d.CANVAS)},v=function(E,M,P){return a(E,M,P,d.WEBGL)},o=function(E){if(E===void 0&&(E=d.CANVAS),E===d.WEBGL)return null;for(var M=0;M<f.length;M++){var P=f[M];if(!P.parent&&P.type===E)return P}return null},c=function(E){var M=E instanceof HTMLCanvasElement;f.forEach(function(P){(M&&P.canvas===E||!M&&P.parent===E)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},p=function(){var E=0;return f.forEach(function(M){M.parent&&E++}),E},g=function(){return f.length-p()},m=function(){l=!0},C=function(){l=!1};return{create2D:u,create:a,createWebGL:v,disableSmoothing:m,enableSmoothing:C,first:o,free:g,pool:f,remove:c,total:p}};r.exports=h()},68703:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",s=function(){var d=function(h){for(var a=["i","webkitI","msI","mozI","oI"],u=0;u<a.length;u++){var v=a[u]+"mageSmoothingEnabled";if(v in h)return v}return null},x=function(h){return T===""&&(T=d(h)),T&&(h[T]=!0),h},f=function(h){return T===""&&(T=d(h)),T&&(h[T]=!1),h},l=function(h){return T!==null?h[T]:null};return{disable:f,enable:x,getPrefix:d,isEnabled:l}};r.exports=s()},65208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d="none"),s.style.msTouchAction=d,s.style["ms-touch-action"]=d,s.style["touch-action"]=d,s};r.exports=T},91610:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(f){s.style[f+"user-select"]=d}),s.style["-webkit-touch-callout"]=d,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};r.exports=T},26253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(37589),f=s(1e3),l=s(7537),h=s(87837),a=new d({initialize:function(v,o,c,p){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,o,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(u,v,o,c,p){return c===void 0&&(c=255),p===void 0&&(p=!0),this._locked=!0,this.red=u,this.green=v,this.blue=o,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(u,v,o,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=u,this.greenGL=v,this.blueGL=o,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},setFromHSV:function(u,v,o){return l(u,v,o,this)},update:function(u){if(u===void 0&&(u=!1),this._locked)return this;var v=this.r,o=this.g,c=this.b,p=this.a;return this._color=x(v,o,c),this._color32=f(v,o,c,p),this._rgba="rgba("+v+","+o+","+c+","+p/255+")",u&&h(v,o,c,this),this},updateHSV:function(){var u=this.r,v=this.g,o=this.b;return h(u,v,o,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(u){return this.setTo(u,u,u)},random:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var o=Math.floor(u+Math.random()*(v-u)),c=Math.floor(u+Math.random()*(v-u)),p=Math.floor(u+Math.random()*(v-u));return this.setTo(o,c,p)},randomGray:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var o=Math.floor(u+Math.random()*(v-u));return this.setTo(o,o,o)},saturate:function(u){return this.s+=u/100,this},desaturate:function(u){return this.s-=u/100,this},lighten:function(u){return this.v+=u/100,this},darken:function(u){return this.v-=u/100,this},brighten:function(u){var v=this.r,o=this.g,c=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(u/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(u/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(u/100)))),this.setTo(v,o,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)}},green:{get:function(){return this.g},set:function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()}},h:{get:function(){return this._h},set:function(u){this._h=u,l(u,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(u){this._s=u,l(this._h,u,this._v,this)}},v:{get:function(){return this._v},set:function(u){this._v=u,l(this._h,this._s,u,this)}}});r.exports=a},92728:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37589),x=function(f){f===void 0&&(f=1024);var l=[],h=255,a,u=255,v=0,o=0;for(a=0;a<=h;a++)l.push({r:u,g:a,b:o,color:d(u,a,o)});for(v=255,a=h;a>=0;a--)l.push({r:a,g:v,b:o,color:d(a,v,o)});for(u=0,a=0;a<=h;a++,v--)l.push({r:u,g:v,b:a,color:d(u,v,a)});for(v=0,o=255,a=0;a<=h;a++,o--,u++)l.push({r:u,g:v,b:o,color:d(u,v,o)});if(f===1024)return l;var c=[],p=0,g=1024/f;for(a=0;a<f;a++)c.push(l[Math.floor(p)]),p+=g;return c};r.exports=x},91588:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(d.a=s>>>24),d};r.exports=T},62957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=s.toString(16);return d.length===1?"0"+d:d};r.exports=T},37589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s<<16|d<<8|x};r.exports=T},1e3:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return f<<24|s<<16|d<<8|x};r.exports=T},62183:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987),x=s(89528),f=function(l,h,a){var u=a,v=a,o=a;if(h!==0){var c=a<.5?a*(1+h):a+h-a*h,p=2*a-c;u=x(p,c,l+1/3),v=x(p,c,l),o=x(p,c,l-1/3)}var g=new d;return g.setGLTo(u,v,o,1)};r.exports=f},27939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7537),x=function(f,l){f===void 0&&(f=1),l===void 0&&(l=1);for(var h=[],a=0;a<=359;a++)h.push(d(a/359,f,l));return h};r.exports=x},7537:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37589);function x(l,h,a,u){var v=(l+h*6)%6,o=Math.min(v,4-v,1);return Math.round(255*(u-u*a*Math.max(0,o)))}var f=function(l,h,a,u){h===void 0&&(h=1),a===void 0&&(a=1);var v=x(5,l,h,a),o=x(3,l,h,a),c=x(1,l,h,a);return u?u.setTo?u.setTo(v,o,c,u.alpha,!0):(u.r=v,u.g=o,u.b=c,u.color=d(v,o,c),u):{r:v,g:o,b:c,color:d(v,o,c)}};r.exports=f},70238:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987),x=function(f){var l=new d;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,c,p,g){return c+c+p+p+g+g});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(h){var a=parseInt(h[1],16),u=parseInt(h[2],16),v=parseInt(h[3],16);l.setTo(a,u,v)}return l};r.exports=x},89528:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?s+(d-s)*6*x:x<.5?d:x<.6666666666666666?s+(d-s)*(.6666666666666666-x)*6:s};r.exports=T},30100:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987),x=s(90664),f=function(l){var h=x(l);return new d(h.r,h.g,h.b,h.a)};r.exports=f},90664:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};r.exports=T},13699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(28915),x=function(h,a,u,v,o,c,p,g){p===void 0&&(p=100),g===void 0&&(g=0);var m=g/p;return{r:d(h,v,m),g:d(a,o,m),b:d(u,c,m)}},f=function(h,a,u,v){return u===void 0&&(u=100),v===void 0&&(v=0),x(h.r,h.g,h.b,a.r,a.g,a.b,u,v)},l=function(h,a,u,v,o,c){return o===void 0&&(o=100),c===void 0&&(c=0),x(h.r,h.g,h.b,a,u,v,o,c)};r.exports={RGBWithRGB:x,ColorWithRGB:l,ColorWithColor:f}},68957:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987),x=function(f){return new d(f.r,f.g,f.b,f.a)};r.exports=x},87388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987),x=function(f){var l=new d,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(h){var a=parseInt(h[1],10),u=parseInt(h[2],10),v=parseInt(h[3],10),o=h[4]!==void 0?parseFloat(h[4]):1;l.setTo(a,u,v,o*255)}return l};r.exports=x},87837:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){f===void 0&&(f={h:0,s:0,v:0}),s/=255,d/=255,x/=255;var l=Math.min(s,d,x),h=Math.max(s,d,x),a=h-l,u=0,v=h===0?0:a/h,o=h;return h!==l&&(h===s?u=(d-x)/a+(d<x?6:0):h===d?u=(x-s)/a+2:h===x&&(u=(s-d)/a+4),u/=6),f.hasOwnProperty("_h")?(f._h=u,f._s=v,f._v=o):(f.h=u,f.s=v,f.v=o),f};r.exports=T},75723:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62957),x=function(f,l,h,a,u){return a===void 0&&(a=255),u===void 0&&(u="#"),u==="#"?"#"+((1<<24)+(f<<16)+(l<<8)+h).toString(16).slice(1,7):"0x"+d(a)+d(f)+d(l)+d(h)};r.exports=x},85386:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30976),x=s(40987),f=function(l,h){return l===void 0&&(l=0),h===void 0&&(h=255),new x(d(l,h),d(l,h),d(l,h))};r.exports=f},80333:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70238),x=s(30100),f=s(68957),l=s(87388),h=function(a){var u=typeof a;switch(u){case"string":return a.substr(0,3).toLowerCase()==="rgb"?l(a):d(a);case"number":return x(a);case"object":return f(a)}};r.exports=h},3956:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40987);d.ColorSpectrum=s(92728),d.ColorToRGBA=s(91588),d.ComponentToHex=s(62957),d.GetColor=s(37589),d.GetColor32=s(1e3),d.HexStringToColor=s(70238),d.HSLToColor=s(62183),d.HSVColorWheel=s(27939),d.HSVToRGB=s(7537),d.HueToComponent=s(89528),d.IntegerToColor=s(30100),d.IntegerToRGB=s(90664),d.Interpolate=s(13699),d.ObjectToColor=s(68957),d.RandomRGB=s(85386),d.RGBStringToColor=s(87388),d.RGBToHSV=s(87837),d.RGBToString=s(75723),d.ValueToColor=s(80333),r.exports=d},27460:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(39429),f=new d({initialize:function(h,a,u,v,o,c){a||(a=h.sys.make.image({x:u,y:v,key:o,frame:c,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,h,a){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,a)},postRenderWebGL:function(l,h,a){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(l,h,a,u,v){return new f(this.scene,l,h,a,u,v)}),r.exports=f},80661:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,l,h){var a=f.gl;f.flush(),f.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:h}),this.applyStencil(f,h,!0),f.maskCount++},applyStencil:function(f,l,h){var a=f.gl,u=this.geometryMask,v=f.maskCount,o=255;a.colorMask(!1,!1,!1,!1),h?(a.stencilFunc(a.EQUAL,v,o),a.stencilOp(a.KEEP,a.KEEP,a.INCR),v++):(a.stencilFunc(a.EQUAL,v+1,o),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=v,u.renderWebGL(f,u,l),f.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,v,o):a.stencilFunc(a.EQUAL,v,o)},postRenderWebGL:function(f){var l=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var h=f.currentMask;if(f.maskStack.length===0)h.mask=null,l.disable(l.STENCIL_TEST);else{var a=f.maskStack[f.maskStack.length-1];a.mask.applyStencil(f,a.camera,!1),f.currentCameraMask.mask!==a.mask?(h.mask=a.mask,h.camera=a.camera):h.mask=null}},preRenderCanvas:function(f,l,h){var a=this.geometryMask;f.currentContext.save(),a.renderCanvas(f,a,h,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=x},69781:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),u===void 0&&(u=null),this.key=l,this.fragmentSrc=h,this.vertexSrc=a,this.uniforms=u}});r.exports=x},40366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x;if(d)typeof d=="string"?x=document.getElementById(d):typeof d=="object"&&d.nodeType===1&&(x=d);else if(s.parentElement||d===null)return s;return x||(x=document.body),x.appendChild(s),s};r.exports=T},83719:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40366),x=function(f){var l=f.config;if(!(!l.parent||!l.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=h,d(h,l.parent)}};r.exports=x},57264:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25892),x=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),f()};document.body?d.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};r.exports=x},57811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!s)return window.innerHeight;var d=Math.abs(window.orientation),x={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),x.w=d===90?f.offsetHeight:window.innerWidth,x.h=d===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?x.h:x.w};r.exports=T},45818:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13560),x=function(f,l){var h=window.screen,a=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return d.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return d.ORIENTATION.LANDSCAPE}else return l>f?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE};r.exports=x},74403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d;return s!==""&&(typeof s=="string"?d=document.getElementById(s):s&&s.nodeType===1&&(d=s)),d||(d=document.body),d};r.exports=T},56836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d="";try{if(window.DOMParser){var x=new DOMParser;d=x.parseFromString(s,"text/xml")}else d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(s)}catch{d=null}return!d||!d.documentElement||d.getElementsByTagName("parsererror").length?null:d};r.exports=T},35846:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){s.parentNode&&s.parentNode.removeChild(s)};r.exports=T},43092:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(29747),f=new d({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function a(u){h.callback(u),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){h.isRunning&&(h.timeOutID=window.setTimeout(a,h.delay)),h.callback(window.performance.now())}},start:function(l,h,a){this.isRunning||(this.callback=l,this.isSetTimeOut=h,this.delay=a,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});r.exports=f},84902:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};r.exports=d},47565:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(37277),l=new d({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",l,"events"),r.exports=l},93055:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:s(47565)}},20122:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u){u===void 0&&(u=1),x.call(this,f.BARREL,a),this.amount=u}});r.exports=l},32251:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g){v===void 0&&(v=1),o===void 0&&(o=1),c===void 0&&(c=1),p===void 0&&(p=1),g===void 0&&(g=4),x.call(this,f.BLOOM,a),this.steps=g,this.offsetX=v,this.offsetY=o,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=l},9047:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g){u===void 0&&(u=0),v===void 0&&(v=2),o===void 0&&(o=2),c===void 0&&(c=1),g===void 0&&(g=4),x.call(this,f.BLUR,a),this.quality=u,this.x=v,this.y=o,this.steps=g,this.strength=c,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=l},27885:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g,m){u===void 0&&(u=.5),v===void 0&&(v=1),o===void 0&&(o=.2),c===void 0&&(c=!1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=1),x.call(this,f.BOKEH,a),this.radius=u,this.amount=v,this.contrast=o,this.isTiltShift=c,this.strength=m,this.blurX=p,this.blurY=g}});r.exports=l},12578:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p){u===void 0&&(u=8),c===void 0&&(c=1),p===void 0&&(p=.005),x.call(this,f.CIRCLE,a),this.scale=c,this.feather=p,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),o!=null&&(this.backgroundColor=o)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor2;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});r.exports=l},15802:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(89422),f=s(14811),l=new d({Extends:x,initialize:function(a){x.call(this),this.type=f.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=l},72898:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h){this.type=l,this.gameObject=h,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=x},44553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o){u===void 0&&(u="__WHITE"),v===void 0&&(v=.005),o===void 0&&(o=.005),x.call(this,f.DISPLACEMENT,a),this.x=v,this.y=o,this.glTexture,this.setTexture(u)},setTexture:function(h){var a=this.gameObject.scene.sys.textures.getFrame(h);return a&&(this.glTexture=a.glTexture),this}});r.exports=l},68531:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c){v===void 0&&(v=4),o===void 0&&(o=0),c===void 0&&(c=!1),x.call(this,f.GLOW,a),this.outerStrength=v,this.innerStrength=o,this.knockout=c,this.glcolor=[1,1,1,1],u!==void 0&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=l},37102:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g,m,C){o===void 0&&(o=.2),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=1),C===void 0&&(C=0),x.call(this,f.GRADIENT,a),this.alpha=o,this.size=C,this.fromX=c,this.fromY=p,this.toX=g,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],u!=null&&(this.color1=u),v!=null&&(this.color2=v)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor1;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor2;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}}});r.exports=l},86886:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u){u===void 0&&(u=1),x.call(this,f.PIXELATE,a),this.amount=u}});r.exports=l},92322:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g,m){u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=.1),c===void 0&&(c=1),g===void 0&&(g=6),m===void 0&&(m=1),x.call(this,f.SHADOW,a),this.x=u,this.y=v,this.decay=o,this.power=c,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=m,p!==void 0&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=l},39563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c){u===void 0&&(u=.5),v===void 0&&(v=.5),o===void 0&&(o=3),c===void 0&&(c=!1),x.call(this,f.SHINE,a),this.speed=u,this.lineWidth=v,this.gradient=o,this.reveal=c}});r.exports=l},56448:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c){u===void 0&&(u=.5),v===void 0&&(v=.5),o===void 0&&(o=.5),c===void 0&&(c=.5),x.call(this,f.VIGNETTE,a),this.x=u,this.y=v,this.radius=o,this.strength=c}});r.exports=l},38433:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72898),f=s(14811),l=new d({Extends:x,initialize:function(a,u,v,o,c){u===void 0&&(u=.1),v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=!1),x.call(this,f.WIPE,a),this.progress=0,this.wipeWidth=u,this.direction=v,this.axis=o,this.reveal=c}});r.exports=l},14811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=T},66064:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=s(14811),f={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};f=d(!1,f,x),r.exports=f},25305:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(23568),f=function(l,h,a){h.x=x(a,"x",0),h.y=x(a,"y",0),h.depth=x(a,"depth",0),h.flipX=x(a,"flipX",!1),h.flipY=x(a,"flipY",!1);var u=x(a,"scale",null);typeof u=="number"?h.setScale(u):u!==null&&(h.scaleX=x(u,"x",1),h.scaleY=x(u,"y",1));var v=x(a,"scrollFactor",null);typeof v=="number"?h.setScrollFactor(v):v!==null&&(h.scrollFactorX=x(v,"x",1),h.scrollFactorY=x(v,"y",1)),h.rotation=x(a,"rotation",0);var o=x(a,"angle",null);o!==null&&(h.angle=o),h.alpha=x(a,"alpha",1);var c=x(a,"origin",null);if(typeof c=="number")h.setOrigin(c);else if(c!==null){var p=x(c,"x",.5),g=x(c,"y",.5);h.setOrigin(p,g)}h.blendMode=x(a,"blendMode",d.NORMAL),h.visible=x(a,"visible",!0);var m=x(a,"add",!0);return m&&l.sys.displayList.add(h),h.preUpdate&&l.sys.updateList.add(h),h};r.exports=f},13059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23568),x=function(f,l){var h=d(l,"anims",null);if(h===null)return f;if(typeof h=="string")f.anims.play(h);else if(typeof h=="object"){var a=f.anims,u=d(h,"key",void 0);if(u){var v=d(h,"startFrame",void 0),o=d(h,"delay",0),c=d(h,"repeat",0),p=d(h,"repeatDelay",0),g=d(h,"yoyo",!1),m=d(h,"play",!1),C=d(h,"delayedPlay",0),E={key:u,delay:o,repeat:c,repeatDelay:p,yoyo:g,startFrame:v};m?a.play(E):C>0?a.playAfterDelay(E,C):a.load(E)}}return f};r.exports=x},8050:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(73162),f=s(37277),l=s(51708),h=s(44594),a=s(19186),u=new d({Extends:x,initialize:function(o){x.call(this,o),this.sortChildrenFlag=!1,this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(l.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(l.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,o){return v._depth-o._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",u,"displayList"),r.exports=u},95643:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(53774),f=s(45893),l=s(50792),h=s(51708),a=s(44594),u=new d({Extends:l,initialize:function(o,c){l.call(this),this.scene=o,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),o.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(v,o){return this.data||(this.data=new f(this)),this.data.set(v,o),this},incData:function(v,o){return this.data||(this.data=new f(this)),this.data.inc(v,o),this},toggleData:function(v){return this.data||(this.data=new f(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new f(this)),this.data.get(v)},setInteractive:function(v,o,c){return this.scene.sys.input.enable(this,v,o,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(v){var o=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!o||u.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,o=this.parentContainer,c=[];o&&(c.unshift(o.getIndex(v)),v=o,o.parentContainer);)o=o.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(v)):c.unshift(this.scene.sys.displayList.getIndex(v)),c},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),v.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,r.exports=u},44603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(37277),f=s(44594),l=new d({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,a){l.prototype.hasOwnProperty(h)||(l.prototype[h]=a)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},x.register("GameObjectCreator",l,"make"),r.exports=l},39429:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(37277),f=s(44594),l=new d({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,a){l.prototype.hasOwnProperty(h)||(l.prototype[h]=a)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},x.register("GameObjectFactory",l,"add"),r.exports=l},91296:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61340),x=new d,f=new d,l=new d,h={camera:x,sprite:f,calc:l},a=function(u,v,o){var c=x,p=f,g=l;return p.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),c.copyFrom(v.matrix),o?(c.multiplyWithOffset(o,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),p.e=u.x,p.f=u.y):(p.e-=v.scrollX*u.scrollFactorX,p.f-=v.scrollY*u.scrollFactorY),c.multiply(p,g),h};r.exports=a},45027:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(25774),f=s(37277),l=s(44594),h=new d({Extends:x,initialize:function(u){x.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(l.BOOT,this.boot,this),u.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(l.PRE_UPDATE,this.update,this),a.on(l.UPDATE,this.sceneUpdate,this),a.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,u){for(var v=this._active,o=v.length,c=0;c<o;c++){var p=v[c];p.active&&p.preUpdate.call(p,a,u)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(l.PRE_UPDATE,this.update,this),u.off(l.UPDATE,this.sceneUpdate,this),u.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",h,"updateList"),r.exports=h},3217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h,a,u,v,o,c,p,g,m,C){var E=x.x-d.displayOriginX+l,M=x.y-d.displayOriginY+h,P=E+x.w,w=M+x.h,R=a.getXRound(E,M,u),A=a.getYRound(E,M,u),L=a.getXRound(E,w,u),F=a.getYRound(E,w,u),O=a.getXRound(P,w,u),D=a.getYRound(P,w,u),B=a.getXRound(P,M,u),b=a.getYRound(P,M,u);s.batchQuad(d,R,A,L,F,O,D,B,b,f.u0,f.v0,f.u1,f.v1,v,o,c,p,g,m,C)};r.exports=T},53048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){if(x===void 0&&(x=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var l=s.text,h=l.length,a=s.maxWidth,u=s.wordWrapCharCode,v=Number.MAX_VALUE,o=Number.MAX_VALUE,c=0,p=0,g=s.fontData.chars,m=s.fontData.lineHeight,C=s.letterSpacing,E=s.lineSpacing,M=0,P=0,w=0,R=null,A=s._align,L=0,F=0,O=s.fontSize/s.fontData.size,D=O*s.scaleX,B=O*s.scaleY,b=null,G=0,V=[],W=Number.MAX_VALUE,H=0,z=0,U=0,I,N=[],k=[],X=null;if(a>0){for(I=0;I<h;I++){if(w=l.charCodeAt(I),w===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B,cr:!0}),X=null),M=0,P+=m+E,b=null;continue}if(R=g[w],!!R){if(b!==null)var Y=R.kerning[G];w===u?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B,cr:!1}),X=null):(X===null&&(X={word:"",i:I,x:M,y:P,w:0,h:m,cr:!1}),X.word=X.word.concat(l[I]),X.w+=R.xOffset+R.xAdvance+(Y!==void 0?Y:0)),M+=R.xAdvance+C,b=R,G=w}}X!==null&&N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B,cr:!1}),M=0,P=0,b=null,G=0;var $,K=0,Z=[];for(I=0;I<N.length;I++){var J=N[I],Q=J.x,j=J.x+J.w;if($){var _=Q-($.x+$.w);K=Q-(_+$.w),$=null}var q=Q-K,it=j-K;q>a||it>a?(Z.push(J.i-1),J.cr?(Z.push(J.i+J.word.length),K=0,$=null):$=J):J.cr&&(Z.push(J.i+J.word.length),K=0,$=null)}var ot=function(bt,ge,Pe){return bt.substr(0,ge)+Pe+bt.substr(ge+1)};for(I=Z.length-1;I>=0;I--)l=ot(l,Z[I],`
`);f.wrappedText=l,h=l.length,N=[],X=null}var ut=0;for(I=0;I<h;I++){if(w=l.charCodeAt(I),w===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B}),X=null),M=0,P+=m+E,b=null,V[z]=U,U>H&&(H=U),U<W&&(W=U),z++,U=0;continue}if(R=g[w],!!R){if(L=M,F=P,b!==null){var ht=R.kerning[G];L+=ht!==void 0?ht:0}v>L&&(v=L),o>F&&(o=F);var tt=L+R.xAdvance,at=F+m;c<tt&&(c=tt),p<at&&(p=at);var rt=R.xOffset+R.xAdvance+(ht!==void 0?ht:0);w===u?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B}),X=null):(X===null&&(X={word:"",i:ut,x:M,y:P,w:0,h:m}),X.word=X.word.concat(l[I]),X.w+=rt),k.push({i:ut,idx:I,char:l[I],code:w,x:(R.xOffset+L)*O,y:(R.yOffset+P)*O,w:R.width*O,h:R.height*O,t:P*O,r:tt*O,b:m*O,line:z,glyph:R}),M+=R.xAdvance+C+(ht!==void 0?ht:0),b=R,G=w,U=tt*O,ut++}}if(X!==null&&N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*B,w:X.w*D,h:X.h*B}),V[z]=U,U>H&&(H=U),U<W&&(W=U),A>0)for(var gt=0;gt<k.length;gt++){var mt=k[gt];if(A===1){var kt=(H-V[mt.line])/2;mt.x+=kt,mt.r+=kt}else if(A===2){var Gt=H-V[mt.line];mt.x+=Gt,mt.r+=Gt}}var Et=f.local,Ct=f.global,ee=f.lines;return Et.x=v*O,Et.y=o*O,Et.width=c*O,Et.height=p*O,Ct.x=s.x-s._displayOriginX+v*D,Ct.y=s.y-s._displayOriginY+o*B,Ct.width=c*D,Ct.height=p*B,ee.shortest=W,ee.longest=H,ee.lengths=V,d&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),Ct.x=Math.ceil(Ct.x),Ct.y=Math.ceil(Ct.y),Ct.width=Math.ceil(Ct.width),Ct.height=Math.ceil(Ct.height),ee.shortest=Math.ceil(W),ee.longest=Math.ceil(H)),x&&(s._displayOriginX=s.originX*Et.width,s._displayOriginY=s.originY*Et.height,Ct.x=s.x-s._displayOriginX*s.scaleX,Ct.y=s.y-s._displayOriginY*s.scaleY,d&&(Ct.x=Math.ceil(Ct.x),Ct.y=Math.ceil(Ct.y))),f.words=N,f.characters=k,f.lines.height=m,f.scale=O,f.scaleX=s.scaleX,f.scaleY=s.scaleY,f};r.exports=T},61327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(21859),x=function(f,l,h,a,u,v,o){var c=f.sys.textures.get(h),p=c.get(a),g=f.sys.cache.xml.get(u);if(p&&g){var m=d(g,p,v,o,c);return f.sys.cache.bitmapFont.add(l,{data:m,texture:h,frame:a,fromAtlas:!0}),!0}else return!1};r.exports=x},6925:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35154),x=function(f,l){var h=l.width,a=l.height,u=Math.floor(h/2),v=Math.floor(a/2),o=d(l,"chars","");if(o!==""){var c=d(l,"image",""),p=f.sys.textures.getFrame(c),g=p.cutX,m=p.cutY,C=p.source.width,E=p.source.height,M=d(l,"offset.x",0),P=d(l,"offset.y",0),w=d(l,"spacing.x",0),R=d(l,"spacing.y",0),A=d(l,"lineSpacing",0),L=d(l,"charsPerRow",null);L===null&&(L=C/h,L>o.length&&(L=o.length));for(var F=M,O=P,D={retroFont:!0,font:c,size:h,lineHeight:a+A,chars:{}},B=0,b=0;b<o.length;b++){var G=o.charCodeAt(b),V=(g+F)/C,W=(m+O)/E,H=(g+F+h)/C,z=(m+O+a)/E;D.chars[G]={x:F,y:O,width:h,height:a,centerX:u,centerY:v,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:V,v0:W,u1:H,v1:z},B++,B===L?(B=0,F=M,O+=a+R):F+=h+w}var U={data:D,frame:null,texture:c};return U}};r.exports=x},21859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,x){return parseInt(d.getAttribute(x),10)}var s=function(d,x,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0);var a=x.cutX,u=x.cutY,v=x.source.width,o=x.source.height,c=x.sourceIndex,p={},g=d.getElementsByTagName("info")[0],m=d.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=T(g,"size"),p.lineHeight=T(m,"lineHeight")+l,p.chars={};var C=d.getElementsByTagName("char"),E=x!==void 0&&x.trimmed;if(E)var M=x.height,P=x.width;for(var w=0;w<C.length;w++){var R=C[w],A=T(R,"id"),L=String.fromCharCode(A),F=T(R,"x"),O=T(R,"y"),D=T(R,"width"),B=T(R,"height");E&&(F<P&&(P=F),O<M&&(M=O)),E&&M!==0&&P!==0&&(F-=x.x,O-=x.y);var b=(a+F)/v,G=(u+O)/o,V=(a+F+D)/v,W=(u+O+B)/o;if(p.chars[A]={x:F,y:O,width:D,height:B,centerX:Math.floor(D/2),centerY:Math.floor(B/2),xOffset:T(R,"xoffset"),yOffset:T(R,"yoffset"),xAdvance:T(R,"xadvance")+f,data:{},kerning:{},u0:b,v0:G,u1:V,v1:W},h&&D!==0&&B!==0){var H=h.add(L,c,F,O,D,B);H&&H.setUVs(D,B,b,G,V,W)}}var z=d.getElementsByTagName("kerning");for(w=0;w<z.length;w++){var U=z[w],I=T(U,"first"),N=T(U,"second"),k=T(U,"amount");p.chars[N].kerning[I]=k}return p};r.exports=s},196:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87662),x=s(79291),f={Parse:s(6925)};f=x(!1,f,d),r.exports=f},87662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=T},2638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22186),x=s(83419),f=s(12310),l=new x({Extends:d,Mixins:[f],initialize:function(a,u,v,o,c,p,g){d.call(this,a,u,v,o,c,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,a){return this.cropWidth=h,this.cropHeight=a,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});r.exports=l},86741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20926),x=function(f,l,h,a){var u=l._text,v=u.length,o=f.currentContext;if(!(v===0||!d(f,o,l,h,a))){h.addToRenderList(l);var c=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.displayCallback,g=l.callbackData,m=l.fontData.chars,C=l.fontData.lineHeight,E=l._letterSpacing,M=0,P=0,w=0,R=null,A=0,L=0,F=0,O=0,D=0,B=0,b=null,G=0,V=l.frame.source.image,W=c.cutX,H=c.cutY,z=0,U=0,I=l._fontSize/l.fontData.size,N=l._align,k=0,X=0;l.getTextBounds(!1);var Y=l._bounds.lines;N===1?X=(Y.longest-Y.lengths[0])/2:N===2&&(X=Y.longest-Y.lengths[0]),o.translate(-l.displayOriginX,-l.displayOriginY);var $=h.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(o.beginPath(),o.rect(0,0,l.cropWidth,l.cropHeight),o.clip());for(var K=0;K<v;K++){if(U=I,z=0,w=u.charCodeAt(K),w===10){k++,N===1?X=(Y.longest-Y.lengths[k])/2:N===2&&(X=Y.longest-Y.lengths[k]),M=0,P+=C,b=null;continue}if(R=m[w],!!R){if(A=W+R.x,L=H+R.y,F=R.width,O=R.height,D=R.xOffset+M-l.scrollX,B=R.yOffset+P-l.scrollY,b!==null){var Z=R.kerning[G];D+=Z!==void 0?Z:0}if(p){g.index=K,g.charCode=w,g.x=D,g.y=B,g.scale=U,g.rotation=z,g.data=R.data;var J=p(g);D=J.x,B=J.y,U=J.scale,z=J.rotation}D*=U,B*=U,D+=X,M+=R.xAdvance+E+(Z!==void 0?Z:0),b=R,G=w,!(F===0||O===0||w===32)&&($&&(D=Math.round(D),B=Math.round(B)),o.save(),o.translate(D,B),o.rotate(z),o.scale(U,U),o.drawImage(V,A,L,F,O,0,0,F,O),o.restore())}}o.restore()}};r.exports=x},11164:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2638),x=s(25305),f=s(44603),l=s(23568);f.register("dynamicBitmapText",function(h,a){h===void 0&&(h={});var u=l(h,"font",""),v=l(h,"text",""),o=l(h,"size",!1),c=new d(this.scene,0,0,u,v,o);return a!==void 0&&(h.add=a),x(this.scene,c,h),c})},72566:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2638),x=s(39429);x.register("dynamicBitmapText",function(f,l,h,a,u){return this.displayList.add(new d(this.scene,f,l,h,a,u))})},12310:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(73482),f=s(86741),r.exports={renderWebGL:x,renderCanvas:f}},73482:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(61340),f=s(70554),l=new x,h=function(a,u,v,o){var c=u.text,p=c.length;if(p!==0){v.addToRenderList(u);var g=a.pipelines.set(u.pipeline,u),m=d(u,v,o);a.pipelines.preBatch(u);var C=m.sprite,E=m.calc,M=l,P=u.cropWidth>0||u.cropHeight>0;P&&(g.flush(),a.pushScissor(E.tx,E.ty,u.cropWidth*E.scaleX,u.cropHeight*E.scaleY));var w=u.frame,R=w.glTexture,A=u.tintFill,L=f.getTintAppendFloatAlpha(u.tintTopLeft,v.alpha*u._alphaTL),F=f.getTintAppendFloatAlpha(u.tintTopRight,v.alpha*u._alphaTR),O=f.getTintAppendFloatAlpha(u.tintBottomLeft,v.alpha*u._alphaBL),D=f.getTintAppendFloatAlpha(u.tintBottomRight,v.alpha*u._alphaBR),B=g.setGameObject(u),b=0,G=0,V=0,W=0,H=u.letterSpacing,z,U=0,I=0,N,k=u.scrollX,X=u.scrollY,Y=u.fontData,$=Y.chars,K=Y.lineHeight,Z=u.fontSize/Y.size,J=0,Q=u._align,j=0,_=0,q=u.getTextBounds(!1);u.maxWidth>0&&(c=q.wrappedText,p=c.length);var it=u._bounds.lines;Q===1?_=(it.longest-it.lengths[0])/2:Q===2&&(_=it.longest-it.lengths[0]);for(var ot=v.roundPixels,ut=u.displayCallback,ht=u.callbackData,tt=0;tt<p;tt++){if(V=c.charCodeAt(tt),V===10){j++,Q===1?_=(it.longest-it.lengths[j])/2:Q===2&&(_=it.longest-it.lengths[j]),b=0,G+=K,N=null;continue}if(z=$[V],!!z){U=z.width,I=z.height;var at=z.xOffset+b-k,rt=z.yOffset+G-X;if(N!==null){var gt=z.kerning[W];at+=gt!==void 0?gt:0}if(b+=z.xAdvance+H,N=z,W=V,!(U===0||I===0||V===32)){if(Z=u.fontSize/u.fontData.size,J=0,ut){ht.color=0,ht.tint.topLeft=L,ht.tint.topRight=F,ht.tint.bottomLeft=O,ht.tint.bottomRight=D,ht.index=tt,ht.charCode=V,ht.x=at,ht.y=rt,ht.scale=Z,ht.rotation=J,ht.data=z.data;var mt=ut(ht);at=mt.x,rt=mt.y,Z=mt.scale,J=mt.rotation,mt.color?(L=mt.color,F=mt.color,O=mt.color,D=mt.color):(L=mt.tint.topLeft,F=mt.tint.topRight,O=mt.tint.bottomLeft,D=mt.tint.bottomRight),L=f.getTintAppendFloatAlpha(L,v.alpha*u._alphaTL),F=f.getTintAppendFloatAlpha(F,v.alpha*u._alphaTR),O=f.getTintAppendFloatAlpha(O,v.alpha*u._alphaBL),D=f.getTintAppendFloatAlpha(D,v.alpha*u._alphaBR)}at*=Z,rt*=Z,at-=u.displayOriginX,rt-=u.displayOriginY,at+=_,M.applyITRS(at,rt,J,Z,Z),E.multiply(M,C);var kt=z.u0,Gt=z.v0,Et=z.u1,Ct=z.v1,ee=U,bt=I,ge=C.e,Pe=C.f,ri=bt*C.c+C.e,Qn=bt*C.d+C.f,jn=ee*C.a+bt*C.c+C.e,qn=ee*C.b+bt*C.d+C.f,_n=ee*C.a+C.e,tr=ee*C.b+C.f;ot&&(ge=Math.round(ge),Pe=Math.round(Pe),ri=Math.round(ri),Qn=Math.round(Qn),jn=Math.round(jn),qn=Math.round(qn),_n=Math.round(_n),tr=Math.round(tr)),g.shouldFlush(6)&&(g.flush(),B=g.setGameObject(u)),g.batchQuad(u,ge,Pe,ri,Qn,jn,qn,_n,tr,kt,Gt,Et,Ct,L,F,O,D,A,R,B)}}}P&&(g.flush(),a.popScissor()),a.pipelines.postBatch(u)}};r.exports=h},22186:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(45319),f=s(31401),l=s(95643),h=s(53048),a=s(61327),u=s(21859),v=s(87841),o=s(18658),c=new d({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,o],initialize:function(g,m,C,E,M,P,w){M===void 0&&(M=""),w===void 0&&(w=0),l.call(this,g,"BitmapText"),this.font=E;var R=this.scene.sys.cache.bitmapFont.get(E);R||console.warn("Invalid BitmapText key: "+E),this.fontData=R.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(m,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(M)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,m,C){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=m,this.dropShadowAlpha=C,this},setCharacterTint:function(p,g,m,C,E,M,P){p===void 0&&(p=0),g===void 0&&(g=1),m===void 0&&(m=!1),C===void 0&&(C=-1),E===void 0&&(E=C,M=C,P=C);var w=this.text.length;g===-1&&(g=w),p<0&&(p=w+p),p=x(p,0,w-1);for(var R=x(p+g,p,w),A=this.charColors,L=p;L<R;L++){var F=A[L];if(C===-1)A[L]=null;else{var O=m?1:0;F?(F.tintEffect=O,F.tintTL=C,F.tintTR=E,F.tintBL=M,F.tintBR=P):A[L]={tintEffect:O,tintTL:C,tintTR:E,tintBL:M,tintBR:P}}}return this},setWordTint:function(p,g,m,C,E,M,P){g===void 0&&(g=1);for(var w=this.getTextBounds(),R=w.words,A=typeof p=="number",L=0,F=0;F<R.length;F++){var O=R[F];if((A&&F===p||!A&&O.word===p)&&(this.setCharacterTint(O.i,O.word.length,m,C,E,M,P),L++,L===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(h(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,m){for(var C=this.getLocalPoint(p,g,null,m),E=this.getTextBounds(),M=E.characters,P=new v,w=0;w<M.length;w++){var R=M[w];if(P.setTo(R.x,R.t,R.r-R.x,R.b),P.contains(C.x,C.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,m){g===void 0&&(g=this._fontSize),m===void 0&&(m=this._align);var C=this.scene.sys.cache.bitmapFont.get(p);return C&&(this.font=p,this.fontData=C.data,this._fontSize=g,this._align=m,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=f.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=a,c.ParseXMLBitmapFont=u,r.exports=c},37289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20926),x=function(f,l,h,a){var u=l._text,v=u.length,o=f.currentContext;if(!(v===0||!d(f,o,l,h,a))){h.addToRenderList(l);var c=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.fontData.chars,g=l.fontData.lineHeight,m=l._letterSpacing,C=l._lineSpacing,E=0,M=0,P=0,w=null,R=0,A=0,L=0,F=0,O=0,D=0,B=null,b=0,G=c.source.image,V=c.cutX,W=c.cutY,H=l._fontSize/l.fontData.size,z=l._align,U=0,I=0,N=l.getTextBounds(!1);l.maxWidth>0&&(u=N.wrappedText,v=u.length);var k=l._bounds.lines;z===1?I=(k.longest-k.lengths[0])/2:z===2&&(I=k.longest-k.lengths[0]),o.translate(-l.displayOriginX,-l.displayOriginY);for(var X=h.roundPixels,Y=0;Y<v;Y++){if(P=u.charCodeAt(Y),P===10){U++,z===1?I=(k.longest-k.lengths[U])/2:z===2&&(I=k.longest-k.lengths[U]),E=0,M+=g+C,B=null;continue}if(w=p[P],!!w){if(R=V+w.x,A=W+w.y,L=w.width,F=w.height,O=w.xOffset+E,D=w.yOffset+M,B!==null){var $=w.kerning[b];O+=$!==void 0?$:0}O*=H,D*=H,O+=I,E+=w.xAdvance+m+($!==void 0?$:0),B=w,b=P,!(L===0||F===0||P===32)&&(X&&(O=Math.round(O),D=Math.round(D)),o.save(),o.translate(O,D),o.scale(H,H),o.drawImage(G,R,A,L,F,0,0,L,F),o.restore())}}o.restore()}};r.exports=x},57336:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22186),x=s(25305),f=s(44603),l=s(23568),h=s(35154);f.register("bitmapText",function(a,u){a===void 0&&(a={});var v=h(a,"font",""),o=l(a,"text",""),c=l(a,"size",!1),p=h(a,"align",0),g=new d(this.scene,0,0,v,o,c,p);return u!==void 0&&(a.add=u),x(this.scene,g,a),g})},34914:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22186),x=s(39429);x.register("bitmapText",function(f,l,h,a,u,v){return this.displayList.add(new d(this.scene,f,l,h,a,u,v))})},18658:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(33590),f=s(37289),r.exports={renderWebGL:x,renderCanvas:f}},33590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(3217),x=s(91296),f=s(70554),l=function(h,a,u,v){var o=a._text,c=o.length;if(c!==0){u.addToRenderList(a);var p=h.pipelines.set(a.pipeline,a),g=x(a,u,v).calc;h.pipelines.preBatch(a);var m=u.roundPixels,C=u.alpha,E=a.charColors,M=a.tintFill,P=f.getTintAppendFloatAlpha,w=P(a.tintTopLeft,C*a._alphaTL),R=P(a.tintTopRight,C*a._alphaTR),A=P(a.tintBottomLeft,C*a._alphaBL),L=P(a.tintBottomRight,C*a._alphaBR),F=a.frame.glTexture,O=p.setGameObject(a),D=a.getTextBounds(!1),B,b,G,V=D.characters,W=a.dropShadowX,H=a.dropShadowY,z=W!==0||H!==0;if(z){var U=a.dropShadowColor,I=a.dropShadowAlpha,N=P(U,C*I*a._alphaTL),k=P(U,C*I*a._alphaTR),X=P(U,C*I*a._alphaBL),Y=P(U,C*I*a._alphaBR);for(B=0;B<V.length;B++)b=V[B],G=b.glyph,!(b.code===32||G.width===0||G.height===0)&&d(p,a,b,G,W,H,g,m,N,k,X,Y,1,F,O)}for(B=0;B<V.length;B++)if(b=V[B],G=b.glyph,!(b.code===32||G.width===0||G.height===0))if(p.shouldFlush(6)&&(p.flush(),O=p.setGameObject(a)),E[b.i]){var $=E[b.i],K=$.tintEffect,Z=P($.tintTL,C*a._alphaTL),J=P($.tintTR,C*a._alphaTR),Q=P($.tintBL,C*a._alphaBL),j=P($.tintBR,C*a._alphaBR);d(p,a,b,G,0,0,g,m,Z,J,Q,j,K,F,O)}else d(p,a,b,G,0,0,g,m,w,R,A,L,M,F,O);h.pipelines.postBatch(a)}};r.exports=l},6107:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(48011),x=s(46590),f=s(83419),l=s(31401),h=s(4327),a=s(95643),u=s(73162),v=new f({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,d],initialize:function(c,p,g,m,C){a.call(this,c,"Blitter"),this.setTexture(m,C),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(o,c,p,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.children.length),p===void 0?p=this.frame:p instanceof h||(p=this.texture.get(p));var C=new x(this,o,c,p,g);return this.children.addAt(C,m,!1),this.dirty=!0,C},createFromCallback:function(o,c,p,g){for(var m=this.createMultiple(c,p,g),C=0;C<m.length;C++){var E=m[C];o.call(this,E,C)}return m},createMultiple:function(o,c,p){c===void 0&&(c=this.frame.name),p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);var g=[],m=this;return c.forEach(function(C){for(var E=0;E<o;E++)g.push(m.create(0,0,C,p))}),g},childCanRender:function(o){return o.visible&&o.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=v},72396:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=d.getRenderList();if(l.length!==0){var h=s.currentContext,a=x.alpha*d.alpha;if(a!==0){x.addToRenderList(d),h.globalCompositeOperation=s.blendModes[d.blendMode],h.imageSmoothingEnabled=!d.frame.source.scaleMode;var u=d.x-x.scrollX*d.scrollFactorX,v=d.y-x.scrollY*d.scrollFactorY;h.save(),f&&f.copyToContext(h);for(var o=x.roundPixels,c=0;c<l.length;c++){var p=l[c],g=p.flipX||p.flipY,m=p.frame,C=m.canvasData,E=m.x,M=m.y,P=1,w=1,R=p.alpha*a;R!==0&&(h.globalAlpha=R,g?(p.flipX&&(P=-1,E-=C.width),p.flipY&&(w=-1,M-=C.height),C.width>0&&C.height>0&&(h.save(),h.translate(p.x+u,p.y+v),h.scale(P,w),h.drawImage(m.source.image,C.x,C.y,C.width,C.height,E,M,C.width,C.height),h.restore())):(o&&(E=Math.round(E),M=Math.round(M)),C.width>0&&C.height>0&&h.drawImage(m.source.image,C.x,C.y,C.width,C.height,E+p.x+u,M+p.y+v,C.width,C.height)))}h.restore()}}};r.exports=T},9403:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6107),x=s(25305),f=s(44603),l=s(23568);f.register("blitter",function(h,a){h===void 0&&(h={});var u=l(h,"key",null),v=l(h,"frame",null),o=new d(this.scene,0,0,u,v);return a!==void 0&&(h.add=a),x(this.scene,o,h),o})},12709:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6107),x=s(39429);x.register("blitter",function(f,l,h,a){return this.displayList.add(new d(this.scene,f,l,h,a))})},48011:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(99485),f=s(72396),r.exports={renderWebGL:x,renderCanvas:f}},99485:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61340),x=s(70554),f=new d,l=function(h,a,u,v){var o=a.getRenderList(),c=u.alpha*a.alpha;if(!(o.length===0||c===0)){u.addToRenderList(a);var p=h.pipelines.set(this.pipeline,a),g=u.scrollX*a.scrollFactorX,m=u.scrollY*a.scrollFactorY,C=f.copyFrom(u.matrix);v&&(C.multiplyWithOffset(v,-g,-m),g=0,m=0);var E=a.x-g,M=a.y-m,P=-1,w=!1;h.pipelines.preBatch(a);for(var R=0;R<o.length;R++){var A=o[R],L=A.frame,F=A.alpha*c;if(F!==0){var O=L.width,D=L.height,B=E+A.x+L.x,b=M+A.y+L.y;A.flipX&&(O*=-1,B+=L.width),A.flipY&&(D*=-1,b+=L.height);var G=C.setQuad(B,b,B+O,b+D),V=x.getTintAppendFloatAlpha(A.tint,F);if(L.sourceIndex!==P){var W=p.setGameObject(a,L);P=L.sourceIndex}p.batchQuad(a,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],L.u0,L.v0,L.u1,L.v1,V,V,V,V,w,L.glTexture,W)&&(P=-1)}}h.pipelines.postBatch(a)}};r.exports=l},46590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(4327),f=new d({initialize:function(h,a,u,v,o){this.parent=h,this.x=a,this.y=u,this.frame=v,this.data={},this.tint=16777215,this._visible=o,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof x&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,h,a){return this.x=l,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(l,h){return this.x=l,this.y=h,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,h){return this.flipX=l,this.flipY=h,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});r.exports=f},16005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,h,a,u){return l===void 0&&(l=1),h===void 0?this.alpha=l:(this._alphaTL=d(l,0,1),this._alphaTR=d(h,0,1),this._alphaBL=d(a,0,1),this._alphaBR=d(u,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var h=d(l,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var h=d(l,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var h=d(l,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var h=d(l,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var h=d(l,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=x)}}};r.exports=f},88509:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var h=d(l,0,1);this._alpha=h,h===0?this.renderFlags&=~x:this.renderFlags|=x}}};r.exports=f},90065:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x={_blendMode:d.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=d[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};r.exports=x},94215:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,d){return this.width=s,this.height=d,this},setDisplaySize:function(s,d){return this.displayWidth=s,this.displayHeight=d,this}};r.exports=T},61683:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(s,d,x,f){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,d,x,f,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=T},89272:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:function(){return this._depth},set:function(s){this.displayList&&this.displayList.queueDepthSort(),this._depth=s}},setDepth:function(s){return s===void 0&&(s=0),this.depth=s,this}};r.exports=T},47059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(66064),f=s(19133),l=new d({initialize:function(a,u){this.gameObject=a,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,a=0;a<h.length;a++)h[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var a;if(this.isPost){var u=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(u)||(u=[u]),a=0;a<u.length;a++){var v=u[a];if(v.controller===h){this.gameObject.removePostPipeline(v),h.destroy();break}}}else{var o=this.list;for(a=0;a<o.length;a++)o[a]===h&&(f(o,a),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,a){if(this.isPost){var u=String(h.type);this.gameObject.setPostPipeline(u,a);var v=this.gameObject.getPostPipeline(u);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=h,h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,a,u,v,o,c){return this.add(new x.Glow(this.gameObject,h,a,u,v),{quality:o,distance:c})},addShadow:function(h,a,u,v,o,c,p){return this.add(new x.Shadow(this.gameObject,h,a,u,v,o,c,p))},addPixelate:function(h){return this.add(new x.Pixelate(this.gameObject,h))},addVignette:function(h,a,u,v){return this.add(new x.Vignette(this.gameObject,h,a,u,v))},addShine:function(h,a,u,v){return this.add(new x.Shine(this.gameObject,h,a,u,v))},addBlur:function(h,a,u,v,o,c){return this.add(new x.Blur(this.gameObject,h,a,u,v,o,c))},addGradient:function(h,a,u,v,o,c,p,g){return this.add(new x.Gradient(this.gameObject,h,a,u,v,o,c,p,g))},addBloom:function(h,a,u,v,o,c){return this.add(new x.Bloom(this.gameObject,h,a,u,v,o,c))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(h,a,u,v,o){return this.add(new x.Circle(this.gameObject,h,a,u,v,o))},addBarrel:function(h){return this.add(new x.Barrel(this.gameObject,h))},addDisplacement:function(h,a,u){return this.add(new x.Displacement(this.gameObject,h,a,u))},addWipe:function(h,a,u){return this.add(new x.Wipe(this.gameObject,h,a,u))},addReveal:function(h,a,u){return this.add(new x.Wipe(this.gameObject,h,a,u,!0))},addBokeh:function(h,a,u){return this.add(new x.Bokeh(this.gameObject,h,a,u))},addTiltShift:function(h,a,u,v,o,c){return this.add(new x.Bokeh(this.gameObject,h,a,u,!0,v,o,c))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=l},54434:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,d){return this.flipX=s,this.flipY=d,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=T},8004:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=s(11520),f=s(26099),l={prepareBoundsOutput:function(h,a){if(a===void 0&&(a=!1),this.rotation!==0&&x(h,this.x,this.y,this.rotation),a&&this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();u.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,a){return h===void 0&&(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getTopLeft:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopRight:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getLeftCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getRightCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getBottomLeft:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomRight:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBounds:function(h){h===void 0&&(h=new d);var a,u,v,o,c,p,g,m;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),C.transformPoint(h.x,h.y,h),a=h.x,u=h.y,this.getTopRight(h),C.transformPoint(h.x,h.y,h),v=h.x,o=h.y,this.getBottomLeft(h),C.transformPoint(h.x,h.y,h),c=h.x,p=h.y,this.getBottomRight(h),C.transformPoint(h.x,h.y,h),g=h.x,m=h.y}else this.getTopLeft(h),a=h.x,u=h.y,this.getTopRight(h),v=h.x,o=h.y,this.getBottomLeft(h),c=h.x,p=h.y,this.getBottomRight(h),g=h.x,m=h.y;return h.x=Math.min(a,v,c,g),h.y=Math.min(u,o,p,m),h.width=Math.max(a,v,c,g)-h.x,h.height=Math.max(u,o,p,m)-h.y,h}};r.exports=l},8573:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6858),x=s(80661),f={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,h,a,u,v){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new d(this.scene,l,h,a,u,v)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new x(this.scene,l)}};r.exports=f},27387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,d){return s===void 0&&(s=.5),d===void 0&&(d=s),this.originX=s,this.originY=d,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,d){return s===void 0&&(s=0),d===void 0&&(d=s),this.displayOriginX=s,this.displayOriginY=d,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=T},37640:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39506),x=s(57355),f=s(35154),l=s(86353),h=s(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(u,v){v===void 0&&(v=this.pathConfig);var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this.path=u,v&&this.startFollow(v),this},setRotateToPath:function(u,v){return v===void 0&&(v=0),this.rotateToPath=u,this.pathRotationOffset=v,this},isFollowing:function(){var u=this.pathTween;return u&&u.isPlaying()},startFollow:function(u,v){u===void 0&&(u={}),v===void 0&&(v=0);var o=this.pathTween;o&&o.isPlaying()&&o.stop(),typeof u=="number"&&(u={duration:u}),u.from=f(u,"from",0),u.to=f(u,"to",1);var c=x(u,"positionOnPath",!1);this.rotateToPath=x(u,"rotateToPath",!1),this.pathRotationOffset=f(u,"rotationOffset",0);var p=f(u,"startAt",v);if(p&&(u.onStart=function(m){var C=m.data[0];C.progress=p,C.elapsed=C.duration*p;var E=C.ease(C.progress);C.current=C.start+(C.end-C.start)*E,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+d(this.pathRotationOffset)}return this.pathConfig=u,this},pauseFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},resumeFollow:function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},stopFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},pathUpdate:function(){var u=this.pathTween;if(u&&u.data){var v=u.data[0],o=this.pathDelta,c=this.pathVector;if(o.copy(c).negate(),v.state===l.COMPLETE){this.path.getPoint(v.end,c),o.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(v.state!==l.PLAYING_FORWARD&&v.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),c),o.add(c),c.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(c.x,c.y);var m=this.x-p,C=this.y-g;if(m===0&&C===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,m)+d(this.pathRotationOffset))}}};r.exports=a},72699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var h=l.pipelines;if(h){f===void 0&&(f=h.default);var a=h.get(f);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(f,l,h){var a=this.scene.sys.renderer;if(!a)return this;var u=a.pipelines;if(u){var v=u.get(f);v&&(this.pipeline=v),l&&(this.pipelineData=h?d(l):l)}return this},setPipelineData:function(f,l){var h=this.pipelineData;return l===void 0?delete h[f]:h[f]=l,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};r.exports=x},17581:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62644),x=s(47059),f=s(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),h&&(this.preFX=new x(this,!1))},setPostPipeline:function(h,a,u){var v=this.scene.sys.renderer;if(!v)return this;var o=v.pipelines;if(o){Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++){var p=o.getPostPipeline(h[c],this,a);p&&this.postPipelines.push(p)}a&&(this.postPipelineData=u?d(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,a){var u=this.postPipelineData;return a===void 0?delete u[h]:u[h]=a,this},getPostPipeline:function(h){for(var a=typeof h=="string",u=this.postPipelines,v=[],o=0;o<u.length;o++){var c=u[o];(a&&c.name===h||!a&&c instanceof h)&&v.push(c)}return v.length===1?v[0]:v},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var a=this.postPipelines,u=0;u<a.length;u++)a[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var a=typeof h=="string",u=this.postPipelines,v=u.length-1;v>=0;v--){var o=u[v];(a&&o.name===h||!a&&o===h)&&(o.destroy(),f(u,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=l},80227:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,d){return d===void 0&&(d=s),this.scrollFactorX=s,this.scrollFactorY=d,this}};r.exports=T},16736:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setSize:function(s,d){return this.width=s,this.height=d,this},setDisplaySize:function(s,d){return this.displayWidth=s,this.displayHeight=d,this}};r.exports=T},37726:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(4327),x=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(l,h,a,u){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h,a,u)},setFrame:function(l,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),l instanceof d?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=f},79812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(4327),x=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(l,h,a,u){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,h,a,u,this.flipX,this.flipY);else{var v=l;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),l instanceof d?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=f},27472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,d,x,f){return s===void 0&&(s=16777215),d===void 0&&(d=s,x=s,f=s),this.tintTopLeft=s,this.tintTopRight=d,this.tintBottomLeft=x,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(s,d,x,f){return this.setTint(s,d,x,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};r.exports=T},53774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(d.textureKey=s.texture.key,d.frameKey=s.frame.name),d};r.exports=T},16901:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(61340),f=s(85955),l=s(86554),h=s(30954),a=s(26099),u=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(o){this._scaleX=o,this._scaleY=o,o===0?this.renderFlags&=~u:this.renderFlags|=u}},scaleX:{get:function(){return this._scaleX},set:function(o){this._scaleX=o,o===0?this.renderFlags&=~u:this._scaleY!==0&&(this.renderFlags|=u)}},scaleY:{get:function(){return this._scaleY},set:function(o){this._scaleY=o,o===0?this.renderFlags&=~u:this._scaleX!==0&&(this.renderFlags|=u)}},angle:{get:function(){return h(this._rotation*d.RAD_TO_DEG)},set:function(o){this.rotation=h(o)*d.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=l(o)}},setPosition:function(o,c,p,g){return o===void 0&&(o=0),c===void 0&&(c=o),p===void 0&&(p=0),g===void 0&&(g=0),this.x=o,this.y=c,this.z=p,this.w=g,this},copyPosition:function(o){return o.x!==void 0&&(this.x=o.x),o.y!==void 0&&(this.y=o.y),o.z!==void 0&&(this.z=o.z),o.w!==void 0&&(this.w=o.w),this},setRandomPosition:function(o,c,p,g){return o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=o+Math.random()*p,this.y=c+Math.random()*g,this},setRotation:function(o){return o===void 0&&(o=0),this.rotation=o,this},setAngle:function(o){return o===void 0&&(o=0),this.angle=o,this},setScale:function(o,c){return o===void 0&&(o=1),c===void 0&&(c=o),this.scaleX=o,this.scaleY=c,this},setX:function(o){return o===void 0&&(o=0),this.x=o,this},setY:function(o){return o===void 0&&(o=0),this.y=o,this},setZ:function(o){return o===void 0&&(o=0),this.z=o,this},setW:function(o){return o===void 0&&(o=0),this.w=o,this},getLocalTransformMatrix:function(o){return o===void 0&&(o=new x),o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(o,c){o===void 0&&(o=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(o);for(c||(c=new x),o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(o,o),p=p.parentContainer;return o},getLocalPoint:function(o,c,p,g){p||(p=new a),g||(g=this.scene.sys.cameras.main);var m=g.scrollX,C=g.scrollY,E=o+m*this.scrollFactorX-m,M=c+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,M,p):f(E,M,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var o=0,c=this.parentContainer;c;)o+=c.rotation,c=c.parentContainer;return o}};r.exports=v},61340:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(36383),f=s(26099),l=new d({initialize:function(a,u,v,o,c,p){a===void 0&&(a=1),u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=1),c===void 0&&(c=0),p===void 0&&(p=0),this.matrix=new Float32Array([a,u,v,o,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,a=h[0],u=h[1],v=h[2],o=h[3];return a||u?u>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):v||o?x.TAU-(o>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,a){var u=this.matrix;return u[4]=u[0]*h+u[2]*a+u[4],u[5]=u[1]*h+u[3]*a+u[5],this},scale:function(h,a){var u=this.matrix;return u[0]*=h,u[1]*=h,u[2]*=a,u[3]*=a,this},rotate:function(h){var a=Math.sin(h),u=Math.cos(h),v=this.matrix,o=v[0],c=v[1],p=v[2],g=v[3];return v[0]=o*u+p*a,v[1]=c*u+g*a,v[2]=o*-a+p*u,v[3]=c*-a+g*u,this},multiply:function(h,a){var u=this.matrix,v=h.matrix,o=u[0],c=u[1],p=u[2],g=u[3],m=u[4],C=u[5],E=v[0],M=v[1],P=v[2],w=v[3],R=v[4],A=v[5],L=a===void 0?u:a.matrix;return L[0]=E*o+M*p,L[1]=E*c+M*g,L[2]=P*o+w*p,L[3]=P*c+w*g,L[4]=R*o+A*p+m,L[5]=R*c+A*g+C,L},multiplyWithOffset:function(h,a,u){var v=this.matrix,o=h.matrix,c=v[0],p=v[1],g=v[2],m=v[3],C=v[4],E=v[5],M=a*c+u*g+C,P=a*p+u*m+E,w=o[0],R=o[1],A=o[2],L=o[3],F=o[4],O=o[5];return v[0]=w*c+R*g,v[1]=w*p+R*m,v[2]=A*c+L*g,v[3]=A*p+L*m,v[4]=F*c+O*g+M,v[5]=F*p+O*m+P,this},transform:function(h,a,u,v,o,c){var p=this.matrix,g=p[0],m=p[1],C=p[2],E=p[3],M=p[4],P=p[5];return p[0]=h*g+a*C,p[1]=h*m+a*E,p[2]=u*g+v*C,p[3]=u*m+v*E,p[4]=o*g+c*C+M,p[5]=o*m+c*E+P,this},transformPoint:function(h,a,u){u===void 0&&(u={x:0,y:0});var v=this.matrix,o=v[0],c=v[1],p=v[2],g=v[3],m=v[4],C=v[5];return u.x=h*o+a*p+m,u.y=h*c+a*g+C,u},invert:function(){var h=this.matrix,a=h[0],u=h[1],v=h[2],o=h[3],c=h[4],p=h[5],g=a*o-u*v;return h[0]=o/g,h[1]=-u/g,h[2]=-v/g,h[3]=a/g,h[4]=(v*p-o*c)/g,h[5]=-(a*p-u*c)/g,this},copyFrom:function(h){var a=this.matrix;return a[0]=h.a,a[1]=h.b,a[2]=h.c,a[3]=h.d,a[4]=h.e,a[5]=h.f,this},copyFromArray:function(h){var a=this.matrix;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],this},copyToContext:function(h){var a=this.matrix;return h.transform(a[0],a[1],a[2],a[3],a[4],a[5]),h},setToContext:function(h){return h.setTransform(this),h},copyToArray:function(h){var a=this.matrix;return h===void 0?h=[a[0],a[1],a[2],a[3],a[4],a[5]]:(h[0]=a[0],h[1]=a[1],h[2]=a[2],h[3]=a[3],h[4]=a[4],h[5]=a[5]),h},setTransform:function(h,a,u,v,o,c){var p=this.matrix;return p[0]=h,p[1]=a,p[2]=u,p[3]=v,p[4]=o,p[5]=c,this},decomposeMatrix:function(){var h=this.decomposedMatrix,a=this.matrix,u=a[0],v=a[1],o=a[2],c=a[3],p=u*c-v*o;if(h.translateX=a[4],h.translateY=a[5],u||v){var g=Math.sqrt(u*u+v*v);h.rotation=v>0?Math.acos(u/g):-Math.acos(u/g),h.scaleX=g,h.scaleY=p/g}else if(o||c){var m=Math.sqrt(o*o+c*c);h.rotation=Math.PI*.5-(c>0?Math.acos(-o/m):-Math.acos(o/m)),h.scaleX=p/m,h.scaleY=m}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,a,u,v,o){var c=this.matrix,p=Math.sin(u),g=Math.cos(u);return c[4]=h,c[5]=a,c[0]=g*v,c[1]=p*v,c[2]=-p*o,c[3]=g*o,this},applyInverse:function(h,a,u){u===void 0&&(u=new f);var v=this.matrix,o=v[0],c=v[1],p=v[2],g=v[3],m=v[4],C=v[5],E=1/(o*g+p*-c);return u.x=g*E*h+-p*E*a+(C*p-m*g)*E,u.y=o*E*a+-c*E*h+(-C*o+m*c)*E,u},setQuad:function(h,a,u,v,o,c){o===void 0&&(o=!1),c===void 0&&(c=this.quad);var p=this.matrix,g=p[0],m=p[1],C=p[2],E=p[3],M=p[4],P=p[5];return o?(c[0]=Math.round(h*g+a*C+M),c[1]=Math.round(h*m+a*E+P),c[2]=Math.round(h*g+v*C+M),c[3]=Math.round(h*m+v*E+P),c[4]=Math.round(u*g+v*C+M),c[5]=Math.round(u*m+v*E+P),c[6]=Math.round(u*g+a*C+M),c[7]=Math.round(u*m+a*E+P)):(c[0]=h*g+a*C+M,c[1]=h*m+a*E+P,c[2]=h*g+v*C+M,c[3]=h*m+v*E+P,c[4]=u*g+v*C+M,c[5]=u*m+v*E+P,c[6]=u*g+a*C+M,c[7]=u*m+a*E+P),c},getX:function(h,a){return h*this.a+a*this.c+this.e},getY:function(h,a){return h*this.b+a*this.d+this.f},getXRound:function(h,a,u){var v=this.getX(h,a);return u&&(v=Math.round(v)),v},getYRound:function(h,a,u){var v=this.getY(h,a);return u&&(v=Math.round(v)),v},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=l},59715:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(d){d?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(d){return this.visible=d,this}};r.exports=s},31401:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37105),x=s(10312),f=s(83419),l=s(31401),h=s(51708),a=s(95643),u=s(87841),v=s(29959),o=s(36899),c=s(26099),p=new f({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,v],initialize:function(m,C,E,M){a.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this.tempTransformMatrix=new l.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(C,E),this.setBlendMode(x.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new u),g.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),C=m.transformPoint(this.x,this.y);g.setTo(C.x,C.y,0,0)}if(this.list.length>0){var E=this.list,M=new u,P=!1;g.setEmpty();for(var w=0;w<E.length;w++){var R=E[w];R.getBounds&&(R.getBounds(M),P?o(M,g,g):(g.setTo(M.x,M.y,M.width,M.height),P=!0))}}return g},addHandler:function(g){g.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(h.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,m){m===void 0&&(m=new c),this.parentContainer?this.parentContainer.pointToContainer(g,m):(m.x=g.x,m.y=g.y);var C=this.tempTransformMatrix;return C.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),C.invert(),C.transformPoint(g.x,g.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(g){return d.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,m){return d.AddAt(this.list,g,m,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,m){return g?(m===void 0&&(m=function(C,E){return C[g]-E[g]}),d.StableSort(this.list,m),this):this},getByName:function(g){return d.GetFirst(this.list,"name",g)},getRandom:function(g,m){return d.GetRandom(this.list,g,m)},getFirst:function(g,m,C,E){return d.GetFirst(this.list,g,m,C,E)},getAll:function(g,m,C,E){return d.GetAll(this.list,g,m,C,E)},count:function(g,m,C,E){return d.CountAllMatching(this.list,g,m,C,E)},swap:function(g,m){return d.Swap(this.list,g,m),this},moveTo:function(g,m){return d.MoveTo(this.list,g,m),this},moveAbove:function(g,m){return d.MoveAbove(this.list,g,m),this},moveBelow:function(g,m){return d.MoveBelow(this.list,g,m),this},remove:function(g,m){var C=d.Remove(this.list,g,this.removeHandler,this);if(m&&C){Array.isArray(C)||(C=[C]);for(var E=0;E<C.length;E++)C[E].destroy()}return this},removeAt:function(g,m){var C=d.RemoveAt(this.list,g,this.removeHandler,this);return m&&C&&C.destroy(),this},removeBetween:function(g,m,C){var E=d.RemoveBetween(this.list,g,m,this.removeHandler,this);if(C)for(var M=0;M<E.length;M++)E[M].destroy();return this},removeAll:function(g){var m=this.list;if(g){for(var C=0;C<m.length;C++)m[C]&&m[C].scene&&(m[C].off(h.DESTROY,this.onChildDestroyed,this),m[C].destroy());this.list=[]}else d.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(g){return d.BringToTop(this.list,g),this},sendToBack:function(g){return d.SendToBack(this.list,g),this},moveUp:function(g){return d.MoveUp(this.list,g),this},moveDown:function(g){return d.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(g,m,C){var E=d.Replace(this.list,g,m);return E&&(this.addHandler(m),this.removeHandler(g),C&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,m,C,E){return d.SetAll(this.list,g,m,C,E),this},each:function(g,m){var C=[null],E,M=this.list.slice(),P=M.length;for(E=2;E<arguments.length;E++)C.push(arguments[E]);for(E=0;E<P;E++)C[0]=M[E],g.apply(m,C);return this},iterate:function(g,m){var C=[null],E;for(E=2;E<arguments.length;E++)C.push(arguments[E]);for(E=0;E<this.list.length;E++)C[0]=this.list[E],g.apply(m,C);return this},setScrollFactor:function(g,m,C){return m===void 0&&(m=g),C===void 0&&(C=!1),this.scrollFactorX=g,this.scrollFactorY=m,C&&(d.SetAll(this.list,"scrollFactorX",g),d.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(g){d.Remove(this.list,g),this.exclusive&&(g.parentContainer=null,g.removedFromScene())}});r.exports=p},53584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d);var l=d.list;if(l.length!==0){var h=d.localTransform;f?(h.loadIdentity(),h.multiply(f),h.translate(d.x,d.y),h.rotate(d.rotation),h.scale(d.scaleX,d.scaleY)):h.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var a=d.blendMode!==-1;a||s.setBlendMode(0);var u=d._alpha,v=d.scrollFactorX,o=d.scrollFactorY;d.mask&&d.mask.preRenderCanvas(s,null,x);for(var c=0;c<l.length;c++){var p=l[c];if(p.willRender(x)){var g=p.alpha,m=p.scrollFactorX,C=p.scrollFactorY;!a&&p.blendMode!==s.currentBlendMode&&s.setBlendMode(p.blendMode),p.setScrollFactor(m*v,C*o),p.setAlpha(g*u),p.renderCanvas(s,p,x,h),p.setAlpha(g),p.setScrollFactor(m,C)}}d.mask&&d.mask.postRenderCanvas(s)}};r.exports=T},77143:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(31559),f=s(44603),l=s(23568),h=s(95540);f.register("container",function(a,u){a===void 0&&(a={});var v=l(a,"x",0),o=l(a,"y",0),c=h(a,"children",null),p=new x(this.scene,v,o,c);return u!==void 0&&(a.add=u),d(this.scene,p,a),p})},24961:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(31559),x=s(39429);x.register("container",function(f,l,h){return this.displayList.add(new d(this.scene,f,l,h))})},29959:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(72249),f=s(53584),r.exports={renderWebGL:x,renderCanvas:f}},72249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d);var l=d.list,h=l.length;if(h!==0){var a=d.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(d.x,d.y),a.rotate(d.rotation),a.scale(d.scaleX,d.scaleY)):a.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),s.pipelines.preBatch(d);var u=d.blendMode!==-1;u||s.setBlendMode(0);for(var v=d.alpha,o=d.scrollFactorX,c=d.scrollFactorY,p=0;p<h;p++){var g=l[p];if(g.willRender(x)){var m,C,E,M;if(g.alphaTopLeft!==void 0)m=g.alphaTopLeft,C=g.alphaTopRight,E=g.alphaBottomLeft,M=g.alphaBottomRight;else{var P=g.alpha;m=P,C=P,E=P,M=P}var w=g.scrollFactorX,R=g.scrollFactorY;!u&&g.blendMode!==s.currentBlendMode&&s.setBlendMode(g.blendMode);var A=g.mask;A&&A.preRenderWebGL(s,g,x);var L=g.type;L!==s.currentType&&(s.newType=!0,s.currentType=L),s.nextTypeMatch=p<h-1?l[p+1].type===s.currentType:!1,g.setScrollFactor(w*o,R*c),g.setAlpha(m*v,C*v,E*v,M*v),g.renderWebGL(s,g,x,a,d),g.setAlpha(m,C,E,M),g.setScrollFactor(w,R),A&&A.postRenderWebGL(s,x),s.newType=!1}}s.pipelines.postBatch(d)}};r.exports=T},47407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(441),l=s(95643),h=s(41212),a=s(35846),u=s(44594),v=s(61369),o=new d({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(p,g,m,C,E,M){l.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,m),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),E,M):this.createElement(C,E,M):C&&this.setElement(C,E,M),p.sys.events.on(u.SLEEP,this.handleSceneEvent,this),p.sys.events.on(u.WAKE,this.handleSceneEvent,this),p.sys.events.on(u.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node,g=p.style;p&&(g.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,g){return this.setElement(document.createElement(c),p,g)},setElement:function(c,p,g){this.removeElement();var m;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),m=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(m=c),!m)return this;if(this.node=m,p&&h(p))for(var C in p)m.style[C]=p[C];else typeof p=="string"&&(m.style=p);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),g&&(m.innerText=g),this.updateSize()},createFromCache:function(c,p){var g=this.cache.get(c);return g&&this.createFromHTML(g,p),this},createFromHTML:function(c,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node){for(var g=this.node.querySelectorAll("*"),m=0;m<g.length;m++)if(g[m][c]===p)return g[m]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)}});r.exports=o},49381:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(47407),x=s(95643),f=s(61340),l=new f,h=new f,a=new f,u=function(v,o,c,p){if(o.node){var g=o.node.style,m=o.scene.sys.settings;if(!g||!m.visible||x.RENDER_MASK!==o.renderFlags||o.cameraFilter!==0&&o.cameraFilter&c.id||o.parentContainer&&!o.parentContainer.willRender()){g.display="none";return}var C=o.parentContainer,E=c.alpha*o.alpha;C&&(E*=C.alpha);var M=l,P=h,w=a,R=0,A=0,L="0%",F="0%";p?(R=o.width*o.scaleX*o.originX,A=o.height*o.scaleY*o.originY,P.applyITRS(o.x-R,o.y-A,o.rotation,o.scaleX,o.scaleY),M.copyFrom(c.matrix),M.multiplyWithOffset(p,-c.scrollX*o.scrollFactorX,-c.scrollY*o.scrollFactorY),P.e=o.x-R,P.f=o.y-A,M.multiply(P,w)):(R=o.width*o.originX,A=o.height*o.originY,P.applyITRS(o.x-R,o.y-A,o.rotation,o.scaleX,o.scaleY),M.copyFrom(c.matrix),L=100*o.originX+"%",F=100*o.originY+"%",P.e-=c.scrollX*o.scrollFactorX,P.f-=c.scrollY*o.scrollFactorY,M.multiply(P,w)),o.transformOnly||(g.display="block",g.opacity=E,g.zIndex=o._depth,g.pointerEvents=o.pointerEvents,g.mixBlendMode=d[o._blendMode]),g.transform=w.getCSSMatrix()+" skew("+o.skewX+"rad, "+o.skewY+"rad) rotate3d("+o.rotate3d.x+","+o.rotate3d.y+","+o.rotate3d.z+","+o.rotate3d.w+o.rotate3dAngle+")",g.transformOrigin=L+" "+F}};r.exports=u},2611:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(3069),x=s(39429);x.register("dom",function(f,l,h,a,u){var v=new d(this.scene,f,l,h,a,u);return this.displayList.add(v),v})},441:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(49381),f=s(49381),r.exports={renderWebGL:x,renderCanvas:f}},62980:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},41337:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},44947:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},49358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},35163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"},97249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"},19483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"},56059:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},26772:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="metadata"},64437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"},83411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},75780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"},67799:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"},63500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"},55541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},53208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"},4992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},12:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"},51708:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(64993),h=new d({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,l],initialize:function(u){f.call(this,u,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=h},70217:()=>{},56315:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(42421),x=s(39429);x.register("extern",function(){var f=new d(this.scene);return this.displayList.add(f),f})},64993:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(80287),f=s(70217),r.exports={renderWebGL:x,renderCanvas:f}},80287:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=function(f,l,h,a){f.pipelines.clear();var u=d(l,h,a).calc;l.render.call(l,f,h,u),f.pipelines.rebind()};r.exports=x},85592:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(71911),x=s(83419),f=s(85592),l=s(31401),h=s(8497),a=s(95643),u=s(95540),v=s(35154),o=s(36383),c=s(84503),p=new x({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,c],initialize:function(m,C){var E=v(C,"x",0),M=v(C,"y",0);a.call(this,m,"Graphics"),this.setPosition(E,M),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(g){return v(g,"lineStyle",null)&&(this.defaultStrokeWidth=v(g,"lineStyle.width",1),this.defaultStrokeColor=v(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(g,"fillStyle",null)&&(this.defaultFillColor=v(g,"fillStyle.color",16777215),this.defaultFillAlpha=v(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,m,C){return C===void 0&&(C=1),this.commandBuffer.push(f.LINE_STYLE,g,m,C),this._lineWidth=g,this},fillStyle:function(g,m){return m===void 0&&(m=1),this.commandBuffer.push(f.FILL_STYLE,g,m),this},fillGradientStyle:function(g,m,C,E,M,P,w,R){return M===void 0&&(M=1),P===void 0&&(P=M),w===void 0&&(w=M),R===void 0&&(R=M),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,M,P,w,R,g,m,C,E),this},lineGradientStyle:function(g,m,C,E,M,P){return P===void 0&&(P=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,g,P,m,C,E,M),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,m,C){return this.beginPath(),this.arc(g,m,C,0,o.PI2),this.fillPath(),this},strokeCircle:function(g,m,C){return this.beginPath(),this.arc(g,m,C,0,o.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,m,C,E){return this.commandBuffer.push(f.FILL_RECT,g,m,C,E),this},strokeRect:function(g,m,C,E){var M=this._lineWidth/2,P=g-M,w=g+M;return this.beginPath(),this.moveTo(g,m),this.lineTo(g,m+E),this.strokePath(),this.beginPath(),this.moveTo(g+C,m),this.lineTo(g+C,m+E),this.strokePath(),this.beginPath(),this.moveTo(P,m),this.lineTo(w+C,m),this.strokePath(),this.beginPath(),this.moveTo(P,m+E),this.lineTo(w+C,m+E),this.strokePath(),this},fillRoundedRect:function(g,m,C,E,M){M===void 0&&(M=20);var P=M,w=M,R=M,A=M;typeof M!="number"&&(P=u(M,"tl",20),w=u(M,"tr",20),R=u(M,"bl",20),A=u(M,"br",20));var L=P>=0,F=w>=0,O=R>=0,D=A>=0;return P=Math.abs(P),w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),this.beginPath(),this.moveTo(g+P,m),this.lineTo(g+C-w,m),F?this.arc(g+C-w,m+w,w,-o.TAU,0):this.arc(g+C,m,w,Math.PI,o.TAU,!0),this.lineTo(g+C,m+E-A),D?this.arc(g+C-A,m+E-A,A,0,o.TAU):this.arc(g+C,m+E,A,-o.TAU,Math.PI,!0),this.lineTo(g+R,m+E),O?this.arc(g+R,m+E-R,R,o.TAU,Math.PI):this.arc(g,m+E,R,0,-o.TAU,!0),this.lineTo(g,m+P),L?this.arc(g+P,m+P,P,-Math.PI,-o.TAU):this.arc(g,m,P,o.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,m,C,E,M){M===void 0&&(M=20);var P=M,w=M,R=M,A=M,L=Math.min(C,E)/2;typeof M!="number"&&(P=u(M,"tl",20),w=u(M,"tr",20),R=u(M,"bl",20),A=u(M,"br",20));var F=P>=0,O=w>=0,D=R>=0,B=A>=0;return P=Math.min(Math.abs(P),L),w=Math.min(Math.abs(w),L),R=Math.min(Math.abs(R),L),A=Math.min(Math.abs(A),L),this.beginPath(),this.moveTo(g+P,m),this.lineTo(g+C-w,m),this.moveTo(g+C-w,m),O?this.arc(g+C-w,m+w,w,-o.TAU,0):this.arc(g+C,m,w,Math.PI,o.TAU,!0),this.lineTo(g+C,m+E-A),this.moveTo(g+C,m+E-A),B?this.arc(g+C-A,m+E-A,A,0,o.TAU):this.arc(g+C,m+E,A,-o.TAU,Math.PI,!0),this.lineTo(g+R,m+E),this.moveTo(g+R,m+E),D?this.arc(g+R,m+E-R,R,o.TAU,Math.PI):this.arc(g,m+E,R,0,-o.TAU,!0),this.lineTo(g,m+P),this.moveTo(g,m+P),F?this.arc(g+P,m+P,P,-Math.PI,-o.TAU):this.arc(g,m,P,o.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,m){return this.fillPoint(g.x,g.y,m)},fillPoint:function(g,m,C){return!C||C<1?C=1:(g-=C/2,m-=C/2),this.commandBuffer.push(f.FILL_RECT,g,m,C,C),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,m,C,E,M,P){return this.commandBuffer.push(f.FILL_TRIANGLE,g,m,C,E,M,P),this},strokeTriangle:function(g,m,C,E,M,P){return this.commandBuffer.push(f.STROKE_TRIANGLE,g,m,C,E,M,P),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,m,C,E){return this.beginPath(),this.moveTo(g,m),this.lineTo(C,E),this.strokePath(),this},lineTo:function(g,m){return this.commandBuffer.push(f.LINE_TO,g,m),this},moveTo:function(g,m){return this.commandBuffer.push(f.MOVE_TO,g,m),this},strokePoints:function(g,m,C,E){m===void 0&&(m=!1),C===void 0&&(C=!1),E===void 0&&(E=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<E;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(g,m,C,E){m===void 0&&(m=!1),C===void 0&&(C=!1),E===void 0&&(E=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<E;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,m){m===void 0&&(m=32);var C=g.getPoints(m);return this.strokePoints(C,!0)},strokeEllipse:function(g,m,C,E,M){M===void 0&&(M=32);var P=new h(g,m,C,E),w=P.getPoints(M);return this.strokePoints(w,!0)},fillEllipseShape:function(g,m){m===void 0&&(m=32);var C=g.getPoints(m);return this.fillPoints(C,!0)},fillEllipse:function(g,m,C,E,M){M===void 0&&(M=32);var P=new h(g,m,C,E),w=P.getPoints(M);return this.fillPoints(w,!0)},arc:function(g,m,C,E,M,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,g,m,C,E,M,P,w),this},slice:function(g,m,C,E,M,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,g,m),this.commandBuffer.push(f.ARC,g,m,C,E,M,P,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(g,m){return this.commandBuffer.push(f.TRANSLATE,g,m),this},scaleCanvas:function(g,m){return this.commandBuffer.push(f.SCALE,g,m),this},rotateCanvas:function(g){return this.commandBuffer.push(f.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,m,C){var E=this.scene.sys,M=E.game.renderer;m===void 0&&(m=E.scale.width),C===void 0&&(C=E.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,m,C),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var P,w,R={willReadFrequently:!0};if(typeof g=="string")if(E.textures.exists(g)){P=E.textures.get(g);var A=P.getSourceImage();A instanceof HTMLCanvasElement&&(w=A.getContext("2d",R))}else P=E.textures.createCanvas(g,m,C),w=P.getSourceImage().getContext("2d",R);else g instanceof HTMLCanvasElement&&(w=g.getContext("2d",R));return w&&(this.renderCanvas(M,this,p.TargetCamera,null,w,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new d,r.exports=p},32768:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85592),x=s(20926),f=function(l,h,a,u,v,o){var c=h.commandBuffer,p=c.length,g=v||l.currentContext;if(!(p===0||!x(l,g,h,a,u))){a.addToRenderList(h);var m=1,C=1,E=0,M=0,P=1,w=0,R=0,A=0;g.beginPath();for(var L=0;L<p;++L){var F=c[L];switch(F){case d.ARC:g.arc(c[L+1],c[L+2],c[L+3],c[L+4],c[L+5],c[L+6]),L+=7;break;case d.LINE_STYLE:P=c[L+1],E=c[L+2],m=c[L+3],w=(E&16711680)>>>16,R=(E&65280)>>>8,A=E&255,g.strokeStyle="rgba("+w+","+R+","+A+","+m+")",g.lineWidth=P,L+=3;break;case d.FILL_STYLE:M=c[L+1],C=c[L+2],w=(M&16711680)>>>16,R=(M&65280)>>>8,A=M&255,g.fillStyle="rgba("+w+","+R+","+A+","+C+")",L+=2;break;case d.BEGIN_PATH:g.beginPath();break;case d.CLOSE_PATH:g.closePath();break;case d.FILL_PATH:o||g.fill();break;case d.STROKE_PATH:o||g.stroke();break;case d.FILL_RECT:o?g.rect(c[L+1],c[L+2],c[L+3],c[L+4]):g.fillRect(c[L+1],c[L+2],c[L+3],c[L+4]),L+=4;break;case d.FILL_TRIANGLE:g.beginPath(),g.moveTo(c[L+1],c[L+2]),g.lineTo(c[L+3],c[L+4]),g.lineTo(c[L+5],c[L+6]),g.closePath(),o||g.fill(),L+=6;break;case d.STROKE_TRIANGLE:g.beginPath(),g.moveTo(c[L+1],c[L+2]),g.lineTo(c[L+3],c[L+4]),g.lineTo(c[L+5],c[L+6]),g.closePath(),o||g.stroke(),L+=6;break;case d.LINE_TO:g.lineTo(c[L+1],c[L+2]),L+=2;break;case d.MOVE_TO:g.moveTo(c[L+1],c[L+2]),L+=2;break;case d.LINE_FX_TO:g.lineTo(c[L+1],c[L+2]),L+=5;break;case d.MOVE_FX_TO:g.moveTo(c[L+1],c[L+2]),L+=5;break;case d.SAVE:g.save();break;case d.RESTORE:g.restore();break;case d.TRANSLATE:g.translate(c[L+1],c[L+2]),L+=2;break;case d.SCALE:g.scale(c[L+1],c[L+2]),L+=2;break;case d.ROTATE:g.rotate(c[L+1]),L+=1;break;case d.GRADIENT_FILL_STYLE:L+=5;break;case d.GRADIENT_LINE_STYLE:L+=6;break}}g.restore()}};r.exports=f},87079:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(44603),x=s(43831);d.register("graphics",function(f,l){f===void 0&&(f={}),l!==void 0&&(f.add=l);var h=new x(this.scene,f);return f.add&&this.scene.sys.displayList.add(h),h})},1201:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43831),x=s(39429);x.register("graphics",function(f){return this.displayList.add(new d(this.scene,f))})},84503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(77545),f=s(32768),f=s(32768),r.exports={renderWebGL:x,renderCanvas:f}},77545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85592),x=s(91296),f=s(61340),l=s(70554),h=function(c,p,g){this.x=c,this.y=p,this.width=g},a=function(c,p,g){this.points=[],this.pointsLength=1,this.points[0]=new h(c,p,g)},u=[],v=new f,o=function(c,p,g,m){if(p.commandBuffer.length!==0){g.addToRenderList(p);var C=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var E=x(p,g,m).calc,M=v.loadIdentity(),P=p.commandBuffer,w=g.alpha*p.alpha,R=1,A=C.fillTint,L=C.strokeTint,F=0,O=0,D=0,B=.01,b=Math.PI*2,G,V=[],W=0,H=!0,z=null,U=l.getTintAppendFloatAlpha,I=0;I<P.length;I++)switch(G=P[I],G){case d.BEGIN_PATH:{V.length=0,z=null,H=!0;break}case d.CLOSE_PATH:{H=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case d.FILL_PATH:{for(W=0;W<V.length;W++)C.batchFillPath(V[W].points,M,E);break}case d.STROKE_PATH:{for(W=0;W<V.length;W++)C.batchStrokePath(V[W].points,R,H,M,E);break}case d.LINE_STYLE:{R=P[++I];var N=P[++I],k=P[++I]*w,X=U(N,k);L.TL=X,L.TR=X,L.BL=X,L.BR=X;break}case d.FILL_STYLE:{var Y=P[++I],$=P[++I]*w,K=U(Y,$);A.TL=K,A.TR=K,A.BL=K,A.BR=K;break}case d.GRADIENT_FILL_STYLE:{var Z=P[++I]*w,J=P[++I]*w,Q=P[++I]*w,j=P[++I]*w;A.TL=U(P[++I],Z),A.TR=U(P[++I],J),A.BL=U(P[++I],Q),A.BR=U(P[++I],j);break}case d.GRADIENT_LINE_STYLE:{R=P[++I];var _=P[++I]*w;L.TL=U(P[++I],_),L.TR=U(P[++I],_),L.BL=U(P[++I],_),L.BR=U(P[++I],_);break}case d.ARC:{var q=0,it=P[++I],ot=P[++I],ut=P[++I],ht=P[++I],tt=P[++I],at=P[++I],rt=P[++I];for(tt-=ht,at?tt<-b?tt=-b:tt>0&&(tt=-b+tt%b):tt>b?tt=b:tt<0&&(tt=b+tt%b),z===null&&(z=new a(it+Math.cos(ht)*ut,ot+Math.sin(ht)*ut,R),V.push(z),q+=B);q<1+rt;)D=tt*q+ht,F=it+Math.cos(D)*ut,O=ot+Math.sin(D)*ut,z.points.push(new h(F,O,R)),q+=B;D=tt+ht,F=it+Math.cos(D)*ut,O=ot+Math.sin(D)*ut,z.points.push(new h(F,O,R));break}case d.FILL_RECT:{C.batchFillRect(P[++I],P[++I],P[++I],P[++I],M,E);break}case d.FILL_TRIANGLE:{C.batchFillTriangle(P[++I],P[++I],P[++I],P[++I],P[++I],P[++I],M,E);break}case d.STROKE_TRIANGLE:{C.batchStrokeTriangle(P[++I],P[++I],P[++I],P[++I],P[++I],P[++I],R,M,E);break}case d.LINE_TO:{z!==null?z.points.push(new h(P[++I],P[++I],R)):(z=new a(P[++I],P[++I],R),V.push(z));break}case d.MOVE_TO:{z=new a(P[++I],P[++I],R),V.push(z);break}case d.SAVE:{u.push(M.copyToArray());break}case d.RESTORE:{M.copyFromArray(u.pop());break}case d.TRANSLATE:{it=P[++I],ot=P[++I],M.translate(it,ot);break}case d.SCALE:{it=P[++I],ot=P[++I],M.scale(it,ot);break}case d.ROTATE:{M.rotate(P[++I]);break}}c.pipelines.postBatch(p)}};r.exports=o},26479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61061),x=s(83419),f=s(51708),l=s(50792),h=s(46710),a=s(95540),u=s(35154),v=s(97022),o=s(41212),c=s(88492),p=s(35072),g=s(68287),m=new x({Extends:l,initialize:function(E,M,P){l.call(this),P?M&&!Array.isArray(M)&&(M=[M]):Array.isArray(M)?o(M[0])&&(P=M,M=null):o(M)&&(P=M,M=null),this.scene=E,this.children=new p,this.isParent=!0,this.type="Group",this.classType=a(P,"classType",g),this.name=a(P,"name",""),this.active=a(P,"active",!0),this.maxSize=a(P,"maxSize",-1),this.defaultKey=a(P,"defaultKey",null),this.defaultFrame=a(P,"defaultFrame",null),this.runChildUpdate=a(P,"runChildUpdate",!1),this.createCallback=a(P,"createCallback",null),this.removeCallback=a(P,"removeCallback",null),this.createMultipleCallback=a(P,"createMultipleCallback",null),this.internalCreateCallback=a(P,"internalCreateCallback",null),this.internalRemoveCallback=a(P,"internalRemoveCallback",null),M&&this.addMultiple(M),P&&this.createMultiple(P),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,E,M,P,w,R){if(C===void 0&&(C=0),E===void 0&&(E=0),M===void 0&&(M=this.defaultKey),P===void 0&&(P=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var A=new this.classType(this.scene,C,E,M,P);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=w,A.setActive(R),this.add(A),A},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var E=[];if(C[0].key)for(var M=0;M<C.length;M++){var P=this.createFromConfig(C[M]);E=E.concat(P)}return E},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var E=a(C,"key",void 0),M=a(C,"frame",null),P=a(C,"visible",!0),w=a(C,"active",!0),R=[];if(E===void 0)return R;Array.isArray(E)||(E=[E]),Array.isArray(M)||(M=[M]);var A=a(C,"repeat",0),L=a(C,"randomKey",!1),F=a(C,"randomFrame",!1),O=a(C,"yoyo",!1),D=a(C,"quantity",!1),B=a(C,"frameQuantity",1),b=a(C,"max",0),G=c(E,M,{max:b,qty:D||B,random:L,randomB:F,repeat:A,yoyo:O});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var V=0;V<G.length;V++){var W=this.create(0,0,G[V].a,G[V].b,P,w);if(!W)break;R.push(W)}if(v(C,"setXY")){var H=u(C,"setXY.x",0),z=u(C,"setXY.y",0),U=u(C,"setXY.stepX",0),I=u(C,"setXY.stepY",0);d.SetXY(R,H,z,U,I)}if(v(C,"setRotation")){var N=u(C,"setRotation.value",0),k=u(C,"setRotation.step",0);d.SetRotation(R,N,k)}if(v(C,"setScale")){var X=u(C,"setScale.x",1),Y=u(C,"setScale.y",X),$=u(C,"setScale.stepX",0),K=u(C,"setScale.stepY",0);d.SetScale(R,X,Y,$,K)}if(v(C,"setOrigin")){var Z=u(C,"setOrigin.x",.5),J=u(C,"setOrigin.y",Z),Q=u(C,"setOrigin.stepX",0),j=u(C,"setOrigin.stepY",0);d.SetOrigin(R,Z,J,Q,j)}if(v(C,"setAlpha")){var _=u(C,"setAlpha.value",1),q=u(C,"setAlpha.step",0);d.SetAlpha(R,_,q)}if(v(C,"setDepth")){var it=u(C,"setDepth.value",0),ot=u(C,"setDepth.step",0);d.SetDepth(R,it,ot)}if(v(C,"setScrollFactor")){var ut=u(C,"setScrollFactor.x",1),ht=u(C,"setScrollFactor.y",ut),tt=u(C,"setScrollFactor.stepX",0),at=u(C,"setScrollFactor.stepY",0);d.SetScrollFactor(R,ut,ht,tt,at)}var rt=a(C,"hitArea",null),gt=a(C,"hitAreaCallback",null);rt&&d.SetHitArea(R,rt,gt);var mt=a(C,"gridAlign",!1);return mt&&d.GridAlign(R,mt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(C,E){if(!(!this.runChildUpdate||this.children.size===0))for(var M=this.children.entries.slice(),P=0;P<M.length;P++){var w=M[P];w.active&&w.update(C,E)}},add:function(C,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),E&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(f.DESTROY,this.remove,this),this)},addMultiple:function(C,E){if(E===void 0&&(E=!1),Array.isArray(C))for(var M=0;M<C.length;M++)this.add(C[M],E);return this},remove:function(C,E,M){return E===void 0&&(E=!1),M===void 0&&(M=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(f.DESTROY,this.remove,this),M?C.destroy():E&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1);for(var M=this.children,P=0;P<M.size;P++){var w=M.entries[P];w.off(f.DESTROY,this.remove,this),E?w.destroy():C&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,E,M,P){return h(this.children.entries,C,E,M,P)},getFirst:function(C,E,M,P,w,R,A){return this.getHandler(!0,1,C,E,M,P,w,R,A)},getFirstNth:function(C,E,M,P,w,R,A,L){return this.getHandler(!0,C,E,M,P,w,R,A,L)},getLast:function(C,E,M,P,w,R,A){return this.getHandler(!1,1,C,E,M,P,w,R,A)},getLastNth:function(C,E,M,P,w,R,A,L){return this.getHandler(!1,C,E,M,P,w,R,A,L)},getHandler:function(C,E,M,P,w,R,A,L,F){M===void 0&&(M=!1),P===void 0&&(P=!1);var O,D,B=0,b=this.children.entries;if(C)for(D=0;D<b.length;D++)if(O=b[D],O.active===M){if(B++,B===E)break}else O=null;else for(D=b.length-1;D>=0;D--)if(O=b[D],O.active===M){if(B++,B===E)break}else O=null;return O?(typeof w=="number"&&(O.x=w),typeof R=="number"&&(O.y=R),O):P?this.create(w,R,A,L,F):null},get:function(C,E,M,P,w){return this.getFirst(!1,!0,C,E,M,P,w)},getFirstAlive:function(C,E,M,P,w,R){return this.getFirst(!0,C,E,M,P,w,R)},getFirstDead:function(C,E,M,P,w,R){return this.getFirst(!1,C,E,M,P,w,R)},playAnimation:function(C,E){return d.PlayAnimation(this.children.entries,C,E),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var E=0,M=0;M<this.children.size;M++)this.children.entries[M].active===C&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,E,M,P,w){return d.PropertyValueSet(this.children.entries,C,E,M,P,w),this},propertyValueInc:function(C,E,M,P,w){return d.PropertyValueInc(this.children.entries,C,E,M,P,w),this},setX:function(C,E){return d.SetX(this.children.entries,C,E),this},setY:function(C,E){return d.SetY(this.children.entries,C,E),this},setXY:function(C,E,M,P){return d.SetXY(this.children.entries,C,E,M,P),this},incX:function(C,E){return d.IncX(this.children.entries,C,E),this},incY:function(C,E){return d.IncY(this.children.entries,C,E),this},incXY:function(C,E,M,P){return d.IncXY(this.children.entries,C,E,M,P),this},shiftPosition:function(C,E,M){return d.ShiftPosition(this.children.entries,C,E,M),this},angle:function(C,E){return d.Angle(this.children.entries,C,E),this},rotate:function(C,E){return d.Rotate(this.children.entries,C,E),this},rotateAround:function(C,E){return d.RotateAround(this.children.entries,C,E),this},rotateAroundDistance:function(C,E,M){return d.RotateAroundDistance(this.children.entries,C,E,M),this},setAlpha:function(C,E){return d.SetAlpha(this.children.entries,C,E),this},setTint:function(C,E,M,P){return d.SetTint(this.children.entries,C,E,M,P),this},setOrigin:function(C,E,M,P){return d.SetOrigin(this.children.entries,C,E,M,P),this},scaleX:function(C,E){return d.ScaleX(this.children.entries,C,E),this},scaleY:function(C,E){return d.ScaleY(this.children.entries,C,E),this},scaleXY:function(C,E,M,P){return d.ScaleXY(this.children.entries,C,E,M,P),this},setDepth:function(C,E){return d.SetDepth(this.children.entries,C,E),this},setBlendMode:function(C){return d.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,E){return d.SetHitArea(this.children.entries,C,E),this},shuffle:function(){return d.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,E,M){return d.SetVisible(this.children.entries,C,E,M),this},toggleVisible:function(){return d.ToggleVisible(this.children.entries),this},destroy:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,C),this.scene=void 0,this.children=void 0)}});r.exports=m},94975:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(44603),x=s(26479);d.register("group",function(f){return new x(this.scene,null,f)})},3385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26479),x=s(39429);x.register("group",function(f,l){return this.updateList.add(new d(this.scene,f,l))})},88571:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(59819),h=new d({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,l],initialize:function(u,v,o,c,p){f.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(v,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=h},40652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d),s.batchSprite(d,d.frame,x,f)};r.exports=T},82459:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(88571);x.register("image",function(h,a){h===void 0&&(h={});var u=f(h,"key",null),v=f(h,"frame",null),o=new l(this.scene,0,0,u,v);return a!==void 0&&(h.add=a),d(this.scene,o,h),o})},2117:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(88571),x=s(39429);x.register("image",function(f,l,h,a){return this.displayList.add(new d(this.scene,f,l,h,a))})},59819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(99517),f=s(40652),r.exports={renderWebGL:x,renderCanvas:f}},99517:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d),this.pipeline.batchSprite(d,x,f)};r.exports=T},77856:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};d.Shader=s(20071),d.Mesh=s(4703),d.NineSlice=s(28103),d.PointLight=s(80321),d.Plane=s(33663),d.Factories.Shader=s(74177),d.Factories.Mesh=s(9225),d.Factories.NineSlice=s(47521),d.Factories.PointLight=s(71255),d.Factories.Plane=s(30985),d.Creators.Shader=s(54935),d.Creators.Mesh=s(20527),d.Creators.NineSlice=s(28279),d.Creators.PointLight=s(39829),d.Creators.Plane=s(56015),d.Light=s(41432),d.LightsManager=s(61356),d.LightsPlugin=s(88992),r.exports=d},93595:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(83419),f=s(31401),l=s(53774),h=s(45893),a=s(50792),u=s(51708),v=s(73162),o=s(33963),c=s(44594),p=s(19186),g=new x({Extends:v,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,a,o],initialize:function(C,E){v.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(d.SKIP_CHECK),E&&this.add(E),C.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(m,C){return this.data||(this.data=new h(this)),this.data.set(m,C),this},incData:function(m,C){return this.data||(this.data=new h(this)),this.data.inc(m,C),this},toggleData:function(m){return this.data||(this.data=new h(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new h(this)),this.data.get(m)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(m){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,C=this.parentContainer,E=[];C&&(E.unshift(C.getIndex(m)),m=C,C.parentContainer);)C=C.parentContainer;return E.unshift(this.displayList.getIndex(m)),E},addChildCallback:function(m){var C=m.displayList;C&&C!==this&&m.removeFromDisplayList(),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(u.ADDED_TO_SCENE,m,this.scene),this.events.emit(c.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(u.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,m,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,C){return m._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),m.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(m){if(!(!this.scene||this.ignoreDestroy)){this.emit(u.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(m);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=g},2956:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=d.list;if(f.length!==0){d.depthSort();var l=d.blendMode!==-1;l||s.setBlendMode(0);var h=d._alpha;d.mask&&d.mask.preRenderCanvas(s,null,x);for(var a=0;a<f.length;a++){var u=f[a];if(u.willRender(x)){var v=u.alpha;!l&&u.blendMode!==s.currentBlendMode&&s.setBlendMode(u.blendMode),u.setAlpha(v*h),u.renderCanvas(s,u,x),u.setAlpha(v)}}d.mask&&d.mask.postRenderCanvas(s)}};r.exports=T},25179:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(93595),f=s(44603),l=s(23568);f.register("layer",function(h,a){h===void 0&&(h={});var u=l(h,"children",null),v=new x(this.scene,u);return a!==void 0&&(h.add=a),d(this.scene,v,h),v})},20005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(93595),x=s(39429);x.register("layer",function(f){return this.displayList.add(new d(this.scene,f))})},33963:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(15869),f=s(2956),r.exports={renderWebGL:x,renderCanvas:f}},15869:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=d.list,l=f.length;if(l!==0){d.depthSort(),s.pipelines.preBatch(d);var h=d.blendMode!==-1;h||s.setBlendMode(0);for(var a=d.alpha,u=0;u<l;u++){var v=f[u];if(v.willRender(x)){var o,c,p,g;if(v.alphaTopLeft!==void 0)o=v.alphaTopLeft,c=v.alphaTopRight,p=v.alphaBottomLeft,g=v.alphaBottomRight;else{var m=v.alpha;o=m,c=m,p=m,g=m}!h&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode);var C=v.mask;C&&C.preRenderWebGL(s,v,x);var E=v.type;E!==s.currentType&&(s.newType=!0,s.currentType=E),s.nextTypeMatch=u<l-1?f[u+1].type===s.currentType:!1,v.setAlpha(o*a,c*a,p*a,g*a),v.renderWebGL(s,v,x),v.setAlpha(o,c,p,g),C&&C.postRenderWebGL(s,x),s.newType=!1}}s.pipelines.postBatch(d)}};r.exports=T},41432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(96503),x=s(83419),f=s(31401),l=s(51767),h=s(70554),a=new x({Extends:d,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(v,o,c,p,g,m,C){d.call(this,v,o,c),this.color=new l(p,g,m),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(u){this.diameter=u}},displayHeight:{get:function(){return this.diameter},set:function(u){this.diameter=u}},width:{get:function(){return this.diameter},set:function(u){this.diameter=u}},height:{get:function(){return this.diameter},set:function(u){this.diameter=u}},willRender:function(u){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setColor:function(u){var v=h.getFloatsFromUintRGB(u);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(u){return this.intensity=u,this},setRadius:function(u){return this.radius=u,this}});a.RENDER_MASK=15,r.exports=a},61356:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(81491),x=s(83419),f=s(20339),l=s(41432),h=s(80321),a=s(51767),u=s(19133),v=s(19186),o=s(70554),c=new x({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,m,C,E,M){return this.systems.displayList.add(new h(this.scene,p,g,m,C,E,M))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,m=p.worldView,C=[],E=0;E<g.length;E++){var M=g[E];M.willRender(p)&&d(M,m)&&C.push({light:M,distance:f(M.x,M.y,m.centerX,m.centerY)})}return C.length>this.maxLights&&(v(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=o.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,m,C,E){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),C===void 0&&(C=16777215),E===void 0&&(E=1);var M=o.getFloatsFromUintRGB(C),P=new l(p,g,m,M[0],M[1],M[2],E);return this.lights.push(P),P},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&u(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=c},88992:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(61356),f=s(37277),l=s(44594),h=new d({Extends:x,initialize:function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(l.BOOT,this.boot,this),x.call(this)},boot:function(){var a=this.systems.events;a.on(l.SHUTDOWN,this.shutdown,this),a.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",h,"lights"),r.exports=h},4703:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(39506),l=s(83997),h=s(95643),a=s(34684),u=s(92515),v=s(91296),o=s(37867),c=s(29807),p=s(43396),g=s(19186),m=s(25836),C=s(39318),E=new d({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,c],initialize:function(P,w,R,A,L,F,O,D,B,b,G,V){w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A="__WHITE"),h.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new o,this.viewPosition=new m,this.viewMatrix=new o,this.projectionMatrix=new o,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=P.sys.renderer;this.setPosition(w,R),this.setTexture(A,L),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),F&&this.addVertices(F,O,D,B,b,G,V)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(M){return this.viewPosition.addScale(m.LEFT,M),this.dirtyCache[10]=1,this},panY:function(M){return this.viewPosition.y+=m.DOWN.y*M,this.dirtyCache[10]=1,this},panZ:function(M){return this.viewPosition.z+=M,this.dirtyCache[10]=1,this},setPerspective:function(M,P,w,R,A){return w===void 0&&(w=45),R===void 0&&(R=.01),A===void 0&&(A=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),M/P,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(M,P,w,R){return M===void 0&&(M=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-M,M,-P,P,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(M){M.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(M,P,w,R,A,L,F,O,D){var B=this.scene.sys.cache.obj.get(M),b;return B&&(b=a(B,this,P,w,R,A,L,F,O,D)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",M),this},sortByDepth:function(M,P){return M.depth-P.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(M,P,w,R,A,L,F){var O=new C(M,P,w,R,A,L,F);return this.vertices.push(O),O},addFace:function(M,P,w){var R=new l(M,P,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(M,P,w,R,A,L,F){var O=u(M,P,w,R,A,L,F);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(M){return this.faces[M]},hasFaceAt:function(M,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=0;L<A.length;L++){var F=A[L];if(F.contains(M,P,R))return!0}return!1},getFaceAt:function(M,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=[],F=0;F<A.length;F++){var O=A[F];O.contains(M,P,R)&&L.push(O)}return g(L,this.sortByDepth)},setDebug:function(M,P){return this.debugGraphic=M,!M&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},isDirty:function(){var M=this.modelPosition,P=this.modelRotation,w=this.modelScale,R=this.dirtyCache,A=M.x,L=M.y,F=M.z,O=P.x,D=P.y,B=P.z,b=w.x,G=w.y,V=w.z,W=this.getFaceCount(),H=R[0],z=R[1],U=R[2],I=R[3],N=R[4],k=R[5],X=R[6],Y=R[7],$=R[8],K=R[9];return R[0]=A,R[1]=L,R[2]=F,R[3]=O,R[4]=D,R[5]=B,R[6]=b,R[7]=G,R[8]=V,R[9]=W,H!==A||z!==L||U!==F||I!==O||N!==D||k!==B||X!==b||Y!==G||$!==V||K!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var M=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!M[10]&&!this.isDirty())){var P=this.width,w=this.height,R=this.viewMatrix,A=this.viewPosition;M[10]&&(R.identity(),R.translate(A),R.invert(),M[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=A.z,O=this.faces,D=0;D<O.length;D++)O[D].transformCoordinatesLocal(L,P,w,F);this.depthSort()}},renderDebug:function(M,P){for(var w=M.debugGraphic,R=0;R<P.length;R++){var A=P[R],L=A.vertex1.tx,F=A.vertex1.ty,O=A.vertex2.tx,D=A.vertex2.ty,B=A.vertex3.tx,b=A.vertex3.ty;w.strokeTriangle(L,F,O,D,B,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(M){M===void 0&&(M={});var P=(function(w,R,A){for(var L=this.faces,F=0;F<L.length;F++){var O=L[F];if(O.contains(R,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,M,P),this},setTint:function(M){M===void 0&&(M=16777215);for(var P=this.vertices,w=0;w<P.length;w++)P[w].color=M;return this},uvScroll:function(M,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(M,P);return this},uvScale:function(M,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(M,P);return this},tint:{set:function(M){this.setTint(M)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(M){this.modelRotation.x=f(M)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(M){this.modelRotation.y=f(M)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(M){this.modelRotation.z=f(M)}}});r.exports=E},36488:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},20527:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(35154),h=s(4703);x.register("mesh",function(a,u){a===void 0&&(a={});var v=f(a,"key",null),o=f(a,"frame",null),c=l(a,"vertices",[]),p=l(a,"uvs",[]),g=l(a,"indicies",[]),m=l(a,"containsZ",!1),C=l(a,"normals",[]),E=l(a,"colors",16777215),M=l(a,"alphas",1),P=new h(this.scene,0,0,v,o,c,p,g,m,C,E,M);return u!==void 0&&(a.add=u),d(this.scene,P,a),P})},9225:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(4703),x=s(39429);x.register("mesh",function(f,l,h,a,u,v,o,c,p,g,m){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o,c,p,g,m))})},29807:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(48833),f=s(36488),r.exports={renderWebGL:x,renderCanvas:f}},48833:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=function(f,l,h,a){var u=l.faces,v=u.length;if(v!==0){h.addToRenderList(l);var o=f.pipelines.set(l.pipeline,l),c=d(l,h,a).calc;f.pipelines.preBatch(l);for(var p=o.setGameObject(l),g=o.vertexViewF32,m=o.vertexViewU32,C=o.vertexCount*o.currentShader.vertexComponentCount-1,E=l.tintFill,M=[],P=l.debugCallback,w=c.a,R=c.b,A=c.c,L=c.d,F=c.e,O=c.f,D=l.viewPosition.z,B=l.hideCCW,b=h.roundPixels,G=h.alpha*l.alpha,V=0,W=0;W<v;W++){var H=u[W];H.isInView(h,B,D,G,w,R,A,L,F,O,b)&&(o.shouldFlush(3)&&(o.flush(),p=o.setGameObject(l),C=0),C=H.load(g,m,C,p,E),V++,o.vertexCount+=3,o.currentBatch.count=o.vertexCount-o.currentBatch.start,P&&M.push(H))}l.totalFrame+=V,P&&P.call(l,l,M),f.pipelines.postBatch(l)}};r.exports=x},28103:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(78023),h=s(39318),a=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,l],initialize:function(v,o,c,p,g,m,C,E,M,P,w){f.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=v.textures.getFrame(p,g);this.is3Slice=!P&&!w,R.scale9&&(this.is3Slice=R.is3Slice);for(var A=this.is3Slice?18:54,L=0;L<A;L++)this.vertices.push(new h);this.setPosition(o,c),this.setTexture(p,g),this.setSlices(m,C,E,M,P,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(u,v,o,c,p,g,m){o===void 0&&(o=10),c===void 0&&(c=10),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!1);var C=this.frame,E=!1;if(this.is3Slice&&m&&p!==0&&g!==0&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(C.scale9&&!m){var M=C.data.scale9Borders,P=M.x,w=M.y;o=P,c=C.width-M.w-P,p=w,g=C.height-M.h-w,u===void 0&&(u=C.width),v===void 0&&(v=C.height)}else u===void 0&&(u=256),v===void 0&&(v=256);this._width=u,this._height=v,this.leftWidth=o,this.rightWidth=c,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(v=C.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var u=this.leftWidth,v=this.rightWidth,o=this.topHeight,c=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,u/p,o/g),this.updateQuadUVs(6,u/p,0,1-v/p,o/g),this.updateQuadUVs(12,1-v/p,0,1,o/g),this.is3Slice||(this.updateQuadUVs(18,0,o/g,u/p,1-c/g),this.updateQuadUVs(24,u/p,o/g,1-v/p,1-c/g),this.updateQuadUVs(30,1-v/p,o/g,1,1-c/g),this.updateQuadUVs(36,0,1-c/g,u/p,1),this.updateQuadUVs(42,u/p,1-c/g,1-v/p,1),this.updateQuadUVs(48,1-v/p,1-c/g,1,1))},updateVertices:function(){var u=this.leftWidth,v=this.rightWidth,o=this.topHeight,c=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+u/p,.5-o/g),this.updateQuad(6,-.5+u/p,.5,.5-v/p,.5-o/g),this.updateQuad(12,.5-v/p,.5,.5,.5-o/g),this.is3Slice||(this.updateQuad(18,-.5,.5-o/g,-.5+u/p,-.5+c/g),this.updateQuad(24,-.5+u/p,.5-o/g,.5-v/p,-.5+c/g),this.updateQuad(30,.5-v/p,.5-o/g,.5,-.5+c/g),this.updateQuad(36,-.5,-.5+c/g,-.5+u/p,-.5),this.updateQuad(42,-.5+u/p,-.5+c/g,.5-v/p,-.5),this.updateQuad(48,.5-v/p,-.5+c/g,.5,-.5))},updateQuad:function(u,v,o,c,p){var g=this.width,m=this.height,C=this.originX,E=this.originY,M=this.vertices;M[u+0].resize(v,o,g,m,C,E),M[u+1].resize(v,p,g,m,C,E),M[u+2].resize(c,o,g,m,C,E),M[u+3].resize(v,p,g,m,C,E),M[u+4].resize(c,p,g,m,C,E),M[u+5].resize(c,o,g,m,C,E)},updateQuadUVs:function(u,v,o,c,p){var g=this.vertices,m=this.frame,C=m.u0,E=m.v0,M=m.u1,P=m.v1;if(C!==0||M!==1){var w=M-C;v=C+v*w,c=C+c*w}if(E!==0||P!==1){var R=P-E;o=E+o*R,p=E+p*R}g[u+0].setUVs(v,o),g[u+1].setUVs(v,p),g[u+2].setUVs(c,o),g[u+3].setUVs(v,p),g[u+4].setUVs(c,p),g[u+5].setUVs(c,o)},clearTint:function(){return this.setTint(16777215),this},setTint:function(u){return u===void 0&&(u=16777215),this.tint=u,this.tintFill=!1,this},setTintFill:function(u){return this.setTint(u),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,v){this.width=u,this.height=v,this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setDisplaySize:function(u,v){return this.displayWidth=u,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(u){this._originX=u,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(u){this._originY=u,this.updateVertices()}},setOrigin:function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this._originX=u,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=a},28279:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(35154),h=s(28103);x.register("nineslice",function(a,u){a===void 0&&(a={});var v=f(a,"key",null),o=f(a,"frame",null),c=l(a,"width",256),p=l(a,"height",256),g=l(a,"leftWidth",10),m=l(a,"rightWidth",10),C=l(a,"topHeight",0),E=l(a,"bottomHeight",0),M=new h(this.scene,0,0,v,o,c,p,g,m,C,E);return u!==void 0&&(a.add=u),d(this.scene,M,a),M})},47521:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(28103),x=s(39429);x.register("nineslice",function(f,l,h,a,u,v,o,c,p,g){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o,c,p,g))})},78023:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(52230),r.exports={renderWebGL:x,renderCanvas:f}},52230:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){var v=h.vertices,o=v.length;if(o!==0){a.addToRenderList(h);var c=l.pipelines.set(h.pipeline,h),p=d(h,a,u,!1).calc;l.pipelines.preBatch(h);var g=c.setGameObject(h),m=c.vertexViewF32,C=c.vertexViewU32,E=c.vertexCount*c.currentShader.vertexComponentCount-1,M=a.roundPixels,P=h.tintFill,w=a.alpha*h.alpha,R=x.getTintAppendFloatAlpha(h.tint,w),A=c.vertexAvailable(),L=-1;A<o&&(L=A);for(var F=0;F<o;F++){var O=v[F];F===L&&(c.flush(),g=c.setGameObject(h),E=0),m[++E]=p.getXRound(O.vx,O.vy,M),m[++E]=p.getYRound(O.vx,O.vy,M),m[++E]=O.u,m[++E]=O.v,m[++E]=g,m[++E]=P,C[++E]=R,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}l.pipelines.postBatch(h)}};r.exports=f},76472:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(44777),f=s(37589),l=s(6113),h=s(91389),a=s(90664),u=new d({Extends:x,initialize:function(o){x.call(this,o,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,o=v,c=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=l("Linear"),this.interpolation=h("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,o=v[0],this.active=!0;for(var g=0;g<v.length;g++){var m=a(v[g]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=c,this.onUpdate=p,this.current=o,this},setEase:function(v){this.easeName=v,this.ease=l(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,o,c){var p=this.ease(c),g=this.interpolation(this.r,p),m=this.interpolation(this.g,p),C=this.interpolation(this.b,p),E=f(g,m,C);return this.current=E,E}});r.exports=u},44777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30976),x=s(45319),f=s(83419),l=s(99472),h=s(6113),a=s(95540),u=s(91389),v=s(77720),o=s(15994),c=new f({initialize:function(g,m,C){C===void 0&&(C=!1),this.propertyKey=g,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=a(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var m=(this.end-this.start)/this.steps;g=v(p,m),this.counter=g;break;case 5:case 6:case 7:g=x(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,m=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,m=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,m=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=h(E,p.easeParams),m=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,m=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var M=p.random;Array.isArray(M)&&(this.start=M[0],this.end=M[1]),m=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,m=this.proxyEmit,C=this.proxyUpdate;break;case 9:this.start=p.values;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=h(P,p.easeParams),this.interpolation=u(p.interpolation),m=this.easedValueEmit,C=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=m,this.onUpdate=C,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,m){return p.hasOwnProperty(g)&&p.hasOwnProperty(m)},hasEither:function(p,g,m){return p.hasOwnProperty(g)||p.hasOwnProperty(m)},defaultEmit:function(p,g,m){return m},defaultUpdate:function(p,g,m,C){return C},proxyEmit:function(p,g,m){var C=this._onEmit(p,g,m);return this.current=C,C},proxyUpdate:function(p,g,m,C){var E=this._onUpdate(p,g,m,C);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var m=l(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},randomRangedIntEmit:function(p,g){var m=d(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},steppedEmit:function(){var p=this.counter,g=p,m=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(g+=m,g>=this.end&&(C=g-this.end,g=this.end-C,this.direction=1)):(g-=m,g<=this.start&&(C=this.start-g,g=this.start+C,this.direction=0)),this.counter=g}else this.counter=o(g+m,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var m=p.data[g];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,m){var C=p.data[g],E,M=this.ease(m);return this.interpolation?E=this.interpolation(this.start,M):E=(C.max-C.min)*M+C.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=c},24502:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(20286),l=new d({Extends:f,initialize:function(a,u,v,o,c){if(typeof a=="object"){var p=a;a=x(p,"x",0),u=x(p,"y",0),v=x(p,"power",0),o=x(p,"epsilon",100),c=x(p,"gravity",50)}else a===void 0&&(a=0),u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=100),c===void 0&&(c=50);f.call(this,a,u,!0),this._gravity=c,this._power=v*c,this._epsilon=o*o},update:function(h,a){var u=this.x-h.x,v=this.y-h.y,o=u*u+v*v;if(o!==0){var c=Math.sqrt(o);o<this._epsilon&&(o=this._epsilon);var p=this._power*a/(o*c)*100;h.velocityX+=u*p,h.velocityY+=v*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var a=this.power;this._gravity=h,this.power=a}}});r.exports=l},56480:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(9674),x=s(45319),f=s(83419),l=s(39506),h=s(87841),a=s(11520),u=s(26099),v=new f({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new d(this),this.bounds=new h},emit:function(o,c,p,g,m,C){return this.emitter.emit(o,c,p,g,m,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.x=o,this.y=c},fire:function(o,c){var p=this.emitter,g=p.ops,m=p.getAnim();if(m?this.anims.play(m):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),o===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=o+g.x.onEmit(this,"x"):this.x+=o,c===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=c+g.y.onEmit(this,"y"):this.y+=c,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var C=g.speedX.onEmit(this,"speedX"),E=g.speedY.active?g.speedY.onEmit(this,"speedY"):C;if(p.radial){var M=l(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(M)*Math.abs(C),this.velocityY=Math.sin(M)*Math.abs(E)}else if(p.moveTo){var P=g.moveToX.onEmit(this,"moveToX"),w=g.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(P-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=C,this.velocityY=E;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(o,c,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=o,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=o,!1;this.anims.update(0,o);var g=this.emitter,m=g.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=m.x.onUpdate(this,"x",C,this.x),this.y=m.y.onUpdate(this,"y",C,this.y),g.moveTo){var E=m.moveToX.onUpdate(this,"moveToX",C,g.moveToX),M=m.moveToY.onUpdate(this,"moveToY",C,g.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/P,this.velocityY=(M-this.y)/P}return this.computeVelocity(g,o,c,p,C),this.scaleX=m.scaleX.onUpdate(this,"scaleX",C,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=l(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(m.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",C,this.tint):this.tint=m.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=o,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(o,c,p,g,m){var C=o.ops,E=this.velocityX,M=this.velocityY,P=C.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),w=C.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),R=C.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),A=C.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",m,this.bounce),E+=o.gravityX*p+P*p,M+=o.gravityY*p+w*p,E=x(E,-R,R),M=x(M,-A,A),this.velocityX=E,this.velocityY=M,this.x+=E*p,this.y+=M*p,o.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<g.length;L++){var F=g[L];F.active&&F.update(this,c,p,m)}},setSizeToFrame:function(){},getBounds:function(o){o===void 0&&(o=this.emitter.getWorldTransformMatrix());var c=Math.abs(o.scaleX)*this.scaleX,p=Math.abs(o.scaleY)*this.scaleY,g=this.x,m=this.y,C=this.rotation,E=this.frame.width*c/2,M=this.frame.height*p/2,P=this.bounds,w=new u(g-E,m-M),R=new u(g+E,m-M),A=new u(g-E,m+M),L=new u(g+E,m+M);return C!==0&&(a(w,g,m,C),a(R,g,m,C),a(A,g,m,C),a(L,g,m,C)),o.transformPoint(w.x,w.y,w),o.transformPoint(R.x,R.y,R),o.transformPoint(A.x,A.y,A),o.transformPoint(L.x,L.y,L),P.x=Math.min(w.x,R.x,A.x,L.x),P.y=Math.min(w.y,R.y,A.y,L.y),P.width=Math.max(w.x,R.x,A.x,L.x)-P.x,P.height=Math.max(w.y,R.y,A.y,L.y)-P.y,P},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=v},69601:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(20286),f=s(87841),l=new d({Extends:x,initialize:function(a,u,v,o,c,p,g,m){c===void 0&&(c=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x.call(this,a,u,!0),this.bounds=new f(a,u,v,o),this.collideLeft=c,this.collideRight=p,this.collideTop=g,this.collideBottom=m},update:function(h){var a=this.bounds,u=-h.bounce,v=h.worldPosition;v.x<a.x&&this.collideLeft?(h.x+=a.x-v.x,h.velocityX*=u):v.x>a.right&&this.collideRight&&(h.x-=v.x-a.right,h.velocityX*=u),v.y<a.y&&this.collideTop?(h.y+=a.y-v.y,h.velocityY*=u):v.y>a.bottom&&this.collideBottom&&(h.y-=v.y-a.bottom,h.velocityY*=u)}});r.exports=l},31600:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(53774),l=s(43459),h=s(26388),a=s(19909),u=s(76472),v=s(44777),o=s(20696),c=s(95643),p=s(95540),g=s(26546),m=s(24502),C=s(1985),E=s(97022),M=s(86091),P=s(73162),w=s(20074),R=s(56480),A=s(68875),L=s(87841),F=s(59996),O=s(72905),D=s(90668),B=s(19186),b=s(61340),G=s(26099),V=s(15994),W=s(69601),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new d({Extends:c,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,D],initialize:function(N,k,X,Y,$){c.call(this,N,"ParticleEmitter"),this.particleClass=R,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new u("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new b,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new P(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(k,X),this.setTexture(Y),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(I){if(!I)return this;var N=0,k="",X=this.ops;for(N=0;N<z.length;N++)k=z[N],X[k].loadConfig(I);for(N=0;N<H.length;N++)k=H[N],E(I,k)&&(this[k]=p(I,k));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,E(I,"speed")&&(X.speedX.loadConfig(I,"speed"),X.speedY.active=!1),(C(I,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(I,"scale")&&(X.scaleX.loadConfig(I,"scale"),X.scaleY.active=!1),E(I,"callbackScope")){var Y=p(I,"callbackScope",null);this.emitCallbackScope=Y,this.deathCallbackScope=Y}if(E(I,"emitZone")&&this.addEmitZone(I.emitZone),E(I,"deathZone")&&this.addDeathZone(I.deathZone),E(I,"bounds")){var $=this.addParticleBounds(I.bounds);$.collideLeft=p(I,"collideLeft",!0),$.collideRight=p(I,"collideRight",!0),$.collideTop=p(I,"collideTop",!0),$.collideBottom=p(I,"collideBottom",!0)}return E(I,"followOffset")&&this.followOffset.setFromObject(p(I,"followOffset",0)),E(I,"texture")&&this.setTexture(I.texture),E(I,"frame")?this.setEmitterFrame(I.frame):E(I,"anim")&&this.setAnim(I.anim),E(I,"reserve")&&this.reserve(I.reserve),E(I,"advance")&&this.fastForward(I.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(o.START,this),this},toJSON:function(){var I=f(this),N=0,k="";for(N=0;N<H.length;N++)k=H[N],I[k]=this[k];var X=this.ops;for(N=0;N<z.length;N++)k=z[N],X[k]&&(I[k]=X[k].toJSON());return X.speedY.active||(delete I.speedX,I.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete I.scaleX,delete I.scaleY,I.scale=X.scaleX.toJSON()),I},resetCounters:function(I,N){var k=this.counters;k.fill(0),k[0]=I,N&&(k[5]=1)},startFollow:function(I,N,k,X){return N===void 0&&(N=0),k===void 0&&(k=0),X===void 0&&(X=!1),this.follow=I,this.followOffset.set(N,k),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var I=this.frames,N=I.length,k;return N===1?k=I[0]:this.randomFrame?k=g(I):(k=I[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(k)},setEmitterFrame:function(I,N,k){N===void 0&&(N=!0),k===void 0&&(k=1),this.randomFrame=N,this.frameQuantity=k,this.currentFrame=0;var X=typeof I;if(this.frames.length=0,Array.isArray(I))this.frames=this.frames.concat(I);else if(X==="string"||X==="number")this.frames.push(I);else if(X==="object"){var Y=I;I=p(Y,"frames",null),I&&(this.frames=this.frames.concat(I));var $=p(Y,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(Y,"quantity",k)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var I=this.anims,N=I.length;if(N===0)return null;if(N===1)return I[0];if(this.randomAnim)return g(I);var k=I[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=V(this.currentAnim+1,0,N)),k},setAnim:function(I,N,k){N===void 0&&(N=!0),k===void 0&&(k=1),this.randomAnim=N,this.animQuantity=k,this.currentAnim=0;var X=typeof I;if(this.anims.length=0,Array.isArray(I))this.anims=this.anims.concat(I);else if(X==="string")this.anims.push(I);else if(X==="object"){var Y=I;I=p(Y,"anims",null),I&&(this.anims=this.anims.concat(I));var $=p(Y,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(Y,"quantity",k)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(I){return I===void 0&&(I=!0),this.radial=I,this},addParticleBounds:function(I,N,k,X,Y,$,K,Z){if(typeof I=="object"){var J=I;I=J.x,N=J.y,k=E(J,"w")?J.w:J.width,X=E(J,"h")?J.h:J.height}return this.addParticleProcessor(new W(I,N,k,X,Y,$,K,Z))},setParticleSpeed:function(I,N){return N===void 0&&(N=I),this.ops.speedX.onChange(I),I===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(I,N){return I===void 0&&(I=1),N===void 0&&(N=I),this.ops.scaleX.onChange(I),this.ops.scaleY.onChange(N),this},setParticleGravity:function(I,N){return this.gravityX=I,this.gravityY=N,this},setParticleAlpha:function(I){return this.ops.alpha.onChange(I),this},setParticleTint:function(I){return this.ops.tint.onChange(I),this},setEmitterAngle:function(I){return this.ops.angle.onChange(I),this},setParticleLifespan:function(I){return this.ops.lifespan.onChange(I),this},setQuantity:function(I){return this.quantity=I,this},setFrequency:function(I,N){return this.frequency=I,this.flowCounter=I>0?I:0,N&&(this.quantity=N),this},addDeathZone:function(I){Array.isArray(I)||(I=[I]);for(var N,k=[],X=0;X<I.length;X++)if(N=I[X],N instanceof h)k.push(N);else if(typeof N.contains=="function")N=new h(N,!0),k.push(N);else{var Y=p(N,"type","onEnter"),$=p(N,"source",null);if($&&typeof $.contains=="function"){var K=Y==="onEnter";N=new h($,K),k.push(N)}}return this.deathZones=this.deathZones.concat(k),k},removeDeathZone:function(I){return O(this.deathZones,I),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(I){Array.isArray(I)||(I=[I]);for(var N,k=[],X=0;X<I.length;X++)if(N=I[X],N instanceof A||N instanceof a)k.push(N);else{var Y=p(N,"source",null);if(Y){var $=p(N,"type","random");if($==="random"&&typeof Y.getRandomPoint=="function")N=new A(Y),k.push(N);else if($==="edge"&&typeof Y.getPoints=="function"){var K=p(N,"quantity",1),Z=p(N,"stepRate",0),J=p(N,"yoyo",!1),Q=p(N,"seamless",!0),j=p(N,"total",-1);N=new a(Y,K,Z,J,Q,j),k.push(N)}}}return this.emitZones=this.emitZones.concat(k),k},removeEmitZone:function(I){return O(this.emitZones,I),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(I){var N=this.emitZones,k=N.length;if(k!==0){var X=N[this.zoneIndex];X.getPoint(I),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===k&&(this.zoneIndex=0)))}},getDeathZone:function(I){for(var N=this.deathZones,k=0;k<N.length;k++){var X=N[k];if(X.willKill(I))return this.emit(o.DEATH_ZONE,this,I,X),!0}return!1},setEmitZone:function(I){var N;return isFinite(I)?N=I:N=this.emitZones.indexOf(I),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(I){return this.processors.exists(I)||(I.emitter&&I.emitter.removeParticleProcessor(I),this.processors.add(I),I.emitter=this),I},removeParticleProcessor:function(I){return this.processors.exists(I)&&(this.processors.remove(I,!0),I.emitter=null),I},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(I){return this.addParticleProcessor(new m(I))},reserve:function(I){var N=this.dead;if(this.maxParticles>0){var k=this.getParticleCount();k+I>this.maxParticles&&(I=this.maxParticles-(k+I))}for(var X=0;X<I;X++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(I,N){return I===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof I=="function"&&(this.emitCallback=I,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(I,N){return I===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof I=="function"&&(this.deathCallback=I,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var I=this.dead,N=this.alive;N.length>0;)I.push(N.pop());return this},forEachAlive:function(I,N){for(var k=this.alive,X=k.length,Y=0;Y<X;Y++)I.call(N,k[Y],this);return this},forEachDead:function(I,N){for(var k=this.dead,X=k.length,Y=0;Y<X;Y++)I.call(N,k[Y],this);return this},start:function(I,N){return I===void 0&&(I=0),this.emitting||(I>0&&this.fastForward(I),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(o.START,this)),this},stop:function(I){return I===void 0&&(I=!1),this.emitting&&(this.emitting=!1,I&&this.killAll(),this.emit(o.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(I,N){return I===void 0&&(I=""),N===void 0&&(N=this.true),this.sortProperty=I,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(I){return this.sortProperty!==""?I=this.depthSortCallback:I=null,this.sortCallback=I,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(I,N){var k=this.sortProperty;return this.sortOrderAsc?I[k]-N[k]:N[k]-I[k]},flow:function(I,N,k){return N===void 0&&(N=1),this.emitting=!1,this.frequency=I,this.quantity=N,k!==void 0&&(this.stopAfter=k),this.start()},explode:function(I,N,k){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(I,N,k);return this.emit(o.EXPLODE,this,X),X},emitParticleAt:function(I,N,k){return this.emitParticle(k,I,N)},emitParticle:function(I,N,k){if(!this.atLimit()){I===void 0&&(I=this.ops.quantity.onEmit());for(var X=this.dead,Y=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:N,K=this.follow?this.follow.y+this.followOffset.y:k,Z=0;Z<I;Z++){var J=X.pop();if(J||(J=new this.particleClass(this)),J.fire($,K)?(this.particleBringToTop?this.alive.push(J):this.alive.unshift(J),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,J,this)):this.dead.push(J),Y>0&&(this.stopCounter++,this.stopCounter>=Y)||this.atLimit())break}return J}},fastForward:function(I,N){N===void 0&&(N=1e3/60);var k=0;for(this.skipping=!0;k<Math.abs(I);)this.preUpdate(0,N),k+=N;return this.skipping=!1,this},preUpdate:function(I,N){N*=this.timeScale;var k=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),Y=this.alive,$=this.dead,K=0,Z=[],J=Y.length;for(K=0;K<J;K++){var Q=Y[K];Q.update(N,k,X)&&Z.push({index:K,particle:Q})}if(J=Z.length,J>0){var j=this.deathCallback,_=this.deathCallbackScope;for(K=J-1;K>=0;K--){var q=Z[K];Y.splice(q.index,1),$.push(q.particle),j&&j.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Y.length===0&&(this.completeFlag=0,this.emit(o.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(I){for(var N=this.getWorldTransformMatrix(),k=this.alive,X=k.length,Y=[],$=0;$<X;$++){var K=k[$];F(I,K.getBounds(N))&&Y.push(K)}return Y},getBounds:function(I,N,k,X){I===void 0&&(I=0),N===void 0&&(N=0),k===void 0&&(k=1e3/60),X===void 0&&(X=new L);var Y=this.getWorldTransformMatrix(),$,K,Z=this.alive,J=!1;if(X.setTo(0,0,0,0),N>0){var Q=0;for(this.skipping=!0;Q<Math.abs(N);){for(this.preUpdate(0,k),$=0;$<Z.length;$++)K=Z[$].getBounds(Y),J?w(X,K):(J=!0,l(K,X));Q+=k}this.skipping=!1}else for($=0;$<Z.length;$++)K=Z[$].getBounds(Y),J?w(X,K):(J=!0,l(K,X));return I>0&&M(X,I,I),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(I){this.ops.x.onChange(I)}},particleY:{get:function(){return this.ops.y.current},set:function(I){this.ops.y.onChange(I)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(I){this.ops.accelerationX.onChange(I)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(I){this.ops.accelerationY.onChange(I)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(I){this.ops.maxVelocityX.onChange(I)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(I){this.ops.maxVelocityY.onChange(I)}},speed:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I),this.ops.speedY.onChange(I)}},speedX:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I)}},speedY:{get:function(){return this.ops.speedY.current},set:function(I){this.ops.speedY.onChange(I)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(I){this.ops.moveToX.onChange(I)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(I){this.ops.moveToY.onChange(I)}},bounce:{get:function(){return this.ops.bounce.current},set:function(I){this.ops.bounce.onChange(I)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(I){this.ops.scaleX.onChange(I)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(I){this.ops.scaleY.onChange(I)}},particleColor:{get:function(){return this.ops.color.current},set:function(I){this.ops.color.onChange(I)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(I){this.ops.color.setEase(I)}},particleTint:{get:function(){return this.ops.tint.current},set:function(I){this.ops.tint.onChange(I)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(I){this.ops.alpha.onChange(I)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(I){this.ops.lifespan.onChange(I)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(I){this.ops.angle.onChange(I)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(I){this.ops.rotate.onChange(I)}},quantity:{get:function(){return this.ops.quantity.current},set:function(I){this.ops.quantity.onChange(I)}},delay:{get:function(){return this.ops.delay.current},set:function(I){this.ops.delay.onChange(I)}},hold:{get:function(){return this.ops.hold.current},set:function(I){this.ops.hold.onChange(I)}},flowCounter:{get:function(){return this.counters[0]},set:function(I){this.counters[0]=I}},frameCounter:{get:function(){return this.counters[1]},set:function(I){this.counters[1]=I}},animCounter:{get:function(){return this.counters[2]},set:function(I){this.counters[2]=I}},elapsed:{get:function(){return this.counters[3]},set:function(I){this.counters[3]=I}},stopCounter:{get:function(){return this.counters[4]},set:function(I){this.counters[4]=I}},completeFlag:{get:function(){return this.counters[5]},set:function(I){this.counters[5]=I}},zoneIndex:{get:function(){return this.counters[6]},set:function(I){this.counters[6]=I}},zoneTotal:{get:function(){return this.counters[7]},set:function(I){this.counters[7]=I}},currentFrame:{get:function(){return this.counters[8]},set:function(I){this.counters[8]=I}},currentAnim:{get:function(){return this.counters[9]},set:function(I){this.counters[9]=I}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var I,N=this.ops;for(I=0;I<z.length;I++){var k=z[I];N[k].destroy()}for(I=0;I<this.alive.length;I++)this.alive[I].destroy();for(I=0;I<this.dead.length;I++)this.dead[I].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=U},9871:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(59996),x=s(61340),f=new x,l=new x,h=new x,a=new x,u=function(v,o,c,p){var g=f,m=l,C=h,E=a;p?(E.loadIdentity(),E.multiply(p),E.translate(o.x,o.y),E.rotate(o.rotation),E.scale(o.scaleX,o.scaleY)):E.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var M=v.currentContext,P=c.roundPixels,w=c.alpha,R=o.alpha,A=o.alive,L=A.length,F=o.viewBounds;if(!(!o.visible||L===0||F&&!d(F,c.worldView))){o.sortCallback&&o.depthSort(),c.addToRenderList(o);var O=o.scrollFactorX,D=o.scrollFactorY;M.save(),M.globalCompositeOperation=v.blendModes[o.blendMode];for(var B=0;B<L;B++){var b=A[B],G=b.alpha*R*w;if(!(G<=0||b.scaleX===0||b.scaleY===0)){C.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(c.matrix),g.multiplyWithOffset(E,-c.scrollX*O,-c.scrollY*D),C.e=b.x,C.f=b.y,g.multiply(C,m);var V=b.frame,W=V.canvasData;if(W.width>0&&W.height>0){var H=-V.halfWidth,z=-V.halfHeight;M.globalAlpha=G,M.save(),m.setToContext(M),P&&(H=Math.round(H),z=Math.round(z)),M.imageSmoothingEnabled=!V.source.scaleMode,M.drawImage(V.source.image,W.x,W.y,W.width,W.height,H,z,W.width,W.height),M.restore()}}}M.restore()}};r.exports=u},92730:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(95540),h=s(31600);x.register("particles",function(a,u){a===void 0&&(a={});var v=f(a,"key",null),o=l(a,"config",null),c=new h(this.scene,0,0,v);return u!==void 0&&(a.add=u),d(this.scene,c,a),o&&c.setConfig(o),c})},676:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(31600);d.register("particles",function(f,l,h,a){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,f,l,h,a))})},90668:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(21188),f=s(9871),r.exports={renderWebGL:x,renderCanvas:f}},21188:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(59996),x=s(61340),f=s(70554),l=new x,h=new x,a=new x,u=new x,v=function(o,c,p,g){var m=o.pipelines.set(c.pipeline),C=l,E=h,M=a,P=u;g?(P.loadIdentity(),P.multiply(g),P.translate(c.x,c.y),P.rotate(c.rotation),P.scale(c.scaleX,c.scaleY)):P.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=f.getTintAppendFloatAlpha,R=p.alpha,A=c.alpha;o.pipelines.preBatch(c);var L=c.alive,F=L.length,O=c.viewBounds;if(!(F===0||O&&!d(O,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c),C.copyFrom(p.matrix),C.multiplyWithOffset(P,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),o.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(o,c,p),o.pipelines.set(c.pipeline));for(var D=c.tintFill,B,b,G=0;G<F;G++){var V=L[G],W=V.alpha*A*R;if(!(W<=0||V.scaleX===0||V.scaleY===0)){M.applyITRS(V.x,V.y,V.rotation,V.scaleX,V.scaleY),M.e=V.x,M.f=V.y,C.multiply(M,E);var H=V.frame;H.glTexture!==b&&(b=H.glTexture,B=m.setGameObject(c,H));var z=-H.halfWidth,U=-H.halfHeight,I=E.setQuad(z,U,z+H.width,U+H.height),N=w(V.tint,W);m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(c,H)),m.batchQuad(c,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],H.u0,H.v0,H.u1,H.v1,N,N,N,N,D,b,B)}}c.mask&&c.mask.postRenderWebGL(o,p),o.pipelines.postBatch(c)}};r.exports=v},20286:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a){l===void 0&&(l=0),h===void 0&&(h=0),a===void 0&&(a=!0),this.emitter,this.x=l,this.y=h,this.active=a},update:function(){},destroy:function(){this.emitter=null}});r.exports=x},9774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},812:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"},30522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"},96695:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},18677:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},20696:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h){this.source=l,this.killOnEnter=h},willKill:function(f){var l=f.worldPosition,h=this.source.contains(l.x,l.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});r.exports=x},19909:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u,v,o){u===void 0&&(u=!1),v===void 0&&(v=!0),o===void 0&&(o=-1),this.source=l,this.points=[],this.quantity=h,this.stepRate=a,this.yoyo=u,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=o,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],l=this.points[this.points.length-1];f.x===l.x&&f.y===l.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(f.x=l.x,f.y=l.y)}});r.exports=x},68875:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(26099),f=new d({initialize:function(h){this.source=h,this._tempVec=new x,this.total=-1},getPoint:function(l){var h=this._tempVec;this.source.getRandomPoint(h),l.x=h.x,l.y=h.y}});r.exports=f},21024:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(68287),l=new d({Extends:f,Mixins:[x.PathFollower],initialize:function(a,u,v,o,c,p){f.call(this,a,v,o,c,p),this.path=u},preUpdate:function(h,a){this.anims.update(h,a),this.pathUpdate(h)}});r.exports=l},90145:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(1159);d.register("follower",function(f,l,h,a,u){var v=new x(this.scene,f,l,h,a,u);return this.displayList.add(v),this.updateList.add(v),v})},33663:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(9674),x=s(83419),f=s(48803),l=s(90664),h=s(4703),a=s(45650),u=new x({Extends:h,initialize:function(o,c,p,g,m,C,E,M){g||(g="__DEFAULT"),h.call(this,o,c,p,g,m),this.type="Plane",this.anims=new d(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,E,M),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,o,c){v===void 0&&(v=8),o===void 0&&(o=8),c===void 0&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=v,this.gridHeight=o,this.isTiled=c,this.clear(),f({mesh:this,widthSegments:v,heightSegments:o,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var o=this.frame;if(this.setPerspective(this.width/o.width,this.height/o.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var c=this.gridWidth,p=this.gridHeight,g=this.vertices,m=o.u0,C=o.u1,E=o.v0,M=o.v1,P,w,R=0;if(this.isTiled)for(E=o.v1,M=o.v0,w=0;w<p;w++)for(P=0;P<c;P++)g[R++].setUVs(m,M),g[R++].setUVs(m,E),g[R++].setUVs(C,M),g[R++].setUVs(m,E),g[R++].setUVs(C,E),g[R++].setUVs(C,M);else{var A=c+1,L=p+1,F=C-m,O=M-E,D=[];for(w=0;w<L;w++)for(P=0;P<A;P++){var B=m+F*(P/c),b=E+O*(w/p);D.push(B,b)}for(w=0;w<p;w++)for(P=0;P<c;P++){var G=(P+A*w)*2,V=(P+A*(w+1))*2,W=(P+1+A*(w+1))*2,H=(P+1+A*w)*2;g[R++].setUVs(D[G],D[G+1]),g[R++].setUVs(D[V],D[V+1]),g[R++].setUVs(D[H],D[H+1]),g[R++].setUVs(D[V],D[V+1]),g[R++].setUVs(D[W],D[W+1]),g[R++].setUVs(D[H],D[H+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var o=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(o/2),this.dirtyCache[10]=1},createCheckerboard:function(v,o,c,p,g){v===void 0&&(v=16777215),o===void 0&&(o=255),c===void 0&&(c=255),p===void 0&&(p=255),g===void 0&&(g=128);for(var m=l(v),C=l(o),E=[],M=0;M<16;M++)for(var P=0;P<16;P++)M<8&&P<8||M>7&&P>7?E.push(m.r,m.g,m.b,c):E.push(C.r,C.g,C.b,p);var w=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,o){return this.anims.play(v,o)},playReverse:function(v,o){return this.anims.playReverse(v,o)},playAfterDelay:function(v,o){return this.anims.playAfterDelay(v,o)},playAfterRepeat:function(v,o){return this.anims.playAfterRepeat(v,o)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,o){h.prototype.preUpdate.call(this,v,o),this.anims.update(v,o)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=u},56015:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(13059),f=s(44603),l=s(23568),h=s(35154),a=s(33663);f.register("plane",function(u,v){u===void 0&&(u={});var o=l(u,"key",null),c=l(u,"frame",null),p=h(u,"width",8),g=h(u,"height",8),m=h(u,"tile",!1),C=new a(this.scene,0,0,o,c,p,g,m);v!==void 0&&(u.add=v);var E=h(u,"checkerboard",null);if(E){var M=h(E,"color1",16777215),P=h(E,"color2",255),w=h(E,"alpha1",255),R=h(E,"alpha2",255),A=h(E,"height",128);C.createCheckerboard(M,P,w,R,A)}return d(this.scene,C,u),x(C,u),C})},30985:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33663),x=s(39429);x.register("plane",function(f,l,h,a,u,v,o){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o))})},80321:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(30100),h=s(36060),a=s(67277),u=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,a],initialize:function(o,c,p,g,m,C,E){g===void 0&&(g=16777215),m===void 0&&(m=128),C===void 0&&(C=1),E===void 0&&(E=.1),f.call(this,o,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=l(g),this.intensity=C,this.attenuation=E,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=u},39829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(80321);x.register("pointlight",function(h,a){h===void 0&&(h={});var u=f(h,"color",16777215),v=f(h,"radius",128),o=f(h,"intensity",1),c=f(h,"attenuation",.1),p=new l(this.scene,0,0,u,v,o,c);return a!==void 0&&(h.add=a),d(this.scene,p,h),p})},71255:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(80321);d.register("pointlight",function(f,l,h,a,u,v){return this.displayList.add(new x(this.scene,f,l,h,a,u,v))})},67277:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(57787),r.exports={renderWebGL:x,renderCanvas:f}},57787:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=function(f,l,h,a){h.addToRenderList(l);var u=f.pipelines.set(l.pipeline),v=d(l,h,a).calc,o=l.width,c=l.height,p=-l._radius,g=-l._radius,m=p+o,C=g+c,E=v.getX(0,0),M=v.getY(0,0),P=v.getX(p,g),w=v.getY(p,g),R=v.getX(p,C),A=v.getY(p,C),L=v.getX(m,C),F=v.getY(m,C),O=v.getX(m,g),D=v.getY(m,g);f.pipelines.preBatch(l),u.batchPointLight(l,h,P,w,R,A,L,F,O,D,E,M),f.pipelines.postBatch(l)};r.exports=x},591:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(81320),f=s(88571),l=new d({Extends:f,initialize:function(a,u,v,o,c){u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=32),c===void 0&&(c=32);var p=new x(a.sys.textures,"",o,c);f.call(this,a,u,v,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,a){this.width=h,this.height=a,this.texture.setSize(h,a),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=h,u.hitArea.height=a),this},resize:function(h,a){return this.setSize(h,a),this},saveTexture:function(h){var a=this.texture;return a.key=h,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(h,a,u,v,o,c){return this.texture.fill(h,a,u,v,o,c),this},clear:function(){return this.texture.clear(),this},stamp:function(h,a,u,v,o){return this.texture.stamp(h,a,u,v,o),this},erase:function(h,a,u){return this.texture.erase(h,a,u),this},draw:function(h,a,u,v,o){return this.texture.draw(h,a,u,v,o),this},drawFrame:function(h,a,u,v,o,c){return this.texture.drawFrame(h,a,u,v,o,c),this},repeat:function(h,a,u,v,o,c,p,g,m){return this.texture.repeat(h,a,u,v,o,c,p,g,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,a,u,v,o){return this.texture.batchDraw(h,a,u,v,o),this},batchDrawFrame:function(h,a,u,v,o,c){return this.texture.batchDrawFrame(h,a,u,v,o,c),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,a,u,v,o,c,p){return this.texture.snapshotArea(h,a,u,v,o,c,p),this},snapshot:function(h,a,u){return this.snapshotArea(0,0,this.width,this.height,h,a,u)},snapshotPixel:function(h,a,u){return this.snapshotArea(h,a,1,1,u,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=l},34495:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(591);x.register("renderTexture",function(h,a){h===void 0&&(h={});var u=f(h,"x",0),v=f(h,"y",0),o=f(h,"width",32),c=f(h,"height",32),p=new l(this.scene,u,v,o,c);return a!==void 0&&(h.add=a),d(this.scene,p,h),p})},60505:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(591);d.register("renderTexture",function(f,l,h,a){return this.displayList.add(new x(this.scene,f,l,h,a))})},77757:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(9674),x=s(83419),f=s(31401),l=s(95643),h=s(36060),a=s(38745),u=s(26099),v=new x({Extends:l,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,a],initialize:function(c,p,g,m,C,E,M,P,w){m===void 0&&(m="__DEFAULT"),E===void 0&&(E=2),M===void 0&&(M=!0),l.call(this,c,"Rope"),this.anims=new d(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=M,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,C),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,P,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,c){var p=this.anims.currentFrame;this.anims.update(o,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(o,c,p){return this.anims.play(o,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(o,c,p){return o===void 0&&(o=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(o,c,p))},setVertical:function(o,c,p){return o===void 0&&(o=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(o,c,p)):this},setTintFill:function(o){return o===void 0&&(o=!1),this.tintFill=o,this},setAlphas:function(o,c){var p=this.points.length;if(p<1)return this;var g=this.alphas;o===void 0?o=[1]:!Array.isArray(o)&&c===void 0&&(o=[o]);var m,C=0;if(c!==void 0)for(m=0;m<p;m++)C=m*2,g[C]=o,g[C+1]=c;else if(o.length===p)for(m=0;m<p;m++)C=m*2,g[C]=o[m],g[C+1]=o[m];else{var E=o[0];for(m=0;m<p;m++)C=m*2,o.length>C&&(E=o[C]),g[C]=E,o.length>C+1&&(E=o[C+1]),g[C+1]=E}return this},setColors:function(o){var c=this.points.length;if(c<1)return this;var p=this.colors;o===void 0?o=[16777215]:Array.isArray(o)||(o=[o]);var g,m=0;if(o.length===c)for(g=0;g<c;g++)m=g*2,p[m]=o[g],p[m+1]=o[g];else{var C=o[0];for(g=0;g<c;g++)m=g*2,o.length>m&&(C=o[m]),p[m]=C,o.length>m+1&&(C=o[m+1]),p[m+1]=C}return this},setPoints:function(o,c,p){if(o===void 0&&(o=2),typeof o=="number"){var g=o;g<2&&(g=2),o=[];var m,C,E;if(this.horizontal)for(E=-this.frame.halfWidth,C=this.frame.width/(g-1),m=0;m<g;m++)o.push({x:E+m*C,y:0});else for(E=-this.frame.halfHeight,C=this.frame.height/(g-1),m=0;m<g;m++)o.push({x:0,y:E+m*C})}var M=o.length,P=this.points.length;return M<1?(console.warn("Rope: Not enough points given"),this):(M===1&&(o.unshift({x:0,y:0}),M++),P!==M&&this.resizeArrays(M),this.dirty=!0,this.points=o,this.updateUVs(),c!=null&&this.setColors(c),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var o=this.uv,c=this.points.length,p=this.frame.u0,g=this.frame.v0,m=this.frame.u1,C=this.frame.v1,E=(m-p)/(c-1),M=(C-g)/(c-1),P=0;P<c;P++){var w=P*4,R,A,L,F;this.horizontal?(this._flipX?(R=m-P*E,L=m-P*E):(R=p+P*E,L=p+P*E),this._flipY?(A=C,F=g):(A=g,F=C)):(this._flipX?(R=p,L=m):(R=m,L=p),this._flipY?(A=C-P*M,F=C-P*M):(A=g+P*M,F=g+P*M)),o[w+0]=R,o[w+1]=A,o[w+2]=L,o[w+3]=F}return this},resizeArrays:function(o){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(o*4),this.uv=new Float32Array(o*4),c=new Uint32Array(o*2),p=new Float32Array(o*2);for(var g=0;g<o*2;g++)c[g]=16777215,p[g]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var o=this._perp,c=this.points,p=this.vertices,g=c.length;if(this.dirty=!1,!(g<1)){for(var m,C=c[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,M=0;M<g;M++){var P=c[M],w=M*4;M<g-1?m=c[M+1]:m=P,o.x=m.y-C.y,o.y=-(m.x-C.x);var R=o.length();o.x/=R,o.y/=R,o.x*=E,o.y*=E,p[w]=P.x+o.x,p[w+1]=P.y+o.y,p[w+2]=P.x-o.x,p[w+3]=P.y-o.y,C=P}return this}},setDebug:function(o,c){return this.debugGraphic=o,!o&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(o,c,p){var g=o.debugGraphic,m=p[0],C=p[1],E=p[2],M=p[3];g.lineBetween(m,C,E,M);for(var P=4;P<c;P+=4){var w=p[P+0],R=p[P+1],A=p[P+2],L=p[P+3];g.lineBetween(m,C,w,R),g.lineBetween(E,M,A,L),g.lineBetween(E,M,w,R),g.lineBetween(w,R,A,L),m=w,C=R,E=A,M=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(o){return this._flipX=o,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(o){return this._flipY=o,this.updateUVs()}}});r.exports=v},95262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},26209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(35154),h=s(77757);x.register("rope",function(a,u){a===void 0&&(a={});var v=f(a,"key",null),o=f(a,"frame",null),c=f(a,"horizontal",!0),p=l(a,"points",void 0),g=l(a,"colors",void 0),m=l(a,"alphas",void 0),C=new h(this.scene,0,0,v,o,p,c,g,m);return u!==void 0&&(a.add=u),d(this.scene,C,a),C})},96819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(77757),x=s(39429);x.register("rope",function(f,l,h,a,u,v,o,c){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o,c))})},38745:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(20439),f=s(95262),r.exports={renderWebGL:x,renderCanvas:f}},20439:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline,h),o=d(h,a,u).calc,c=h.vertices,p=h.uv,g=h.colors,m=h.alphas,C=h.alpha,E=x.getTintAppendFloatAlpha,M=a.roundPixels,P=c.length,w=Math.floor(P*.5);v.flush(),l.pipelines.preBatch(h);var R=v.setGameObject(h),A=v.vertexViewF32,L=v.vertexViewU32,F=v.vertexCount*v.currentShader.vertexComponentCount-1,O=0,D=h.tintFill;h.dirty&&h.updateVertices();for(var B=h.debugCallback,b=[],G=0;G<P;G+=2){var V=c[G+0],W=c[G+1],H=V*o.a+W*o.c+o.e,z=V*o.b+W*o.d+o.f;M&&(H=Math.round(H),z=Math.round(z)),A[++F]=H,A[++F]=z,A[++F]=p[G+0],A[++F]=p[G+1],A[++F]=R,A[++F]=D,L[++F]=E(g[O],a.alpha*(m[O]*C)),O++,B&&(b[G+0]=H,b[G+1]=z)}B&&B.call(h,h,P,b),v.vertexCount+=w,v.currentBatch.count=v.vertexCount-v.currentBatch.start,l.pipelines.postBatch(h)};r.exports=f},20071:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(95540),h=s(79291),a=s(61622),u=s(25479),v=s(61340),o=s(95428),c=s(92503),p=new d({Extends:f,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,u],initialize:function(m,C,E,M,P,w,R,A){E===void 0&&(E=0),M===void 0&&(M=0),P===void 0&&(P=128),w===void 0&&(w=128),f.call(this,m,"Shader"),this.blendMode=-1,this.shader;var L=m.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,M),this.setSize(P,w),this.setOrigin(.5,.5),this.setShader(C,R,A),this.renderer.on(c.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(g){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&g.id)},setRenderToTexture:function(g,m){if(!this.renderToTexture){var C=this.width,E=this.height,M=this.renderer;this.glTexture=M.createTextureFromSource(null,C,E,0),this.framebuffer=M.createFramebuffer(C,E,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),g&&(this.texture=this.scene.sys.textures.addGLTexture(g,this.glTexture))}return this.shader&&(M.pipelines.clear(),this.load(),this.flush(),M.pipelines.rebind()),this},setShader:function(g,m,C){if(this.renderer.contextLost)return this._deferSetShader={key:g,textures:m,textureData:C},this;if(m===void 0&&(m=[]),typeof g=="string"){var E=this.scene.sys.cache.shader;if(!E.has(g))return console.warn("Shader missing: "+g),this;this.shader=E.get(g)}else this.shader=g;var M=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var w=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),M.uniform2f(M.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var L=0;L<4;L++)m[L]&&this.setSampler2D("iChannel"+L,m[L],L,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(g){return this.pointer=g,this},projOrtho:function(g,m,C,E){if(this.renderer.contextLost){this._deferProjOrtho={left:g,right:m,bottom:C,top:E};return}var M=-1e3,P=1e3,w=1/(g-m),R=1/(C-E),A=1/(M-P),L=this.projectionMatrix;L[0]=-2*w,L[5]=-2*R,L[10]=2*A,L[12]=(g+m)*w,L[13]=(E+C)*R,L[14]=(P+M)*A;var F=this.program,O=this.gl,D=this.renderer;D.setProgram(F),O.uniformMatrix4fv(O.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=m,this._rendererHeight=C},initUniforms:function(){var g=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var C in this.uniforms){var E=this.uniforms[C],M=E.type,P=g[M];E.uniformLocation=this.renderer.createUniformLocation(m,C),M!=="sampler2D"&&(E.glMatrix=P.matrix,E.glValueLength=P.length,E.glFunc=P.func)}},setSampler2DBuffer:function(g,m,C,E,M,P){M===void 0&&(M=0),P===void 0&&(P={});var w=this.uniforms[g];return w.value=m,P.width=C,P.height=E,w.textureData=P,this._textureCount=M,this.initSampler2D(w),this},setSampler2D:function(g,m,C,E){C===void 0&&(C=0);var M=this.scene.sys.textures;if(M.exists(m)){var P=M.getFrame(m);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(g,P.glTexture,P.width,P.height,C,E);var w=this.uniforms[g],R=P.source;w.textureKey=m,w.source=R.image,w.value=P.glTexture,R.isGLTexture&&(E||(E={}),E.width=R.width,E.height=R.height),E&&(w.textureData=E),this._textureCount=C,this.initSampler2D(w)}return this},setUniform:function(g,m){return a(this.uniforms,g,m),this},getUniform:function(g){return l(this.uniforms,g,null)},setChannel0:function(g,m){return this.setSampler2D("iChannel0",g,0,m)},setChannel1:function(g,m){return this.setSampler2D("iChannel1",g,1,m)},setChannel2:function(g,m){return this.setSampler2D("iChannel2",g,2,m)},setChannel3:function(g,m){return this.setSampler2D("iChannel3",g,3,m)},initSampler2D:function(g){if(g.value){var m=g.textureData;if(m&&!g.value.isRenderTexture){var C=this.gl,E=g.value,M=C[l(m,"magFilter","linear").toUpperCase()],P=C[l(m,"minFilter","linear").toUpperCase()],w=C[l(m,"wrapS","repeat").toUpperCase()],R=C[l(m,"wrapT","repeat").toUpperCase()],A=C[l(m,"format","rgba").toUpperCase()],L=l(m,"flipY",!1),F=l(m,"width",E.width),O=l(m,"height",E.height),D=l(m,"source",E.pixels);m.repeat&&(w=C.REPEAT,R=C.REPEAT),m.width&&(D=null),E.update(D,F,O,L,w,R,P,M,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var g=this.gl,m=this.uniforms,C,E,M,P,w,R=0;for(var A in m)C=m[A],M=C.glFunc,E=C.glValueLength,P=C.uniformLocation,w=C.value,w!==null&&(E===1?C.glMatrix?M.call(g,P.webGLUniformLocation,C.transpose,w):M.call(g,P.webGLUniformLocation,w):E===2?M.call(g,P.webGLUniformLocation,w.x,w.y):E===3?M.call(g,P.webGLUniformLocation,w.x,w.y,w.z):E===4?M.call(g,P.webGLUniformLocation,w.x,w.y,w.z,w.w):C.type==="sampler2D"&&(g.activeTexture(g.TEXTURE0+R),g.bindTexture(g.TEXTURE_2D,w.webGLTexture),g.uniform1i(P.webGLUniformLocation,R),R++))},load:function(g){var m=this.gl,C=this.width,E=this.height,M=this.renderer,P=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,A=-this._displayOriginY;w[0]=g[0],w[1]=g[1],w[4]=g[2],w[5]=g[3],w[8]=g[4],w[9]=g[5],w[12]=w[0]*R+w[4]*A,w[13]=w[1]*R+w[5]*A}m.useProgram(P.webGLProgram),m.uniformMatrix4fv(m.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,w),m.uniformMatrix4fv(m.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,F=L.resolution;F.value.x=C,F.value.y=E,L.time.value=M.game.loop.getDuration();var O=this.pointer;if(O){var D=L.mouse,B=O.x/C,b=1-O.y/E;D.value.x=B.toFixed(2),D.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var g=this.width,m=this.height,C=this.program,E=this.gl,M=this.vertexBuffer,P=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,M.webGLBuffer);var R=E.getAttribLocation(C.webGLProgram,"inPosition");R!==-1&&(E.enableVertexAttribArray(R),E.vertexAttribPointer(R,2,E.FLOAT,!1,w,0));var A=this.vertexViewF32;A[3]=m,A[4]=g,A[5]=m,A[8]=g,A[9]=m,A[10]=g;var L=6;E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,L*w)),E.drawArrays(E.TRIANGLES,0,L),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var g=this._deferSetShader.key,m=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(g,m,C)}if(this._deferProjOrtho!==null){var E=this._deferProjOrtho.left,M=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,M,P,w)}},preDestroy:function(){var g=this.renderer;g.off(c.RESTORE_WEBGL,this.onContextRestored,this),g.deleteProgram(this.program),g.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(g.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),o(this.uniforms,function(m){g.deleteUniformLocation(m.uniformLocation),m.uniformLocation=null})}});r.exports=p},80464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},54935:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(20071);x.register("shader",function(h,a){h===void 0&&(h={});var u=f(h,"key",null),v=f(h,"x",0),o=f(h,"y",0),c=f(h,"width",128),p=f(h,"height",128),g=new l(this.scene,u,v,o,c,p);return a!==void 0&&(h.add=a),d(this.scene,g,h),g})},74177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20071),x=s(39429);x.register("shader",function(f,l,h,a,u,v,o){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o))})},25479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(19257),f=s(80464),r.exports={renderWebGL:x,renderCanvas:f}},19257:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=function(f,l,h,a){if(l.shader){if(h.addToRenderList(l),f.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var u=d(l,h,a).calc;(f.width!==l._rendererWidth||f.height!==l._rendererHeight)&&l.projOrtho(0,f.width,f.height,0),l.load(u.matrix),l.flush()}f.pipelines.rebind()}};r.exports=x},10441:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70554),x=function(f,l,h,a,u,v){for(var o=d.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*a),c=h.pathData,p=h.pathIndexes,g=0;g<p.length;g+=3){var m=p[g]*2,C=p[g+1]*2,E=p[g+2]*2,M=c[m+0]-u,P=c[m+1]-v,w=c[C+0]-u,R=c[C+1]-v,A=c[E+0]-u,L=c[E+1]-v,F=l.getX(M,P),O=l.getY(M,P),D=l.getX(w,R),B=l.getY(w,R),b=l.getX(A,L),G=l.getY(A,L);f.batchTri(h,F,O,D,B,b,G,0,0,1,1,o,o,o,2)}};r.exports=x},65960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=x||d.fillColor,h=f||d.fillAlpha,a=(l&16711680)>>>16,u=(l&65280)>>>8,v=l&255;s.fillStyle="rgba("+a+","+u+","+v+","+h+")"};r.exports=T},75177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=x||d.strokeColor,h=f||d.strokeAlpha,a=(l&16711680)>>>16,u=(l&65280)>>>8,v=l&255;s.strokeStyle="rgba("+a+","+u+","+v+","+h+")",s.lineWidth=d.lineWidth};r.exports=T},17803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(95643),l=s(23031),h=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(u,v,o){v===void 0&&(v="Shape"),f.call(this,u,v),this.geom=o,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,u){return u===void 0&&(u=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=u,this.isFilled=!0),this},setStrokeStyle:function(a,u,v){return v===void 0&&(v=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=u,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,u){return this.width=a,this.height=u,this},setDisplaySize:function(a,u){return this.displayWidth=a,this.displayHeight=u,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});r.exports=h},34682:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70554),x=function(f,l,h,a,u){var v=f.strokeTint,o=d.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*h);v.TL=o,v.TR=o,v.BL=o,v.BR=o;var c=l.pathData,p=c.length-1,g=l.lineWidth,m=g/2,C=c[0]-a,E=c[1]-u;l.closePath||(p-=2);for(var M=2;M<p;M+=2){var P=c[M]-a,w=c[M+1]-u;f.batchLine(C,E,P,w,m,m,g,M-2,l.closePath?M===p-1:!1),C=P,E=w}};r.exports=x},23629:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13609),x=s(83419),f=s(39506),l=s(94811),h=s(96503),a=s(36383),u=s(17803),v=new x({Extends:u,Mixins:[d],initialize:function(c,p,g,m,C,E,M,P,w){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),C===void 0&&(C=0),E===void 0&&(E=360),M===void 0&&(M=!1),u.call(this,c,"Arc",new h(0,0,m)),this._startAngle=C,this._endAngle=E,this._anticlockwise=M,this._iterations=.01,this.setPosition(p,g);var R=this.geom.radius*2;this.setSize(R,R),P!==void 0&&this.setFillStyle(P,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(o){this._iterations=o,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(o){this.geom.radius=o;var c=o*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(o){this._startAngle=o,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(o){this._endAngle=o,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(o){this._anticlockwise=o,this.updateData()}},setRadius:function(o){return this.radius=o,this},setIterations:function(o){return o===void 0&&(o=.01),this.iterations=o,this},setStartAngle:function(o,c){return this._startAngle=o,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(o,c){return this._endAngle=o,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var o=this._iterations,c=o,p=this.geom.radius,g=f(this._startAngle),m=f(this._endAngle),C=this._anticlockwise,E=p,M=p;m-=g,C?m<-a.PI2?m=-a.PI2:m>0&&(m=-a.PI2+m%a.PI2):m>a.PI2?m=a.PI2:m<0&&(m=a.PI2+m%a.PI2);for(var P=[E+Math.cos(g)*p,M+Math.sin(g)*p],w;c<1;)w=m*c+g,P.push(E+Math.cos(w)*p,M+Math.sin(w)*p),c+=o;return w=m+g,P.push(E+Math.cos(w)*p,M+Math.sin(w)*p),P.push(E+Math.cos(g)*p,M+Math.sin(g)*p),this.pathIndexes=l(P),this.pathData=P,this}});r.exports=v},42542:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39506),x=s(65960),f=s(75177),l=s(20926),h=function(a,u,v,o){v.addToRenderList(u);var c=a.currentContext;if(l(a,c,u,v,o)){var p=u.radius;c.beginPath(),c.arc(p-u.originX*(p*2),p-u.originY*(p*2),p,d(u._startAngle),d(u._endAngle),u.anticlockwise),u.closePath&&c.closePath(),u.isFilled&&(x(c,u),c.fill()),u.isStroked&&(f(c,u),c.stroke()),c.restore()}};r.exports=h},42563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23629),x=s(39429);x.register("arc",function(f,l,h,a,u,v,o,c){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o,c))}),x.register("circle",function(f,l,h,a,u){return this.displayList.add(new d(this.scene,f,l,h,0,360,!1,a,u))})},13609:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(41447),f=s(42542),r.exports={renderWebGL:x,renderCanvas:f}},41447:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(10441),f=s(34682),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=d(a,u,v),p=o.calcMatrix.copyFrom(c.calc),g=a._displayOriginX,m=a._displayOriginY,C=u.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&x(o,p,a,C,g,m),a.isStroked&&f(o,a,C,g,m),h.pipelines.postBatch(a)};r.exports=l},89:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(33141),f=s(94811),l=s(87841),h=s(17803),a=new d({Extends:h,Mixins:[x],initialize:function(v,o,c,p,g,m){o===void 0&&(o=0),c===void 0&&(c=0),h.call(this,v,"Curve",p),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(o,c),g!==void 0&&this.setFillStyle(g,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){var u=this._curveBounds,v=this._smoothness;this.geom.getBounds(u,v),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var o=[],c=this.geom.getPoints(v),p=0;p<c.length;p++)o.push(c[p].x,c[p].y);return o.push(c[0].x,c[0].y),this.pathIndexes=f(o),this.pathData=o,this}});r.exports=a},3170:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX+a._curveBounds.x,p=a._displayOriginY+a._curveBounds.y,g=a.pathData,m=g.length-1,C=g[0]-c,E=g[1]-p;o.beginPath(),o.moveTo(C,E),a.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;o.lineTo(P,w)}a.closePath&&o.closePath(),a.isFilled&&(d(o,a),o.fill()),a.isStroked&&(x(o,a),o.stroke()),o.restore()}};r.exports=l},40511:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(89);d.register("curve",function(f,l,h,a,u){return this.displayList.add(new x(this.scene,f,l,h,a,u))})},33141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(53987),f=s(3170),r.exports={renderWebGL:x,renderCanvas:f}},53987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10441),x=s(91296),f=s(34682),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=x(a,u,v),p=o.calcMatrix.copyFrom(c.calc),g=a._displayOriginX+a._curveBounds.x,m=a._displayOriginY+a._curveBounds.y,C=u.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&d(o,p,a,C,g,m),a.isStroked&&f(o,a,C,g,m),h.pipelines.postBatch(a)};r.exports=l},19921:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(94811),f=s(54205),l=s(8497),h=s(17803),a=new d({Extends:h,Mixins:[f],initialize:function(v,o,c,p,g,m,C){o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=128),h.call(this,v,"Ellipse",new l(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(o,c),this.width=p,this.height=g,m!==void 0&&this.setFillStyle(m,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSize:function(u,v){return this.width=u,this.height=v,this.geom.setPosition(u/2,v/2),this.geom.setSize(u,v),this.updateData()},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){for(var u=[],v=this.geom.getPoints(this._smoothness),o=0;o<v.length;o++)u.push(v[o].x,v[o].y);return u.push(v[0].x,v[0].y),this.pathIndexes=x(u),this.pathData=u,this}});r.exports=a},7930:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX,p=a._displayOriginY,g=a.pathData,m=g.length-1,C=g[0]-c,E=g[1]-p;o.beginPath(),o.moveTo(C,E),a.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;o.lineTo(P,w)}o.closePath(),a.isFilled&&(d(o,a),o.fill()),a.isStroked&&(x(o,a),o.stroke()),o.restore()}};r.exports=l},1543:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19921),x=s(39429);x.register("ellipse",function(f,l,h,a,u,v){return this.displayList.add(new d(this.scene,f,l,h,a,u,v))})},54205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(19467),f=s(7930),r.exports={renderWebGL:x,renderCanvas:f}},19467:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10441),x=s(91296),f=s(34682),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=x(a,u,v),p=o.calcMatrix.copyFrom(c.calc),g=a._displayOriginX,m=a._displayOriginY,C=u.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&d(o,p,a,C,g,m),a.isStroked&&f(o,a,C,g,m),h.pipelines.postBatch(a)};r.exports=l},30479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(17803),f=s(26015),l=new d({Extends:x,Mixins:[f],initialize:function(a,u,v,o,c,p,g,m,C,E,M){u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=128),c===void 0&&(c=128),p===void 0&&(p=32),g===void 0&&(g=32),x.call(this,a,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(u,v),this.setSize(o,c),this.setFillStyle(m,C),E!==void 0&&this.setOutlineStyle(E,M),this.updateDisplayOrigin()},setFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=a,this.showOutline=!0),this}});r.exports=l},49912:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=-a._displayOriginX,p=-a._displayOriginY,g=u.alpha*a.alpha,m=a.width,C=a.height,E=a.cellWidth,M=a.cellHeight,P=Math.ceil(m/E),w=Math.ceil(C/M),R=E,A=M,L=E-(P*E-m),F=M-(w*M-C),O=a.showCells,D=a.showAltCells,B=a.showOutline,b=0,G=0,V=0,W=0,H=0;if(B&&(R--,A--,L===E&&L--,F===M&&F--),O&&a.fillAlpha>0)for(d(o,a),G=0;G<w;G++)for(D&&(V=G%2),b=0;b<P;b++){if(D&&V){V=0;continue}V++,W=b<P-1?R:L,H=G<w-1?A:F,o.fillRect(c+b*E,p+G*M,W,H)}if(D&&a.altFillAlpha>0)for(d(o,a,a.altFillColor,a.altFillAlpha*g),G=0;G<w;G++)for(D&&(V=G%2),b=0;b<P;b++){if(D&&!V){V=1;continue}V=0,W=b<P-1?R:L,H=G<w-1?A:F,o.fillRect(c+b*E,p+G*M,W,H)}if(B&&a.outlineFillAlpha>0){for(x(o,a,a.outlineFillColor,a.outlineFillAlpha*g),b=1;b<P;b++){var z=b*E;o.beginPath(),o.moveTo(z+c,p),o.lineTo(z+c,C+p),o.stroke()}for(G=1;G<w;G++){var U=G*M;o.beginPath(),o.moveTo(c,U+p),o.lineTo(c+m,U+p),o.stroke()}}o.restore()}};r.exports=l},34137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(30479);d.register("grid",function(f,l,h,a,u,v,o,c,p,g){return this.displayList.add(new x(this.scene,f,l,h,a,u,v,o,c,p,g))})},26015:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(46161),f=s(49912),r.exports={renderWebGL:x,renderCanvas:f}},46161:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline),o=d(h,a,u),c=v.calcMatrix.copyFrom(o.calc);c.translate(-h._displayOriginX,-h._displayOriginY);var p=a.alpha*h.alpha,g=h.width,m=h.height,C=h.cellWidth,E=h.cellHeight,M=Math.ceil(g/C),P=Math.ceil(m/E),w=C,R=E,A=C-(M*C-g),L=E-(P*E-m),F,O,D=h.showCells,B=h.showAltCells,b=h.showOutline,G=0,V=0,W=0,H=0,z=0;if(b&&(w--,R--,A===C&&A--,L===E&&L--),l.pipelines.preBatch(h),D&&h.fillAlpha>0)for(F=v.fillTint,O=x.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*p),F.TL=O,F.TR=O,F.BL=O,F.BR=O,V=0;V<P;V++)for(B&&(W=V%2),G=0;G<M;G++){if(B&&W){W=0;continue}W++,H=G<M-1?w:A,z=V<P-1?R:L,v.batchFillRect(G*C,V*E,H,z)}if(B&&h.altFillAlpha>0)for(F=v.fillTint,O=x.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*p),F.TL=O,F.TR=O,F.BL=O,F.BR=O,V=0;V<P;V++)for(B&&(W=V%2),G=0;G<M;G++){if(B&&!W){W=1;continue}W=0,H=G<M-1?w:A,z=V<P-1?R:L,v.batchFillRect(G*C,V*E,H,z)}if(b&&h.outlineFillAlpha>0){var U=v.strokeTint,I=x.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*p);for(U.TL=I,U.TR=I,U.BL=I,U.BR=I,G=1;G<M;G++){var N=G*C;v.batchLine(N,0,N,m,1,1,1,0,!1)}for(V=1;V<P;V++){var k=V*E;v.batchLine(0,k,g,k,1,1,1,0,!1)}}l.pipelines.postBatch(h)};r.exports=f},61475:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(99651),x=s(83419),f=s(17803),l=new x({Extends:f,Mixins:[d],initialize:function(a,u,v,o,c,p,g,m){u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=48),c===void 0&&(c=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),m===void 0&&(m=13421772),f.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,v),this.setSize(o,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,a,u){return h===void 0&&(h=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),this.showTop=h,this.showLeft=a,this.showRight=u,this},setFillStyle:function(h,a,u){return this.fillTop=h,this.fillLeft=a,this.fillRight=u,this.isFilled=!0,this}});r.exports=l},11508:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(20926),f=function(l,h,a,u){a.addToRenderList(h);var v=l.currentContext;if(x(l,v,h,a,u)&&h.isFilled){var o=h.width,c=h.height,p=o/2,g=o/h.projection;h.showTop&&(d(v,h,h.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(p,-1),v.lineTo(0,g-1),v.lineTo(-p,-1),v.lineTo(-p,-c),v.fill()),h.showLeft&&(d(v,h,h.fillLeft),v.beginPath(),v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(-p,-c),v.lineTo(-p,0),v.fill()),h.showRight&&(d(v,h,h.fillRight),v.beginPath(),v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(p,-c),v.lineTo(p,0),v.fill()),v.restore()}};r.exports=f},3933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(61475);d.register("isobox",function(f,l,h,a,u,v,o){return this.displayList.add(new x(this.scene,f,l,h,a,u,v,o))})},99651:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(68149),f=s(11508),r.exports={renderWebGL:x,renderCanvas:f}},68149:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline),o=d(h,a,u),c=v.calcMatrix.copyFrom(o.calc),p=h.width,g=h.height,m=p/2,C=p/h.projection,E=a.alpha*h.alpha;if(h.isFilled){var M,P,w,R,A,L,F,O,D;l.pipelines.preBatch(h),h.showTop&&(M=x.getTintAppendFloatAlpha(h.fillTop,E),P=c.getX(-m,-g),w=c.getY(-m,-g),R=c.getX(0,-C-g),A=c.getY(0,-C-g),L=c.getX(m,-g),F=c.getY(m,-g),O=c.getX(0,C-g),D=c.getY(0,C-g),v.batchQuad(h,P,w,R,A,L,F,O,D,0,0,1,1,M,M,M,M,2)),h.showLeft&&(M=x.getTintAppendFloatAlpha(h.fillLeft,E),P=c.getX(-m,0),w=c.getY(-m,0),R=c.getX(0,C),A=c.getY(0,C),L=c.getX(0,C-g),F=c.getY(0,C-g),O=c.getX(-m,-g),D=c.getY(-m,-g),v.batchQuad(h,P,w,R,A,L,F,O,D,0,0,1,1,M,M,M,M,2)),h.showRight&&(M=x.getTintAppendFloatAlpha(h.fillRight,E),P=c.getX(m,0),w=c.getY(m,0),R=c.getX(0,C),A=c.getY(0,C),L=c.getX(0,C-g),F=c.getY(0,C-g),O=c.getX(m,-g),D=c.getY(m,-g),v.batchQuad(h,P,w,R,A,L,F,O,D,0,0,1,1,M,M,M,M,2)),l.pipelines.postBatch(h)}};r.exports=f},16933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(60561),f=s(17803),l=new d({Extends:f,Mixins:[x],initialize:function(a,u,v,o,c,p,g,m,C){u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o=48),c===void 0&&(c=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),m===void 0&&(m=10066329),C===void 0&&(C=13421772),f.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(u,v),this.setSize(o,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,a,u){return h===void 0&&(h=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),this.showTop=h,this.showLeft=a,this.showRight=u,this},setFillStyle:function(h,a,u){return this.fillTop=h,this.fillLeft=a,this.fillRight=u,this.isFilled=!0,this}});r.exports=l},79590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(20926),f=function(l,h,a,u){a.addToRenderList(h);var v=l.currentContext;if(x(l,v,h,a,u)&&h.isFilled){var o=h.width,c=h.height,p=o/2,g=o/h.projection,m=h.isReversed;h.showTop&&m&&(d(v,h,h.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(0,g-c),v.fill()),h.showLeft&&(d(v,h,h.fillLeft),v.beginPath(),m?(v.moveTo(-p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),h.showRight&&(d(v,h,h.fillRight),v.beginPath(),m?(v.moveTo(p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),v.restore()}};r.exports=f},49803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(16933);d.register("isotriangle",function(f,l,h,a,u,v,o,c){return this.displayList.add(new x(this.scene,f,l,h,a,u,v,o,c))})},60561:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(51503),f=s(79590),r.exports={renderWebGL:x,renderCanvas:f}},51503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline),o=d(h,a,u),c=v.calcMatrix.copyFrom(o.calc),p=h.width,g=h.height,m=p/2,C=p/h.projection,E=h.isReversed,M=a.alpha*h.alpha;if(h.isFilled){l.pipelines.preBatch(h);var P,w,R,A,L,F,O;if(h.showTop&&E){P=x.getTintAppendFloatAlpha(h.fillTop,M),w=c.getX(-m,-g),R=c.getY(-m,-g),A=c.getX(0,-C-g),L=c.getY(0,-C-g),F=c.getX(m,-g),O=c.getY(m,-g);var D=c.getX(0,C-g),B=c.getY(0,C-g);v.batchQuad(h,w,R,A,L,F,O,D,B,0,0,1,1,P,P,P,P,2)}h.showLeft&&(P=x.getTintAppendFloatAlpha(h.fillLeft,M),E?(w=c.getX(-m,-g),R=c.getY(-m,-g),A=c.getX(0,C),L=c.getY(0,C),F=c.getX(0,C-g),O=c.getY(0,C-g)):(w=c.getX(-m,0),R=c.getY(-m,0),A=c.getX(0,C),L=c.getY(0,C),F=c.getX(0,C-g),O=c.getY(0,C-g)),v.batchTri(h,w,R,A,L,F,O,0,0,1,1,P,P,P,2)),h.showRight&&(P=x.getTintAppendFloatAlpha(h.fillRight,M),E?(w=c.getX(m,-g),R=c.getY(m,-g),A=c.getX(0,C),L=c.getY(0,C),F=c.getX(0,C-g),O=c.getY(0,C-g)):(w=c.getX(m,0),R=c.getY(m,0),A=c.getX(0,C),L=c.getY(0,C),F=c.getX(0,C-g),O=c.getY(0,C-g)),v.batchTri(h,w,R,A,L,F,O,0,0,1,1,P,P,P,2)),l.pipelines.postBatch(h)}};r.exports=f},57847:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(17803),f=s(23031),l=s(36823),h=new d({Extends:x,Mixins:[l],initialize:function(u,v,o,c,p,g,m,C,E){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=0),x.call(this,u,"Line",new f(c,p,g,m));var M=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,o),this.setSize(M,P),C!==void 0&&this.setStrokeStyle(1,C,E),this.updateDisplayOrigin()},setLineWidth:function(a,u){return u===void 0&&(u=a),this._startWidth=a,this._endWidth=u,this.lineWidth=a,this},setTo:function(a,u,v,o){return this.geom.setTo(a,u,v,o),this}});r.exports=h},17440:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(75177),x=s(20926),f=function(l,h,a,u){a.addToRenderList(h);var v=l.currentContext;if(x(l,v,h,a,u)){var o=h._displayOriginX,c=h._displayOriginY;h.isStroked&&(d(v,h),v.beginPath(),v.moveTo(h.geom.x1-o,h.geom.y1-c),v.lineTo(h.geom.x2-o,h.geom.y2-c),v.stroke()),v.restore()}};r.exports=f},2481:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(57847);d.register("line",function(f,l,h,a,u,v,o,c){return this.displayList.add(new x(this.scene,f,l,h,a,u,v,o,c))})},36823:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(77385),f=s(17440),r.exports={renderWebGL:x,renderCanvas:f}},77385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(70554),f=function(l,h,a,u){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline),o=d(h,a,u);v.calcMatrix.copyFrom(o.calc);var c=h._displayOriginX,p=h._displayOriginY,g=a.alpha*h.alpha;if(l.pipelines.preBatch(h),h.isStroked){var m=v.strokeTint,C=x.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*g);m.TL=C,m.TR=C,m.BL=C,m.BR=C,v.batchLine(h.geom.x1-c,h.geom.y1-p,h.geom.x2-c,h.geom.y2-p,h._startWidth/2,h._endWidth/2,1,0,!1,o.sprite,o.camera)}l.pipelines.postBatch(h)};r.exports=f},24949:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(90273),x=s(83419),f=s(94811),l=s(13829),h=s(25717),a=s(17803),u=s(5469),v=new x({Extends:a,Mixins:[d],initialize:function(c,p,g,m,C,E){p===void 0&&(p=0),g===void 0&&(g=0),a.call(this,c,"Polygon",new h(m));var M=l(this.geom);this.setPosition(p,g),this.setSize(M.width,M.height),C!==void 0&&this.setFillStyle(C,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(o){o===void 0&&(o=1);for(var c=0;c<o;c++)u(this.geom);return this.updateData()},setTo:function(o){this.geom.setTo(o);var c=l(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var o=[],c=this.geom.points,p=0;p<c.length;p++)o.push(c[p].x,c[p].y);return o.push(c[0].x,c[0].y),this.pathIndexes=f(o),this.pathData=o,this}});r.exports=v},38710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX,p=a._displayOriginY,g=a.pathData,m=g.length-1,C=g[0]-c,E=g[1]-p;o.beginPath(),o.moveTo(C,E),a.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;o.lineTo(P,w)}a.closePath&&o.closePath(),a.isFilled&&(d(o,a),o.fill()),a.isStroked&&(x(o,a),o.stroke()),o.restore()}};r.exports=l},64827:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(24949);d.register("polygon",function(f,l,h,a,u){return this.displayList.add(new x(this.scene,f,l,h,a,u))})},90273:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(73695),f=s(38710),r.exports={renderWebGL:x,renderCanvas:f}},73695:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10441),x=s(91296),f=s(34682),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=x(a,u,v),p=o.calcMatrix.copyFrom(c.calc),g=a._displayOriginX,m=a._displayOriginY,C=u.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&d(o,p,a,C,g,m),a.isStroked&&f(o,a,C,g,m),h.pipelines.postBatch(a)};r.exports=l},74561:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(87841),f=s(17803),l=s(95597),h=new d({Extends:f,Mixins:[l],initialize:function(u,v,o,c,p,g,m){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=128),p===void 0&&(p=128),f.call(this,u,"Rectangle",new x(0,0,c,p)),this.setPosition(v,o),this.setSize(c,p),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(a,u){this.width=a,this.height=u,this.geom.setSize(a,u),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=a,v.hitArea.height=u),this},updateData:function(){var a=[],u=this.geom,v=this._tempLine;return u.getLineA(v),a.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),a.push(v.x2,v.y2),u.getLineC(v),a.push(v.x2,v.y2),u.getLineD(v),a.push(v.x2,v.y2),this.pathData=a,this}});r.exports=h},48682:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX,p=a._displayOriginY;a.isFilled&&(d(o,a),o.fillRect(-c,-p,a.width,a.height)),a.isStroked&&(x(o,a),o.beginPath(),o.rect(-c,-p,a.width,a.height),o.stroke()),o.restore()}};r.exports=l},87959:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(74561);d.register("rectangle",function(f,l,h,a,u,v){return this.displayList.add(new x(this.scene,f,l,h,a,u,v))})},95597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(52059),f=s(48682),r.exports={renderWebGL:x,renderCanvas:f}},52059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(34682),f=s(70554),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=d(a,u,v);o.calcMatrix.copyFrom(c.calc);var p=a._displayOriginX,g=a._displayOriginY,m=u.alpha*a.alpha;if(h.pipelines.preBatch(a),a.isFilled){var C=o.fillTint,E=f.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*m);C.TL=E,C.TR=E,C.BL=E,C.BR=E,o.batchFillRect(-p,-g,a.width,a.height)}a.isStroked&&x(o,a,m,p,g),h.pipelines.postBatch(a)};r.exports=l},55911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(81991),x=s(83419),f=s(94811),l=s(17803),h=new x({Extends:l,Mixins:[d],initialize:function(u,v,o,c,p,g,m,C){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=5),p===void 0&&(p=32),g===void 0&&(g=64),l.call(this,u,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=g,this.setPosition(v,o),this.setSize(g*2,g*2),m!==void 0&&this.setFillStyle(m,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],u=this._points,v=this._innerRadius,o=this._outerRadius,c=Math.PI/2*3,p=Math.PI/u,g=o,m=o;a.push(g,m+-o);for(var C=0;C<u;C++)a.push(g+Math.cos(c)*o,m+Math.sin(c)*o),c+=p,a.push(g+Math.cos(c)*v,m+Math.sin(c)*v),c+=p;return a.push(g,m+-o),this.pathIndexes=f(a),this.pathData=a,this}});r.exports=h},64272:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX,p=a._displayOriginY,g=a.pathData,m=g.length-1,C=g[0]-c,E=g[1]-p;o.beginPath(),o.moveTo(C,E),a.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;o.lineTo(P,w)}o.closePath(),a.isFilled&&(d(o,a),o.fill()),a.isStroked&&(x(o,a),o.stroke()),o.restore()}};r.exports=l},93697:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(55911),x=s(39429);x.register("star",function(f,l,h,a,u,v,o){return this.displayList.add(new d(this.scene,f,l,h,a,u,v,o))})},81991:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(57017),f=s(64272),r.exports={renderWebGL:x,renderCanvas:f}},57017:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10441),x=s(91296),f=s(34682),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=x(a,u,v),p=o.calcMatrix.copyFrom(c.calc),g=a._displayOriginX,m=a._displayOriginY,C=u.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&d(o,p,a,C,g,m),a.isStroked&&f(o,a,C,g,m),h.pipelines.postBatch(a)};r.exports=l},36931:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(17803),f=s(16483),l=s(96195),h=new d({Extends:x,Mixins:[l],initialize:function(u,v,o,c,p,g,m,C,E,M,P){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=64),m===void 0&&(m=0),C===void 0&&(C=128),E===void 0&&(E=128),x.call(this,u,"Triangle",new f(c,p,g,m,C,E));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(v,o),this.setSize(w,R),M!==void 0&&this.setFillStyle(M,P),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,u,v,o,c,p){return this.geom.setTo(a,u,v,o,c,p),this.updateData()},updateData:function(){var a=[],u=this.geom,v=this._tempLine;return u.getLineA(v),a.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),a.push(v.x2,v.y2),u.getLineC(v),a.push(v.x2,v.y2),this.pathData=a,this}});r.exports=h},85172:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(65960),x=s(75177),f=s(20926),l=function(h,a,u,v){u.addToRenderList(a);var o=h.currentContext;if(f(h,o,a,u,v)){var c=a._displayOriginX,p=a._displayOriginY,g=a.geom.x1-c,m=a.geom.y1-p,C=a.geom.x2-c,E=a.geom.y2-p,M=a.geom.x3-c,P=a.geom.y3-p;o.beginPath(),o.moveTo(g,m),o.lineTo(C,E),o.lineTo(M,P),o.closePath(),a.isFilled&&(d(o,a),o.fill()),a.isStroked&&(x(o,a),o.stroke()),o.restore()}};r.exports=l},45245:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(36931);d.register("triangle",function(f,l,h,a,u,v,o,c,p,g){return this.displayList.add(new x(this.scene,f,l,h,a,u,v,o,c,p,g))})},96195:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(83253),f=s(85172),r.exports={renderWebGL:x,renderCanvas:f}},83253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=s(34682),f=s(70554),l=function(h,a,u,v){u.addToRenderList(a);var o=h.pipelines.set(a.pipeline),c=d(a,u,v);o.calcMatrix.copyFrom(c.calc);var p=a._displayOriginX,g=a._displayOriginY,m=u.alpha*a.alpha;if(h.pipelines.preBatch(a),a.isFilled){var C=o.fillTint,E=f.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*m);C.TL=E,C.TR=E,C.BL=E,C.BR=E;var M=a.geom.x1-p,P=a.geom.y1-g,w=a.geom.x2-p,R=a.geom.y2-g,A=a.geom.x3-p,L=a.geom.y3-g;o.batchFillTriangle(M,P,w,R,A,L,c.sprite,c.camera)}a.isStroked&&x(o,a,m,p,g),h.pipelines.postBatch(a)};r.exports=l},68287:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(9674),x=s(83419),f=s(31401),l=s(95643),h=s(92751),a=new x({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,h],initialize:function(v,o,c,p,g){l.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(p,g),this.setPosition(o,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){this.anims.update(u,v)},play:function(u,v){return this.anims.play(u,v)},playReverse:function(u,v){return this.anims.playReverse(u,v)},playAfterDelay:function(u,v){return this.anims.playAfterDelay(u,v)},playAfterRepeat:function(u,v){return this.anims.playAfterRepeat(u,v)},chain:function(u){return this.anims.chain(u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=a},76552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d),s.batchSprite(d,d.frame,x,f)};r.exports=T},15567:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(13059),f=s(44603),l=s(23568),h=s(68287);f.register("sprite",function(a,u){a===void 0&&(a={});var v=l(a,"key",null),o=l(a,"frame",null),c=new h(this.scene,0,0,v,o);return u!==void 0&&(a.add=u),d(this.scene,c,a),x(c,a),c})},46409:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(68287);d.register("sprite",function(f,l,h,a){return this.displayList.add(new x(this.scene,f,l,h,a))})},92751:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(9409),f=s(76552),r.exports={renderWebGL:x,renderCanvas:f}},9409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x.addToRenderList(d),d.pipeline.batchSprite(d,x,f)};r.exports=T},14220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=s.canvas,l=s.context,h=s.style,a=[],u=0,v=x.length;h.maxLines>0&&h.maxLines<x.length&&(v=h.maxLines),h.syncFont(f,l);for(var o=0;o<v;o++){var c=h.strokeThickness;c+=l.measureText(x[o]).width,x[o].length>1&&(c+=s.letterSpacing*(x[o].length-1)),h.wordWrap&&(c-=l.measureText(" ").width),a[o]=Math.ceil(c),u=Math.max(u,a[o])}var p=d.fontSize+h.strokeThickness,g=p*v,m=s.lineSpacing;return v>1&&(g+=m*(v-1)),{width:u,height:g,lines:v,lineWidths:a,lineSpacing:m,lineHeight:p}};r.exports=T},79557:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=function(f){var l=d.create(this),h=l.getContext("2d",{willReadFrequently:!0});f.syncFont(l,h);var a=h.measureText(f.testString);if("actualBoundingBoxAscent"in a){var u=a.actualBoundingBoxAscent,v=a.actualBoundingBoxDescent;return d.remove(l),{ascent:u,descent:v,fontSize:u+v}}var o=Math.ceil(a.width*f.baselineX),c=o,p=2*c;c=c*f.baselineY|0,l.width=o,l.height=p,h.fillStyle="#f00",h.fillRect(0,0,o,p),h.font=f._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(f.testString,0,c);var g={ascent:0,descent:0,fontSize:0},m=h.getImageData(0,0,o,p);if(!m)return g.ascent=c,g.descent=c+6,g.fontSize=g.ascent+g.descent,d.remove(l),g;var C=m.data,E=C.length,M=o*4,P,w,R=0,A=!1;for(P=0;P<c;P++){for(w=0;w<M;w+=4)if(C[R+w]!==255){A=!0;break}if(!A)R+=M;else break}for(g.ascent=c-P,R=E-M,A=!1,P=p;P>c;P--){for(w=0;w<M;w+=4)if(C[R+w]!==255){A=!0;break}if(!A)R-=M;else break}return g.descent=P-c,g.fontSize=g.ascent+g.descent,d.remove(l),g};r.exports=x},50171:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(40366),x=s(27919),f=s(83419),l=s(31401),h=s(95643),a=s(14220),u=s(35154),v=s(35846),o=s(61771),c=s(35762),p=s(45650),g=new f({Extends:h,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,o],initialize:function(C,E,M,P,w){E===void 0&&(E=0),M===void 0&&(M=0),h.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(E,M),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new c(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(m){var C=this.style;if(C.wordWrapCallback){var E=C.wordWrapCallback.call(C.wordWrapCallbackScope,m,this);return Array.isArray(E)&&(E=E.join(`
`)),E}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(m,this.context,this.style.wordWrapWidth):this.basicWordWrap(m,this.context,this.style.wordWrapWidth):m},advancedWordWrap:function(m,C,E){for(var M="",P=m.replace(/ +/gi," ").split(this.splitRegExp),w=P.length,R=0;R<w;R++){var A=P[R],L="";A=A.replace(/^ *|\s*$/gi,"");var F=C.measureText(A).width;if(F<E){M+=A+`
`;continue}for(var O=E,D=A.split(" "),B=0;B<D.length;B++){var b=D[B],G=b+" ",V=C.measureText(G).width;if(V>O){if(B===0){for(var W=G;W.length&&(W=W.slice(0,-1),V=C.measureText(W).width,!(V<=O)););if(!W.length)throw new Error("wordWrapWidth < a single character");var H=b.substr(W.length);D[B]=H,L+=W}var z=D[B].length?B:B+1,U=D.slice(z).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,U),w=P.length;break}else L+=G,O-=V}M+=L.replace(/[ \n]*$/gi,"")+`
`}return M=M.replace(/[\s|\n]*$/gi,""),M},basicWordWrap:function(m,C,E){for(var M="",P=m.split(this.splitRegExp),w=P.length-1,R=C.measureText(" ").width,A=0;A<=w;A++){for(var L=E,F=P[A].split(" "),O=F.length-1,D=0;D<=O;D++){var B=F[D],b=C.measureText(B).width,G=b;D<O&&(G+=R),G>L&&D>0&&(M+=`
`,L=E),M+=B,D<O?(M+=" ",L-=G):L-=b}A<w&&(M+=`
`)}return M},getWrappedText:function(m){m===void 0&&(m=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(m);return C.split(this.splitRegExp)},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this._text&&(this._text=m.toString(),this.updateText()),this},appendText:function(m,C){C===void 0&&(C=!0),!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m=m.toString();var E=this._text.concat(C?`
`+m:m);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(m){return this.style.setStyle(m)},setFont:function(m){return this.style.setFont(m)},setFontFamily:function(m){return this.style.setFontFamily(m)},setFontSize:function(m){return this.style.setFontSize(m)},setFontStyle:function(m){return this.style.setFontStyle(m)},setFixedSize:function(m,C){return this.style.setFixedSize(m,C)},setBackgroundColor:function(m){return this.style.setBackgroundColor(m)},setFill:function(m){return this.style.setFill(m)},setColor:function(m){return this.style.setColor(m)},setStroke:function(m,C){return this.style.setStroke(m,C)},setShadow:function(m,C,E,M,P,w){return this.style.setShadow(m,C,E,M,P,w)},setShadowOffset:function(m,C){return this.style.setShadowOffset(m,C)},setShadowColor:function(m){return this.style.setShadowColor(m)},setShadowBlur:function(m){return this.style.setShadowBlur(m)},setShadowStroke:function(m){return this.style.setShadowStroke(m)},setShadowFill:function(m){return this.style.setShadowFill(m)},setWordWrapWidth:function(m,C){return this.style.setWordWrapWidth(m,C)},setWordWrapCallback:function(m,C){return this.style.setWordWrapCallback(m,C)},setAlign:function(m){return this.style.setAlign(m)},setResolution:function(m){return this.style.setResolution(m)},setLineSpacing:function(m){return this.lineSpacing=m,this.updateText()},setLetterSpacing:function(m){return this.letterSpacing=m,this.updateText()},setPadding:function(m,C,E,M){if(typeof m=="object"){var P=m,w=u(P,"x",null);w!==null?(m=w,E=w):(m=u(P,"left",0),E=u(P,"right",m));var R=u(P,"y",null);R!==null?(C=R,M=R):(C=u(P,"top",0),M=u(P,"bottom",C))}else m===void 0&&(m=0),C===void 0&&(C=m),E===void 0&&(E=m),M===void 0&&(M=C);return this.padding.left=m,this.padding.top=C,this.padding.right=E,this.padding.bottom=M,this.updateText()},setMaxLines:function(m){return this.style.setMaxLines(m)},setRTL:function(m){m===void 0&&(m=!0);var C=this.style;return C.rtl===m?this:(C.rtl=m,m?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var m=this.canvas,C=this.context,E=this.style,M=E.resolution,P=E.metrics;E.syncFont(m,C);var w=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),A=a(this,P,R),L=this.padding,F;E.fixedWidth===0?(this.width=A.width+L.left+L.right,F=A.width):(this.width=E.fixedWidth,F=this.width-L.left-L.right,F<A.width&&(F=A.width)),E.fixedHeight===0?this.height=A.height+L.top+L.bottom:this.height=E.fixedHeight;var O=this.width,D=this.height;this.updateDisplayOrigin(),O*=M,D*=M,O=Math.max(O,1),D=Math.max(D,1),m.width!==O||m.height!==D?(m.width=O,m.height=D,this.frame.setSize(O,D),E.syncFont(m,C),E.rtl&&(C.direction="rtl")):C.clearRect(0,0,O,D),C.save(),C.scale(M,M),E.backgroundColor&&(C.fillStyle=E.backgroundColor,C.fillRect(0,0,O,D)),E.syncStyle(m,C),C.translate(L.left,L.top);for(var B,b,G=0;G<A.lines;G++){if(B=E.strokeThickness/2,b=E.strokeThickness/2+G*A.lineHeight+P.ascent,G>0&&(b+=A.lineSpacing*G),E.rtl)B=O-B-L.left-L.right;else if(E.align==="right")B+=F-A.lineWidths[G];else if(E.align==="center")B+=(F-A.lineWidths[G])/2;else if(E.align==="justify"){var V=.85;if(A.lineWidths[G]/A.width>=V){var W=A.width-A.lineWidths[G],H=C.measureText(" ").width,z=R[G].trim(),U=z.split(" ");W+=(R[G].length-z.length)*H;for(var I=Math.floor(W/H),N=0;I>0;)U[N]+=" ",N=(N+1)%(U.length-1||1),--I;R[G]=U.join(" ")}}if(this.autoRound&&(B=Math.round(B),b=Math.round(b)),E.strokeThickness&&(E.syncShadow(C,E.shadowStroke),C.strokeText(R[G],B,b)),E.color){E.syncShadow(C,E.shadowFill);var k=this.letterSpacing;if(k!==0)for(var X=0,Y=R[G].split(""),$=0;$<Y.length;$++)C.fillText(Y[$],B+X,b),X+=C.measureText(Y[$]).width+k;else C.fillText(R[G],B,b)}}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(m,this.frame.source.glTexture,!0));var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(m){this.setText(m)}},toJSON:function(){var m=l.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return m.data=C,m},preDestroy:function(){v(this.canvas),x.remove(this.canvas);var m=this.texture;m&&m.destroy()}});r.exports=g},79724:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d.width===0||d.height===0||(x.addToRenderList(d),s.batchSprite(d,d.frame,x,f))};r.exports=T},71259:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(50171);x.register("text",function(h,a){h===void 0&&(h={});var u=f(h,"text",""),v=f(h,"style",null),o=f(h,"padding",null);o!==null&&(v.padding=o);var c=new l(this.scene,0,0,u,v);return a!==void 0&&(h.add=a),d(this.scene,c,h),c.autoRound=f(h,"autoRound",!0),c.resolution=f(h,"resolution",1),c})},68005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(50171),x=s(39429);x.register("text",function(f,l,h,a){return this.displayList.add(new d(this.scene,f,l,h,a))})},61771:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(34397),f=s(79724),r.exports={renderWebGL:x,renderCanvas:f}},35762:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23568),f=s(35154),l=s(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new d({initialize:function(v,o){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(o,!1,!0)},setStyle:function(u,v,o){v===void 0&&(v=!0),o===void 0&&(o=!1),u&&u.hasOwnProperty("fontSize")&&typeof u.fontSize=="number"&&(u.fontSize=u.fontSize.toString()+"px");for(var c in h){var p=o?h[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=f(u,h[c][0],p):this[c]=x(u,h[c][0],p)}var g=f(u,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=f(u,"fill",null);m!==null&&(this.color=m);var C=f(u,"metrics",!1);return C?this.metrics={ascent:f(C,"ascent",0),descent:f(C,"descent",0),fontSize:f(C,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=l(this)),v?this.parent.updateText():this.parent},syncFont:function(u,v){v.font=this._font},syncStyle:function(u,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(u,v){v?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},update:function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(u,v){v===void 0&&(v=!0);var o=u,c="",p="";if(typeof u!="string")o=f(u,"fontFamily","Courier"),c=f(u,"fontSize","16px"),p=f(u,"fontStyle","");else{var g=u.split(" "),m=0;p=g.length>2?g[m++]:"",c=g[m++]||"16px",o=g[m++]||"Courier"}return(o!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=o,this.fontSize=c,this.fontStyle=p,v&&this.update(!0)),this.parent},setFontFamily:function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},setFontStyle:function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},setFontSize:function(u){return typeof u=="number"&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},setTestString:function(u){return this.testString=u,this.update(!0)},setFixedSize:function(u,v){return this.fixedWidth=u,this.fixedHeight=v,u&&(this.parent.width=u),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(u){return this.backgroundColor=u,this.update(!1)},setFill:function(u){return this.color=u,this.update(!1)},setColor:function(u){return this.color=u,this.update(!1)},setResolution:function(u){return this.resolution=u,this.update(!1)},setStroke:function(u,v){return v===void 0&&(v=this.strokeThickness),u===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==v)&&(this.stroke=u,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(u,v,o,c,p,g){return u===void 0&&(u=0),v===void 0&&(v=0),o===void 0&&(o="#000"),c===void 0&&(c=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=u,this.shadowOffsetY=v,this.shadowColor=o,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this.shadowOffsetX=u,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(u){return u===void 0&&(u="#000"),this.shadowColor=u,this.update(!1)},setShadowBlur:function(u){return u===void 0&&(u=0),this.shadowBlur=u,this.update(!1)},setShadowStroke:function(u){return this.shadowStroke=u,this.update(!1)},setShadowFill:function(u){return this.shadowFill=u,this.update(!1)},setWordWrapWidth:function(u,v){return v===void 0&&(v=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(u,v){return v===void 0&&(v=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(u){return u===void 0&&(u="left"),this.align=u,this.update(!1)},setMaxLines:function(u){return u===void 0&&(u=0),this.maxLines=u,this.update(!1)},getTextMetrics:function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},toJSON:function(){var u={};for(var v in h)u[v]=this[v];return u.metrics=this.getTextMetrics(),u},destroy:function(){this.parent=void 0}});r.exports=a},34397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70554),x=function(f,l,h,a){if(!(l.width===0||l.height===0)){h.addToRenderList(l);var u=l.frame,v=u.width,o=u.height,c=d.getTintAppendFloatAlpha,p=f.pipelines.set(l.pipeline,l),g=p.setTexture2D(u.glTexture,l);p.batchTexture(l,u.glTexture,v,o,l.x,l.y,v/l.style.resolution,o/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,v,o,c(l.tintTopLeft,h.alpha*l._alphaTL),c(l.tintTopRight,h.alpha*l._alphaTR),c(l.tintBottomLeft,h.alpha*l._alphaBL),c(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,0,0,h,a,!1,g)}};r.exports=x},20839:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=s(83419),f=s(31401),l=s(95643),h=s(98439),a=s(68703),u=s(56295),v=s(45650),o=s(26099),c=8,p=new x({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,u],initialize:function(m,C,E,M,P,w,R){var A=m.sys.renderer;l.call(this,m,"TileSprite");var L=m.sys.textures.get(w),F=L.get(R);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=m.sys.textures.get("__MISSING"),F=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=m.sys.textures.get("__MISSING"),F=L.get()),!M||!P?(M=F.width,P=F.height):(M=Math.floor(M),P=Math.floor(P)),this._tilePosition=new o,this._tileScale=new o(1,1),this.dirty=!1,this.renderer=A,this.canvas=d.create(this,M,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(F.width),this.potHeight=h(F.height),this.fillCanvas=d.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,E),this.setSize(M,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(g,m){return this.displayTexture=this.scene.sys.textures.get(g),this.setFrame(m)},setFrame:function(g){var m=this.displayTexture.get(g);return this.potWidth=h(m.width),this.potHeight=h(m.height),this.canvas.width=0,!m.cutWidth||!m.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this.displayFrame=m,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(g,m){return g!==void 0&&(this.tilePositionX=g),m!==void 0&&(this.tilePositionY=m),this},setTileScale:function(g,m){return g===void 0&&(g=this.tileScaleX),m===void 0&&(m=g),this.tileScaleX=g,this.tileScaleY=m,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var g=this.displayFrame;if(g.source.isRenderTexture||g.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var m=this.fillContext,C=this.fillCanvas,E=this.potWidth,M=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=g.cutWidth,M=g.cutHeight),m.clearRect(0,0,E,M),C.width=E,C.height=M,m.drawImage(g.source.image,g.cutX,g.cutY,g.cutWidth,g.cutHeight,0,0,E,M),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=m.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var g=this.canvas;if((g.width!==this.width||g.height!==this.height)&&(g.width=this.width,g.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var m=this.context;this.scene.sys.game.config.antialias||a.disable(m);var C=this._tileScale.x,E=this._tileScale.y,M=this._tilePosition.x,P=this._tilePosition.y;m.clearRect(0,0,this.width,this.height),m.save(),m.scale(C,E),m.translate(-M,-P),m.fillStyle=this.fillPattern,m.fillRect(M,P,this.width/C,this.height/E),m.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),d.remove(this.canvas),d.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var g=this.texture;g&&g.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(g){this._tilePosition.x=g,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(g){this._tilePosition.y=g,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(g){this._tileScale.x=g,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(g){this._tileScale.y=g,this.dirty=!0}}});r.exports=p},46992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d.updateCanvas(),x.addToRenderList(d),s.batchSprite(d,d.frame,x,f)};r.exports=T},14167:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(20839);x.register("tileSprite",function(h,a){h===void 0&&(h={});var u=f(h,"x",0),v=f(h,"y",0),o=f(h,"width",512),c=f(h,"height",512),p=f(h,"key",""),g=f(h,"frame",""),m=new l(this.scene,u,v,o,c,p,g);return a!==void 0&&(h.add=a),d(this.scene,m,h),m})},91681:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20839),x=s(39429);x.register("tileSprite",function(f,l,h,a,u,v){return this.displayList.add(new d(this.scene,f,l,h,a,u,v))})},56295:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(18553),f=s(46992),r.exports={renderWebGL:x,renderCanvas:f}},18553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70554),x=function(f,l,h,a){l.updateCanvas();var u=l.width,v=l.height;if(!(u===0||v===0)){h.addToRenderList(l);var o=d.getTintAppendFloatAlpha,c=f.pipelines.set(l.pipeline,l),p=c.setTexture2D(l.fillPattern,l);c.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,u,v,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*u,l.originY*v,0,0,u,v,o(l.tintTopLeft,h.alpha*l._alphaTL),o(l.tintTopRight,h.alpha*l._alphaTR),o(l.tintBottomLeft,h.alpha*l._alphaBL),o(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,h,a,!1,p)}};r.exports=x},18471:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(31401),l=s(51708),h=s(8443),a=s(95643),u=s(36383),v=s(14463),o=s(45650),c=s(10247),p=new x({Extends:a,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,c],initialize:function(m,C,E,M){a.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=o(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var P=m.sys.game;this._device=P.device.video,this.setPosition(C,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(h.PAUSE,this.globalPause,this),P.events.on(h.RESUME,this.globalResume,this);var w=m.sys.sound;w&&w.on(v.GLOBAL_MUTE,this.globalMute,this),M&&this.load(M)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var m=this.scene.sys.cache.video.get(g);return m?(this.cacheKey=g,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,m,C,E,M){m===void 0&&(m=!0),C===void 0&&(C=!1),this.cacheKey!==g&&(this.load(g),m&&this.play(C,E,M))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,m,C){m===void 0&&(m=!1);var E=this._device.getVideoURL(g);return E?(this.cacheKey="",this.loadHandler(E.url,m,C)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,m,C){return this.loadHandler(null,m,C,g)},loadHandler:function(g,m,C,E){m||(m=!1);var M=this.video;if(M?(this.removeLoadEventHandlers(),this.stop()):(M=document.createElement("video"),M.controls=!1,M.setAttribute("playsinline","playsinline"),M.setAttribute("preload","auto"),M.setAttribute("disablePictureInPicture","true")),m?(M.muted=!0,M.defaultMuted=!0,M.setAttribute("autoplay","autoplay")):(M.muted=!1,M.defaultMuted=!1,M.removeAttribute("autoplay")),C?M.setAttribute("crossorigin",C):M.removeAttribute("crossorigin"),E)if("srcObject"in M)try{M.srcObject=E}catch(w){if(w.name!=="TypeError")throw w;M.src=URL.createObjectURL(E)}else M.src=URL.createObjectURL(E);else M.src=g;this.retry=0,this.video=M,this._playCalled=!1,M.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},requestVideoFrame:function(g,m){var C=this.video;if(C){var E=m.width,M=m.height,P=this.videoTexture,w=this.videoTextureSource,R=!P||w.source!==C;R?(this._codePaused=C.paused,this._codeMuted=C.muted,P?(w.source=C,w.width=E,w.height=M,P.get().setSize(E,M)):(P=this.scene.sys.textures.create(this._key,C,E,M),P.add("__BASE",0,0,0,E,M),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=m;var A=m.mediaTime;R&&(this._lastUpdate=A,this.emit(l.VIDEO_CREATED,this,E,M),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=A,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,m,C){m===void 0&&(m=-1),C===void 0&&(C=u.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(g===void 0&&(g=E.loop),E.loop=g,this._markerIn=m,this._markerOut=C,this._playingMarker=m>-1&&C>m&&C<u.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler),g.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var C in m)g.addEventListener(C,m[C])}},removeEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var C in m)g.removeEventListener(C,m[C])}},createPlayPromise:function(g){g===void 0&&(g=!0);var m=this.video,C=m.play();if(C!==void 0){var E=this.playSuccess.bind(this),M=this.playError.bind(this);if(!g){var P=this;M=function(){P.failedPlayAttempts++}}C.then(E).catch(M)}else m.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,m,C){return!isNaN(m)&&m>=0&&!isNaN(C)&&C>m&&(this.markers[g]=[m,C]),this},playMarker:function(g,m){var C=this.markers[g];return C&&this.play(m,C[0],C[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,m){return g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,g,m)},snapshotArea:function(g,m,C,E,M,P){g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=this.width),E===void 0&&(E=this.height),M===void 0&&(M=C),P===void 0&&(P=E);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(M,P),w&&R.context.drawImage(w,g,m,C,E,0,0,M,P)):(R=this.scene.sys.textures.createCanvas(o(),M,P),this.snapshotTexture=R,w&&R.context.drawImage(w,g,m,C,E,0,0,M,P)),R.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var m=g.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(l.VIDEO_ERROR,this,g)},metadataHandler:function(g){this.emit(l.VIDEO_METADATA,this,g)},setSizeToFrame:function(g){g||(g=this.frame),this.width=g.realWidth,this.height=g.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=this.width,m.hitArea.height=this.height),this},stalledHandler:function(g){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(g,m){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var m=this.video;if(m){var C=m.duration;if(C!==1/0&&!isNaN(C)){var E=C*g;this.setCurrentTime(E)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var m=this.video;if(m){if(typeof g=="string"){var C=g[0],E=parseFloat(g.substr(1));C==="+"?g=m.currentTime+E:C==="-"&&(g=m.currentTime-E)}m.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var m=g.duration;if(m!==1/0&&!isNaN(m))return g.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var m=this.video;return m&&(m.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,m){this._systemMuted=m;var C=this.video;C&&(C.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var m=this.video;return this._codePaused=g,m&&!m.ended&&(g?m.paused||(this.removeEventHandlers(),m.pause()):g||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=d(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(m)),this._key=g,this.flipY=m,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(h.PAUSE,this.globalPause,this),g.off(h.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(v.GLOBAL_MUTE,this.globalMute,this)}});r.exports=p},58352:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d.videoTexture&&(x.addToRenderList(d),s.batchSprite(d,d.frame,x,f))};r.exports=T},11511:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25305),x=s(44603),f=s(23568),l=s(18471);x.register("video",function(h,a){h===void 0&&(h={});var u=f(h,"key",null),v=new l(this.scene,0,0,u);return a!==void 0&&(h.add=a),d(this.scene,v,h),v})},89025:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(18471),x=s(39429);x.register("video",function(f,l,h){return this.displayList.add(new d(this.scene,f,l,h))})},10247:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(29849),f=s(58352),r.exports={renderWebGL:x,renderCanvas:f}},29849:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d.videoTexture&&(x.addToRenderList(d),d.pipeline.batchSprite(d,x,f))};r.exports=T},41481:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(96503),f=s(87902),l=s(83419),h=s(31401),a=s(95643),u=s(87841),v=s(37303),o=new l({Extends:a,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(p,g,m,C,E){C===void 0&&(C=1),E===void 0&&(E=C),a.call(this,p,"Zone"),this.setPosition(g,m),this.width=C,this.height=E,this.blendMode=d.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,g){g===void 0&&(g=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var m=this.input;return g&&m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new x(0,0,c),f)},setRectangleDropZone:function(c,p){return this.setDropZone(new u(0,0,c,p),v)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,g){g.addToRenderList(p)},renderWebGL:function(c,p,g){g.addToRenderList(p)}});r.exports=o},95261:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(44603),x=s(23568),f=s(41481);d.register("zone",function(l){var h=x(l,"x",0),a=x(l,"y",0),u=x(l,"width",1),v=x(l,"height",u);return new f(this.scene,h,a,u,v)})},84175:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41481),x=s(39429);x.register("zone",function(f,l,h,a){return this.displayList.add(new d(this.scene,f,l,h,a))})},95166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};r.exports=T},96503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(87902),f=s(26241),l=s(79124),h=s(23777),a=s(28176),u=new d({initialize:function(o,c,p){o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=h.CIRCLE,this.x=o,this.y=c,this._radius=p,this._diameter=p*2},contains:function(v,o){return x(this,v,o)},getPoint:function(v,o){return f(this,v,o)},getPoints:function(v,o,c){return l(this,v,o,c)},getRandomPoint:function(v){return a(this,v)},setTo:function(v,o,c){return this.x=v,this.y=o,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,o){return o===void 0&&(o=v),this.x=v,this.y=o,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});r.exports=u},71562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 2*(Math.PI*s.radius)};r.exports=T},92110:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h){return h===void 0&&(h=new d),h.x=f.x+f.radius*Math.cos(l),h.y=f.y+f.radius*Math.sin(l),h};r.exports=x},42250:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(96503),x=function(f){return new d(f.x,f.y,f.radius)};r.exports=x},87902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(s.radius>0&&d>=s.left&&d<=s.right&&x>=s.top&&x<=s.bottom){var f=(s.x-d)*(s.x-d),l=(s.y-x)*(s.y-x);return f+l<=s.radius*s.radius}else return!1};r.exports=T},5698:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87902),x=function(f,l){return d(f,l.x,l.y)};r.exports=x},70588:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87902),x=function(f,l){return d(f,l.x,l.y)&&d(f,l.right,l.y)&&d(f,l.x,l.bottom)&&d(f,l.right,l.bottom)};r.exports=x},26394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x,s.y,s.radius)};r.exports=T},76278:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x===d.x&&s.y===d.y&&s.radius===d.radius};r.exports=T},2074:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l){return l===void 0&&(l=new d),l.x=f.left,l.y=f.top,l.width=f.diameter,l.height=f.diameter,l};r.exports=x},26241:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(92110),x=s(62945),f=s(36383),l=s(2141),h=function(a,u,v){v===void 0&&(v=new l);var o=x(u,0,f.PI2);return d(a,o,v)};r.exports=h},79124:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(71562),x=s(92110),f=s(62945),l=s(36383),h=function(a,u,v,o){o===void 0&&(o=[]),!u&&v>0&&(u=d(a)/v);for(var c=0;c<u;c++){var p=f(c/u,0,l.PI2);o.push(x(a,p))}return o};r.exports=h},50884:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x+=d,s.y+=x,s};r.exports=T},39212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x+=d.x,s.y+=d.y,s};r.exports=T},28176:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){l===void 0&&(l=new d);var h=2*Math.PI*Math.random(),a=Math.random()+Math.random(),u=a>1?2-a:a,v=u*Math.cos(h),o=u*Math.sin(h);return l.x=f.x+v*f.radius,l.y=f.y+o*f.radius,l};r.exports=x},88911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(96503);d.Area=s(95166),d.Circumference=s(71562),d.CircumferencePoint=s(92110),d.Clone=s(42250),d.Contains=s(87902),d.ContainsPoint=s(5698),d.ContainsRect=s(70588),d.CopyFrom=s(26394),d.Equals=s(76278),d.GetBounds=s(2074),d.GetPoint=s(26241),d.GetPoints=s(79124),d.Offset=s(50884),d.OffsetPoint=s(39212),d.Random=s(28176),r.exports=d},23777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=T},78874:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};r.exports=T},92990:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=s.width/2,x=s.height/2,f=Math.pow(d-x,2)/Math.pow(d+x,2);return Math.PI*(d+x)*(1+3*f/(10+Math.sqrt(4-3*f)))};r.exports=T},79522:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h){h===void 0&&(h=new d);var a=f.width/2,u=f.height/2;return h.x=f.x+a*Math.cos(l),h.y=f.y+u*Math.sin(l),h};r.exports=x},58102:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8497),x=function(f){return new d(f.x,f.y,f.width,f.height)};r.exports=x},81154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(s.width<=0||s.height<=0)return!1;var f=(d-s.x)/s.width,l=(x-s.y)/s.height;return f*=f,l*=l,f+l<.25};r.exports=T},46662:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(81154),x=function(f,l){return d(f,l.x,l.y)};r.exports=x},1632:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(81154),x=function(f,l){return d(f,l.x,l.y)&&d(f,l.right,l.y)&&d(f,l.x,l.bottom)&&d(f,l.right,l.bottom)};r.exports=x},65534:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x,s.y,s.width,s.height)};r.exports=T},8497:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(81154),f=s(90549),l=s(48320),h=s(23777),a=s(24820),u=new d({initialize:function(o,c,p,g){o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=h.ELLIPSE,this.x=o,this.y=c,this.width=p,this.height=g},contains:function(v,o){return x(this,v,o)},getPoint:function(v,o){return f(this,v,o)},getPoints:function(v,o,c){return l(this,v,o,c)},getRandomPoint:function(v){return a(this,v)},setTo:function(v,o,c,p){return this.x=v,this.y=o,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,o){return o===void 0&&(o=v),this.x=v,this.y=o,this},setSize:function(v,o){return o===void 0&&(o=v),this.width=v,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});r.exports=u},36146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x===d.x&&s.y===d.y&&s.width===d.width&&s.height===d.height};r.exports=T},23694:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l){return l===void 0&&(l=new d),l.x=f.left,l.y=f.top,l.width=f.width,l.height=f.height,l};r.exports=x},90549:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79522),x=s(62945),f=s(36383),l=s(2141),h=function(a,u,v){v===void 0&&(v=new l);var o=x(u,0,f.PI2);return d(a,o,v)};r.exports=h},48320:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(92990),x=s(79522),f=s(62945),l=s(36383),h=function(a,u,v,o){o===void 0&&(o=[]),!u&&v>0&&(u=d(a)/v);for(var c=0;c<u;c++){var p=f(c/u,0,l.PI2);o.push(x(a,p))}return o};r.exports=h},73424:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x+=d,s.y+=x,s};r.exports=T},44808:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x+=d.x,s.y+=d.y,s};r.exports=T},24820:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){l===void 0&&(l=new d);var h=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return l.x=f.x+a*Math.cos(h)*f.width/2,l.y=f.y+a*Math.sin(h)*f.height/2,l};r.exports=x},49203:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8497);d.Area=s(78874),d.Circumference=s(92990),d.CircumferencePoint=s(79522),d.Clone=s(58102),d.Contains=s(81154),d.ContainsPoint=s(46662),d.ContainsRect=s(1632),d.CopyFrom=s(65534),d.Equals=s(36146),d.GetBounds=s(23694),d.GetPoint=s(90549),d.GetPoints=s(48320),d.Offset=s(73424),d.OffsetPoint=s(44808),d.Random=s(24820),r.exports=d},55738:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23777),x=s(79291),f={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};f=x(!1,f,d),r.exports=f},2044:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20339),x=function(f,l){return d(f.x,f.y,l.x,l.y)<=f.radius+l.radius};r.exports=x},81491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=d.width/2,f=d.height/2,l=Math.abs(s.x-d.x-x),h=Math.abs(s.y-d.y-f),a=x+s.radius,u=f+s.radius;if(l>a||h>u)return!1;if(l<=x||h<=f)return!0;var v=l-x,o=h-f,c=v*v,p=o*o,g=s.radius*s.radius;return c+p<=g};r.exports=T},63376:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(2044),f=function(l,h,a){if(a===void 0&&(a=[]),x(l,h)){var u=l.x,v=l.y,o=l.radius,c=h.x,p=h.y,g=h.radius,m,C,E,M,P;if(v===p)P=(g*g-o*o-c*c+u*u)/(2*(u-c)),m=1,C=-2*p,E=c*c+P*P-2*c*P+p*p-g*g,M=C*C-4*m*E,M===0?a.push(new d(P,-C/(2*m))):M>0&&(a.push(new d(P,(-C+Math.sqrt(M))/(2*m))),a.push(new d(P,(-C-Math.sqrt(M))/(2*m))));else{var w=(u-c)/(v-p),R=(g*g-o*o-c*c+u*u-p*p+v*v)/(2*(v-p));m=w*w+1,C=2*v*w-2*R*w-2*u,E=u*u+v*v+R*R-o*o-2*v*R,M=C*C-4*m*E,M===0?(P=-C/(2*m),a.push(new d(P,R-P*w))):M>0&&(P=(-C+Math.sqrt(M))/(2*m),a.push(new d(P,R-P*w)),P=(-C-Math.sqrt(M))/(2*m),a.push(new d(P,R-P*w)))}}return a};r.exports=f},97439:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(4042),x=s(81491),f=function(l,h,a){if(a===void 0&&(a=[]),x(l,h)){var u=h.getLineA(),v=h.getLineB(),o=h.getLineC(),c=h.getLineD();d(u,l,a),d(v,l,a),d(o,l,a),d(c,l,a)}return a};r.exports=f},4042:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(80462),f=function(l,h,a){if(a===void 0&&(a=[]),x(l,h)){var u=l.x1,v=l.y1,o=l.x2,c=l.y2,p=h.x,g=h.y,m=h.radius,C=o-u,E=c-v,M=u-p,P=v-g,w=C*C+E*E,R=2*(C*M+E*P),A=M*M+P*P-m*m,L=R*R-4*w*A,F,O;if(L===0){var D=-R/(2*w);F=u+D*C,O=v+D*E,D>=0&&D<=1&&a.push(new d(F,O))}else if(L>0){var B=(-R-Math.sqrt(L))/(2*w);F=u+B*C,O=v+B*E,B>=0&&B<=1&&a.push(new d(F,O));var b=(-R+Math.sqrt(L))/(2*w);F=u+b*C,O=v+b*E,b>=0&&b<=1&&a.push(new d(F,O))}}return a};r.exports=f},36100:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25836),x=function(f,l,h,a){h===void 0&&(h=!1);var u=f.x1,v=f.y1,o=f.x2,c=f.y2,p=l.x1,g=l.y1,m=l.x2,C=l.y2,E=o-u,M=c-v,P=m-p,w=C-g,R=E*w-M*P;if(R===0)return null;var A,L,F;if(h){if(A=(E*(g-v)+M*(u-p))/(P*M-w*E),L=(p+P*A-u)/E,L<0||A<0||A>1)return null;F=L}else{if(A=((p-u)*w-(g-v)*P)/R,L=((v-g)*E-(u-p)*M)/R,A<0||A>1||L<0||L>1)return null;F=A}return a===void 0&&(a=new d),a.set(u+E*F,v+M*F,F)};r.exports=x},3073:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36100),x=s(23031),f=s(25836),l=new x,h=new f,a=function(u,v,o,c){o===void 0&&(o=!1),c===void 0&&(c=new f);var p=!1;c.set(),h.set();for(var g=v[v.length-1],m=0;m<v.length;m++){var C=v[m];l.setTo(g.x,g.y,C.x,C.y),g=C,d(u,l,o,h)&&(!p||h.z<c.z)&&(c.copy(h),p=!0)}return p?c:null};r.exports=a},56362:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25836),x=s(61369),f=s(3073),l=new d,h=function(a,u,v,o){o===void 0&&(o=new x),Array.isArray(u)||(u=[u]);var c=!1;o.set(),l.set();for(var p=0;p<u.length;p++)f(a,u[p].points,v,l)&&(!c||l.z<o.z)&&(o.set(l.x,l.y,l.z,p),c=!0);return c?o:null};r.exports=h},60646:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(76112),f=s(92773),l=function(h,a,u){if(u===void 0&&(u=[]),f(h,a))for(var v=a.getLineA(),o=a.getLineB(),c=a.getLineC(),p=a.getLineD(),g=[new d,new d,new d,new d],m=[x(v,h,g[0]),x(o,h,g[1]),x(c,h,g[2]),x(p,h,g[3])],C=0;C<4;C++)m[C]&&u.push(g[C]);return u};r.exports=l},71147:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61369),x=s(56362),f=s(23031),l=new f;function h(v,o,c,p,g){var m=Math.cos(v),C=Math.sin(v);l.setTo(o,c,o+m,c+C);var E=x(l,p,!0);E&&g.push(new d(E.x,E.y,v,E.w))}function a(v,o){return v.z-o.z}var u=function(v,o,c){Array.isArray(c)||(c=[c]);for(var p=[],g=[],m=0;m<c.length;m++)for(var C=c[m].points,E=0;E<C.length;E++){var M=Math.atan2(C[E].y-o,C[E].x-v);g.indexOf(M)===-1&&(h(M,v,o,c,p),h(M-1e-5,v,o,c,p),h(M+1e-5,v,o,c,p),g.push(M))}return p.sort(a)};r.exports=u},68389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=s(59996),f=function(l,h,a){return a===void 0&&(a=new d),x(l,h)&&(a.x=Math.max(l.x,h.x),a.y=Math.max(l.y,h.y),a.width=Math.min(l.right,h.right)-a.x,a.height=Math.min(l.bottom,h.bottom)-a.y),a};r.exports=f},52784:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(60646),x=s(59996),f=function(l,h,a){if(a===void 0&&(a=[]),x(l,h)){var u=l.getLineA(),v=l.getLineB(),o=l.getLineC(),c=l.getLineD();d(u,h,a),d(v,h,a),d(o,h,a),d(c,h,a)}return a};r.exports=f},26341:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(89265),x=s(60646),f=function(l,h,a){if(a===void 0&&(a=[]),d(l,h)){var u=h.getLineA(),v=h.getLineB(),o=h.getLineC();x(u,l,a),x(v,l,a),x(o,l,a)}return a};r.exports=f},38720:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(4042),x=s(67636),f=function(l,h,a){if(a===void 0&&(a=[]),x(l,h)){var u=l.getLineA(),v=l.getLineB(),o=l.getLineC();d(u,h,a),d(v,h,a),d(o,h,a)}return a};r.exports=f},13882:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(2822),f=s(76112),l=function(h,a,u){if(u===void 0&&(u=[]),x(h,a))for(var v=h.getLineA(),o=h.getLineB(),c=h.getLineC(),p=[new d,new d,new d],g=[f(v,a,p[0]),f(o,a,p[1]),f(c,a,p[2])],m=0;m<3;m++)g[m]&&u.push(p[m]);return u};r.exports=l},75636:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82944),x=s(13882),f=function(l,h,a){if(a===void 0&&(a=[]),d(l,h)){var u=h.getLineA(),v=h.getLineB(),o=h.getLineC();x(l,u,a),x(l,v,a),x(l,o,a)}return a};r.exports=f},80462:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87902),x=s(2141),f=new x,l=function(h,a,u){if(u===void 0&&(u=f),d(a,h.x1,h.y1))return u.x=h.x1,u.y=h.y1,!0;if(d(a,h.x2,h.y2))return u.x=h.x2,u.y=h.y2,!0;var v=h.x2-h.x1,o=h.y2-h.y1,c=a.x-h.x1,p=a.y-h.y1,g=v*v+o*o,m=v,C=o;if(g>0){var E=(c*v+p*o)/g;m*=E,C*=E}u.x=h.x1+m,u.y=h.y1+C;var M=m*m+C*C;return M<=g&&m*v+C*o>=0&&d(a,u.x,u.y)};r.exports=l},76112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=s.x1,l=s.y1,h=s.x2,a=s.y2,u=d.x1,v=d.y1,o=d.x2,c=d.y2;if(f===h&&l===a||u===o&&v===c)return!1;var p=(c-v)*(h-f)-(o-u)*(a-l);if(p===0)return!1;var g=((o-u)*(l-v)-(c-v)*(f-u))/p,m=((h-f)*(l-v)-(a-l)*(f-u))/p;return g<0||g>1||m<0||m>1?!1:(x&&(x.x=f+g*(h-f),x.y=l+g*(a-l)),!0)};r.exports=T},92773:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.x1,f=s.y1,l=s.x2,h=s.y2,a=d.x,u=d.y,v=d.right,o=d.bottom,c=0;if(x>=a&&x<=v&&f>=u&&f<=o||l>=a&&l<=v&&h>=u&&h<=o)return!0;if(x<a&&l>=a){if(c=f+(h-f)*(a-x)/(l-x),c>u&&c<=o)return!0}else if(x>v&&l<=v&&(c=f+(h-f)*(v-x)/(l-x),c>=u&&c<=o))return!0;if(f<u&&h>=u){if(c=x+(l-x)*(u-f)/(h-f),c>=a&&c<=v)return!0}else if(f>o&&h<=o&&(c=x+(l-x)*(o-f)/(h-f),c>=a&&c<=v))return!0;return!1};r.exports=T},16204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){x===void 0&&(x=1);var f=d.x1,l=d.y1,h=d.x2,a=d.y2,u=s.x,v=s.y,o=(h-f)*(h-f)+(a-l)*(a-l);if(o===0)return!1;var c=((u-f)*(h-f)+(v-l)*(a-l))/o;if(c<0)return Math.sqrt((f-u)*(f-u)+(l-v)*(l-v))<=x;if(c>=0&&c<=1){var p=((l-v)*(h-f)-(f-u)*(a-l))/o;return Math.abs(p)*Math.sqrt(o)<=x}else return Math.sqrt((h-u)*(h-u)+(a-v)*(a-v))<=x};r.exports=T},14199:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(16204),x=function(f,l){if(!d(f,l))return!1;var h=Math.min(l.x1,l.x2),a=Math.max(l.x1,l.x2),u=Math.min(l.y1,l.y2),v=Math.max(l.y1,l.y2);return f.x>=h&&f.x<=a&&f.y>=u&&f.y<=v};r.exports=x},59996:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.width<=0||s.height<=0||d.width<=0||d.height<=0?!1:!(s.right<d.x||s.bottom<d.y||s.x>d.right||s.y>d.bottom)};r.exports=T},89265:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(76112),x=s(37303),f=s(48653),l=s(77493),h=function(a,u){if(u.left>a.right||u.right<a.left||u.top>a.bottom||u.bottom<a.top)return!1;var v=u.getLineA(),o=u.getLineB(),c=u.getLineC();if(x(a,v.x1,v.y1)||x(a,v.x2,v.y2)||x(a,o.x1,o.y1)||x(a,o.x2,o.y2)||x(a,c.x1,c.y1)||x(a,c.x2,c.y2))return!0;var p=a.getLineA(),g=a.getLineB(),m=a.getLineC(),C=a.getLineD();if(d(v,p)||d(v,g)||d(v,m)||d(v,C)||d(o,p)||d(o,g)||d(o,m)||d(o,C)||d(c,p)||d(c,g)||d(c,m)||d(c,C))return!0;var E=l(a),M=f(u,E,!0);return M.length>0};r.exports=h},84411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h){return h===void 0&&(h=0),!(d>s.right+h||x<s.left-h||f>s.bottom+h||l<s.top-h)};r.exports=T},67636:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80462),x=s(10690),f=function(l,h){return l.left>h.right||l.right<h.left||l.top>h.bottom||l.bottom<h.top?!1:!!(x(l,h.x,h.y)||d(l.getLineA(),h)||d(l.getLineB(),h)||d(l.getLineC(),h))};r.exports=f},2822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(76112),x=function(f,l){return!!(f.contains(l.x1,l.y1)||f.contains(l.x2,l.y2)||d(f.getLineA(),l)||d(f.getLineB(),l)||d(f.getLineC(),l))};r.exports=x},82944:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(48653),x=s(71694),f=s(76112),l=function(h,a){if(h.left>a.right||h.right<a.left||h.top>a.bottom||h.bottom<a.top)return!1;var u=h.getLineA(),v=h.getLineB(),o=h.getLineC(),c=a.getLineA(),p=a.getLineB(),g=a.getLineC();if(f(u,c)||f(u,p)||f(u,g)||f(v,c)||f(v,p)||f(v,g)||f(o,c)||f(o,p)||f(o,g))return!0;var m=x(h),C=d(a,m,!0);return C.length>0||(m=x(a),C=d(h,m,!0),C.length>0)};r.exports=l},91865:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};r.exports=T},84993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){d===void 0&&(d=1),x===void 0&&(x=[]);var f=Math.round(s.x1),l=Math.round(s.y1),h=Math.round(s.x2),a=Math.round(s.y2),u=Math.abs(h-f),v=Math.abs(a-l),o=f<h?1:-1,c=l<a?1:-1,p=u-v;x.push({x:f,y:l});for(var g=1;!(f===h&&l===a);){var m=p<<1;m>-v&&(p-=v,f+=o),m<u&&(p+=u,l+=c),g%d===0&&x.push({x:f,y:l}),g++}return x};r.exports=T},36469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=d-(s.x1+s.x2)/2,l=x-(s.y1+s.y2)/2;return s.x1+=f,s.y1+=l,s.x2+=f,s.y2+=l,s};r.exports=T},31116:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23031),x=function(f){return new d(f.x1,f.y1,f.x2,f.y2)};r.exports=x},59944:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x1,s.y1,s.x2,s.y2)};r.exports=T},59220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x1===d.x1&&s.y1===d.y1&&s.x2===d.x2&&s.y2===d.y2};r.exports=T},78177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=function(f,l,h){h===void 0&&(h=l);var a=d(f),u=f.x2-f.x1,v=f.y2-f.y1;return l&&(f.x1=f.x1-u/a*l,f.y1=f.y1-v/a*l),h&&(f.x2=f.x2+u/a*h,f.y2=f.y2+v/a*h),f};r.exports=x},26708:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(52816),x=s(6113),f=s(2141),l=function(h,a,u,v,o){v===void 0&&(v=0),o===void 0&&(o=[]);var c=[],p=h.x1,g=h.y1,m=h.x2-p,C=h.y2-g,E=x(a,o),M,P,w=u-1;for(M=0;M<w;M++)P=E(M/w),c.push(new f(p+m*P,g+C*P));if(P=E(1),c.push(new f(p+m*P,g+C*P)),v>0){var R=c[0],A=[R];for(M=1;M<c.length-1;M++){var L=c[M];d(R,L)>=v&&(A.push(L),R=L)}var F=c[c.length-1];return d(R,F)<v&&A.pop(),A.push(F),A}else return c};r.exports=l},32125:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.x=(f.x1+f.x2)/2,l.y=(f.y1+f.y2)/2,l};r.exports=x},99569:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h){h===void 0&&(h=new d);var a=f.x1,u=f.y1,v=f.x2,o=f.y2,c=(v-a)*(v-a)+(o-u)*(o-u);if(c===0)return h;var p=((l.x-a)*(v-a)+(l.y-u)*(o-u))/c;return h.x=a+p*(v-a),h.y=u+p*(o-u),h};r.exports=x},34638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(91938),f=s(2141),l=function(h,a){a===void 0&&(a=new f);var u=x(h)-d.TAU;return a.x=Math.cos(u),a.y=Math.sin(u),a};r.exports=l},13151:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h){return h===void 0&&(h=new d),h.x=f.x1+(f.x2-f.x1)*l,h.y=f.y1+(f.y2-f.y1)*l,h};r.exports=x},15258:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=s(2141),f=function(l,h,a,u){u===void 0&&(u=[]),!h&&a>0&&(h=d(l)/a);for(var v=l.x1,o=l.y1,c=l.x2,p=l.y2,g=0;g<h;g++){var m=g/h,C=v+(c-v)*m,E=o+(p-o)*m;u.push(new x(C,E))}return u};r.exports=f},26408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.x1,f=s.y1,l=s.x2,h=s.y2,a=(l-x)*(l-x)+(h-f)*(h-f);if(a===0)return!1;var u=((f-d.y)*(l-x)-(x-d.x)*(h-f))/a;return Math.abs(u)*Math.sqrt(a)};r.exports=T},98770:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.abs(s.y1-s.y2)};r.exports=T},35001:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};r.exports=T},23031:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(13151),f=s(15258),l=s(23777),h=s(65822),a=s(26099),u=new d({initialize:function(o,c,p,g){o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=l.LINE,this.x1=o,this.y1=c,this.x2=p,this.y2=g},getPoint:function(v,o){return x(this,v,o)},getPoints:function(v,o,c){return f(this,v,o,c)},getRandomPoint:function(v){return h(this,v)},setTo:function(v,o,c,p){return v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=v,this.y1=o,this.x2=c,this.y2=p,this},setFromObjects:function(v,o){return this.x1=v.x,this.y1=v.y,this.x2=o.x,this.y2=o.y,this},getPointA:function(v){return v===void 0&&(v=new a),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new a),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});r.exports=u},64795:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(15994),f=s(91938),l=function(h){var a=f(h)-d.TAU;return x(a,-Math.PI,Math.PI)};r.exports=l},52616:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(91938),f=function(l){return Math.cos(x(l)-d.TAU)};r.exports=f},87231:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(91938),f=function(l){return Math.sin(x(l)-d.TAU)};r.exports=f},89662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x1+=d,s.y1+=x,s.x2+=d,s.y2+=x,s};r.exports=T},71165:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};r.exports=T},65822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){l===void 0&&(l=new d);var h=Math.random();return l.x=f.x1+h*(f.x2-f.x1),l.y=f.y1+h*(f.y2-f.y1),l};r.exports=x},69777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91938),x=s(64795),f=function(l,h){return 2*x(h)-Math.PI-d(l)};r.exports=f},39706:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(64400),x=function(f,l){var h=(f.x1+f.x2)/2,a=(f.y1+f.y2)/2;return d(f,h,a,l)};r.exports=x},82585:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(64400),x=function(f,l,h){return d(f,l.x,l.y,h)};r.exports=x},64400:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=Math.cos(f),h=Math.sin(f),a=s.x1-d,u=s.y1-x;return s.x1=a*l-u*h+d,s.y1=a*h+u*l+x,a=s.x2-d,u=s.y2-x,s.x2=a*l-u*h+d,s.y2=a*h+u*l+x,s};r.exports=T},62377:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){return s.x1=d,s.y1=x,s.x2=d+Math.cos(f)*l,s.y2=x+Math.sin(f)*l,s};r.exports=T},71366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};r.exports=T},10809:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.abs(s.x1-s.x2)};r.exports=T},2529:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23031);d.Angle=s(91938),d.BresenhamPoints=s(84993),d.CenterOn=s(36469),d.Clone=s(31116),d.CopyFrom=s(59944),d.Equals=s(59220),d.Extend=s(78177),d.GetEasedPoints=s(26708),d.GetMidPoint=s(32125),d.GetNearestPoint=s(99569),d.GetNormal=s(34638),d.GetPoint=s(13151),d.GetPoints=s(15258),d.GetShortestDistance=s(26408),d.Height=s(98770),d.Length=s(35001),d.NormalAngle=s(64795),d.NormalX=s(52616),d.NormalY=s(87231),d.Offset=s(89662),d.PerpSlope=s(71165),d.Random=s(65822),d.ReflectAngle=s(69777),d.Rotate=s(39706),d.RotateAroundPoint=s(82585),d.RotateAroundXY=s(64400),d.SetToAngle=s(62377),d.Slope=s(71366),d.Width=s(10809),r.exports=d},83997:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(87841),f=s(26099);function l(a,u,v,o){var c=a-v,p=u-o,g=c*c+p*p;return Math.sqrt(g)}var h=new d({initialize:function(u,v,o){this.vertex1=u,this.vertex2=v,this.vertex3=o,this.bounds=new x,this._inCenter=new f},getInCenter:function(a){a===void 0&&(a=!0);var u=this.vertex1,v=this.vertex2,o=this.vertex3,c,p,g,m,C,E;a?(c=u.x,p=u.y,g=v.x,m=v.y,C=o.x,E=o.y):(c=u.vx,p=u.vy,g=v.vx,m=v.vy,C=o.vx,E=o.vy);var M=l(C,E,g,m),P=l(c,p,C,E),w=l(g,m,c,p),R=M+P+w;return this._inCenter.set((c*M+g*P+C*w)/R,(p*M+m*P+E*w)/R)},contains:function(a,u,v){var o=this.vertex1,c=this.vertex2,p=this.vertex3,g=o.vx,m=o.vy,C=c.vx,E=c.vy,M=p.vx,P=p.vy;if(v){var w=v.a,R=v.b,A=v.c,L=v.d,F=v.e,O=v.f;g=o.vx*w+o.vy*A+F,m=o.vx*R+o.vy*L+O,C=c.vx*w+c.vy*A+F,E=c.vx*R+c.vy*L+O,M=p.vx*w+p.vy*A+F,P=p.vx*R+p.vy*L+O}var D=M-g,B=P-m,b=C-g,G=E-m,V=a-g,W=u-m,H=D*D+B*B,z=D*b+B*G,U=D*V+B*W,I=b*b+G*G,N=b*V+G*W,k=H*I-z*z,X=k===0?0:1/k,Y=(I*U-z*N)*X,$=(H*N-z*U)*X;return Y>=0&&$>=0&&Y+$<1},isCounterClockwise:function(a){var u=this.vertex1,v=this.vertex2,o=this.vertex3,c=(v.vx-u.vx)*(o.vy-u.vy)-(v.vy-u.vy)*(o.vx-u.vx);return a<=0?c>=0:c<0},load:function(a,u,v,o,c){return v=this.vertex1.load(a,u,v,o,c),v=this.vertex2.load(a,u,v,o,c),v=this.vertex3.load(a,u,v,o,c),v},transformCoordinatesLocal:function(a,u,v,o){return this.vertex1.transformCoordinatesLocal(a,u,v,o),this.vertex2.transformCoordinatesLocal(a,u,v,o),this.vertex3.transformCoordinatesLocal(a,u,v,o),this},updateBounds:function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3,o=this.bounds;return o.x=Math.min(a.vx,u.vx,v.vx),o.y=Math.min(a.vy,u.vy,v.vy),o.width=Math.max(a.vx,u.vx,v.vx)-o.x,o.height=Math.max(a.vy,u.vy,v.vy)-o.y,this},isInView:function(a,u,v,o,c,p,g,m,C,E,M){this.update(o,c,p,g,m,C,E,M);var P=this.vertex1,w=this.vertex2,R=this.vertex3;if(P.ta<=0&&w.ta<=0&&R.ta<=0||u&&!this.isCounterClockwise(v))return!1;var A=this.bounds;A.x=Math.min(P.tx,w.tx,R.tx),A.y=Math.min(P.ty,w.ty,R.ty),A.width=Math.max(P.tx,w.tx,R.tx)-A.x,A.height=Math.max(P.ty,w.ty,R.ty)-A.y;var L=a.x+a.width,F=a.y+a.height;return A.width<=0||A.height<=0||a.width<=0||a.height<=0?!1:!(A.right<a.x||A.bottom<a.y||A.x>L||A.y>F)},scrollUV:function(a,u){return this.vertex1.scrollUV(a,u),this.vertex2.scrollUV(a,u),this.vertex3.scrollUV(a,u),this},scaleUV:function(a,u){return this.vertex1.scaleUV(a,u),this.vertex2.scaleUV(a,u),this.vertex3.scaleUV(a,u),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,u,v,o,c,p,g,m){return this.vertex1.update(u,v,o,c,p,g,m,a),this.vertex2.update(u,v,o,c,p,g,m,a),this.vertex3.update(u,v,o,c,p,g,m,a),this},translate:function(a,u){u===void 0&&(u=0);var v=this.vertex1,o=this.vertex2,c=this.vertex3;return v.x+=a,v.y+=u,o.x+=a,o.y+=u,c.x+=a,c.y+=u,this},x:{get:function(){return this.getInCenter().x},set:function(a){var u=this.getInCenter();this.translate(a-u.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var u=this.getInCenter();this.translate(0,a-u.y)}},alpha:{get:function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3;return(a.alpha+u.alpha+v.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3;return(a.vz+u.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=h},48803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83997),x=s(95540),f=s(37867),l=s(25836),h=s(39318),a=new l,u=new l,v=new f,o=function(c){var p=x(c,"mesh"),g=x(c,"texture",null),m=x(c,"frame"),C=x(c,"width",1),E=x(c,"height",C),M=x(c,"widthSegments",1),P=x(c,"heightSegments",M),w=x(c,"x",0),R=x(c,"y",0),A=x(c,"z",0),L=x(c,"rotateX",0),F=x(c,"rotateY",0),O=x(c,"rotateZ",0),D=x(c,"zIsUp",!0),B=x(c,"isOrtho",p?p.dirtyCache[11]:!1),b=x(c,"colors",[16777215]),G=x(c,"alphas",[1]),V=x(c,"tile",!1),W=x(c,"flipY",!1),H=x(c,"width",null),z={faces:[],verts:[]};a.set(w,R,A),u.set(L,F,O),v.fromRotationXYTranslation(u,a,D);var U;if(!g&&p)g=p.texture,m||(U=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return z;U||(U=g.get(m)),!H&&B&&g&&p&&(C=U.width/p.height,E=U.height/p.height);var I=C/2,N=E/2,k=Math.floor(M),X=Math.floor(P),Y=k+1,$=X+1,K=C/k,Z=E/X,J=[],Q=[],j,_,q=0,it=1,ot=0,ut=1;U&&(q=U.u0,it=U.u1,W?(ot=U.v1,ut=U.v0):(ot=U.v0,ut=U.v1));var ht=it-q,tt=ut-ot;for(_=0;_<$;_++){var at=_*Z-N;for(j=0;j<Y;j++){var rt=j*K-I;Q.push(rt,-at);var gt=q+ht*(j/k),mt=ot+tt*(_/X);J.push(gt,mt)}}Array.isArray(b)||(b=[b]),Array.isArray(G)||(G=[G]);var kt=0,Gt=0;for(_=0;_<X;_++)for(j=0;j<k;j++){var Et=(j+Y*_)*2,Ct=(j+Y*(_+1))*2,ee=(j+1+Y*(_+1))*2,bt=(j+1+Y*_)*2,ge=b[Gt],Pe=G[kt],ri=new h(Q[Et],Q[Et+1],0,J[Et],J[Et+1],ge,Pe).transformMat4(v),Qn=new h(Q[Ct],Q[Ct+1],0,J[Ct],J[Ct+1],ge,Pe).transformMat4(v),jn=new h(Q[bt],Q[bt+1],0,J[bt],J[bt+1],ge,Pe).transformMat4(v),qn=new h(Q[Ct],Q[Ct+1],0,J[Ct],J[Ct+1],ge,Pe).transformMat4(v),_n=new h(Q[ee],Q[ee+1],0,J[ee],J[ee+1],ge,Pe).transformMat4(v),tr=new h(Q[bt],Q[bt+1],0,J[bt],J[bt+1],ge,Pe).transformMat4(v);V&&(ri.setUVs(q,ut),Qn.setUVs(q,ot),jn.setUVs(it,ut),qn.setUVs(q,ot),_n.setUVs(it,ot),tr.setUVs(it,ut)),Gt++,Gt===b.length&&(Gt=0),kt++,kt===G.length&&(kt=0),z.verts.push(ri,Qn,jn,qn,_n,tr),z.faces.push(new d(ri,Qn,jn),new d(qn,_n,tr))}return p&&(p.faces=p.faces.concat(z.faces),p.vertices=p.vertices.concat(z.verts)),z};r.exports=o},34684:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83997),x=s(37867),f=s(25836),l=s(39318),h=new f,a=new f,u=new x,v=function(o,c,p,g,m,C,E,M,P,w){p===void 0&&(p=1),g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=0),E===void 0&&(E=0),M===void 0&&(M=0),P===void 0&&(P=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},A=o.materials;h.set(g,m,C),a.set(E,M,P),u.fromRotationXYTranslation(a,h,w);for(var L=0;L<o.models.length;L++)for(var F=o.models[L],O=F.vertices,D=F.textureCoords,B=F.faces,b=0;b<B.length;b++){var G=B[b],V=G.vertices[0],W=G.vertices[1],H=G.vertices[2],z=O[V.vertexIndex],U=O[W.vertexIndex],I=O[H.vertexIndex],N=V.textureCoordsIndex,k=W.textureCoordsIndex,X=H.textureCoordsIndex,Y=N===-1?{u:0,v:1}:D[N],$=k===-1?{u:0,v:0}:D[k],K=X===-1?{u:1,v:1}:D[X],Z=16777215;G.material!==""&&A[G.material]&&(Z=A[G.material]);var J=new l(z.x*p,z.y*p,z.z*p,Y.u,Y.v,Z).transformMat4(u),Q=new l(U.x*p,U.y*p,U.z*p,$.u,$.v,Z).transformMat4(u),j=new l(I.x*p,I.y*p,I.z*p,K.u,K.v,Z).transformMat4(u);R.verts.push(J,Q,j),R.faces.push(new d(J,Q,j))}return c&&(c.faces=c.faces.concat(R.faces),c.vertices=c.vertices.concat(R.verts)),R};r.exports=v},92515:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83997),x=s(39318),f=function(l,h,a,u,v,o,c,p){if(u===void 0&&(u=!1),o===void 0&&(o=16777215),c===void 0&&(c=1),p===void 0&&(p=!1),l.length!==h.length&&!u){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},m,C,E,M,P,w,R,A,L,F,O,D=u?3:2,B=Array.isArray(o),b=Array.isArray(c);if(Array.isArray(a)&&a.length>0)for(m=0;m<a.length;m++){var G=a[m],V=a[m]*2,W=a[m]*D;C=l[W],E=l[W+1],M=u?l[W+2]:0,P=h[V],w=h[V+1],p&&(w=1-w),R=B?o[G]:o,A=b?c[G]:c,L=0,F=0,O=0,v&&(L=v[W],F=v[W+1],O=u?v[W+2]:0),g.vertices.push(new x(C,E,M,P,w,R,A,L,F,O))}else{var H=0,z=0;for(m=0;m<l.length;m+=D)C=l[m],E=l[m+1],M=u?l[m+2]:0,P=h[H],w=h[H+1],R=B?o[z]:o,A=b?c[z]:c,L=0,F=0,O=0,v&&(L=v[m],F=v[m+1],O=u?v[m+2]:0),g.vertices.push(new x(C,E,M,P,w,R,A,L,F,O)),H+=2,z++}for(m=0;m<g.vertices.length;m+=3){var U=g.vertices[m],I=g.vertices[m+1],N=g.vertices[m+2];g.faces.push(new d(U,I,N))}return g};r.exports=f},85048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,s="untitled",d="",x="";function f(C){var E=C.indexOf("#");return E>-1?C.substring(0,E):C}function l(C){return C.models.length===0&&C.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),d="",C.models[C.models.length-1]}function h(C,E){var M=C.length>=2?C[1]:s;E.models.push({faces:[],name:M,textureCoords:[],vertexNormals:[],vertices:[]}),d=""}function a(C){C.length===2&&(d=C[1])}function u(C,E){var M=C.length,P=M>=2?parseFloat(C[1]):0,w=M>=3?parseFloat(C[2]):0,R=M>=4?parseFloat(C[3]):0;l(E).vertices.push({x:P,y:w,z:R})}function v(C,E){var M=C.length,P=M>=2?parseFloat(C[1]):0,w=M>=3?parseFloat(C[2]):0,R=M>=4?parseFloat(C[3]):0;isNaN(P)&&(P=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),T&&(w=1-w),l(E).textureCoords.push({u:P,v:w,w:R})}function o(C,E){var M=C.length,P=M>=2?parseFloat(C[1]):0,w=M>=3?parseFloat(C[2]):0,R=M>=4?parseFloat(C[3]):0;l(E).vertexNormals.push({x:P,y:w,z:R})}function c(C,E){var M=C.length-1;if(!(M<3)){for(var P={group:d,material:x,vertices:[]},w=0;w<M;w++){var R=C[w+1],A=R.split("/"),L=A.length;if(!(L<1||L>3)){var F=0,O=0,D=0;F=parseInt(A[0],10),L>1&&A[1]!==""&&(O=parseInt(A[1],10)),L>2&&(D=parseInt(A[2],10)),F!==0&&(F<0&&(F=l(E).vertices.length+1+F),O-=1,F-=1,D-=1,P.vertices.push({textureCoordsIndex:O,vertexIndex:F,vertexNormalIndex:D}))}}l(E).faces.push(P)}}function p(C,E){C.length>=2&&E.materialLibraries.push(C[1])}function g(C){C.length>=2&&(x=C[1])}var m=function(C,E){E===void 0&&(E=!0),T=E;var M={materials:{},materialLibraries:[],models:[]};d="",x="";for(var P=C.split(`
`),w=0;w<P.length;w++){var R=f(P[w]),A=R.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":h(A,M);break;case"g":a(A);break;case"v":u(A,M);break;case"vt":v(A,M);break;case"vn":o(A,M);break;case"f":c(A,M);break;case"mtllib":p(A,M);break;case"usemtl":g(A);break}}return M};r.exports=m},61485:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37589),x=function(f){for(var l={},h=f.split(`
`),a="",u=0;u<h.length;u++){var v=h[u].trim();if(!(v.indexOf("#")===0||v==="")){var o=v.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":{a=o[1];break}case"kd":{var c=Math.floor(o[1]*255),p=o.length>=2?Math.floor(o[2]*255):c,g=o.length>=3?Math.floor(o[3]*255):c;l[a]=d(c,p,g);break}}}}return l};r.exports=x},92570:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l,h;if(x===void 0&&f===void 0){var a=s.getInCenter();l=a.x,h=a.y}var u=Math.cos(d),v=Math.sin(d),o=s.vertex1,c=s.vertex2,p=s.vertex3,g=o.x-l,m=o.y-h;o.set(g*u-m*v+l,g*v+m*u+h),g=c.x-l,m=c.y-h,c.set(g*u-m*v+l,g*v+m*u+h),g=p.x-l,m=p.y-h,p.set(g*u-m*v+l,g*v+m*u+h)};r.exports=T},39318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(70554),f=s(25836),l=new d({Extends:f,initialize:function(a,u,v,o,c,p,g,m,C,E){p===void 0&&(p=16777215),g===void 0&&(g=1),m===void 0&&(m=0),C===void 0&&(C=0),E===void 0&&(E=0),f.call(this,a,u,v),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=C,this.nz=E,this.u=o,this.v=c,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=o,this.tv=c},setUVs:function(h,a){return this.u=h,this.v=a,this.tu=h,this.tv=a,this},scrollUV:function(h,a){return this.tu+=h,this.tv+=a,this},scaleUV:function(h,a){return this.tu=this.u*h,this.tv=this.v*a,this},transformCoordinatesLocal:function(h,a,u,v){var o=this.x,c=this.y,p=this.z,g=h.val,m=o*g[0]+c*g[4]+p*g[8]+g[12],C=o*g[1]+c*g[5]+p*g[9]+g[13],E=o*g[2]+c*g[6]+p*g[10]+g[14],M=o*g[3]+c*g[7]+p*g[11]+g[15];this.vx=m/M*a,this.vy=-(C/M)*u,v<=0?this.vz=E/M:this.vz=-(E/M)},resize:function(h,a,u,v,o,c){return this.x=h,this.y=a,this.vx=this.x*u,this.vy=-this.y*v,this.vz=0,o<.5?this.vx+=u*(.5-o):o>.5&&(this.vx-=u*(o-.5)),c<.5?this.vy+=v*(.5-c):c>.5&&(this.vy-=v*(c-.5)),this},update:function(h,a,u,v,o,c,p,g){var m=this.vx*h+this.vy*u+o,C=this.vx*a+this.vy*v+c;return p&&(m=Math.round(m),C=Math.round(C)),this.tx=m,this.ty=C,this.ta=this.alpha*g,this},load:function(h,a,u,v,o){return h[++u]=this.tx,h[++u]=this.ty,h[++u]=this.tu,h[++u]=this.tv,h[++u]=v,h[++u]=o,a[++u]=x.getTintAppendFloatAlpha(this.color,this.ta),u}});r.exports=l},73090:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};r.exports=d},96550:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};r.exports=T},99706:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f){return new d(f.x,f.y)};r.exports=x},68010:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x,s.y)};r.exports=T},27814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x===d.x&&s.y===d.y};r.exports=T},73565:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};r.exports=T},87555:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){if(l===void 0&&(l=new d),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var h=f.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)l.x=f[0].x,l.y=f[0].y;else{for(var a=0;a<h;a++)l.x+=f[a].x,l.y+=f[a].y;l.x/=h,l.y/=h}return l};r.exports=x},28793:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};r.exports=T},44405:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x*s.x+s.y*s.y};r.exports=T},20873:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l){l===void 0&&(l=new d);for(var h=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,o=0;o<f.length;o++){var c=f[o];c.x>h&&(h=c.x),c.x<a&&(a=c.x),c.y>u&&(u=c.y),c.y<v&&(v=c.y)}return l.x=a,l.y=v,l.width=h-a,l.height=u-v,l};r.exports=x},26152:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h,a){return h===void 0&&(h=0),a===void 0&&(a=new d),a.x=f.x+(l.x-f.x)*h,a.y=f.y+(l.y-f.y)*h,a};r.exports=x},55767:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(s.y,s.x)};r.exports=T},79432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.setTo(-f.x,-f.y)};r.exports=x},2141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23777),f=new d({initialize:function(h,a){h===void 0&&(h=0),a===void 0&&(a=h),this.type=x.POINT,this.x=h,this.y=a},setTo:function(l,h){return l===void 0&&(l=0),h===void 0&&(h=l),this.x=l,this.y=h,this}});r.exports=f},72930:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(44405),f=function(l,h,a){a===void 0&&(a=new d);var u=l.x*h.x+l.y*h.y,v=u/x(h);return v!==0&&(a.x=v*h.x,a.y=v*h.y),a};r.exports=f},62880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l,h){h===void 0&&(h=new d);var a=f.x*l.x+f.y*l.y;return a!==0&&(h.x=a*l.x,h.y=a*l.y),h};r.exports=x},15093:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(28793),x=function(f,l){if(f.x!==0||f.y!==0){var h=d(f);f.x/=h,f.y/=h}return f.x*=l,f.y*=l,f};r.exports=x},43711:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141);d.Ceil=s(96550),d.Clone=s(99706),d.CopyFrom=s(68010),d.Equals=s(27814),d.Floor=s(73565),d.GetCentroid=s(87555),d.GetMagnitude=s(28793),d.GetMagnitudeSq=s(44405),d.GetRectangleFromPoints=s(20873),d.Interpolate=s(26152),d.Invert=s(55767),d.Negative=s(79432),d.Project=s(72930),d.ProjectUnit=s(62880),d.SetMagnitude=s(15093),r.exports=d},12306:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25717),x=function(f){return new d(f.points)};r.exports=x},63814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){for(var f=!1,l=-1,h=s.points.length-1;++l<s.points.length;h=l){var a=s.points[l].x,u=s.points[l].y,v=s.points[h].x,o=s.points[h].y;(u<=x&&x<o||o<=x&&x<u)&&d<(v-a)*(x-u)/(o-u)+a&&(f=!f)}return f};r.exports=T},99338:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(63814),x=function(f,l){return d(f,l.x,l.y)};r.exports=x},94811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(z,U,I){I=I||2;var N=U&&U.length,k=N?U[0]*I:z.length,X=s(z,0,k,I,!0),Y=[];if(!X||X.next===X.prev)return Y;var $,K,Z,J,Q,j,_;if(N&&(X=u(z,U,X,I)),z.length>80*I){$=Z=z[0],K=J=z[1];for(var q=I;q<k;q+=I)Q=z[q],j=z[q+1],Q<$&&($=Q),j<K&&(K=j),Q>Z&&(Z=Q),j>J&&(J=j);_=Math.max(Z-$,J-K),_=_!==0?32767/_:0}return x(X,Y,I,$,K,_,0),Y}function s(z,U,I,N,k){var X,Y;if(k===H(z,U,I,N)>0)for(X=U;X<I;X+=N)Y=G(X,z[X],z[X+1],Y);else for(X=I-N;X>=U;X-=N)Y=G(X,z[X],z[X+1],Y);return Y&&R(Y,Y.next)&&(V(Y),Y=Y.next),Y}function d(z,U){if(!z)return z;U||(U=z);var I=z,N;do if(N=!1,!I.steiner&&(R(I,I.next)||w(I.prev,I,I.next)===0)){if(V(I),I=U=I.prev,I===I.next)break;N=!0}else I=I.next;while(N||I!==U);return U}function x(z,U,I,N,k,X,Y){if(z){!Y&&X&&g(z,N,k,X);for(var $=z,K,Z;z.prev!==z.next;){if(K=z.prev,Z=z.next,X?l(z,N,k,X):f(z)){U.push(K.i/I|0),U.push(z.i/I|0),U.push(Z.i/I|0),V(z),z=Z.next,$=Z.next;continue}if(z=Z,z===$){Y?Y===1?(z=h(d(z),U,I),x(z,U,I,N,k,X,2)):Y===2&&a(z,U,I,N,k,X):x(d(z),U,I,N,k,X,1);break}}}}function f(z){var U=z.prev,I=z,N=z.next;if(w(U,I,N)>=0)return!1;for(var k=U.x,X=I.x,Y=N.x,$=U.y,K=I.y,Z=N.y,J=k<X?k<Y?k:Y:X<Y?X:Y,Q=$<K?$<Z?$:Z:K<Z?K:Z,j=k>X?k>Y?k:Y:X>Y?X:Y,_=$>K?$>Z?$:Z:K>Z?K:Z,q=N.next;q!==U;){if(q.x>=J&&q.x<=j&&q.y>=Q&&q.y<=_&&M(k,$,X,K,Y,Z,q.x,q.y)&&w(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function l(z,U,I,N){var k=z.prev,X=z,Y=z.next;if(w(k,X,Y)>=0)return!1;for(var $=k.x,K=X.x,Z=Y.x,J=k.y,Q=X.y,j=Y.y,_=$<K?$<Z?$:Z:K<Z?K:Z,q=J<Q?J<j?J:j:Q<j?Q:j,it=$>K?$>Z?$:Z:K>Z?K:Z,ot=J>Q?J>j?J:j:Q>j?Q:j,ut=C(_,q,U,I,N),ht=C(it,ot,U,I,N),tt=z.prevZ,at=z.nextZ;tt&&tt.z>=ut&&at&&at.z<=ht;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=ot&&tt!==k&&tt!==Y&&M($,J,K,Q,Z,j,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,at.x>=_&&at.x<=it&&at.y>=q&&at.y<=ot&&at!==k&&at!==Y&&M($,J,K,Q,Z,j,at.x,at.y)&&w(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;tt&&tt.z>=ut;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=ot&&tt!==k&&tt!==Y&&M($,J,K,Q,Z,j,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;at&&at.z<=ht;){if(at.x>=_&&at.x<=it&&at.y>=q&&at.y<=ot&&at!==k&&at!==Y&&M($,J,K,Q,Z,j,at.x,at.y)&&w(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function h(z,U,I){var N=z;do{var k=N.prev,X=N.next.next;!R(k,X)&&A(k,N,N.next,X)&&D(k,X)&&D(X,k)&&(U.push(k.i/I|0),U.push(N.i/I|0),U.push(X.i/I|0),V(N),V(N.next),N=z=X),N=N.next}while(N!==z);return d(N)}function a(z,U,I,N,k,X){var Y=z;do{for(var $=Y.next.next;$!==Y.prev;){if(Y.i!==$.i&&P(Y,$)){var K=b(Y,$);Y=d(Y,Y.next),K=d(K,K.next),x(Y,U,I,N,k,X,0),x(K,U,I,N,k,X,0);return}$=$.next}Y=Y.next}while(Y!==z)}function u(z,U,I,N){var k=[],X,Y,$,K,Z;for(X=0,Y=U.length;X<Y;X++)$=U[X]*N,K=X<Y-1?U[X+1]*N:z.length,Z=s(z,$,K,N,!1),Z===Z.next&&(Z.steiner=!0),k.push(E(Z));for(k.sort(v),X=0;X<k.length;X++)I=o(k[X],I);return I}function v(z,U){return z.x-U.x}function o(z,U){var I=c(z,U);if(!I)return U;var N=b(I,z);return d(N,N.next),d(I,I.next)}function c(z,U){var I=U,N=z.x,k=z.y,X=-1/0,Y;do{if(k<=I.y&&k>=I.next.y&&I.next.y!==I.y){var $=I.x+(k-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if($<=N&&$>X&&(X=$,Y=I.x<I.next.x?I:I.next,$===N))return Y}I=I.next}while(I!==U);if(!Y)return null;var K=Y,Z=Y.x,J=Y.y,Q=1/0,j;I=Y;do N>=I.x&&I.x>=Z&&N!==I.x&&M(k<J?N:X,k,Z,J,k<J?X:N,k,I.x,I.y)&&(j=Math.abs(k-I.y)/(N-I.x),D(I,z)&&(j<Q||j===Q&&(I.x>Y.x||I.x===Y.x&&p(Y,I)))&&(Y=I,Q=j)),I=I.next;while(I!==K);return Y}function p(z,U){return w(z.prev,z,U.prev)<0&&w(U.next,z,z.next)<0}function g(z,U,I,N){var k=z;do k.z===0&&(k.z=C(k.x,k.y,U,I,N)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==z);k.prevZ.nextZ=null,k.prevZ=null,m(k)}function m(z){var U,I,N,k,X,Y,$,K,Z=1;do{for(I=z,z=null,X=null,Y=0;I;){for(Y++,N=I,$=0,U=0;U<Z&&($++,N=N.nextZ,!!N);U++);for(K=Z;$>0||K>0&&N;)$!==0&&(K===0||!N||I.z<=N.z)?(k=I,I=I.nextZ,$--):(k=N,N=N.nextZ,K--),X?X.nextZ=k:z=k,k.prevZ=X,X=k;I=N}X.nextZ=null,Z*=2}while(Y>1);return z}function C(z,U,I,N,k){return z=(z-I)*k|0,U=(U-N)*k|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,z|U<<1}function E(z){var U=z,I=z;do(U.x<I.x||U.x===I.x&&U.y<I.y)&&(I=U),U=U.next;while(U!==z);return I}function M(z,U,I,N,k,X,Y,$){return(k-Y)*(U-$)>=(z-Y)*(X-$)&&(z-Y)*(N-$)>=(I-Y)*(U-$)&&(I-Y)*(X-$)>=(k-Y)*(N-$)}function P(z,U){return z.next.i!==U.i&&z.prev.i!==U.i&&!O(z,U)&&(D(z,U)&&D(U,z)&&B(z,U)&&(w(z.prev,z,U.prev)||w(z,U.prev,U))||R(z,U)&&w(z.prev,z,z.next)>0&&w(U.prev,U,U.next)>0)}function w(z,U,I){return(U.y-z.y)*(I.x-U.x)-(U.x-z.x)*(I.y-U.y)}function R(z,U){return z.x===U.x&&z.y===U.y}function A(z,U,I,N){var k=F(w(z,U,I)),X=F(w(z,U,N)),Y=F(w(I,N,z)),$=F(w(I,N,U));return!!(k!==X&&Y!==$||k===0&&L(z,I,U)||X===0&&L(z,N,U)||Y===0&&L(I,z,N)||$===0&&L(I,U,N))}function L(z,U,I){return U.x<=Math.max(z.x,I.x)&&U.x>=Math.min(z.x,I.x)&&U.y<=Math.max(z.y,I.y)&&U.y>=Math.min(z.y,I.y)}function F(z){return z>0?1:z<0?-1:0}function O(z,U){var I=z;do{if(I.i!==z.i&&I.next.i!==z.i&&I.i!==U.i&&I.next.i!==U.i&&A(I,I.next,z,U))return!0;I=I.next}while(I!==z);return!1}function D(z,U){return w(z.prev,z,z.next)<0?w(z,U,z.next)>=0&&w(z,z.prev,U)>=0:w(z,U,z.prev)<0||w(z,z.next,U)<0}function B(z,U){var I=z,N=!1,k=(z.x+U.x)/2,X=(z.y+U.y)/2;do I.y>X!=I.next.y>X&&I.next.y!==I.y&&k<(I.next.x-I.x)*(X-I.y)/(I.next.y-I.y)+I.x&&(N=!N),I=I.next;while(I!==z);return N}function b(z,U){var I=new W(z.i,z.x,z.y),N=new W(U.i,U.x,U.y),k=z.next,X=U.prev;return z.next=U,U.prev=z,I.next=k,k.prev=I,N.next=I,I.prev=N,X.next=N,N.prev=X,N}function G(z,U,I,N){var k=new W(z,U,I);return N?(k.next=N.next,k.prev=N,N.next.prev=k,N.next=k):(k.prev=k,k.next=k),k}function V(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function W(z,U,I){this.i=z,this.x=U,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(z,U,I,N){var k=U&&U.length,X=k?U[0]*I:z.length,Y=Math.abs(H(z,0,X,I));if(k)for(var $=0,K=U.length;$<K;$++){var Z=U[$]*I,J=$<K-1?U[$+1]*I:z.length;Y-=Math.abs(H(z,Z,J,I))}var Q=0;for($=0;$<N.length;$+=3){var j=N[$]*I,_=N[$+1]*I,q=N[$+2]*I;Q+=Math.abs((z[j]-z[q])*(z[_+1]-z[j+1])-(z[j]-z[_])*(z[q+1]-z[j+1]))}return Y===0&&Q===0?0:Math.abs((Q-Y)/Y)};function H(z,U,I,N){for(var k=0,X=U,Y=I-N;X<I;X+=N)k+=(z[Y]-z[X])*(z[X+1]+z[Y+1]),Y=X;return k}T.flatten=function(z){for(var U=z[0][0].length,I={vertices:[],holes:[],dimensions:U},N=0,k=0;k<z.length;k++){for(var X=0;X<z[k].length;X++)for(var Y=0;Y<U;Y++)I.vertices.push(z[k][X][Y]);k>0&&(N+=z[k-1].length,I.holes.push(N))}return I},r.exports=T},13829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l){l===void 0&&(l=new d);for(var h=1/0,a=1/0,u=-h,v=-a,o,c=0;c<f.points.length;c++)o=f.points[c],h=Math.min(h,o.x),a=Math.min(a,o.y),u=Math.max(u,o.x),v=Math.max(v,o.y);return l.x=h,l.y=a,l.width=u-h,l.height=v-a,l};r.exports=x},26173:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=[]);for(var x=0;x<s.points.length;x++)d.push(s.points[x].x),d.push(s.points[x].y);return d};r.exports=T},9564:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=s(23031),f=s(30052),l=function(h,a,u,v){v===void 0&&(v=[]);var o=h.points,c=f(h);!a&&u>0&&(a=c/u);for(var p=0;p<a;p++)for(var g=c*(p/a),m=0,C=0;C<o.length;C++){var E=o[C],M=o[(C+1)%o.length],P=new x(E.x,E.y,M.x,M.y),w=d(P);if(g<m||g>m+w){m+=w;continue}var R=P.getPoint((g-m)/w);v.push(R);break}return v};r.exports=l},30052:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=s(23031),f=function(l){for(var h=l.points,a=0,u=0;u<h.length;u++){var v=h[u],o=h[(u+1)%h.length],c=new x(v.x,v.y,o.x,o.y);a+=d(c)}return a};r.exports=f},25717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(63814),f=s(9564),l=s(23777),h=new d({initialize:function(u){this.type=l.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},contains:function(a,u){return x(this,a,u)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var u,v=0;v<a.length;v++)u={x:0,y:0},typeof a[v]=="number"||typeof a[v]=="string"?(u.x=parseFloat(a[v]),u.y=parseFloat(a[v+1]),v++):Array.isArray(a[v])?(u.x=a[v][0],u.y=a[v][1]):(u.x=a[v].x,u.y=a[v].y),this.points.push(u);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,u,v,o=0;o<this.points.length-1;o++)u=this.points[o],v=this.points[o+1],a+=(v.x-u.x)*(u.y+v.y);return u=this.points[0],v=this.points[this.points.length-1],a+=(u.x-v.x)*(v.y+u.y),this.area=-a*.5,this.area},getPoints:function(a,u,v){return f(this,a,u,v)}});r.exports=h},8133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.points.reverse(),s};r.exports=T},29524:r=>{function T(h,a){var u=h.x-a.x,v=h.y-a.y;return u*u+v*v}function s(h,a,u){var v=a.x,o=a.y,c=u.x-v,p=u.y-o;if(c!==0||p!==0){var g=((h.x-v)*c+(h.y-o)*p)/(c*c+p*p);g>1?(v=u.x,o=u.y):g>0&&(v+=c*g,o+=p*g)}return c=h.x-v,p=h.y-o,c*c+p*p}function d(h,a){for(var u=h[0],v=[u],o,c=1,p=h.length;c<p;c++)o=h[c],T(o,u)>a&&(v.push(o),u=o);return u!==o&&v.push(o),v}function x(h,a,u,v,o){for(var c=v,p,g=a+1;g<u;g++){var m=s(h[g],h[a],h[u]);m>c&&(p=g,c=m)}c>v&&(p-a>1&&x(h,a,p,v,o),o.push(h[p]),u-p>1&&x(h,p,u,v,o))}function f(h,a){var u=h.length-1,v=[h[0]];return x(h,0,u,a,v),v.push(h[u]),v}var l=function(h,a,u){a===void 0&&(a=1),u===void 0&&(u=!1);var v=h.points;if(v.length>2){var o=a*a;u||(v=d(v,o)),h.setTo(f(v,o))}return h};r.exports=l},5469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(d,x){return d[0]=x[0],d[1]=x[1],d},s=function(d){var x,f=[],l=d.points;for(x=0;x<l.length;x++)f.push([l[x].x,l[x].y]);var h=[];for(f.length>0&&h.push(T([0,0],f[0])),x=0;x<f.length-1;x++){var a=f[x],u=f[x+1],v=a[0],o=a[1],c=u[0],p=u[1];h.push([.85*v+.15*c,.85*o+.15*p]),h.push([.15*v+.85*c,.15*o+.85*p])}return f.length>1&&h.push(T([0,0],f[f.length-1])),d.setTo(h)};r.exports=s},24709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){for(var f=s.points,l=0;l<f.length;l++)f[l].x+=d,f[l].y+=x;return s};r.exports=T},58423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25717);d.Clone=s(12306),d.Contains=s(63814),d.ContainsPoint=s(99338),d.Earcut=s(94811),d.GetAABB=s(13829),d.GetNumberArray=s(26173),d.GetPoints=s(9564),d.Perimeter=s(30052),d.Reverse=s(8133),d.Simplify=s(29524),d.Smooth=s(5469),d.Translate=s(24709),r.exports=d},62224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.width*s.height};r.exports=T},98615:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};r.exports=T},31688:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};r.exports=T},67502:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x=d-s.width/2,s.y=x-s.height/2,s};r.exports=T},65085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f){return new d(f.x,f.y,f.width,f.height)};r.exports=x},37303:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.width<=0||s.height<=0?!1:s.x<=d&&s.x+s.width>=d&&s.y<=x&&s.y+s.height>=x};r.exports=T},96553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37303),x=function(f,l){return d(f,l.x,l.y)};r.exports=x},70273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.width*d.height>s.width*s.height?!1:d.x>s.x&&d.x<s.right&&d.right>s.x&&d.right<s.right&&d.y>s.y&&d.y<s.bottom&&d.bottom>s.y&&d.bottom<s.bottom};r.exports=T},43459:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x,s.y,s.width,s.height)};r.exports=T},77493:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=[]),d.push({x:s.x,y:s.y}),d.push({x:s.right,y:s.y}),d.push({x:s.right,y:s.bottom}),d.push({x:s.x,y:s.bottom}),d};r.exports=T},9219:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x===d.x&&s.y===d.y&&s.width===d.width&&s.height===d.height};r.exports=T},53751:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8249),x=function(f,l){var h=d(f);return h<d(l)?f.setSize(l.height*h,l.height):f.setSize(l.width,l.width/h),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};r.exports=x},16088:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(8249),x=function(f,l){var h=d(f);return h>d(l)?f.setSize(l.height*h,l.height):f.setSize(l.width,l.width/h),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};r.exports=x},80774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};r.exports=T},83859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};r.exports=T},19217:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=s(36383),f=function(l,h){if(h===void 0&&(h=new d),l.length===0)return h;for(var a=Number.MAX_VALUE,u=Number.MAX_VALUE,v=x.MIN_SAFE_INTEGER,o=x.MIN_SAFE_INTEGER,c,p,g,m=0;m<l.length;m++)c=l[m],Array.isArray(c)?(p=c[0],g=c[1]):(p=c.x,g=c.y),a=Math.min(a,p),u=Math.min(u,g),v=Math.max(v,p),o=Math.max(o,g);return h.x=a,h.y=u,h.width=v-a,h.height=o-u,h};r.exports=f},9477:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l,h,a,u){return u===void 0&&(u=new d),u.setTo(Math.min(f,h),Math.min(l,a),Math.abs(f-h),Math.abs(l-a))};r.exports=x},8249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.height===0?NaN:s.width/s.height};r.exports=T},27165:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.x=f.centerX,l.y=f.centerY,l};r.exports=x},20812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13019),x=s(2141),f=function(l,h,a){if(a===void 0&&(a=new x),h<=0||h>=1)return a.x=l.x,a.y=l.y,a;var u=d(l)*h;return h>.5?(u-=l.width+l.height,u<=l.width?(a.x=l.right-u,a.y=l.bottom):(a.x=l.x,a.y=l.bottom-(u-l.width))):u<=l.width?(a.x=l.x+u,a.y=l.y):(a.x=l.right,a.y=l.y+(u-l.width)),a};r.exports=f},34819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20812),x=s(13019),f=function(l,h,a,u){u===void 0&&(u=[]),!h&&a>0&&(h=x(l)/a);for(var v=0;v<h;v++){var o=v/h;u.push(d(l,o))}return u};r.exports=f},51313:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.x=f.width,l.y=f.height,l};r.exports=x},86091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(67502),x=function(f,l,h){var a=f.centerX,u=f.centerY;return f.setSize(f.width+l*2,f.height+h*2),d(f,a,u)};r.exports=x},53951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=s(59996),f=function(l,h,a){return a===void 0&&(a=new d),x(l,h)?(a.x=Math.max(l.x,h.x),a.y=Math.max(l.y,h.y),a.width=Math.min(l.right,h.right)-a.x,a.height=Math.min(l.bottom,h.bottom)-a.y):a.setEmpty(),a};r.exports=f},14649:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13019),x=s(2141),f=function(l,h,a,u){if(u===void 0&&(u=[]),!h&&!a)return u;h?a=Math.round(d(l)/h):h=d(l)/a;for(var v=l.x,o=l.y,c=0,p=0;p<a;p++)switch(u.push(new x(v,o)),c){case 0:v+=h,v>=l.right&&(c=1,o+=v-l.right,v=l.right);break;case 1:o+=h,o>=l.bottom&&(c=2,v-=o-l.bottom,o=l.bottom);break;case 2:v-=h,v<=l.left&&(c=3,o-=l.left-v,v=l.left);break;case 3:o-=h,o<=l.top&&(c=0,o=l.top);break}return u};r.exports=f},33595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){for(var x=s.x,f=s.right,l=s.y,h=s.bottom,a=0;a<d.length;a++)x=Math.min(x,d[a].x),f=Math.max(f,d[a].x),l=Math.min(l,d[a].y),h=Math.max(h,d[a].y);return s.x=x,s.y=l,s.width=f-x,s.height=h-l,s};r.exports=T},20074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=Math.min(s.x,d.x),f=Math.max(s.right,d.right);s.x=x,s.width=f-x;var l=Math.min(s.y,d.y),h=Math.max(s.bottom,d.bottom);return s.y=l,s.height=h-l,s};r.exports=T},92171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=Math.min(s.x,d),l=Math.max(s.right,d);s.x=f,s.width=l-f;var h=Math.min(s.y,x),a=Math.max(s.bottom,x);return s.y=h,s.height=a-h,s};r.exports=T},42981:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x+=d,s.y+=x,s};r.exports=T},46907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x+=d.x,s.y+=d.y,s};r.exports=T},60170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x<d.right&&s.right>d.x&&s.y<d.bottom&&s.bottom>d.y};r.exports=T},13019:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 2*(s.width+s.height)};r.exports=T},85133:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(39506),f=function(l,h,a){a===void 0&&(a=new d),h=x(h);var u=Math.sin(h),v=Math.cos(h),o=v>0?l.width/2:l.width/-2,c=u>0?l.height/2:l.height/-2;return Math.abs(o*u)<Math.abs(c*v)?c=o*u/v:o=c*v/u,a.x=o+l.centerX,a.y=c+l.centerY,a};r.exports=f},26597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.x=f.x+Math.random()*f.width,l.y=f.y+Math.random()*f.height,l};r.exports=x},86470:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30976),x=s(70273),f=s(2141),l=function(h,a,u){if(u===void 0&&(u=new f),x(h,a))switch(d(0,3)){case 0:u.x=h.x+Math.random()*(a.right-h.x),u.y=h.y+Math.random()*(a.top-h.y);break;case 1:u.x=a.x+Math.random()*(h.right-a.x),u.y=a.bottom+Math.random()*(h.bottom-a.bottom);break;case 2:u.x=h.x+Math.random()*(a.x-h.x),u.y=a.y+Math.random()*(h.bottom-a.y);break;case 3:u.x=a.right+Math.random()*(h.right-a.right),u.y=h.y+Math.random()*(a.bottom-h.y);break}return u};r.exports=l},87841:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(37303),f=s(20812),l=s(34819),h=s(23777),a=s(23031),u=s(26597),v=new d({initialize:function(c,p,g,m){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=h.RECTANGLE,this.x=c,this.y=p,this.width=g,this.height=m},contains:function(o,c){return x(this,o,c)},getPoint:function(o,c){return f(this,o,c)},getPoints:function(o,c,p){return l(this,o,c,p)},getRandomPoint:function(o){return u(this,o)},setTo:function(o,c,p,g){return this.x=o,this.y=c,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(o,c){return c===void 0&&(c=o),this.x=o,this.y=c,this},setSize:function(o,c){return c===void 0&&(c=o),this.width=o,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(o){return o===void 0&&(o=new a),o.setTo(this.x,this.y,this.right,this.y),o},getLineB:function(o){return o===void 0&&(o=new a),o.setTo(this.right,this.y,this.right,this.bottom),o},getLineC:function(o){return o===void 0&&(o=new a),o.setTo(this.right,this.bottom,this.x,this.bottom),o},getLineD:function(o){return o===void 0&&(o=new a),o.setTo(this.x,this.bottom,this.x,this.y),o},left:{get:function(){return this.x},set:function(o){o>=this.right?this.width=0:this.width=this.right-o,this.x=o}},right:{get:function(){return this.x+this.width},set:function(o){o<=this.x?this.width=0:this.width=o-this.x}},top:{get:function(){return this.y},set:function(o){o>=this.bottom?this.height=0:this.height=this.bottom-o,this.y=o}},bottom:{get:function(){return this.y+this.height},set:function(o){o<=this.y?this.height=0:this.height=o-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});r.exports=v},94845:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.width===d.width&&s.height===d.height};r.exports=T},31730:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x===void 0&&(x=d),s.width*=d,s.height*=x,s};r.exports=T},36899:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=function(f,l,h){h===void 0&&(h=new d);var a=Math.min(f.x,l.x),u=Math.min(f.y,l.y),v=Math.max(f.right,l.right)-a,o=Math.max(f.bottom,l.bottom)-u;return h.setTo(a,u,v,o)};r.exports=x},93232:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841);d.Area=s(62224),d.Ceil=s(98615),d.CeilAll=s(31688),d.CenterOn=s(67502),d.Clone=s(65085),d.Contains=s(37303),d.ContainsPoint=s(96553),d.ContainsRect=s(70273),d.CopyFrom=s(43459),d.Decompose=s(77493),d.Equals=s(9219),d.FitInside=s(53751),d.FitOutside=s(16088),d.Floor=s(80774),d.FloorAll=s(83859),d.FromPoints=s(19217),d.FromXY=s(9477),d.GetAspectRatio=s(8249),d.GetCenter=s(27165),d.GetPoint=s(20812),d.GetPoints=s(34819),d.GetSize=s(51313),d.Inflate=s(86091),d.Intersection=s(53951),d.MarchingAnts=s(14649),d.MergePoints=s(33595),d.MergeRect=s(20074),d.MergeXY=s(92171),d.Offset=s(42981),d.OffsetPoint=s(46907),d.Overlaps=s(60170),d.Perimeter=s(13019),d.PerimeterPoint=s(85133),d.Random=s(26597),d.RandomOutside=s(86470),d.SameDimensions=s(94845),d.Scale=s(31730),d.Union=s(36899),r.exports=d},41658:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=s.x1,x=s.y1,f=s.x2,l=s.y2,h=s.x3,a=s.y3;return Math.abs(((h-d)*(l-x)-(f-d)*(a-x))/2)};r.exports=T},39208:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(16483),x=function(f,l,h){var a=h*(Math.sqrt(3)/2),u=f,v=l,o=f+h/2,c=l+a,p=f-h/2,g=l+a;return new d(u,v,o,c,p,g)};r.exports=x},39545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(94811),x=s(16483),f=function(l,h,a,u,v){h===void 0&&(h=null),a===void 0&&(a=1),u===void 0&&(u=1),v===void 0&&(v=[]);for(var o=d(l,h),c,p,g,m,C,E,M,P,w,R=0;R<o.length;R+=3)c=o[R],p=o[R+1],g=o[R+2],m=l[c*2]*a,C=l[c*2+1]*u,E=l[p*2]*a,M=l[p*2+1]*u,P=l[g*2]*a,w=l[g*2+1]*u,v.push(new x(m,C,E,M,P,w));return v};r.exports=f},90301:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(16483),x=function(f,l,h,a){a===void 0&&(a=h);var u=f,v=l,o=f,c=l-a,p=f+h,g=l;return new d(u,v,o,c,p,g)};r.exports=x},23707:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(97523),x=s(13584),f=function(l,h,a,u){u===void 0&&(u=d);var v=u(l),o=h-v.x,c=a-v.y;return x(l,o,c)};r.exports=f},97523:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){return l===void 0&&(l=new d),l.x=(f.x1+f.x2+f.x3)/3,l.y=(f.y1+f.y2+f.y3)/3,l};r.exports=x},24951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099);function x(l,h,a,u){return l*u-h*a}var f=function(l,h){h===void 0&&(h=new d);var a=l.x3,u=l.y3,v=l.x1-a,o=l.y1-u,c=l.x2-a,p=l.y2-u,g=2*x(v,o,c,p),m=x(o,v*v+o*o,p,c*c+p*p),C=x(v,v*v+o*o,c,c*c+p*p);return h.x=a-m/g,h.y=u+C/g,h};r.exports=f},85614:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(96503),x=function(f,l){l===void 0&&(l=new d);var h=f.x1,a=f.y1,u=f.x2,v=f.y2,o=f.x3,c=f.y3,p=u-h,g=v-a,m=o-h,C=c-a,E=p*(h+u)+g*(a+v),M=m*(h+o)+C*(a+c),P=2*(p*(c-v)-g*(o-u)),w,R;if(Math.abs(P)<1e-6){var A=Math.min(h,u,o),L=Math.min(a,v,c);w=(Math.max(h,u,o)-A)*.5,R=(Math.max(a,v,c)-L)*.5,l.x=A+w,l.y=L+R,l.radius=Math.sqrt(w*w+R*R)}else l.x=(C*E-g*M)/P,l.y=(p*M-m*E)/P,w=l.x-h,R=l.y-a,l.radius=Math.sqrt(w*w+R*R);return l};r.exports=x},74422:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(16483),x=function(f){return new d(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};r.exports=x},10690:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=s.x3-s.x1,l=s.y3-s.y1,h=s.x2-s.x1,a=s.y2-s.y1,u=d-s.x1,v=x-s.y1,o=f*f+l*l,c=f*h+l*a,p=f*u+l*v,g=h*h+a*a,m=h*u+a*v,C=o*g-c*c,E=C===0?0:1/C,M=(g*p-c*m)*E,P=(o*m-c*p)*E;return M>=0&&P>=0&&M+P<1};r.exports=T},48653:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x===void 0&&(x=!1),f===void 0&&(f=[]);for(var l=s.x3-s.x1,h=s.y3-s.y1,a=s.x2-s.x1,u=s.y2-s.y1,v=l*l+h*h,o=l*a+h*u,c=a*a+u*u,p=v*c-o*o,g=p===0?0:1/p,m,C,E,M,P,w,R=s.x1,A=s.y1,L=0;L<d.length&&(E=d[L].x-R,M=d[L].y-A,P=l*E+h*M,w=a*E+u*M,m=(c*P-o*w)*g,C=(v*w-o*P)*g,!(m>=0&&C>=0&&m+C<1&&(f.push({x:d[L].x,y:d[L].y}),x)));L++);return f};r.exports=T},96006:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10690),x=function(f,l){return d(f,l.x,l.y)};r.exports=x},71326:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};r.exports=T},71694:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=[]),d.push({x:s.x1,y:s.y1}),d.push({x:s.x2,y:s.y2}),d.push({x:s.x3,y:s.y3}),d};r.exports=T},33522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.x1===d.x1&&s.y1===d.y1&&s.x2===d.x2&&s.y2===d.y2&&s.x3===d.x3&&s.y3===d.y3};r.exports=T},20437:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=s(35001),f=function(l,h,a){a===void 0&&(a=new d);var u=l.getLineA(),v=l.getLineB(),o=l.getLineC();if(h<=0||h>=1)return a.x=u.x1,a.y=u.y1,a;var c=x(u),p=x(v),g=x(o),m=c+p+g,C=m*h,E=0;return C<c?(E=C/c,a.x=u.x1+(u.x2-u.x1)*E,a.y=u.y1+(u.y2-u.y1)*E):C>c+p?(C-=c+p,E=C/g,a.x=o.x1+(o.x2-o.x1)*E,a.y=o.y1+(o.y2-o.y1)*E):(C-=c,E=C/p,a.x=v.x1+(v.x2-v.x1)*E,a.y=v.y1+(v.y2-v.y1)*E),a};r.exports=f},80672:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=s(2141),f=function(l,h,a,u){u===void 0&&(u=[]);var v=l.getLineA(),o=l.getLineB(),c=l.getLineC(),p=d(v),g=d(o),m=d(c),C=p+g+m;!h&&a>0&&(h=C/a);for(var E=0;E<h;E++){var M=C*(E/h),P=0,w=new x;M<p?(P=M/p,w.x=v.x1+(v.x2-v.x1)*P,w.y=v.y1+(v.y2-v.y1)*P):M>p+g?(M-=p+g,P=M/m,w.x=c.x1+(c.x2-c.x1)*P,w.y=c.y1+(c.y2-c.y1)*P):(M-=p,P=M/g,w.x=o.x1+(o.x2-o.x1)*P,w.y=o.y1+(o.y2-o.y1)*P),u.push(w)}return u};r.exports=f},39757:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141);function x(l,h,a,u){var v=l-a,o=h-u,c=v*v+o*o;return Math.sqrt(c)}var f=function(l,h){h===void 0&&(h=new d);var a=l.x1,u=l.y1,v=l.x2,o=l.y2,c=l.x3,p=l.y3,g=x(c,p,v,o),m=x(a,u,c,p),C=x(v,o,a,u),E=g+m+C;return h.x=(a*g+v*m+c*C)/E,h.y=(u*g+o*m+p*C)/E,h};r.exports=f},13584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s.x1+=d,s.y1+=x,s.x2+=d,s.y2+=x,s.x3+=d,s.y3+=x,s};r.exports=T},1376:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35001),x=function(f){var l=f.getLineA(),h=f.getLineB(),a=f.getLineC();return d(l)+d(h)+d(a)};r.exports=x},90260:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2141),x=function(f,l){l===void 0&&(l=new d);var h=f.x2-f.x1,a=f.y2-f.y1,u=f.x3-f.x1,v=f.y3-f.y1,o=Math.random(),c=Math.random();return o+c>=1&&(o=1-o,c=1-c),l.x=f.x1+(h*o+u*c),l.y=f.y1+(a*o+v*c),l};r.exports=x},52172:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(99614),x=s(39757),f=function(l,h){var a=x(l);return d(l,a.x,a.y,h)};r.exports=f},49907:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(99614),x=function(f,l,h){return d(f,l.x,l.y,h)};r.exports=x},99614:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=Math.cos(f),h=Math.sin(f),a=s.x1-d,u=s.y1-x;return s.x1=a*l-u*h+d,s.y1=a*h+u*l+x,a=s.x2-d,u=s.y2-x,s.x2=a*l-u*h+d,s.y2=a*h+u*l+x,a=s.x3-d,u=s.y3-x,s.x3=a*l-u*h+d,s.y3=a*h+u*l+x,s};r.exports=T},16483:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(10690),f=s(20437),l=s(80672),h=s(23777),a=s(23031),u=s(90260),v=new d({initialize:function(c,p,g,m,C,E){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=0),E===void 0&&(E=0),this.type=h.TRIANGLE,this.x1=c,this.y1=p,this.x2=g,this.y2=m,this.x3=C,this.y3=E},contains:function(o,c){return x(this,o,c)},getPoint:function(o,c){return f(this,o,c)},getPoints:function(o,c,p){return l(this,o,c,p)},getRandomPoint:function(o){return u(this,o)},setTo:function(o,c,p,g,m,C){return o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),C===void 0&&(C=0),this.x1=o,this.y1=c,this.x2=p,this.y2=g,this.x3=m,this.y3=C,this},getLineA:function(o){return o===void 0&&(o=new a),o.setTo(this.x1,this.y1,this.x2,this.y2),o},getLineB:function(o){return o===void 0&&(o=new a),o.setTo(this.x2,this.y2,this.x3,this.y3),o},getLineC:function(o){return o===void 0&&(o=new a),o.setTo(this.x3,this.y3,this.x1,this.y1),o},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(o){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-o:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-o:c=this.x3-o,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(o){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-o:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-o:c=this.x3-o,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(o){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-o:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-o:c=this.y3-o,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(o){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-o:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-o:c=this.y3-o,this.y1-=c,this.y2-=c,this.y3-=c}}});r.exports=v},84435:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(16483);d.Area=s(41658),d.BuildEquilateral=s(39208),d.BuildFromPolygon=s(39545),d.BuildRight=s(90301),d.CenterOn=s(23707),d.Centroid=s(97523),d.CircumCenter=s(24951),d.CircumCircle=s(85614),d.Clone=s(74422),d.Contains=s(10690),d.ContainsArray=s(48653),d.ContainsPoint=s(96006),d.CopyFrom=s(71326),d.Decompose=s(71694),d.Equals=s(33522),d.GetPoint=s(20437),d.GetPoints=s(80672),d.InCenter=s(39757),d.Perimeter=s(1376),d.Offset=s(13584),d.Random=s(90260),d.Rotate=s(52172),d.RotateAroundPoint=s(49907),d.RotateAroundXY=s(99614),r.exports=d},74457:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:d,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};r.exports=T},84409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return function(x,f,l,h){var a=s.getPixelAlpha(f,l,h.texture.key,h.frame.name);return a&&a>=d}};r.exports=T},7003:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(93301),f=s(50792),l=s(8214),h=s(8443),a=s(78970),u=s(85098),v=s(42515),o=s(36210),c=s(61340),p=s(85955),g=new d({initialize:function(C,E){this.game=C,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new a(this):null,this.mouse=E.inputMouse?new u(this):null,this.touch=E.inputTouch?new o(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers,E.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var M=0;M<=this.pointersTotal;M++){var P=new v(this,M);P.smoothFactor=E.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(h.BOOT,this.boot,this)},boot:function(){var m=this.game,C=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(l.MANAGER_BOOT),C.on(h.PRE_RENDER,this.preRender,this),C.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(l.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(l.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,C=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(l.MANAGER_UPDATE);for(var M=0;M<E.length;M++){var P=E[M];if(P.sys.input&&P.sys.input.updatePoll(m,C)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m){m.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var C=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var E=0;E<m;E++){var M=this.pointers.length,P=new v(this,M);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,C.push(P)}return C},updateInputPlugins:function(m,C){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var M=0;M<E.length;M++){var P=E[M];if(P.sys.input){var w=P.sys.input.update(m,C);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var C=this.pointers,E=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=C[w];if(!R.active){R.touchstart(P,m),this.activePointer=R,E.push(R);break}}this.updateInputPlugins(x.TOUCH_START,E)},onTouchMove:function(m){for(var C=this.pointers,E=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=C[w];if(R.active&&R.identifier===P.identifier){var A=document.elementFromPoint(P.clientX,P.clientY),L=A===this.canvas;!this.isOver&&L?this.setCanvasOver(m):this.isOver&&!L&&this.setCanvasOut(m),this.isOver&&(R.touchmove(P,m),this.activePointer=R,E.push(R));break}}this.updateInputPlugins(x.TOUCH_MOVE,E)},onTouchEnd:function(m){for(var C=this.pointers,E=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=C[w];if(R.active&&R.identifier===P.identifier){R.touchend(P,m),E.push(R);break}}this.updateInputPlugins(x.TOUCH_END,E)},onTouchCancel:function(m){for(var C=this.pointers,E=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=C[w];if(R.active&&R.identifier===P.identifier){R.touchcancel(P,m),E.push(R);break}}this.updateInputPlugins(x.TOUCH_CANCEL,E)},onMouseDown:function(m){var C=this.mousePointer;C.down(m),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var C=this.mousePointer;C.move(m),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var C=this.mousePointer;C.up(m),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var C=this.mousePointer;C.wheel(m),this.activePointer=C,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(l.POINTERLOCK_CHANGE,m,C)},inputCandidate:function(m,C){var E=m.input;if(!E||!E.enabled||!m.willRender(C))return!1;var M=!0,P=m.parentContainer;if(P)do{if(!P.willRender(C)){M=!1;break}P=P.parentContainer}while(P);return M},hitTest:function(m,C,E,M){M===void 0&&(M=this._tempHitTest);var P=this._tempPoint,w=E.scrollX,R=E.scrollY;M.length=0;var A=m.x,L=m.y;E.getWorldPoint(A,L,P),m.worldX=P.x,m.worldY=P.y;for(var F={x:0,y:0},O=this._tempMatrix,D=this._tempMatrix2,B=0;B<C.length;B++){var b=C[B];if(this.inputCandidate(b,E)){var G=P.x+w*b.scrollFactorX-w,V=P.y+R*b.scrollFactorY-R;b.parentContainer?(b.getWorldTransformMatrix(O,D),O.applyInverse(G,V,F)):p(G,V,b.x,b.y,b.rotation,b.scaleX,b.scaleY,F),this.pointWithinHitArea(b,F.x,F.y)&&M.push(b)}}return M},pointWithinHitArea:function(m,C,E){C+=m.displayOriginX,E+=m.displayOriginY;var M=m.input;return M&&M.hitAreaCallback(M.hitArea,C,E,m)?(M.localX=C,M.localY=E,!0):!1},pointWithinInteractiveObject:function(m,C,E){return m.hitArea?(C+=m.gameObject.displayOriginX,E+=m.gameObject.displayOriginY,m.localX=C,m.localY=E,m.hitAreaCallback(m.hitArea,C,E,m)):!1},transformPointer:function(m,C,E,M){var P=m.position,w=m.prevPosition;w.x=P.x,w.y=P.y;var R=this.scaleManager.transformX(C),A=this.scaleManager.transformY(E),L=m.smoothFactor;!M||L===0?(P.x=R,P.y=A):(P.x=R*L+w.x*(1-L),P.y=A*L+w.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=g},48205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(96503),x=s(87902),f=s(83419),l=s(93301),h=s(74457),a=s(84409),u=s(20339),v=s(8497),o=s(81154),c=s(8214),p=s(50792),g=s(95540),m=s(23777),C=s(89639),E=s(41212),M=s(37277),P=s(87841),w=s(37303),R=s(44594),A=s(16483),L=s(10690),F=new f({Extends:p,initialize:function(D){p.call(this),this.scene=D,this.systems=D.sys,this.settings=D.sys.settings,this.manager=D.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,D.sys.events.once(R.BOOT,this.boot,this),D.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var O=this.systems.events;O.on(R.TRANSITION_START,this.transitionIn,this),O.on(R.TRANSITION_OUT,this.transitionOut,this),O.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(R.PRE_UPDATE,this.preUpdate,this),O.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(O){this.isActive()&&this.emit(c.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(c.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var O=this._pendingRemoval,D=this._pendingInsertion,B=O.length,b=D.length;if(!(B===0&&b===0)){for(var G=this._list,V=0;V<B;V++){var W=O[V],H=G.indexOf(W);H>-1&&(G.splice(H,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=G.concat(D.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(O,D){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,O,D),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,b=this.manager,G=b.pointers,V=b.pointersTotal;for(B=0;B<V;B++)G[B].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=D,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(B=0;B<V;B++){var z=0,U=G[B];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,O),z>0&&(H=!0)}return H},update:function(O,D){if(!this.isActive())return!1;for(var B=D.length,b=!1,G=0;G<B;G++){var V=0,W=D[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case l.MOUSE_DOWN:V+=this.processDragDownEvent(W),V+=this.processDownEvents(W),V+=this.processOverOutEvents(W);break;case l.MOUSE_UP:V+=this.processDragUpEvent(W),V+=this.processUpEvents(W),V+=this.processOverOutEvents(W);break;case l.TOUCH_START:V+=this.processDragDownEvent(W),V+=this.processDownEvents(W),V+=this.processOverEvents(W);break;case l.TOUCH_END:case l.TOUCH_CANCEL:V+=this.processDragUpEvent(W),V+=this.processUpEvents(W),V+=this.processOutEvents(W);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:V+=this.processDragMoveEvent(W),V+=this.processMoveEvents(W),V+=this.processOverOutEvents(W);break;case l.MOUSE_WHEEL:V+=this.processWheelEvent(W);break}V>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(O,D){D===void 0&&(D=!1),this.disable(O);var B=O.input;B&&(this.removeDebug(O),this.manager.resetCursor(B),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,O.input=null),D||this.queueForRemoval(O);var b=this._draggable.indexOf(O);return b>-1&&this._draggable.splice(b,1),O},disable:function(O){var D=O.input;D&&(D.enabled=!1,D.dragState=0);for(var B=this._drag,b=this._over,G=this.manager,V=0,W;V<G.pointersTotal;V++)W=B[V].indexOf(O),W>-1&&B[V].splice(W,1),W=b[V].indexOf(O),W>-1&&b[V].splice(W,1);return this},enable:function(O,D,B,b){return b===void 0&&(b=!1),O.input?O.input.enabled=!0:this.setHitArea(O,D,B),O.input&&b&&!O.input.dropZone&&(O.input.dropZone=b),this},hitTestPointer:function(O){for(var D=this.cameras.getCamerasBelowPointer(O),B=0;B<D.length;B++){for(var b=D[B],G=this.manager.hitTest(O,this._list,b),V=0;V<G.length;V++){var W=G[V];W.input.dropZone&&this._tempZones.push(W)}if(G.length>0)return O.camera=b,G}return O.camera=D[0],[]},processDownEvents:function(O){var D=0,B=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var V=!1,W=0;W<B.length;W++){var H=B[W];if(!(!H.input||!H.input.enabled)){if(D++,H.emit(c.GAMEOBJECT_POINTER_DOWN,O,H.input.localX,H.input.localY,G),b.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,O,H,G),b.cancelled||!H.input){V=!0;break}}}return!V&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,O,B):this.emit(c.POINTER_DOWN_OUTSIDE,O)),D},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,D){this._dragState[O.id]=D},processDragThresholdEvent:function(O,D){var B=!1,b=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&u(O.x,O.y,O.downX,O.downY)>=G||b>0&&D>=O.downTime+b)&&(B=!0),B)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var D=this._drag[O.id],B=0;B<D.length;B++){var b=D[B],G=b.input;G.dragState=2,G.dragStartX=b.x,G.dragStartY=b.y,G.dragStartXGlobal=O.worldX,G.dragStartYGlobal=O.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,b.emit(c.GAMEOBJECT_DRAG_START,O,G.dragX,G.dragY),this.emit(c.DRAG_START,O,b)}return this.setDragState(O,4),D.length},processDragDownEvent:function(O){var D=this._temp;if(this._draggable.length===0||D.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var B=[],b=0;b<D.length;b++){var G=D[b];G.input.draggable&&G.input.dragState===0&&B.push(G)}return B.length===0?(this.setDragState(O,0),0):(B.length>1&&(this.sortGameObjects(B,O),this.topOnly&&B.splice(1)),this._drag[O.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var D=this._tempZones,B=this._drag[O.id],b=0;b<B.length;b++){var G=B[b],V=G.input,W=V.target;if(W){var H=D.indexOf(W);H===0?(G.emit(c.GAMEOBJECT_DRAG_OVER,O,W),this.emit(c.DRAG_OVER,O,G,W)):H>0?(G.emit(c.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(c.DRAG_LEAVE,O,G,W),V.target=D[0],W=V.target,G.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,G,W)):(G.emit(c.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(c.DRAG_LEAVE,O,G,W),D[0]?(V.target=D[0],W=V.target,G.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,G,W)):V.target=null)}else!W&&D[0]&&(V.target=D[0],W=V.target,G.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,G,W));var z,U;if(!G.parentContainer)z=O.worldX-V.dragX,U=O.worldY-V.dragY;else{var I=O.worldX-V.dragStartXGlobal,N=O.worldY-V.dragStartYGlobal,k=G.getParentRotation(),X=I*Math.cos(k)+N*Math.sin(k),Y=N*Math.cos(k)-I*Math.sin(k);X*=1/G.parentContainer.scaleX,Y*=1/G.parentContainer.scaleY,z=X+V.dragStartX,U=Y+V.dragStartY}G.emit(c.GAMEOBJECT_DRAG,O,z,U),this.emit(c.DRAG,O,G,z,U)}return B.length},processDragUpEvent:function(O){for(var D=this._drag[O.id],B=0;B<D.length;B++){var b=D[B],G=b.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-b.displayOriginX,G.dragY=G.localY-b.displayOriginY;var V=!1,W=G.target;W&&(b.emit(c.GAMEOBJECT_DROP,O,W),this.emit(c.DROP,O,b,W),G.target=null,V=!0),b.input&&b.input.enabled&&(b.emit(c.GAMEOBJECT_DRAG_END,O,G.dragX,G.dragY,V),this.emit(c.DRAG_END,O,b,V))}}return this.setDragState(O,0),D.splice(0),0},processMoveEvents:function(O){var D=0,B=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var V=!1,W=0;W<B.length;W++){var H=B[W];if(!(!H.input||!H.input.enabled)){if(D++,H.emit(c.GAMEOBJECT_POINTER_MOVE,O,H.input.localX,H.input.localY,G),b.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,O,H,G),b.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.topOnly)break}}return V||this.emit(c.POINTER_MOVE,O,B),D},processWheelEvent:function(O){var D=0,B=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var V=!1,W=O.deltaX,H=O.deltaY,z=O.deltaZ,U=0;U<B.length;U++){var I=B[U];if(!(!I.input||!I.input.enabled)){if(D++,I.emit(c.GAMEOBJECT_POINTER_WHEEL,O,W,H,z,G),b.cancelled||!I.input||!I.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,O,I,W,H,z,G),b.cancelled||!I.input||!I.input.enabled){V=!0;break}}}return V||this.emit(c.POINTER_WHEEL,O,B,W,H,z),D},processOverEvents:function(O){var D=this._temp,B=0,b=D.length,G=[];if(b>0){var V=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1;for(var z=!1,U=0;U<b;U++){var I=D[U];if(!(!I.input||!I.input.enabled)){if(G.push(I),V.setCursor(I.input),I.emit(c.GAMEOBJECT_POINTER_OVER,O,I.input.localX,I.input.localY,H),B++,W.cancelled||!I.input||!I.input.enabled){z=!0;break}if(this.emit(c.GAMEOBJECT_OVER,O,I,H),W.cancelled||!I.input||!I.input.enabled){z=!0;break}}}z||this.emit(c.POINTER_OVER,O,G)}return this._over[O.id]=G,B},processOutEvents:function(O){var D=this._over[O.id],B=0,b=D.length;if(b>0){var G=this.manager,V=this._eventData,W=this._eventContainer;V.cancelled=!1;var H=!1;this.sortGameObjects(D,O);for(var z=0;z<b;z++){var U=D[z];if(U=D[z],!(!U.input||!U.input.enabled)){if(G.resetCursor(U.input),U.emit(c.GAMEOBJECT_POINTER_OUT,O,W),B++,V.cancelled||!U.input||!U.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OUT,O,U,W),V.cancelled||!U.input||!U.input.enabled){H=!0;break}H||this.emit(c.POINTER_OUT,O,D)}}this._over[O.id]=[]}return B},processOverOutEvents:function(O){var D=this._temp,B,b,G=[],V=[],W=[],H=this._over[O.id],z=this._drag[O.id],U=this.manager;for(B=0;B<H.length;B++)b=H[B],D.indexOf(b)===-1&&z.indexOf(b)===-1?G.push(b):W.push(b);for(B=0;B<D.length;B++)b=D[B],H.indexOf(b)===-1&&V.push(b);var I=G.length,N=0,k=this._eventData,X=this._eventContainer;k.cancelled=!1;var Y=!1;if(I>0){for(this.sortGameObjects(G,O),B=0;B<I;B++)if(b=G[B],!(!b.input||!b.input.enabled)){if(U.resetCursor(b.input),b.emit(c.GAMEOBJECT_POINTER_OUT,O,X),N++,k.cancelled||!b.input||!b.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_OUT,O,b,X),k.cancelled||!b.input||!b.input.enabled){Y=!0;break}}Y||this.emit(c.POINTER_OUT,O,G)}if(I=V.length,k.cancelled=!1,Y=!1,I>0){for(this.sortGameObjects(V,O),B=0;B<I;B++)if(b=V[B],!(!b.input||!b.input.enabled)){if(U.setCursor(b.input),b.emit(c.GAMEOBJECT_POINTER_OVER,O,b.input.localX,b.input.localY,X),N++,k.cancelled||!b.input||!b.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_OVER,O,b,X),k.cancelled||!b.input||!b.input.enabled){Y=!0;break}}Y||this.emit(c.POINTER_OVER,O,V)}return H=W.concat(V),this._over[O.id]=this.sortGameObjects(H,O),N},processUpEvents:function(O){var D=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var G=!1,V=0;V<D.length;V++){var W=D[V];if(!(!W.input||!W.input.enabled)){if(W.emit(c.GAMEOBJECT_POINTER_UP,O,W.input.localX,W.input.localY,b),B.cancelled||!W.input||!W.input.enabled){G=!0;break}if(this.emit(c.GAMEOBJECT_UP,O,W,b),B.cancelled||!W.input||!W.input.enabled){G=!0;break}}}return!G&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,O,D):this.emit(c.POINTER_UP_OUTSIDE,O)),D.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,D){D===void 0&&(D=!0),Array.isArray(O)||(O=[O]);for(var B=0;B<O.length;B++){var b=O[B];b.input.draggable=D;var G=this._draggable.indexOf(b);D&&G===-1?this._draggable.push(b):!D&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var D=this.systems.textures;return a(D,O)},setHitArea:function(O,D,B){if(D===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var b=!1,G=!1,V=!1,W=!1,H=!1,z=!0;if(E(D)&&Object.keys(D).length){var U=D,I=O.some(function($){return $.hasOwnProperty("faces")});if(!I){D=g(U,"hitArea",null),B=g(U,"hitAreaCallback",null),H=g(U,"pixelPerfect",!1);var N=g(U,"alphaTolerance",1);H&&(D={},B=this.makePixelPerfect(N))}b=g(U,"draggable",!1),G=g(U,"dropZone",!1),V=g(U,"cursor",!1),W=g(U,"useHandCursor",!1),(!D||!B)&&(this.setHitAreaFromTexture(O),z=!1)}else typeof D=="function"&&!B&&(B=D,D={});for(var k=0;k<O.length;k++){var X=O[k];if(H&&X.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Y=X.input?X.input:h(X,D,B);Y.customHitArea=z,Y.dropZone=G,Y.cursor=W?"pointer":V,X.input=Y,b&&this.setDraggable(X),this.queueForInsertion(X)}return this},setHitAreaCircle:function(O,D,B,b,G){G===void 0&&(G=x);var V=new d(D,B,b);return this.setHitArea(O,V,G)},setHitAreaEllipse:function(O,D,B,b,G,V){V===void 0&&(V=o);var W=new v(D,B,b,G);return this.setHitArea(O,W,V)},setHitAreaFromTexture:function(O,D){D===void 0&&(D=w),Array.isArray(O)||(O=[O]);for(var B=0;B<O.length;B++){var b=O[B],G=b.frame,V=0,W=0;if(b.width?(V=b.width,W=b.height):G&&(V=G.realWidth,W=G.realHeight),b.type==="Container"&&(V===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}V!==0&&W!==0&&(b.input=h(b,new P(0,0,V,W),D),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(O,D,B,b,G,V){V===void 0&&(V=w);var W=new P(D,B,b,G);return this.setHitArea(O,W,V)},setHitAreaTriangle:function(O,D,B,b,G,V,W,H){H===void 0&&(H=L);var z=new A(D,B,b,G,V,W);return this.setHitArea(O,z,H)},enableDebug:function(O,D){D===void 0&&(D=65280);var B=O.input;if(!B||!B.hitArea)return this;var b=B.hitArea,G=b.type,V=B.hitAreaDebug,W=this.systems.add,H=this.systems.updateList;V&&(H.remove(V),V.destroy(),V=null);var z=0,U=0;switch(G){case m.CIRCLE:V=W.arc(0,0,b.radius),z=b.x-b.radius,U=b.y-b.radius;break;case m.ELLIPSE:V=W.ellipse(0,0,b.width,b.height),z=b.x-b.width/2,U=b.y-b.height/2;break;case m.LINE:V=W.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case m.POLYGON:V=W.polygon(0,0,b.points);break;case m.RECTANGLE:V=W.rectangle(0,0,b.width,b.height),z=b.x,U=b.y;break;case m.TRIANGLE:V=W.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return V&&(V.isFilled=!1,V.strokeColor=D,V.preUpdate=function(){V.setVisible(O.visible),V.setStrokeStyle(1/O.scale,V.strokeColor),V.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var I=O.x,N=O.y,k=O.rotation,X=O.scaleX,Y=O.scaleY;if(O.parentContainer){var $=O.getWorldTransformMatrix();I=$.tx,N=$.ty,k=$.rotation,X=$.scaleX,Y=$.scaleY}V.setRotation(k),V.setScale(X,Y),V.setPosition(I+z*X,N+U*Y),V.setScrollFactor(O.scrollFactorX,O.scrollFactorY),V.setDepth(O.depth)},H.add(V),B.hitAreaDebug=V),this},removeDebug:function(O){var D=O.input;if(D&&D.hitAreaDebug){var B=D.hitAreaDebug;B.destroy(),D.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,D){if(O.length<2||!D.camera)return O;var B=D.camera.renderList;return O.sort(function(b,G){var V=Math.max(B.indexOf(b),0),W=Math.max(B.indexOf(G),0);return W-V})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,D){if(!O.parentContainer&&!D.parentContainer)return this.displayList.getIndex(D)-this.displayList.getIndex(O);if(O.parentContainer===D.parentContainer)return D.parentContainer.getIndex(D)-O.parentContainer.getIndex(O);if(O.parentContainer===D)return-1;if(D.parentContainer===O)return 1;for(var B=O.getIndexList(),b=D.getIndexList(),G=Math.min(B.length,b.length),V=0;V<G;V++){var W=B[V],H=b[V];if(W!==H)return H-W}return b.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var D=this.manager;D.canvas.style.cursor=D.defaultCursor;var B=this.systems.events;B.off(R.TRANSITION_START,this.transitionIn,this),B.off(R.TRANSITION_OUT,this.transitionOut,this),B.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(R.PRE_UPDATE,this.preUpdate,this),D.events.off(c.GAME_OUT,this.onGameOut,this),D.events.off(c.GAME_OVER,this.onGameOver,this),B.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,D=0;D<O.length;D++)O[D].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});M.register("InputPlugin",F,"input"),r.exports=F},89639:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35154),x={},f={};f.register=function(l,h,a,u,v){x[l]={plugin:h,mapping:a,settingsKey:u,configKey:v}},f.getPlugin=function(l){return x[l]},f.install=function(l){var h=l.scene.sys,a=h.settings.input,u=h.game.config;for(var v in x){var o=x[v].plugin,c=x[v].mapping,p=x[v].settingsKey,g=x[v].configKey;d(a,p,u[g])&&(l[c]=new o(l))}},f.remove=function(l){x.hasOwnProperty(l)&&delete x[l]},r.exports=f},42515:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(31040),x=s(83419),f=s(20339),l=s(43855),h=s(47235),a=s(26099),u=s(25892),v=new x({initialize:function(c,p){this.manager=c,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(o){var c=o.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(o,c){return o.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var o=this.position.x,c=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(o===p&&c===g)){var m=h(this.motionFactor,p,o),C=h(this.motionFactor,g,c);l(m,o,.1)&&(m=o),l(C,c,.1)&&(C=c),this.midPoint.set(m,C);var E=o-m,M=c-C;this.velocity.set(E,M),this.angle=d(m,C,o,c),this.distance=Math.sqrt(E*E+M*M)}},up:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=o.timeStamp,this.wasTouch=!1)},down:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&o.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=o.timeStamp),this.wasTouch=!1},move:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.locked&&(this.movementX=o.movementX||o.mozMovementX||o.webkitMovementX||0,this.movementY=o.movementY||o.mozMovementY||o.webkitMovementY||0),this.moveTime=o.timeStamp,this.wasTouch=!1},wheel:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.deltaX=o.deltaX,this.deltaY=o.deltaY,this.deltaZ=o.deltaZ,this.wasTouch=!1},touchstart:function(o,c){o.pointerId&&(this.pointerId=o.pointerId),this.identifier=o.identifier,this.target=o.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(o,c){this.event=c,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(o,c){this.buttons=0,this.event=c,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(o,c){this.buttons=0,this.event=c,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(o,c){o===void 0&&(o=10),c===void 0&&(c=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,m=this.position.x,C=this.position.y,E=0;E<o;E++){var M=1/o*E;c[E]={x:h(M,p,m),y:h(M,g,C)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=v},93301:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=T},7179:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},85375:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},39843:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},23388:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},16133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},27829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},53904:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},56058:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},2642:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},88171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"},36147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},71692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},96149:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},81285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},74048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},21322:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},49378:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},86754:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"},86433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"},60709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"},24081:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},11172:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},18907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},95579:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},35368:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},26972:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},47078:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"},73802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"},56718:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"},25936:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"},27503:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},50852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"},96438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},59152:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"},47777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},27957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"},19444:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},54251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},18667:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},27192:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},24652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"},45132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},44512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},15757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},41637:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},93802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},8214:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h){this.pad=l,this.events=l.events,this.index=h,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=x},28884:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(92734),f=new d({initialize:function(h,a){this.pad=h,this.events=h.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var h=this.pad,a=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,h,this,l),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,a,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,h,this,l),this.pad.emit(x.GAMEPAD_BUTTON_UP,a,l,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=f},99125:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(97421),x=s(28884),f=s(83419),l=s(50792),h=s(26099),a=new f({Extends:l,initialize:function(v,o){l.call(this),this.manager=v,this.pad=o,this.id=o.id,this.index=o.index;for(var c=[],p=0;p<o.buttons.length;p++)c.push(new x(this,p));this.buttons=c;var g=[];for(p=0;p<o.axes.length;p++)g.push(new d(this,p));this.axes=g,this.vibration=o.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:m,this._LCRight=c[15]?c[15]:m,this._LCTop=c[12]?c[12]:m,this._LCBottom=c[13]?c[13]:m,this._RCLeft=c[2]?c[2]:m,this._RCRight=c[1]?c[1]:m,this._RCTop=c[3]?c[3]:m,this._RCBottom=c[0]?c[0]:m,this._FBLeftTop=c[4]?c[4]:m,this._FBLeftBottom=c[6]?c[6]:m,this._FBRightTop=c[5]?c[5]:m,this._FBRightBottom=c[7]?c[7]:m;var C={value:0};this._HAxisLeft=g[0]?g[0]:C,this._VAxisLeft=g[1]?g[1]:C,this._HAxisRight=g[2]?g[2]:C,this._VAxisRight=g[3]?g[3]:C,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(u){return this.axes[u].getValue()},setAxisThreshold:function(u){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=u},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(u){return this.buttons[u].value},isButtonDown:function(u){return this.buttons[u].pressed},update:function(u){if(!(u.timestamp<this._created)){var v,o=this.buttons,c=u.buttons,p=o.length;for(v=0;v<p;v++)o[v].update(c[v].value);var g=this.axes,m=u.axes;for(p=g.length,v=0;v<p;v++)g[v].update(m[v]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var u;for(u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=a},56654:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(92734),l=s(99125),h=s(35154),a=s(89639),u=s(8214),v=new d({Extends:x,initialize:function(c){x.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(u.BOOT,this.boot,this),c.pluginEvents.on(u.START,this.start,this)},boot:function(){var o=this.scene.sys.game,c=this.settings.input,p=o.config;this.enabled=h(c,"gamepad",p.inputGamepad)&&o.device.input.gamepads,this.target=h(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var o=this,c=this.target,p=function(g){g.defaultPrevented||!o.isActive()||(o.refreshPads(),o.queue.push(g))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].removeAllListeners()},disconnectAll:function(){for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].pad.connected=!1},refreshPads:function(){var o=navigator.getGamepads();if(!o)this.disconnectAll();else for(var c=this.gamepads,p=0;p<o.length;p++){var g=o[p];if(g){var m=g.id,C=g.index,E=c[C];if(E)E.id!==m?(E.destroy(),c[C]=new l(this,g)):E.update(g);else{var M=new l(this,g);c[C]=M,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=M):this._pad3=M:this._pad2=M:this._pad1=M}}}},getAll:function(){for(var o=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&o.push(c[p]);return o},getPad:function(o){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===o)return c[p]},update:function(){if(this.enabled){this.refreshPads();var o=this.queue.length;if(o!==0)for(var c=this.queue.splice(0,o),p=0;p<o;p++){var g=c[p],m=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(f.CONNECTED,m,g):g.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,m,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var o=0;o<this.gamepads.length;o++)this.gamepads[o]&&this.gamepads[o].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),r.exports=v},89651:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},7629:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},42206:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"},86544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"},94784:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},14325:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},92734:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(93301),x=s(79291),f={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};f=x(!1,f,d),r.exports=f},78970:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(72905),x=s(83419),f=s(8443),l=s(8214),h=s(46032),a=s(29747),u=new x({initialize:function(o){this.manager=o,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,o.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(l.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(l.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var o=this.target;o&&(o.addEventListener("keydown",this.onKeyDown,!1),o.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var o=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=h[p.trim().toUpperCase()]),o.indexOf(p)===-1&&o.push(p)}this.preventDefault=o.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var o=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=h[p.toUpperCase()]),d(o,p)}this.preventDefault=o.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u},28846:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(95922),l=s(8443),h=s(35154),a=s(8214),u=s(89639),v=s(30472),o=s(46032),c=s(87960),p=s(74600),g=s(44594),m=s(56583),C=new d({Extends:x,initialize:function(M){x.call(this),this.game=M.systems.game,this.scene=M.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=M,this.manager=M.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,M.pluginEvents.once(a.BOOT,this.boot,this),M.pluginEvents.on(a.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=h(E,"keyboard",!0);var M=h(E,"keyboard.capture",null);M&&this.addCaptures(M),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(E,M,P){M===void 0&&(M=!0),P===void 0&&(P=!1);var w={};if(typeof E=="string"){E=E.split(",");for(var R=0;R<E.length;R++){var A=E[R].trim();A&&(w[A]=this.addKey(A,M,P))}}else for(var L in E)w[L]=this.addKey(E[L],M,P);return w},addKey:function(E,M,P){M===void 0&&(M=!0),P===void 0&&(P=!1);var w=this.keys;if(E instanceof v){var R=w.indexOf(E);return R>-1?w[R]=E:w[E.keyCode]=E,M&&this.addCapture(E.keyCode),E.setEmitOnRepeat(P),E}return typeof E=="string"&&(E=o[E.toUpperCase()]),w[E]||(w[E]=new v(this,E),M&&this.addCapture(E),w[E].setEmitOnRepeat(P)),w[E]},removeKey:function(E,M,P){M===void 0&&(M=!1),P===void 0&&(P=!1);var w=this.keys,R;if(E instanceof v){var A=w.indexOf(E);A>-1&&(R=this.keys[A],this.keys[A]=void 0)}else typeof E=="string"&&(E=o[E.toUpperCase()]);return w[E]&&(R=w[E],w[E]=void 0),R&&(R.plugin=null,P&&this.removeCapture(R.keyCode),M&&R.destroy()),this},removeAllKeys:function(E,M){E===void 0&&(E=!1),M===void 0&&(M=!1);for(var P=this.keys,w=0;w<P.length;w++){var R=P[w];R&&(P[w]=void 0,M&&this.removeCapture(R.keyCode),E&&R.destroy())}return this},createCombo:function(E,M){return new c(this,E,M)},checkDown:function(E,M){if(M===void 0&&(M=0),this.enabled&&E.isDown){var P=m(this.time-E.timeDown,M);if(P>E._tick)return E._tick=P,!0}return!1},update:function(){var E=this.manager.queue,M=E.length;if(!(!this.isActive()||M===0))for(var P=this.keys,w=0;w<M;w++){var R=E[w],A=R.keyCode,L=P[A],F=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(A===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=A,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(L&&(F=L.isDown,L.onDown(R)),!R.cancelled&&(!L||!F)&&(p[A]&&this.emit(f.KEY_DOWN+p[A],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(L&&L.onUp(R),R.cancelled||(p[A]&&this.emit(f.KEY_UP+p[A],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,M=0;M<E.length;M++)E[M]&&E[M].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,M=0;M<E.length;M++)E[M]&&E[M].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),r.exports=C},66970:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d.timeLastMatched=s.timeStamp,d.index++,d.index===d.size?!0:(d.current=d.keyCodes[d.index],!1)};r.exports=T},87960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95922),f=s(95540),l=s(68769),h=s(92803),a=new d({initialize:function(v,o,c){if(c===void 0&&(c={}),o.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var p=0;p<o.length;p++){var g=o[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(c,"resetOnWrongKey",!0),this.maxKeyDelay=f(c,"maxKeyDelay",0),this.resetOnMatch=f(c,"resetOnMatch",!1),this.deleteOnMatch=f(c,"deleteOnMatch",!1);var m=this,C=function(E){if(!(m.matched||!m.enabled)){var M=l(E,m);M&&(m.manager.emit(x.COMBO_MATCH,m,E),m.resetOnMatch?h(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=C,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=a},68769:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66970),x=function(f,l){if(l.matched)return!0;var h=!1,a=!1;if(f.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var u=l.timeLastMatched+l.maxKeyDelay;f.timeStamp<=u&&(a=!0,h=d(f,l))}else a=!0,h=d(f,l);return!a&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),h&&(l.timeLastMatched=f.timeStamp,l.matched=!0,l.timeMatched=f.timeStamp),h};r.exports=x},92803:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};r.exports=T},92612:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"},23345:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"},21957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"},44743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},3771:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"},46358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"},75674:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},95922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=50);var x=s.plugin.game.loop.time-s.timeDown;return s.isDown&&x<d};r.exports=T},90229:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s._justDown?(s._justDown=!1,!0):!1};r.exports=T},38796:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s._justUp?(s._justUp=!1,!0):!1};r.exports=T},30472:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(95922),l=new d({Extends:x,initialize:function(a,u){x.call(this),this.plugin=a,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=l},46032:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=T},74600:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(46032),x={};for(var f in d)x[d[f]]=f;r.exports=x},41170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=50);var x=s.plugin.game.loop.time-s.timeUp;return s.isUp&&x<d};r.exports=T},85098:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(89357),f=s(8214),l=s(29747),h=new d({initialize:function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,u.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var u=this,v=this.manager,o=v.canvas,c=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseMove(g),u.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){c&&window.focus(),!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseDown(g),u.preventDefaultDown&&g.target===o&&g.preventDefault())},this.onMouseDownWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&u.enabled&&v&&v.enabled&&g.target!==o&&v.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseUp(g),u.preventDefaultUp&&g.target===o&&g.preventDefault())},this.onMouseUpWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&u.enabled&&v&&v.enabled&&g.target!==o&&v.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.onMouseWheel(g),u.preventDefaultWheel&&g.target===o&&g.preventDefault()};var p={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,p),a.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,p),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(g){var m=u.target;u.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,v.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=h},87078:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:s(85098)}},36210:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(8214),f=s(29747),l=new d({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,a.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var a=this,u=this.manager,v=u.canvas,o=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchMove(m),a.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){o&&window.focus(),!m.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchStart(m),a.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&m.target!==v&&u.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchEnd(m),a.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&m.target!==v&&u.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchCancel(m),a.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&a.enabled&&u&&u.enabled&&u.onTouchCancel(m)};var c=this.capture,p={passive:!0},g={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,c?g:p),h.addEventListener("touchmove",this.onTouchMove,c?g:p),h.addEventListener("touchend",this.onTouchEnd,c?g:p),h.addEventListener("touchcancel",this.onTouchCancel,c?g:p),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=l},95618:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:s(36210)}},41299:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(54899),l=s(95540),h=s(98356),a=s(3374),u=s(84376),v=s(92638),o=new d({initialize:function(p,g){if(this.loader=p,this.cache=l(g,"cache",!1),this.type=l(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(g,"key",!1);var m=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var C=l(g,"url");C===void 0?C=p.path+m+"."+l(g,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=p.path+C),this.url=C,this.src="",this.xhrSettings=v(l(g,"responseType",void 0)),l(g,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,l(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(g,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=u(this,this.loader.xhr))},onLoad:function(c,p){var g=c.responseURL&&this.loader.localSchemes.some(function(E){return c.responseURL.indexOf(E)===0}),m=g&&p.target.status===0,C=!(p.target&&p.target.status!==200)||m;c.readyState===4&&c.status>=400&&c.status<=599&&(C=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(c){this.xhrLoader=c,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==x.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var p=this.key,g=this.type;this.loader.emit(f.FILE_COMPLETE,p,g,c),this.loader.emit(f.FILE_KEY_COMPLETE+g+"-"+p,p,g,c),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});o.createObjectURL=function(c,p,g){if(typeof URL=="function")c.src=URL.createObjectURL(p);else{var m=new FileReader;m.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||g)+";base64,"+m.result.split(",")[1]},m.onerror=c.onerror,m.readAsDataURL(p)}},o.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},r.exports=o},74099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},s={install:function(d){for(var x in T)d[x]=T[x]},register:function(d,x){T[d]=x},destroy:function(){T={}}};r.exports=s},98356:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:d+s.url:!1};r.exports=T},74261:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(35072),l=s(50792),h=s(54899),a=s(74099),u=s(95540),v=s(35154),o=s(37277),c=s(44594),p=s(92638),g=new d({Extends:l,initialize:function(C){l.call(this);var E=C.sys.game.config,M=C.sys.settings.loader;this.scene=C,this.systems=C.sys,this.cacheManager=C.sys.cache,this.textureManager=C.sys.textures,this.sceneManager=C.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(M,"baseURL",E.loaderBaseURL)),this.setPath(u(M,"path",E.loaderPath)),this.setPrefix(u(M,"prefix",E.loaderPrefix)),this.maxParallelDownloads=u(M,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=p(u(M,"responseType",E.loaderResponseType),u(M,"async",E.loaderAsync),u(M,"user",E.loaderUser),u(M,"password",E.loaderPassword),u(M,"timeout",E.loaderTimeout),u(M,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=u(M,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=u(M,"imageLoadType",E.loaderImageLoadType),this.localSchemes=u(M,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,C.sys.events.once(c.BOOT,this.boot,this),C.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++){var E=m[C];this.keyExists(E)||(this.list.set(E),this.emit(h.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var C=m.hasCacheConflict();return C||this.list.iterate(function(E){if(E.type===m.type&&E.key===m.key)return C=!0,!1}),!C&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===m.type&&E.key===m.key)return C=!0,!1}),this.queue.iterate(function(E){if(E.type===m.type&&E.key===m.key)return C=!0,!1})),C},addPack:function(m,C){if(typeof C=="string"){var E=v(m,C);E&&(m={packKey:E})}var M=0,P=this.baseURL,w=this.path,R=this.prefix;for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)){var L=m[A],F=u(L,"baseURL",P),O=u(L,"path",w),D=u(L,"prefix",R),B=u(L,"files",null),b=u(L,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(O),this.setPrefix(D);for(var G=0;G<B.length;G++){var V=B[G],W=V.hasOwnProperty("type")?V.type:b;this[W]&&(this[W](V),M++)}}}return this.setBaseURL(P),this.setPath(w),this.setPrefix(R),M>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===x.FILE_POPULATED||m.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,C){this.inflight&&(this.inflight.delete(m),this.updateProgress(),C?(this.totalComplete++,this.queue.set(m),this.emit(h.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(h.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===x.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===x.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,C){return this.save(JSON.stringify(m),C)},save:function(m,C,E){C===void 0&&(C="file.json"),E===void 0&&(E="application/json");var M=new Blob([m],{type:E}),P=URL.createObjectURL(M),w=document.createElement("a");return w.download=C,w.textContent="Download "+C,w.href=P,w.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,C=this.systems.settings.loader;this.setBaseURL(u(C,"baseURL",m.loaderBaseURL)),this.setPath(u(C,"path",m.loaderPath)),this.setPrefix(u(C,"prefix",m.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});o.register("Loader",g,"load"),r.exports=g},3374:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=s(92638),f=function(l,h){var a=l===void 0?x():d({},l);if(h)for(var u in h)h[u]!==void 0&&(a[u]=h[u]);return a};r.exports=f},26430:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(54899),l=new d({initialize:function(a,u,v,o){var c=[];o.forEach(function(m){m&&c.push(m)}),this.loader=a,this.type=u,this.key=v;var p=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+p),this.multiKeyIndex=a.multiKeyIndex++,this.files=c,this.state=x.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var g=0;g<c.length;g++)c[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var a=this.files.indexOf(h);a!==-1&&this.pending--},onFileFailed:function(h){var a=this.files.indexOf(h);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var h=this.key,a=this.type;this.loader.emit(f.FILE_COMPLETE,h,a),this.loader.emit(f.FILE_KEY_COMPLETE+a+"-"+h,h,a),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=l},84376:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(3374),x=function(f,l){var h=d(l,f.xhrSettings);if(f.base64){var a=f.url.split(";base64,").pop()||f.url.split(",").pop(),u={responseText:atob(a)};f.onBase64Load(u);return}var v=new XMLHttpRequest;if(v.open("GET",f.src,h.async,h.user,h.password),v.responseType=f.xhrSettings.responseType,v.timeout=h.timeout,h.headers)for(var o in h.headers)v.setRequestHeader(o,h.headers[o]);return h.header&&h.headerValue&&v.setRequestHeader(h.header,h.headerValue),h.requestedWith&&v.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&v.overrideMimeType(h.overrideMimeType),h.withCredentials&&(v.withCredentials=!0),v.onload=f.onLoad.bind(f,v),v.onerror=f.onError.bind(f,v),v.onprogress=f.onProgress.bind(f),v.ontimeout=f.onError.bind(f,v),v.send(),v};r.exports=x},92638:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h){return s===void 0&&(s=""),d===void 0&&(d=!0),x===void 0&&(x=""),f===void 0&&(f=""),l===void 0&&(l=0),h===void 0&&(h=!1),{responseType:s,async:d,user:x,password:f,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};r.exports=T},23906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=T},42155:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"},38991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},27540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"},87464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"},94486:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"},13035:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"},38144:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"},97520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"},85595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"},55680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},54899:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(518),l=s(54899),h=new d({Extends:f,initialize:function(u,v,o,c,p){f.call(this,u,v,o,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(a,u,v,o){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new h(this,a[c]));else this.addFile(new h(this,a,u,o,v));return this}),r.exports=h},76272:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(518),u=s(26430),v=new d({Extends:u,initialize:function(c,p,g,m,C,E){var M,P;if(h(p)){var w=p;p=f(w,"key"),M=new l(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new a(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new l(c,p,g,C),P=new a(c,p,m,E);M.linkFile?u.call(this,c,"atlasjson",p,[M,P,M.linkFile]):u.call(this,c,"atlasjson",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,c.data,p),c.addToCache(),this.complete=!0}}});x.register("aseprite",function(o,c,p,g,m){var C;if(Array.isArray(o))for(var E=0;E<o.length;E++)C=new v(this,o[E]),this.addFile(C.files);else C=new v(this,o,c,p,g,m),this.addFile(C.files);return this}),r.exports=v},38734:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(518),u=s(26430),v=new d({Extends:u,initialize:function(c,p,g,m,C,E){var M,P;if(h(p)){var w=p;p=f(w,"key"),M=new l(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new a(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new l(c,p,g,C),P=new a(c,p,m,E);M.linkFile?u.call(this,c,"atlasjson",p,[M,P,M.linkFile]):u.call(this,c,"atlasjson",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,c.data,p),this.complete=!0}}});x.register("atlas",function(o,c,p,g,m){var C;if(Array.isArray(o))for(var E=0;E<o.length;E++)C=new v(this,o[E]),this.addFile(C.files);else C=new v(this,o,c,p,g,m),this.addFile(C.files);return this}),r.exports=v},74599:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(26430),u=s(57318),v=new d({Extends:a,initialize:function(c,p,g,m,C,E){var M,P;if(h(p)){var w=p;p=f(w,"key"),M=new l(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new u(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new l(c,p,g,C),P=new u(c,p,m,E);M.linkFile?a.call(this,c,"atlasxml",p,[M,P,M.linkFile]):a.call(this,c,"atlasxml",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(o.key,o.data,c.data,p),this.complete=!0}}});x.register("atlasXML",function(o,c,p,g,m){var C;if(Array.isArray(o))for(var E=0;E<o.length;E++)C=new v(this,o[E]),this.addFile(C.files);else C=new v(this,o,c,p,g,m),this.addFile(C.files);return this}),r.exports=v},21097:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(89749),u=s(41212),v=new d({Extends:f,initialize:function(c,p,g,m,C){if(u(p)){var E=p;p=h(E,"key"),m=h(E,"xhrSettings"),C=h(E,"context",C)}var M={type:"audio",cache:c.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:m,config:{context:C}};f.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var o=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){o.data=c,o.onProcessComplete()},function(c){console.error("Error decoding audio: "+o.key+" - ",c?c.message:null),o.onProcessError()}),this.config.context=null}});v.create=function(o,c,p,g,m){var C=o.systems.game,E=C.config.audio,M=C.device.audio;u(c)&&(p=h(c,"url",[]),g=h(c,"config",{}));var P=v.getAudioURL(C,p);return P?M.webAudio&&!E.disableWebAudio?new v(o,c,P,m,C.sound.context):new a(o,c,P,g):(console.warn('No audio URLs for "%s" matched this device',c),null)},v.getAudioURL=function(o,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var g=h(c[p],"url",c[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var m=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=h(c[p],"type",m?m[1]:"").toLowerCase(),o.device.audio[m])return{url:g,type:m}}return null},l.register("audio",function(o,c,p,g){var m=this.systems.game,C=m.config.audio,E=m.device.audio;if(C.noAudio||!E.webAudio&&!E.audioData)return this;var M;if(Array.isArray(o))for(var P=0;P<o.length;P++)M=v.create(this,o[P]),M&&this.addFile(M);else M=v.create(this,o,c,p,g),M&&this.addFile(M);return this}),r.exports=v},89524:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(21097),x=s(83419),f=s(74099),l=s(95540),h=s(41212),a=s(518),u=s(26430),v=new x({Extends:u,initialize:function(c,p,g,m,C,E,M){if(h(p)){var P=p;p=l(P,"key"),g=l(P,"jsonURL"),m=l(P,"audioURL"),C=l(P,"audioConfig"),E=l(P,"audioXhrSettings"),M=l(P,"jsonXhrSettings")}var w;if(!m)w=new a(c,p,g,M),u.call(this,c,"audiosprite",p,[w]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=E;else{var R=d.create(c,p,m,C,E);R&&(w=new a(c,p,g,M),u.call(this,c,"audiosprite",p,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(o){var c=this.files.indexOf(o);if(c!==-1&&(this.pending--,this.config.resourceLoad&&o.type==="json"&&o.data.hasOwnProperty("resources"))){var p=o.data.resources,g=l(this.config,"audioConfig"),m=l(this.config,"audioXhrSettings"),C=d.create(this.loader,o.key,p,g,m);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1];o.addToCache(),c.addToCache(),this.complete=!0}}});f.register("audioSprite",function(o,c,p,g,m,C){var E=this.systems.game,M=E.config.audio,P=E.device.audio;if(M&&M.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(o))for(var R=0;R<o.length;R++)w=new v(this,o[R]),w.files&&this.addFile(w.files);else w=new v(this,o,c,p,g,m,C),w.files&&this.addFile(w.files);return this})},85722:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m){var C="bin";if(a(c)){var E=c;c=h(E,"key"),p=h(E,"url"),g=h(E,"xhrSettings"),C=h(E,"extension",C),m=h(E,"dataType",m)}var M={type:"binary",cache:o.cacheManager.binary,extension:C,responseType:"arraybuffer",key:c,url:p,xhrSettings:g,config:{dataType:m}};f.call(this,o,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(v,o,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,o,p,c));return this}),r.exports=u},97025:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(26430),u=s(21859),v=s(57318),o=new d({Extends:a,initialize:function(p,g,m,C,E,M){var P,w;if(h(g)){var R=g;g=f(R,"key"),P=new l(p,{key:g,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new v(p,{key:g,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else P=new l(p,g,m,E),w=new v(p,g,C,M);P.linkFile?a.call(this,p,"bitmapfont",g,[P,w,P.linkFile]):a.call(this,p,"bitmapfont",g,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var g=c.cache.get(c.key),m=u(p.data,c.cache.getFrame(c.key),0,0,g);this.loader.cacheManager.bitmapFont.add(c.key,{data:m,texture:c.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(c,p,g,m,C){var E;if(Array.isArray(c))for(var M=0;M<c.length;M++)E=new o(this,c[M]),this.addFile(E.files);else E=new o(this,c,p,g,m,C),this.addFile(E.files);return this}),r.exports=o},16024:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g){var m="css";if(a(c)){var C=c;c=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),m=h(C,"extension",m)}var E={type:"script",cache:!1,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};f.call(this,o,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(v,o,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,o,c));return this}),r.exports=u},69559:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(38734),x=s(85722),f=s(83419),l=s(74099),h=s(95540),a=s(19550),u=s(41212),v=s(518),o=s(31403),c=s(46975),p=s(59327),g=s(26430),m=s(82038),C=s(55222),E=new f({Extends:g,initialize:function(P,w,R,A){if(R.multiAtlasURL){var L=new v(P,{key:w,url:R.multiAtlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",w,[L])}else{var F=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var O=new x(P,{key:w,url:R.textureURL,extension:F,xhrSettings:A,config:R});if(R.atlasURL){var D=new v(P,{key:w,url:R.atlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",w,[O,D])}else g.call(this,P,"texture",w,[O])}this.config=R},onFileComplete:function(M){var P=this.files.indexOf(M);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(M.type==="json"&&M.data.hasOwnProperty("textures")){var w=M.data.textures,R=this.config,A=this.loader,L=A.baseURL,F=A.path,O=A.prefix,D=h(R,"multiBaseURL",this.baseURL),B=h(R,"multiPath",this.path),b=h(R,"prefix",this.prefix),G=h(R,"textureXhrSettings");D&&A.setBaseURL(D),B&&A.setPath(B),b&&A.setPrefix(b);for(var V=0;V<w.length;V++){var W=w[V].image,H="CMA"+this.multiKeyIndex+"_"+W,z=new x(A,H,W,G);if(this.addToMultiFile(z),A.addFile(z),w[V].normalMap){var U=new x(A,H,w[V].normalMap,G);U.type="normalMap",z.setLink(U),this.addToMultiFile(U),A.addFile(U)}}A.setBaseURL(L),A.setPath(F),A.setPrefix(O)}}},addToCache:function(){function M(D){console.warn('Compressed Texture Invalid: "'+L.key+'". '+D)}if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,A,L=this.files[0],F=this.files[1];if(P.type==="PVR"?A=m(L.data):P.type==="KTX"&&(A=o(L.data),A||M("KTX file contains unsupported format.")),A&&!C(A)&&(M("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!w.supportsCompressedTexture(P.format,A.internalFormat)&&(M("Texture format "+P.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=w.getCompressedTextureName(P.format,A.internalFormat);var O=F&&F.data?F.data:null;R.addCompressedTexture(L.key,A,O)}}this.complete=!0}},addMultiToCache:function(){for(var M=this.config,P=this.files[0],w=[],R=[],A=[],L=this.loader.systems.renderer,F=this.loader.textureManager,O,D=1;D<this.files.length;D++){var B=this.files[D];if(B.type!=="normalMap")for(var b=B.key.indexOf("_"),G=B.key.substr(b+1),V=B.data,W=0;W<P.data.textures.length;W++){var H=P.data.textures[W];if(H.image===G){M.type==="PVR"?O=m(V):M.type==="KTX"&&(O=o(V)),O&&L.supportsCompressedTexture(M.format,O.internalFormat)&&(O.format=L.getCompressedTextureName(M.format,O.internalFormat),R.push(O),w.push(H),B.linkFile&&A.push(B.linkFile.data));break}}}A.length===0&&(A=void 0),F.addAtlasJSONArray(this.key,R,w,A),this.complete=!0}});l.register("texture",function(M,P,w){var R=this.systems.renderer,A=function(F,O,D,B){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(O)){var G=O;O=h(G,"key"),D=h(G,"url"),B=h(G,"xhrSettings")}var V=!1;for(var W in D)if(R.supportsCompressedTexture(W)){var H=D[W];typeof H=="string"?b.textureURL=H:b=c(H,b),b.format=W.toUpperCase(),V=!0;break}if(!V)console.warn("No supported compressed texture format or IMG fallback",O);else if(b.format==="IMG"){var z,U;b.multiAtlasURL?(U=new p(F,O,b.multiAtlasURL,b.multiPath,b.multiBaseURL,B),z=U.files):b.atlasURL?(U=new d(F,O,b.textureURL,b.atlasURL,B),z=U.files):z=new a(F,O,b.textureURL,B),F.addFile(z)}else{var I=new E(F,O,b,B);F.addFile(I.files)}};if(Array.isArray(M))for(var L=0;L<M.length;L++)A(this,M[L]);else A(this,M,P,w);return this}),r.exports=E},47931:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=s(73894),v=new d({Extends:f,initialize:function(c,p,g,m,C){var E="glsl";if(a(p)){var M=p;p=h(M,"key"),g=h(M,"url"),m=h(M,"shaderType","fragment"),C=h(M,"xhrSettings"),E=h(M,"extension",E)}else m===void 0&&(m="fragment");var P={type:"glsl",cache:c.cacheManager.shader,extension:E,responseType:"text",key:p,url:g,config:{shaderType:m},xhrSettings:C};f.call(this,c,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.split(`
`),c=this.extractBlock(o,0);if(c)for(;c;){var p=this.getShaderName(c.header),g=this.getShaderType(c.header),m=this.getShaderUniforms(c.header),C=c.shader;if(this.cache.has(p)){var E=this.cache.get(p);g==="fragment"?E.fragmentSrc=C:E.vertexSrc=C,E.uniforms||(E.uniforms=m)}else g==="fragment"?this.cache.add(p,new u(p,C,"",m)):this.cache.add(p,new u(p,"",C,m));c=this.extractBlock(o,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new u(this.key,this.data)):this.cache.add(this.key,new u(this.key,"",this.data))},getShaderName:function(o){for(var c=0;c<o.length;c++){var p=o[c].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(o){for(var c=0;c<o.length;c++){var p=o[c].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(o){for(var c={},p=0;p<o.length;p++){var g=o[p].trim();if(g.substring(0,8)==="uniform."){var m=g.indexOf(":");if(m){var C=g.substring(8,m);try{c[C]=JSON.parse(g.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return c},extractBlock:function(o,c){for(var p=-1,g=-1,m=-1,C=!1,E=!1,M=[],P=[],w=c;w<o.length;w++){var R=o[w].trim();if(R==="---")if(p===-1)p=w,C=!0;else if(C)g=w,C=!1,E=!0;else{E=!1;break}else C?M.push(R):E&&(P.push(R),m=w)}return!C&&g!==-1?{header:M,shader:P.join(`
`),offset:m}:null}});l.register("glsl",function(o,c,p,g){if(Array.isArray(o))for(var m=0;m<o.length;m++)this.addFile(new v(this,o[m]));else this.addFile(new v(this,o,c,p,g));return this}),r.exports=v},89749:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(54899),f=s(41299),l=s(95540),h=s(98356),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g){if(a(c)){var m=c;c=l(m,"key"),g=l(m,"config",g)}var C={type:"audio",cache:o.cacheManager.audio,extension:p.type,key:c,url:p.url,config:g};f.call(this,o,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var o=this.data[v];o.oncanplaythrough=null,o.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var o=v.target;o.oncanplaythrough=null,o.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var o=0;o<v;o++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+o).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(o=0;o<this.data.length;o++)c=this.data[o],c.src=h(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=u},88470:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g){var m="html";if(a(c)){var C=c;c=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),m=h(C,"extension",m)}var E={type:"text",cache:o.cacheManager.html,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};f.call(this,o,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(v,o,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,o,c));return this}),r.exports=u},14643:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m,C){g===void 0&&(g=512),m===void 0&&(m=512);var E="html";if(a(c)){var M=c;c=h(M,"key"),p=h(M,"url"),C=h(M,"xhrSettings"),E=h(M,"extension",E),g=h(M,"width",g),m=h(M,"height",m)}var P={type:"html",cache:o.textureManager,extension:E,responseType:"text",key:c,url:p,xhrSettings:C,config:{width:g,height:m}};f.call(this,o,P)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.config.width,o=this.config.height,c=[];c.push('<svg width="'+v+'px" height="'+o+'px" viewBox="0 0 '+v+" "+o+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join(`
`)],g=this;try{var m=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=x.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(g.data),g.onProcessError()},f.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(v,o,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,o,c,p,g));return this}),r.exports=u},19550:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=s(98356),v=new d({Extends:f,initialize:function o(c,p,g,m,C){var E="png",M;if(a(p)){var P=p;p=h(P,"key"),g=h(P,"url"),M=h(P,"normalMap"),m=h(P,"xhrSettings"),E=h(P,"extension",E),C=h(P,"frameConfig")}Array.isArray(g)&&(M=g[1],g=g[0]);var w={type:"image",cache:c.textureManager,extension:E,responseType:"blob",key:p,url:g,xhrSettings:m,config:C};if(f.call(this,c,w),M){var R=new o(c,this.key,M,m,C);R.type="normalMap",this.setLink(R),c.addFile(R)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var o=this;this.data.onload=function(){f.revokeObjectURL(o.data),o.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(o.data),o.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var o=this.state;this.state=x.FILE_PROCESSING,o===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var o=this;this.data.onload=function(){o.state=x.FILE_LOADED,o.loader.nextFile(o,!0)},this.data.onerror=function(){o.loader.nextFile(o,!1)},this.data.src=this.src},addToCache:function(){var o=this.linkFile;o?o.state>=x.FILE_COMPLETE&&(o.type==="spritesheet"?o.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,o.data,this.data):this.cache.addImage(this.key,this.data,o.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(o,c,p){if(Array.isArray(o))for(var g=0;g<o.length;g++)this.addFile(new v(this,o[g]));else this.addFile(new v(this,o,c,p));return this}),r.exports=v},518:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(35154),u=s(41212),v=new d({Extends:f,initialize:function(c,p,g,m,C){var E="json";if(u(p)){var M=p;p=h(M,"key"),g=h(M,"url"),m=h(M,"xhrSettings"),E=h(M,"extension",E),C=h(M,"dataKey",C)}var P={type:"json",cache:c.cacheManager.json,extension:E,responseType:"text",key:p,url:g,xhrSettings:m,config:C};f.call(this,c,P),u(g)&&(C?this.data=a(g,C):this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var o=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;typeof c=="string"?this.data=a(o,c,o):this.data=o}this.onProcessComplete()}});l.register("json",function(o,c,p,g){if(Array.isArray(o))for(var m=0;m<o.length;m++)this.addFile(new v(this,o[m]));else this.addFile(new v(this,o,c,g,p));return this}),r.exports=v},59327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(518),u=s(26430),v=new d({Extends:u,initialize:function(c,p,g,m,C,E,M){if(h(p)){var P=p;p=f(P,"key"),f(P,"url",!1)?g=f(P,"url"):g=f(P,"atlasURL"),E=f(P,"xhrSettings"),m=f(P,"path"),C=f(P,"baseURL"),M=f(P,"textureXhrSettings")}var w=new a(c,p,g,E);u.call(this,c,"multiatlas",p,[w]),this.config.path=m,this.config.baseURL=C,this.config.textureXhrSettings=M},onFileComplete:function(o){var c=this.files.indexOf(o);if(c!==-1&&(this.pending--,o.type==="json"&&o.data.hasOwnProperty("textures"))){var p=o.data.textures,g=this.config,m=this.loader,C=m.baseURL,E=m.path,M=m.prefix,P=f(g,"baseURL",this.baseURL),w=f(g,"path",this.path),R=f(g,"prefix",this.prefix),A=f(g,"textureXhrSettings");m.setBaseURL(P),m.setPath(w),m.setPrefix(R);for(var L=0;L<p.length;L++){var F=p[L].image,O="MA"+this.multiKeyIndex+"_"+F,D=new l(m,O,F,A);if(this.addToMultiFile(D),m.addFile(D),p[L].normalMap){var B=new l(m,O,p[L].normalMap,A);B.type="normalMap",D.setLink(B),this.addToMultiFile(B),m.addFile(B)}}m.setBaseURL(C),m.setPath(E),m.setPrefix(M)}},addToCache:function(){if(this.isReadyToProcess()){for(var o=this.files[0],c=[],p=[],g=[],m=1;m<this.files.length;m++){var C=this.files[m];if(C.type!=="normalMap")for(var E=C.key.indexOf("_"),M=C.key.substr(E+1),P=C.data,w=0;w<o.data.textures.length;w++){var R=o.data.textures[w];if(R.image===M){p.push(P),c.push(R),C.linkFile&&g.push(C.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,g),this.complete=!0}}});x.register("multiatlas",function(o,c,p,g,m){var C;if(Array.isArray(o))for(var E=0;E<o.length;E++)C=new v(this,o[E]),this.addFile(C.files);else C=new v(this,o,c,p,g,m),this.addFile(C.files);return this}),r.exports=v},99297:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(41212),h=s(26430),a=s(34328),u=new d({Extends:h,initialize:function(o,c,p,g){var m="js",C=[];if(l(c)){var E=c;c=f(E,"key"),p=f(E,"url"),g=f(E,"xhrSettings"),m=f(E,"extension",m)}Array.isArray(p)||(p=[p]);for(var M=0;M<p.length;M++){var P=new a(o,{key:c+"_"+M.toString(),url:p[M],extension:m,xhrSettings:g});P.onProcess=function(){this.onProcessComplete()},C.push(P)}h.call(this,o,"scripts",c,C)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var o=this.files[v];o.data=document.createElement("script"),o.data.language="javascript",o.data.type="text/javascript",o.data.defer=!1,o.data.text=o.xhrLoader.responseText,document.head.appendChild(o.data)}this.complete=!0}}});x.register("scripts",function(v,o,c){var p;if(Array.isArray(v))for(var g=0;g<v.length;g++)p=new u(this,v[g]),this.addFile(p.files);else p=new u(this,v,o,c),this.addFile(p.files);return this}),r.exports=u},41846:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(41212),h=s(26430),a=s(85048),u=s(61485),v=s(78776),o=new d({Extends:h,initialize:function(p,g,m,C,E,M){var P,w,R=p.cacheManager.obj;if(l(g)){var A=g;g=f(A,"key"),P=new v(p,{key:g,type:"obj",cache:R,url:f(A,"url"),extension:f(A,"extension","obj"),xhrSettings:f(A,"xhrSettings"),config:{flipUV:f(A,"flipUV",E)}}),C=f(A,"matURL"),C&&(w=new v(p,{key:g,type:"mat",cache:R,url:C,extension:f(A,"matExtension","mat"),xhrSettings:f(A,"xhrSettings")}))}else P=new v(p,{key:g,url:m,type:"obj",cache:R,extension:"obj",xhrSettings:M,config:{flipUV:E}}),C&&(w=new v(p,{key:g,url:C,type:"mat",cache:R,extension:"mat",xhrSettings:M}));h.call(this,p,"obj",g,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],g=a(c.data,c.config.flipUV);p&&(g.materials=u(p.data)),c.cache.add(c.key,g),this.complete=!0}}});x.register("obj",function(c,p,g,m,C){var E;if(Array.isArray(c))for(var M=0;M<c.length;M++)E=new o(this,c[M]),this.addFile(E.files);else E=new o(this,c,p,g,m,C),this.addFile(E.files);return this}),r.exports=o},58610:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(74099),l=s(518),h=new d({Extends:l,initialize:function(u,v,o,c,p){l.call(this,u,v,o,c,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(a,u,v,o){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new h(this,a[c]));else this.addFile(new h(this,a,u,o,v));return this}),r.exports=h},48988:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m,C){var E="js";if(a(c)){var M=c;c=h(M,"key"),p=h(M,"url"),C=h(M,"xhrSettings"),E=h(M,"extension",E),g=h(M,"start"),m=h(M,"mapping")}var P={type:"plugin",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:C,config:{start:g,mapping:m}};f.call(this,o,P),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,o=this.config,c=h(o,"start",!1),p=h(o,"mapping",null);if(this.state===x.FILE_POPULATED)v.install(this.key,this.data,c,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=v.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});l.register("plugin",function(v,o,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,o,c,p,g));return this}),r.exports=u},67397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m){var C="svg";if(a(c)){var E=c;c=h(E,"key"),p=h(E,"url"),g=h(E,"svgConfig",{}),m=h(E,"xhrSettings"),C=h(E,"extension",C)}var M={type:"svg",cache:o.textureManager,extension:C,responseType:"text",key:c,url:p,xhrSettings:m,config:{width:h(g,"width"),height:h(g,"height"),scale:h(g,"scale")}};f.call(this,o,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.xhrLoader.responseText,o=[v],c=this.config.width,p=this.config.height,g=this.config.scale;t:if(c&&p||g){var m=null,C=new DOMParser;m=C.parseFromString(v,"text/xml");var E=m.getElementsByTagName("svg")[0],M=E.hasAttribute("viewBox"),P=parseFloat(E.getAttribute("width")),w=parseFloat(E.getAttribute("height"));if(!M&&P&&w)E.setAttribute("viewBox","0  0 "+P+" "+w);else if(M&&!P&&!w){var R=E.getAttribute("viewBox").split(/\s+|,/);P=R[2],w=R[3]}if(g)if(P&&w)c=P*g,p=w*g;else break t;E.setAttribute("width",c.toString()+"px"),E.setAttribute("height",p.toString()+"px"),o=[new XMLSerializer().serializeToString(E)]}try{var A=new window.Blob(o,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,F=!1;this.data.onload=function(){F||f.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){F?L.onProcessError():(F=!0,f.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(o.join("")))},f.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(v,o,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,o,c,p));return this}),r.exports=u},88423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g){var m="js";if(a(c)){var C=c;c=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),m=h(C,"extension",m)}var E={type:"text",extension:m,responseType:"text",key:c,url:p,xhrSettings:g};f.call(this,o,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),o=eval;this.loader.sceneManager.add(this.key,o(v)),this.complete=!0}});l.register("sceneFile",function(v,o,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,o,c));return this}),r.exports=u},56812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m,C){var E="js";if(a(c)){var M=c;c=h(M,"key"),p=h(M,"url"),C=h(M,"xhrSettings"),E=h(M,"extension",E),g=h(M,"systemKey"),m=h(M,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:C,config:{systemKey:g,sceneKey:m}};f.call(this,o,P),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,o=this.config,c=this.key,p=h(o,"systemKey",c),g=h(o,"sceneKey",c);this.state===x.FILE_POPULATED?v.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(v,o,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,o,c,p,g));return this}),r.exports=u},34328:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g,m){var C="js";if(a(c)){var E=c;c=h(E,"key"),p=h(E,"url"),g=h(E,"type","script"),m=h(E,"xhrSettings"),C=h(E,"extension",C)}else g===void 0&&(g="script");var M={type:g,cache:!1,extension:C,responseType:"text",key:c,url:p,xhrSettings:m};f.call(this,o,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(v,o,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,o,c,p));return this}),r.exports=u},85035:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(74099),l=s(19550),h=new d({Extends:l,initialize:function(u,v,o,c,p){l.call(this,u,v,o,p,c),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(a,u,v,o){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new h(this,a[c]));else this.addFile(new h(this,a,u,v,o));return this}),r.exports=h},78776:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=new d({Extends:f,initialize:function(o,c,p,g){var m="text",C="txt",E=o.cacheManager.text;if(a(c)){var M=c;c=h(M,"key"),p=h(M,"url"),g=h(M,"xhrSettings"),C=h(M,"extension",C),m=h(M,"type",m),E=h(M,"cache",E)}var P={type:m,cache:E,extension:C,responseType:"text",key:c,url:p,xhrSettings:g};f.call(this,o,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(v,o,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,o,c));return this}),r.exports=u},49477:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=s(80341),v=new d({Extends:f,initialize:function(c,p,g,m){var C="csv";if(a(p)){var E=p;p=h(E,"key"),g=h(E,"url"),m=h(E,"xhrSettings"),C=h(E,"extension",C)}var M={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:C,responseType:"text",key:p,url:g,xhrSettings:m};f.call(this,c,M),this.tilemapFormat=u.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,o)}});l.register("tilemapCSV",function(o,c,p){if(Array.isArray(o))for(var g=0;g<o.length;g++)this.addFile(new v(this,o[g]));else this.addFile(new v(this,o,c,p));return this}),r.exports=v},40807:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(518),l=s(80341),h=new d({Extends:f,initialize:function(u,v,o,c){f.call(this,u,v,o,c),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var a={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapImpact",function(a,u,v){if(Array.isArray(a))for(var o=0;o<a.length;o++)this.addFile(new h(this,a[o]));else this.addFile(new h(this,a,u,v));return this}),r.exports=h},56775:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(518),l=s(80341),h=new d({Extends:f,initialize:function(u,v,o,c){f.call(this,u,v,o,c),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var a={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapTiledJSON",function(a,u,v){if(Array.isArray(a))for(var o=0;o<a.length;o++)this.addFile(new h(this,a[o]));else this.addFile(new h(this,a,u,v));return this}),r.exports=h},25771:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(74099),f=s(95540),l=s(19550),h=s(41212),a=s(26430),u=s(78776),v=new d({Extends:a,initialize:function(c,p,g,m,C,E){var M,P;if(h(p)){var w=p;p=f(w,"key"),M=new l(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new u(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new l(c,p,g,C),P=new u(c,p,m,E);M.linkFile?a.call(this,c,"unityatlas",p,[M,P,M.linkFile]):a.call(this,c,"unityatlas",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(o.key,o.data,c.data,p),this.complete=!0}}});x.register("unityAtlas",function(o,c,p,g,m){var C;if(Array.isArray(o))for(var E=0;E<o.length;E++)C=new v(this,o[E]),this.addFile(C.files);else C=new v(this,o,c,p,g,m),this.addFile(C.files);return this}),r.exports=v},33720:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(98356),a=s(95540),u=s(41212),v=new d({Extends:f,initialize:function(c,p,g,m){if(m===void 0&&(m=!1),u(p)){var C=p;p=a(C,"key"),g=a(C,"url",[]),m=a(C,"noAudio",!1)}var E=c.systems.game.device.video.getVideoURL(g);E||console.warn("VideoFile: No supported format for "+p);var M={type:"video",cache:c.cacheManager.video,extension:E.type,key:p,url:E.url,config:{noAudio:m}};f.call(this,c,M)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(o,c,p){if(Array.isArray(o))for(var g=0;g<o.length;g++)this.addFile(new v(this,o[g]));else this.addFile(new v(this,o,c,p));return this}),r.exports=v},57318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(23906),f=s(41299),l=s(74099),h=s(95540),a=s(41212),u=s(56836),v=new d({Extends:f,initialize:function(c,p,g,m){var C="xml";if(a(p)){var E=p;p=h(E,"key"),g=h(E,"url"),m=h(E,"xhrSettings"),C=h(E,"extension",C)}var M={type:"xml",cache:c.cacheManager.xml,extension:C,responseType:"text",key:p,url:g,xhrSettings:m};f.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(o,c,p){if(Array.isArray(o))for(var g=0;g<o.length;g++)this.addFile(new v(this,o[g]));else this.addFile(new v(this,o,c,p));return this}),r.exports=v},64589:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23906),x=s(79291),f={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};f=x(!1,f,d),r.exports=f},53307:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=0,x=0;x<s.length;x++)d+=+s[x];return d/s.length};r.exports=T},85710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6411),x=function(f,l){return d(f)/d(l)/d(f-l)};r.exports=x},30976:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return Math.floor(Math.random()*(d-s+1)+s)};r.exports=T},87842:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){var h=(f-d)*.5,a=(l-x)*.5,u=s*s,v=s*u;return(2*x-2*f+h+a)*v+(-3*x+3*f-2*h-a)*u+h*s+x};r.exports=T},26302:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.ceil(s*f)/f};r.exports=T},45319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return Math.max(d,Math.min(x,s))};r.exports=T},39506:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=function(f){return f*d.DEG_TO_RAD};r.exports=x},61241:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return Math.abs(s-d)};r.exports=T},38857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(37867),l=s(29747),h=new f,a=new x({initialize:function u(v,o,c,p){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p=u.DefaultOrder),this._x=v,this._y=o,this._z=c,this._order=p,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(u){this._order=u,this.onChangeCallback(this)}},set:function(u,v,o,c){return c===void 0&&(c=this._order),this._x=u,this._y=v,this._z=o,this._order=c,this.onChangeCallback(this),this},copy:function(u){return this.set(u.x,u.y,u.z,u.order)},setFromQuaternion:function(u,v,o){return v===void 0&&(v=this._order),o===void 0&&(o=!1),h.fromQuat(u),this.setFromRotationMatrix(h,v,o)},setFromRotationMatrix:function(u,v,o){v===void 0&&(v=this._order),o===void 0&&(o=!1);var c=u.val,p=c[0],g=c[4],m=c[8],C=c[1],E=c[5],M=c[9],P=c[2],w=c[6],R=c[10],A=0,L=0,F=0,O=.99999;switch(v){case"XYZ":{L=Math.asin(d(m,-1,1)),Math.abs(m)<O?(A=Math.atan2(-M,R),F=Math.atan2(-g,p)):A=Math.atan2(w,E);break}case"YXZ":{A=Math.asin(-d(M,-1,1)),Math.abs(M)<O?(L=Math.atan2(m,R),F=Math.atan2(C,E)):L=Math.atan2(-P,p);break}case"ZXY":{A=Math.asin(d(w,-1,1)),Math.abs(w)<O?(L=Math.atan2(-P,R),F=Math.atan2(-g,E)):F=Math.atan2(C,p);break}case"ZYX":{L=Math.asin(-d(P,-1,1)),Math.abs(P)<O?(A=Math.atan2(w,R),F=Math.atan2(C,p)):F=Math.atan2(-g,E);break}case"YZX":{F=Math.asin(d(C,-1,1)),Math.abs(C)<O?(A=Math.atan2(-M,E),L=Math.atan2(-P,p)):L=Math.atan2(m,R);break}case"XZY":{F=Math.asin(-d(g,-1,1)),Math.abs(g)<O?(A=Math.atan2(w,E),L=Math.atan2(m,p)):A=Math.atan2(-M,R);break}}return this._x=A,this._y=L,this._z=F,this._order=v,o&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",r.exports=a},6411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(s===0)return 1;for(var d=s;--s;)d*=s;return d};r.exports=T},99472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return Math.random()*(d-s)+s};r.exports=T},77623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.floor(s*f)/f};r.exports=T},62945:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=function(f,l,h){return f=d(f,0,1),(h-l)*f+l};r.exports=x},38265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s/d/1e3};r.exports=T},78702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s==parseFloat(s)?!(s%2):void 0};r.exports=T},94883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===parseFloat(s)?!(s%2):void 0};r.exports=T},28915:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return(d-s)*x+s};r.exports=T},94908:r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x===void 0&&(x=0),s.clone().lerp(d,x)};r.exports=T},94434:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new x(this)},set:function(f){return this.copy(f)},copy:function(f){var l=this.val,h=f.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=h[6],l[7]=h[7],l[8]=h[8],this},fromMat4:function(f){var l=f.val,h=this.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[4],h[4]=l[5],h[5]=l[6],h[6]=l[8],h[7]=l[9],h[8]=l[10],this},fromArray:function(f){var l=this.val;return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,l=f[1],h=f[2],a=f[5];return f[1]=f[3],f[2]=f[6],f[3]=l,f[5]=f[7],f[6]=h,f[7]=a,this},invert:function(){var f=this.val,l=f[0],h=f[1],a=f[2],u=f[3],v=f[4],o=f[5],c=f[6],p=f[7],g=f[8],m=g*v-o*p,C=-g*u+o*c,E=p*u-v*c,M=l*m+h*C+a*E;return M?(M=1/M,f[0]=m*M,f[1]=(-g*h+a*p)*M,f[2]=(o*h-a*v)*M,f[3]=C*M,f[4]=(g*l-a*c)*M,f[5]=(-o*l+a*u)*M,f[6]=E*M,f[7]=(-p*l+h*c)*M,f[8]=(v*l-h*u)*M,this):null},adjoint:function(){var f=this.val,l=f[0],h=f[1],a=f[2],u=f[3],v=f[4],o=f[5],c=f[6],p=f[7],g=f[8];return f[0]=v*g-o*p,f[1]=a*p-h*g,f[2]=h*o-a*v,f[3]=o*c-u*g,f[4]=l*g-a*c,f[5]=a*u-l*o,f[6]=u*p-v*c,f[7]=h*c-l*p,f[8]=l*v-h*u,this},determinant:function(){var f=this.val,l=f[0],h=f[1],a=f[2],u=f[3],v=f[4],o=f[5],c=f[6],p=f[7],g=f[8];return l*(g*v-o*p)+h*(-g*u+o*c)+a*(p*u-v*c)},multiply:function(f){var l=this.val,h=l[0],a=l[1],u=l[2],v=l[3],o=l[4],c=l[5],p=l[6],g=l[7],m=l[8],C=f.val,E=C[0],M=C[1],P=C[2],w=C[3],R=C[4],A=C[5],L=C[6],F=C[7],O=C[8];return l[0]=E*h+M*v+P*p,l[1]=E*a+M*o+P*g,l[2]=E*u+M*c+P*m,l[3]=w*h+R*v+A*p,l[4]=w*a+R*o+A*g,l[5]=w*u+R*c+A*m,l[6]=L*h+F*v+O*p,l[7]=L*a+F*o+O*g,l[8]=L*u+F*c+O*m,this},translate:function(f){var l=this.val,h=f.x,a=f.y;return l[6]=h*l[0]+a*l[3]+l[6],l[7]=h*l[1]+a*l[4]+l[7],l[8]=h*l[2]+a*l[5]+l[8],this},rotate:function(f){var l=this.val,h=l[0],a=l[1],u=l[2],v=l[3],o=l[4],c=l[5],p=Math.sin(f),g=Math.cos(f);return l[0]=g*h+p*v,l[1]=g*a+p*o,l[2]=g*u+p*c,l[3]=g*v-p*h,l[4]=g*o-p*a,l[5]=g*c-p*u,this},scale:function(f){var l=this.val,h=f.x,a=f.y;return l[0]=h*l[0],l[1]=h*l[1],l[2]=h*l[2],l[3]=a*l[3],l[4]=a*l[4],l[5]=a*l[5],this},fromQuat:function(f){var l=f.x,h=f.y,a=f.z,u=f.w,v=l+l,o=h+h,c=a+a,p=l*v,g=l*o,m=l*c,C=h*o,E=h*c,M=a*c,P=u*v,w=u*o,R=u*c,A=this.val;return A[0]=1-(C+M),A[3]=g+R,A[6]=m-w,A[1]=g-R,A[4]=1-(p+M),A[7]=E+P,A[2]=m+w,A[5]=E-P,A[8]=1-(p+C),this},normalFromMat4:function(f){var l=f.val,h=this.val,a=l[0],u=l[1],v=l[2],o=l[3],c=l[4],p=l[5],g=l[6],m=l[7],C=l[8],E=l[9],M=l[10],P=l[11],w=l[12],R=l[13],A=l[14],L=l[15],F=a*p-u*c,O=a*g-v*c,D=a*m-o*c,B=u*g-v*p,b=u*m-o*p,G=v*m-o*g,V=C*R-E*w,W=C*A-M*w,H=C*L-P*w,z=E*A-M*R,U=E*L-P*R,I=M*L-P*A,N=F*I-O*U+D*z+B*H-b*W+G*V;return N?(N=1/N,h[0]=(p*I-g*U+m*z)*N,h[1]=(g*H-c*I-m*W)*N,h[2]=(c*U-p*H+m*V)*N,h[3]=(v*U-u*I-o*z)*N,h[4]=(a*I-v*H+o*W)*N,h[5]=(u*H-a*U-o*V)*N,h[6]=(R*G-A*b+L*B)*N,h[7]=(A*D-w*G-L*O)*N,h[8]=(w*b-R*D+L*F)*N,this):null}});r.exports=x},37867:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(25836),f=1e-6,l=new d({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new l(this)},set:function(c){return this.copy(c)},setValues:function(c,p,g,m,C,E,M,P,w,R,A,L,F,O,D,B){var b=this.val;return b[0]=c,b[1]=p,b[2]=g,b[3]=m,b[4]=C,b[5]=E,b[6]=M,b[7]=P,b[8]=w,b[9]=R,b[10]=A,b[11]=L,b[12]=F,b[13]=O,b[14]=D,b[15]=B,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,g){var m=h.fromQuat(g),C=m.val,E=p.x,M=p.y,P=p.z;return this.setValues(C[0]*E,C[1]*E,C[2]*E,0,C[4]*M,C[5]*M,C[6]*M,0,C[8]*P,C[9]*P,C[10]*P,0,c.x,c.y,c.z,1)},xyz:function(c,p,g){this.identity();var m=this.val;return m[12]=c,m[13]=p,m[14]=g,this},scaling:function(c,p,g){this.zero();var m=this.val;return m[0]=c,m[5]=p,m[10]=g,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],g=c[2],m=c[3],C=c[6],E=c[7],M=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=g,c[9]=C,c[11]=c[14],c[12]=m,c[13]=E,c[14]=M,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],g=c[1],m=c[2],C=c[3],E=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],D=c[13],B=c[14],b=c[15],G=p*M-g*E,V=p*P-m*E,W=p*w-C*E,H=g*P-m*M,z=g*w-C*M,U=m*w-C*P,I=R*D-A*O,N=R*B-L*O,k=R*b-F*O,X=A*B-L*D,Y=A*b-F*D,$=L*b-F*B,K=G*$-V*Y+W*X+H*k-z*N+U*I;return K?(K=1/K,this.setValues((M*$-P*Y+w*X)*K,(m*Y-g*$-C*X)*K,(D*U-B*z+b*H)*K,(L*z-A*U-F*H)*K,(P*k-E*$-w*N)*K,(p*$-m*k+C*N)*K,(B*W-O*U-b*V)*K,(R*U-L*W+F*V)*K,(E*Y-M*k+w*I)*K,(g*k-p*Y-C*I)*K,(O*z-D*W+b*G)*K,(A*W-R*z-F*G)*K,(M*N-E*X-P*I)*K,(p*X-g*N+m*I)*K,(D*V-O*H-B*G)*K,(R*H-A*V+L*G)*K)):this},adjoint:function(){var c=this.val,p=c[0],g=c[1],m=c[2],C=c[3],E=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],D=c[13],B=c[14],b=c[15];return this.setValues(M*(L*b-F*B)-A*(P*b-w*B)+D*(P*F-w*L),-(g*(L*b-F*B)-A*(m*b-C*B)+D*(m*F-C*L)),g*(P*b-w*B)-M*(m*b-C*B)+D*(m*w-C*P),-(g*(P*F-w*L)-M*(m*F-C*L)+A*(m*w-C*P)),-(E*(L*b-F*B)-R*(P*b-w*B)+O*(P*F-w*L)),p*(L*b-F*B)-R*(m*b-C*B)+O*(m*F-C*L),-(p*(P*b-w*B)-E*(m*b-C*B)+O*(m*w-C*P)),p*(P*F-w*L)-E*(m*F-C*L)+R*(m*w-C*P),E*(A*b-F*D)-R*(M*b-w*D)+O*(M*F-w*A),-(p*(A*b-F*D)-R*(g*b-C*D)+O*(g*F-C*A)),p*(M*b-w*D)-E*(g*b-C*D)+O*(g*w-C*M),-(p*(M*F-w*A)-E*(g*F-C*A)+R*(g*w-C*M)),-(E*(A*B-L*D)-R*(M*B-P*D)+O*(M*L-P*A)),p*(A*B-L*D)-R*(g*B-m*D)+O*(g*L-m*A),-(p*(M*B-P*D)-E*(g*B-m*D)+O*(g*P-m*M)),p*(M*L-P*A)-E*(g*L-m*A)+R*(g*P-m*M))},determinant:function(){var c=this.val,p=c[0],g=c[1],m=c[2],C=c[3],E=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],D=c[13],B=c[14],b=c[15],G=p*M-g*E,V=p*P-m*E,W=p*w-C*E,H=g*P-m*M,z=g*w-C*M,U=m*w-C*P,I=R*D-A*O,N=R*B-L*O,k=R*b-F*O,X=A*B-L*D,Y=A*b-F*D,$=L*b-F*B;return G*$-V*Y+W*X+H*k-z*N+U*I},multiply:function(c){var p=this.val,g=p[0],m=p[1],C=p[2],E=p[3],M=p[4],P=p[5],w=p[6],R=p[7],A=p[8],L=p[9],F=p[10],O=p[11],D=p[12],B=p[13],b=p[14],G=p[15],V=c.val,W=V[0],H=V[1],z=V[2],U=V[3];return p[0]=W*g+H*M+z*A+U*D,p[1]=W*m+H*P+z*L+U*B,p[2]=W*C+H*w+z*F+U*b,p[3]=W*E+H*R+z*O+U*G,W=V[4],H=V[5],z=V[6],U=V[7],p[4]=W*g+H*M+z*A+U*D,p[5]=W*m+H*P+z*L+U*B,p[6]=W*C+H*w+z*F+U*b,p[7]=W*E+H*R+z*O+U*G,W=V[8],H=V[9],z=V[10],U=V[11],p[8]=W*g+H*M+z*A+U*D,p[9]=W*m+H*P+z*L+U*B,p[10]=W*C+H*w+z*F+U*b,p[11]=W*E+H*R+z*O+U*G,W=V[12],H=V[13],z=V[14],U=V[15],p[12]=W*g+H*M+z*A+U*D,p[13]=W*m+H*P+z*L+U*B,p[14]=W*C+H*w+z*F+U*b,p[15]=W*E+H*R+z*O+U*G,this},multiplyLocal:function(c){var p=this.val,g=c.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var g=c.val,m=p.val,C=g[0],E=g[4],M=g[8],P=g[12],w=g[1],R=g[5],A=g[9],L=g[13],F=g[2],O=g[6],D=g[10],B=g[14],b=g[3],G=g[7],V=g[11],W=g[15],H=m[0],z=m[4],U=m[8],I=m[12],N=m[1],k=m[5],X=m[9],Y=m[13],$=m[2],K=m[6],Z=m[10],J=m[14],Q=m[3],j=m[7],_=m[11],q=m[15];return this.setValues(C*H+E*N+M*$+P*Q,w*H+R*N+A*$+L*Q,F*H+O*N+D*$+B*Q,b*H+G*N+V*$+W*Q,C*z+E*k+M*K+P*j,w*z+R*k+A*K+L*j,F*z+O*k+D*K+B*j,b*z+G*k+V*K+W*j,C*U+E*X+M*Z+P*_,w*U+R*X+A*Z+L*_,F*U+O*X+D*Z+B*_,b*U+G*X+V*Z+W*_,C*I+E*Y+M*J+P*q,w*I+R*Y+A*J+L*q,F*I+O*Y+D*J+B*q,b*I+G*Y+V*J+W*q)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,g){var m=this.val;return m[12]=m[0]*c+m[4]*p+m[8]*g+m[12],m[13]=m[1]*c+m[5]*p+m[9]*g+m[13],m[14]=m[2]*c+m[6]*p+m[10]*g+m[14],m[15]=m[3]*c+m[7]*p+m[11]*g+m[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,g){var m=this.val;return m[0]=m[0]*c,m[1]=m[1]*c,m[2]=m[2]*c,m[3]=m[3]*c,m[4]=m[4]*p,m[5]=m[5]*p,m[6]=m[6]*p,m[7]=m[7]*p,m[8]=m[8]*g,m[9]=m[9]*g,m[10]=m[10]*g,m[11]=m[11]*g,this},makeRotationAxis:function(c,p){var g=Math.cos(p),m=Math.sin(p),C=1-g,E=c.x,M=c.y,P=c.z,w=C*E,R=C*M;return this.setValues(w*E+g,w*M-m*P,w*P+m*M,0,w*M+m*P,R*M+g,R*P-m*E,0,w*P-m*M,R*P+m*E,C*P*P+g,0,0,0,0,1)},rotate:function(c,p){var g=this.val,m=p.x,C=p.y,E=p.z,M=Math.sqrt(m*m+C*C+E*E);if(Math.abs(M)<f)return this;M=1/M,m*=M,C*=M,E*=M;var P=Math.sin(c),w=Math.cos(c),R=1-w,A=g[0],L=g[1],F=g[2],O=g[3],D=g[4],B=g[5],b=g[6],G=g[7],V=g[8],W=g[9],H=g[10],z=g[11],U=g[12],I=g[13],N=g[14],k=g[15],X=m*m*R+w,Y=C*m*R+E*P,$=E*m*R-C*P,K=m*C*R-E*P,Z=C*C*R+w,J=E*C*R+m*P,Q=m*E*R+C*P,j=C*E*R-m*P,_=E*E*R+w;return this.setValues(A*X+D*Y+V*$,L*X+B*Y+W*$,F*X+b*Y+H*$,O*X+G*Y+z*$,A*K+D*Z+V*J,L*K+B*Z+W*J,F*K+b*Z+H*J,O*K+G*Z+z*J,A*Q+D*j+V*_,L*Q+B*j+W*_,F*Q+b*j+H*_,O*Q+G*j+z*_,U,I,N,k)},rotateX:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),C=p[4],E=p[5],M=p[6],P=p[7],w=p[8],R=p[9],A=p[10],L=p[11];return p[4]=C*m+w*g,p[5]=E*m+R*g,p[6]=M*m+A*g,p[7]=P*m+L*g,p[8]=w*m-C*g,p[9]=R*m-E*g,p[10]=A*m-M*g,p[11]=L*m-P*g,this},rotateY:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),C=p[0],E=p[1],M=p[2],P=p[3],w=p[8],R=p[9],A=p[10],L=p[11];return p[0]=C*m-w*g,p[1]=E*m-R*g,p[2]=M*m-A*g,p[3]=P*m-L*g,p[8]=C*g+w*m,p[9]=E*g+R*m,p[10]=M*g+A*m,p[11]=P*g+L*m,this},rotateZ:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),C=p[0],E=p[1],M=p[2],P=p[3],w=p[4],R=p[5],A=p[6],L=p[7];return p[0]=C*m+w*g,p[1]=E*m+R*g,p[2]=M*m+A*g,p[3]=P*m+L*g,p[4]=w*m-C*g,p[5]=R*m-E*g,p[6]=A*m-M*g,p[7]=L*m-P*g,this},fromRotationTranslation:function(c,p){var g=c.x,m=c.y,C=c.z,E=c.w,M=g+g,P=m+m,w=C+C,R=g*M,A=g*P,L=g*w,F=m*P,O=m*w,D=C*w,B=E*M,b=E*P,G=E*w;return this.setValues(1-(F+D),A+G,L-b,0,A-G,1-(R+D),O+B,0,L+b,O-B,1-(R+F),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,g=c.y,m=c.z,C=c.w,E=p+p,M=g+g,P=m+m,w=p*E,R=p*M,A=p*P,L=g*M,F=g*P,O=m*P,D=C*E,B=C*M,b=C*P;return this.setValues(1-(L+O),R+b,A-B,0,R-b,1-(w+O),F+D,0,A+B,F-D,1-(w+L),0,0,0,0,1)},frustum:function(c,p,g,m,C,E){var M=1/(p-c),P=1/(m-g),w=1/(C-E);return this.setValues(C*2*M,0,0,0,0,C*2*P,0,0,(p+c)*M,(m+g)*P,(E+C)*w,-1,0,0,E*C*2*w,0)},perspective:function(c,p,g,m){var C=1/Math.tan(c/2),E=1/(g-m);return this.setValues(C/p,0,0,0,0,C,0,0,0,0,(m+g)*E,-1,0,0,2*m*g*E,0)},perspectiveLH:function(c,p,g,m){return this.setValues(2*g/c,0,0,0,0,2*g/p,0,0,0,0,-m/(g-m),1,0,0,g*m/(g-m),0)},ortho:function(c,p,g,m,C,E){var M=c-p,P=g-m,w=C-E;return M=M===0?M:1/M,P=P===0?P:1/P,w=w===0?w:1/w,this.setValues(-2*M,0,0,0,0,-2*P,0,0,0,0,2*w,0,(c+p)*M,(m+g)*P,(E+C)*w,1)},lookAtRH:function(c,p,g){var m=this.val;return o.subVectors(c,p),o.getLengthSquared()===0&&(o.z=1),o.normalize(),u.crossVectors(g,o),u.getLengthSquared()===0&&(Math.abs(g.z)===1?o.x+=1e-4:o.z+=1e-4,o.normalize(),u.crossVectors(g,o)),u.normalize(),v.crossVectors(o,u),m[0]=u.x,m[1]=u.y,m[2]=u.z,m[4]=v.x,m[5]=v.y,m[6]=v.z,m[8]=o.x,m[9]=o.y,m[10]=o.z,this},lookAt:function(c,p,g){var m=c.x,C=c.y,E=c.z,M=g.x,P=g.y,w=g.z,R=p.x,A=p.y,L=p.z;if(Math.abs(m-R)<f&&Math.abs(C-A)<f&&Math.abs(E-L)<f)return this.identity();var F=m-R,O=C-A,D=E-L,B=1/Math.sqrt(F*F+O*O+D*D);F*=B,O*=B,D*=B;var b=P*D-w*O,G=w*F-M*D,V=M*O-P*F;B=Math.sqrt(b*b+G*G+V*V),B?(B=1/B,b*=B,G*=B,V*=B):(b=0,G=0,V=0);var W=O*V-D*G,H=D*b-F*V,z=F*G-O*b;return B=Math.sqrt(W*W+H*H+z*z),B?(B=1/B,W*=B,H*=B,z*=B):(W=0,H=0,z=0),this.setValues(b,W,F,0,G,H,O,0,V,z,D,0,-(b*m+G*C+V*E),-(W*m+H*C+z*E),-(F*m+O*C+D*E),1)},yawPitchRoll:function(c,p,g){this.zero(),h.zero(),a.zero();var m=this.val,C=h.val,E=a.val,M=Math.sin(g),P=Math.cos(g);return m[10]=1,m[15]=1,m[0]=P,m[1]=M,m[4]=-M,m[5]=P,M=Math.sin(p),P=Math.cos(p),C[0]=1,C[15]=1,C[5]=P,C[10]=P,C[9]=-M,C[6]=M,M=Math.sin(c),P=Math.cos(c),E[5]=1,E[15]=1,E[0]=P,E[2]=-M,E[8]=M,E[10]=P,this.multiplyLocal(h),this.multiplyLocal(a),this},setWorldMatrix:function(c,p,g,m,C){return this.yawPitchRoll(c.y,c.x,c.z),h.scaling(g.x,g.y,g.z),a.xyz(p.x,p.y,p.z),this.multiplyLocal(h),this.multiplyLocal(a),m&&this.multiplyLocal(m),C&&this.multiplyLocal(C),this},multiplyToMat4:function(c,p){var g=this.val,m=c.val,C=g[0],E=g[1],M=g[2],P=g[3],w=g[4],R=g[5],A=g[6],L=g[7],F=g[8],O=g[9],D=g[10],B=g[11],b=g[12],G=g[13],V=g[14],W=g[15],H=m[0],z=m[1],U=m[2],I=m[3],N=m[4],k=m[5],X=m[6],Y=m[7],$=m[8],K=m[9],Z=m[10],J=m[11],Q=m[12],j=m[13],_=m[14],q=m[15];return p.setValues(H*C+z*w+U*F+I*b,z*E+z*R+U*O+I*G,U*M+z*A+U*D+I*V,I*P+z*L+U*B+I*W,N*C+k*w+X*F+Y*b,N*E+k*R+X*O+Y*G,N*M+k*A+X*D+Y*V,N*P+k*L+X*B+Y*W,$*C+K*w+Z*F+J*b,$*E+K*R+Z*O+J*G,$*M+K*A+Z*D+J*V,$*P+K*L+Z*B+J*W,Q*C+j*w+_*F+q*b,Q*E+j*R+_*O+q*G,Q*M+j*A+_*D+q*V,Q*P+j*L+_*B+q*W)},fromRotationXYTranslation:function(c,p,g){var m=p.x,C=p.y,E=p.z,M=Math.sin(c.x),P=Math.cos(c.x),w=Math.sin(c.y),R=Math.cos(c.y),A=m,L=C,F=E,O=-M,D=0-O*w,B=0-P*w,b=O*R,G=P*R;return g||(A=R*m+w*E,L=D*m+P*C+b*E,F=B*m+M*C+G*E),this.setValues(R,D,B,0,0,P,M,0,w,b,G,0,A,L,F,1)},getMaxScaleOnAxis:function(){var c=this.val,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],g=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],m=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,g,m))}}),h=new l,a=new l,u=new x,v=new x,o=new x;r.exports=l},86883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return Math.min(s+d,x)};r.exports=T},50040:r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=s.length;if(d===0)return 0;s.sort(function(f,l){return f-l});var x=Math.floor(d/2);return d%2===0?(s[x]+s[x-1])/2:s[x]};r.exports=T},37204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return Math.max(s-d,x)};r.exports=T},65201:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){x===void 0&&(x=d+1);var l=(s-d)/(x-d);return l>1?f!==void 0?(l=(f-s)/(f-x),l<0&&(l=0)):l=1:l<0&&(l=0),l};r.exports=T},15746:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(94434),f=s(29747),l=s(25836),h=1e-6,a=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),v=new l(1,0,0),o=new l(0,1,0),c=new l,p=new x,g=new d({initialize:function(C,E,M,P){this.onChangeCallback=f,this.set(C,E,M,P)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,C,E,M,P){return P===void 0&&(P=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=C||0,this._z=E||0,this._w=M||0),P&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,C=this.y,E=this.z,M=this.w;return Math.sqrt(m*m+C*C+E*E+M*M)},lengthSq:function(){var m=this.x,C=this.y,E=this.z,M=this.w;return m*m+C*C+E*E+M*M},normalize:function(){var m=this.x,C=this.y,E=this.z,M=this.w,P=m*m+C*C+E*E+M*M;return P>0&&(P=1/Math.sqrt(P),this._x=m*P,this._y=C*P,this._z=E*P,this._w=M*P),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,C){C===void 0&&(C=0);var E=this.x,M=this.y,P=this.z,w=this.w;return this.set(E+C*(m.x-E),M+C*(m.y-M),P+C*(m.z-P),w+C*(m.w-w))},rotationTo:function(m,C){var E=m.x*C.x+m.y*C.y+m.z*C.z;return E<-.999999?(c.copy(v).cross(m).length()<h&&c.copy(o).cross(m),c.normalize(),this.setAxisAngle(c,Math.PI)):E>.999999?this.set(0,0,0,1):(c.copy(m).cross(C),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+E,this.normalize())},setAxes:function(m,C,E){var M=p.val;return M[0]=C.x,M[3]=C.y,M[6]=C.z,M[1]=E.x,M[4]=E.y,M[7]=E.z,M[2]=-m.x,M[5]=-m.y,M[8]=-m.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,C){C=C*.5;var E=Math.sin(C);return this.set(E*m.x,E*m.y,E*m.z,Math.cos(C))},multiply:function(m){var C=this.x,E=this.y,M=this.z,P=this.w,w=m.x,R=m.y,A=m.z,L=m.w;return this.set(C*L+P*w+E*A-M*R,E*L+P*R+M*w-C*A,M*L+P*A+C*R-E*w,P*L-C*w-E*R-M*A)},slerp:function(m,C){var E=this.x,M=this.y,P=this.z,w=this.w,R=m.x,A=m.y,L=m.z,F=m.w,O=E*R+M*A+P*L+w*F;O<0&&(O=-O,R=-R,A=-A,L=-L,F=-F);var D=1-C,B=C;if(1-O>h){var b=Math.acos(O),G=Math.sin(b);D=Math.sin((1-C)*b)/G,B=Math.sin(C*b)/G}return this.set(D*E+B*R,D*M+B*A,D*P+B*L,D*w+B*F)},invert:function(){var m=this.x,C=this.y,E=this.z,M=this.w,P=m*m+C*C+E*E+M*M,w=P?1/P:0;return this.set(-m*w,-C*w,-E*w,M*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var C=this.x,E=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(C*R+P*w,E*R+M*w,M*R-E*w,P*R-C*w)},rotateY:function(m){m*=.5;var C=this.x,E=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(C*R-M*w,E*R+P*w,M*R+C*w,P*R-E*w)},rotateZ:function(m){m*=.5;var C=this.x,E=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(C*R+E*w,E*R-C*w,M*R+P*w,P*R-M*w)},calculateW:function(){var m=this.x,C=this.y,E=this.z;return this.w=-Math.sqrt(1-m*m-C*C-E*E),this},setFromEuler:function(m,C){var E=m.x/2,M=m.y/2,P=m.z/2,w=Math.cos(E),R=Math.cos(M),A=Math.cos(P),L=Math.sin(E),F=Math.sin(M),O=Math.sin(P);switch(m.order){case"XYZ":{this.set(L*R*A+w*F*O,w*F*A-L*R*O,w*R*O+L*F*A,w*R*A-L*F*O,C);break}case"YXZ":{this.set(L*R*A+w*F*O,w*F*A-L*R*O,w*R*O-L*F*A,w*R*A+L*F*O,C);break}case"ZXY":{this.set(L*R*A-w*F*O,w*F*A+L*R*O,w*R*O+L*F*A,w*R*A-L*F*O,C);break}case"ZYX":{this.set(L*R*A-w*F*O,w*F*A+L*R*O,w*R*O-L*F*A,w*R*A+L*F*O,C);break}case"YZX":{this.set(L*R*A+w*F*O,w*F*A+L*R*O,w*R*O-L*F*A,w*R*A-L*F*O,C);break}case"XZY":{this.set(L*R*A-w*F*O,w*F*A-L*R*O,w*R*O+L*F*A,w*R*A+L*F*O,C);break}}return this},setFromRotationMatrix:function(m){var C=m.val,E=C[0],M=C[4],P=C[8],w=C[1],R=C[5],A=C[9],L=C[2],F=C[6],O=C[10],D=E+R+O,B;return D>0?(B=.5/Math.sqrt(D+1),this.set((F-A)*B,(P-L)*B,(w-M)*B,.25/B)):E>R&&E>O?(B=2*Math.sqrt(1+E-R-O),this.set(.25*B,(M+w)/B,(P+L)/B,(F-A)/B)):R>O?(B=2*Math.sqrt(1+R-E-O),this.set((M+w)/B,.25*B,(A+F)/B,(P-L)/B)):(B=2*Math.sqrt(1+O-E-R),this.set((P+L)/B,(A+F)/B,.25*B,(w-M)/B)),this},fromMat3:function(m){var C=m.val,E=C[0]+C[4]+C[8],M;if(E>0)M=Math.sqrt(E+1),this.w=.5*M,M=.5/M,this._x=(C[7]-C[5])*M,this._y=(C[2]-C[6])*M,this._z=(C[3]-C[1])*M;else{var P=0;C[4]>C[0]&&(P=1),C[8]>C[P*3+P]&&(P=2);var w=a[P],R=a[w];M=Math.sqrt(C[P*3+P]-C[w*3+w]-C[R*3+R]+1),u[P]=.5*M,M=.5/M,u[w]=(C[w*3+P]+C[P*3+w])*M,u[R]=(C[R*3+P]+C[P*3+R])*M,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(C[R*3+w]-C[w*3+R])*M}return this.onChangeCallback(this),this}});r.exports=g},43396:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=function(f){return f*d.RAD_TO_DEG};r.exports=x},74362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=1);var x=Math.random()*2*Math.PI;return s.x=Math.cos(x)*d,s.y=Math.sin(x)*d,s};r.exports=T},60706:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=1);var x=Math.random()*2*Math.PI,f=Math.random()*2-1,l=Math.sqrt(1-f*f)*d;return s.x=Math.cos(x)*l,s.y=Math.sin(x)*l,s.z=f*d,s};r.exports=T},67421:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1),s.x=(Math.random()*2-1)*d,s.y=(Math.random()*2-1)*d,s.z=(Math.random()*2-1)*d,s.w=(Math.random()*2-1)*d,s};r.exports=T},36305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.x,f=s.y;return s.x=x*Math.cos(d)-f*Math.sin(d),s.y=x*Math.sin(d)+f*Math.cos(d),s};r.exports=T},11520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=Math.cos(f),h=Math.sin(f),a=s.x-d,u=s.y-x;return s.x=a*l-u*h+d,s.y=a*h+u*l+x,s};r.exports=T},1163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){var h=f+Math.atan2(s.y-x,s.x-d);return s.x=d+l*Math.cos(h),s.y=x+l*Math.sin(h),s};r.exports=T},70336:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){return s.x=d+l*Math.cos(f),s.y=x+l*Math.sin(f),s};r.exports=T},72678:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(25836),x=s(37867),f=s(15746),l=new x,h=new f,a=new d,u=function(v,o,c){return h.setAxisAngle(o,c),l.fromRotationTranslation(h,a.set(0,0,0)),v.transformMat4(l)};r.exports=u},2284:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>0?Math.ceil(s):Math.floor(s)};r.exports=T},41013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.round(s*f)/f};r.exports=T},16922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d===void 0&&(d=1),x===void 0&&(x=1),f===void 0&&(f=1),f*=Math.PI/s;for(var l=[],h=[],a=0;a<s;a++)x-=d*f,d+=x*f,l[a]=x,h[a]=d;return{sin:h,cos:l,length:s}};r.exports=T},7602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s<=d?0:s>=x?1:(s=(s-d)/(x-d),s*s*(3-2*s))};r.exports=T},54261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s=Math.max(0,Math.min(1,(s-d)/(x-d))),s*s*s*(s*(s*6-15)+10)};r.exports=T},44408:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a){a===void 0&&(a=new d);var u=0,v=0,o=l*h;return f>0&&f<=o&&(f>l-1?(v=Math.floor(f/l),u=f-v*l):u=f),a.set(u,v)};r.exports=x},85955:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u,v,o,c){c===void 0&&(c=new d);var p=Math.sin(u),g=Math.cos(u),m=g*v,C=p*v,E=-p*o,M=g*o,P=1/(m*M+E*-C);return c.x=M*P*f+-E*P*l+(a*E-h*M)*P,c.y=m*P*l+-C*P*f+(-a*m+h*C)*P,c};r.exports=x},26099:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(43855),f=new d({initialize:function(h,a){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(a===void 0&&(a=h),this.x=h||0,this.y=a||0)},clone:function(){return new f(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setTo:function(l,h){return this.set(l,h)},setToPolar:function(l,h){return h==null&&(h=1),this.x=Math.cos(l)*h,this.y=Math.sin(l)*h,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,h){return x(this.x,l.x,h)&&x(this.y,l.y,h)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var h=l.x-this.x,a=l.y-this.y;return Math.sqrt(h*h+a*a)},distanceSq:function(l){var h=l.x-this.x,a=l.y-this.y;return h*h+a*a},length:function(){var l=this.x,h=this.y;return Math.sqrt(l*l+h*h)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,h=this.y;return l*l+h*h},normalize:function(){var l=this.x,h=this.y,a=l*l+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=l*a,this.y=h*a),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,h){h===void 0&&(h=0);var a=this.x,u=this.y;return this.x=a+h*(l.x-a),this.y=u+h*(l.y-u),this},transformMat3:function(l){var h=this.x,a=this.y,u=l.val;return this.x=u[0]*h+u[3]*a+u[6],this.y=u[1]*h+u[4]*a+u[7],this},transformMat4:function(l){var h=this.x,a=this.y,u=l.val;return this.x=u[0]*h+u[4]*a+u[12],this.y=u[1]*h+u[5]*a+u[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var h=this.length();return h&&h>l&&this.scale(l/h),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var h=Math.cos(l),a=Math.sin(l);return this.set(h*this.x-a*this.y,a*this.x+h*this.y)},project:function(l){var h=this.dot(l)/l.dot(l);return this.copy(l).scale(h)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),r.exports=f},25836:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=h||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(f,l){return this.x=f.x+l.x,this.y=f.y+l.y,this.z=f.z+l.z,this},crossVectors:function(f,l){var h=f.x,a=f.y,u=f.z,v=l.x,o=l.y,c=l.z;return this.x=a*c-u*o,this.y=u*v-h*c,this.z=h*o-a*v,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,l,h){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=l||0,this.z=h||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,l){return this.fromArray(f.val,l*4)},fromArray:function(f,l){return l===void 0&&(l=0),this.x=f[l],this.y=f[l+1],this.z=f[l+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,l){return this.x+=f.x*l,this.y+=f.y*l,this.z+=f.z*l||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var l=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0;return Math.sqrt(l*l+h*h+a*a)},distanceSq:function(f){var l=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0;return l*l+h*h+a*a},length:function(){var f=this.x,l=this.y,h=this.z;return Math.sqrt(f*f+l*l+h*h)},lengthSq:function(){var f=this.x,l=this.y,h=this.z;return f*f+l*l+h*h},normalize:function(){var f=this.x,l=this.y,h=this.z,a=f*f+l*l+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=l*a,this.z=h*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var l=this.x,h=this.y,a=this.z,u=f.x,v=f.y,o=f.z;return this.x=h*o-a*v,this.y=a*u-l*o,this.z=l*v-h*u,this},lerp:function(f,l){l===void 0&&(l=0);var h=this.x,a=this.y,u=this.z;return this.x=h+l*(f.x-h),this.y=a+l*(f.y-a),this.z=u+l*(f.z-u),this},applyMatrix3:function(f){var l=this.x,h=this.y,a=this.z,u=f.val;return this.x=u[0]*l+u[3]*h+u[6]*a,this.y=u[1]*l+u[4]*h+u[7]*a,this.z=u[2]*l+u[5]*h+u[8]*a,this},applyMatrix4:function(f){var l=this.x,h=this.y,a=this.z,u=f.val,v=1/(u[3]*l+u[7]*h+u[11]*a+u[15]);return this.x=(u[0]*l+u[4]*h+u[8]*a+u[12])*v,this.y=(u[1]*l+u[5]*h+u[9]*a+u[13])*v,this.z=(u[2]*l+u[6]*h+u[10]*a+u[14])*v,this},transformMat3:function(f){var l=this.x,h=this.y,a=this.z,u=f.val;return this.x=l*u[0]+h*u[3]+a*u[6],this.y=l*u[1]+h*u[4]+a*u[7],this.z=l*u[2]+h*u[5]+a*u[8],this},transformMat4:function(f){var l=this.x,h=this.y,a=this.z,u=f.val;return this.x=u[0]*l+u[4]*h+u[8]*a+u[12],this.y=u[1]*l+u[5]*h+u[9]*a+u[13],this.z=u[2]*l+u[6]*h+u[10]*a+u[14],this},transformCoordinates:function(f){var l=this.x,h=this.y,a=this.z,u=f.val,v=l*u[0]+h*u[4]+a*u[8]+u[12],o=l*u[1]+h*u[5]+a*u[9]+u[13],c=l*u[2]+h*u[6]+a*u[10]+u[14],p=l*u[3]+h*u[7]+a*u[11]+u[15];return this.x=v/p,this.y=o/p,this.z=c/p,this},transformQuat:function(f){var l=this.x,h=this.y,a=this.z,u=f.x,v=f.y,o=f.z,c=f.w,p=c*l+v*a-o*h,g=c*h+o*l-u*a,m=c*a+u*h-v*l,C=-u*l-v*h-o*a;return this.x=p*c+C*-u+g*-o-m*-v,this.y=g*c+C*-v+m*-u-p*-o,this.z=m*c+C*-o+p*-v-g*-u,this},project:function(f){var l=this.x,h=this.y,a=this.z,u=f.val,v=u[0],o=u[1],c=u[2],p=u[3],g=u[4],m=u[5],C=u[6],E=u[7],M=u[8],P=u[9],w=u[10],R=u[11],A=u[12],L=u[13],F=u[14],O=u[15],D=1/(l*p+h*E+a*R+O);return this.x=(l*v+h*g+a*M+A)*D,this.y=(l*o+h*m+a*P+L)*D,this.z=(l*c+h*C+a*w+F)*D,this},projectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unprojectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unproject:function(f,l){var h=f.x,a=f.y,u=f.z,v=f.w,o=this.x-h,c=v-this.y-1-a,p=this.z;return this.x=2*o/u-1,this.y=2*c/v-1,this.z=2*p-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),r.exports=x},61369:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=h||0,this.z=a||0,this.w=u||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,l,h,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=l||0,this.z=h||0,this.w=a||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,l=this.y,h=this.z,a=this.w;return Math.sqrt(f*f+l*l+h*h+a*a)},lengthSq:function(){var f=this.x,l=this.y,h=this.z,a=this.w;return f*f+l*l+h*h+a*a},normalize:function(){var f=this.x,l=this.y,h=this.z,a=this.w,u=f*f+l*l+h*h+a*a;return u>0&&(u=1/Math.sqrt(u),this.x=f*u,this.y=l*u,this.z=h*u,this.w=a*u),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,l){l===void 0&&(l=0);var h=this.x,a=this.y,u=this.z,v=this.w;return this.x=h+l*(f.x-h),this.y=a+l*(f.y-a),this.z=u+l*(f.z-u),this.w=v+l*(f.w-v),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var l=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0,u=f.w-this.w||0;return Math.sqrt(l*l+h*h+a*a+u*u)},distanceSq:function(f){var l=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0,u=f.w-this.w||0;return l*l+h*h+a*a+u*u},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var l=this.x,h=this.y,a=this.z,u=this.w,v=f.val;return this.x=v[0]*l+v[4]*h+v[8]*a+v[12]*u,this.y=v[1]*l+v[5]*h+v[9]*a+v[13]*u,this.z=v[2]*l+v[6]*h+v[10]*a+v[14]*u,this.w=v[3]*l+v[7]*h+v[11]*a+v[15]*u,this},transformQuat:function(f){var l=this.x,h=this.y,a=this.z,u=f.x,v=f.y,o=f.z,c=f.w,p=c*l+v*a-o*h,g=c*h+o*l-u*a,m=c*a+u*h-v*l,C=-u*l-v*h-o*a;return this.x=p*c+C*-u+g*-o-m*-v,this.y=g*c+C*-v+m*-u-p*-o,this.z=m*c+C*-o+p*-v-g*-u,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,r.exports=x},60417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return Math.abs(s-d)<=x};r.exports=T},15994:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=x-d;return d+((s-d)%f+f)%f};r.exports=T},31040:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return Math.atan2(f-d,x-s)};r.exports=T},55495:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return Math.atan2(d.y-s.y,d.x-s.x)};r.exports=T},128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return Math.atan2(d.x-s.x,d.y-s.y)};r.exports=T},41273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return Math.atan2(x-s,f-d)};r.exports=T},1432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=function(f){return f>Math.PI&&(f-=d.PI2),Math.abs(((f+d.TAU)%d.PI2-d.PI2)%d.PI2)};r.exports=x},12407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};r.exports=T},53993:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(99472),x=function(){return d(-Math.PI,Math.PI)};r.exports=x},86564:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(99472),x=function(){return d(-180,180)};r.exports=x},90154:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(12407),x=function(f){return d(f+Math.PI)};r.exports=x},48736:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=function(f,l,h){return h===void 0&&(h=.05),f===l||(Math.abs(l-f)<=h||Math.abs(l-f)>=d.PI2-h?f=l:(Math.abs(l-f)>Math.PI&&(l<f?l+=d.PI2:l-=d.PI2),l>f?f+=h:l<f&&(f-=h))),f};r.exports=x},61430:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=d-s;if(x===0)return 0;var f=Math.floor((x- -180)/360);return x-f*360};r.exports=T},86554:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(15994),x=function(f){return d(f,-Math.PI,Math.PI)};r.exports=x},30954:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(15994),x=function(f){return d(f,-180,180)};r.exports=x},25588:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=T},20339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=s-x,h=d-f;return Math.sqrt(l*l+h*h)};r.exports=T},52816:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.x-d.x,f=s.y-d.y;return Math.sqrt(x*x+f*f)};r.exports=T},64559:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.x-d.x,f=s.y-d.y;return x*x+f*f};r.exports=T},82340:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return Math.max(Math.abs(s-x),Math.abs(d-f))};r.exports=T},14390:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(x-s,l)+Math.pow(f-d,l))};r.exports=T},2243:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return Math.abs(s-x)+Math.abs(d-f)};r.exports=T},89774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=s-x,h=d-f;return l*l+h*h};r.exports=T},50994:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54178),x=s(41521),f=s(79980),l=s(85433),h=s(99140),a=s(48857),u=s(81596),v=s(59133),o=s(98516),c=s(35248),p=s(82500),g=s(49752);r.exports={Power0:u,Power1:v.Out,Power2:l.Out,Power3:o.Out,Power4:c.Out,Linear:u,Quad:v.Out,Cubic:l.Out,Quart:o.Out,Quint:c.Out,Sine:p.Out,Expo:a.Out,Circ:f.Out,Elastic:h.Out,Back:d.Out,Bounce:x.Out,Stepped:g,"Quad.easeIn":v.In,"Cubic.easeIn":l.In,"Quart.easeIn":o.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":a.In,"Circ.easeIn":f.In,"Elastic.easeIn":h.In,"Back.easeIn":d.In,"Bounce.easeIn":x.In,"Quad.easeOut":v.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":o.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":a.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":h.Out,"Back.easeOut":d.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":o.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":d.InOut,"Bounce.easeInOut":x.InOut}},1639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1.70158),s*s*((d+1)*s-d)};r.exports=T},50099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=1.70158);var x=d*1.525;return(s*=2)<1?.5*(s*s*((x+1)*s-x)):.5*((s-=2)*s*((x+1)*s+x)+2)};r.exports=T},41286:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1.70158),--s*s*((d+1)*s+d)+1};r.exports=T},54178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};r.exports=T},41788:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=!1;return s<.5?(s=1-s*2,d=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,d?(1-s)*.5:s*.5+.5};r.exports=T},69905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};r.exports=T},41521:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1-Math.sqrt(1-s*s)};r.exports=T},4177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};r.exports=T},57512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt(1- --s*s)};r.exports=T},79980:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s};r.exports=T},82820:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};r.exports=T},35033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return--s*s*s+1};r.exports=T},85433:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),s===0)return 0;if(s===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/x))};r.exports=T},50665:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),s===0)return 0;if(s===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),(s*=2)<1?-.5*(d*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/x)):d*Math.pow(2,-10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/x)*.5+1};r.exports=T},7744:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),s===0)return 0;if(s===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*s)*Math.sin((s-f)*(2*Math.PI)/x)+1};r.exports=T},99140:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.pow(2,10*(s-1))-.001};r.exports=T},87844:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};r.exports=T},89433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1-Math.pow(2,-10*s)};r.exports=T},48857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s};r.exports=T},81596:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(7147)},34826:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s};r.exports=T},20544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};r.exports=T},92029:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*(2-s)};r.exports=T},59133:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s*s};r.exports=T},78137:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};r.exports=T},45840:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1- --s*s*s*s};r.exports=T},98516:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s*s*s};r.exports=T},16509:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};r.exports=T},17868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return--s*s*s*s*s+1};r.exports=T},35248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};r.exports=T},34025:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};r.exports=T},52768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};r.exports=T},82500:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1),s<=0?0:s>=1?1:((d*s|0)+1)*(1/d)};r.exports=T},49752:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(72251)},75698:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1e-4),Math.ceil(s-d)};r.exports=T},43855:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x===void 0&&(x=1e-4),Math.abs(s-d)<x};r.exports=T},25777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d=1e-4),Math.floor(s+d)};r.exports=T},5470:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x===void 0&&(x=1e-4),s>d-x};r.exports=T},94977:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return x===void 0&&(x=1e-4),s<d+x};r.exports=T},48379:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36383),x=s(79291),f={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};f=x(!1,f,d),r.exports=f},89318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85710),x=function(f,l){for(var h=0,a=f.length-1,u=0;u<=a;u++)h+=Math.pow(1-l,a-u)*Math.pow(l,u)*f[u]*d(a,u);return h};r.exports=x},77259:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87842),x=function(f,l){var h=f.length-1,a=h*l,u=Math.floor(a);return f[0]===f[h]?(l<0&&(u=Math.floor(a=h*(1+l))),d(a-u,f[(u-1+h)%h],f[u],f[(u+1)%h],f[(u+2)%h])):l<0?f[0]-(d(-a,f[0],f[0],f[1],f[1])-f[0]):l>1?f[h]-(d(a-h,f[h],f[h],f[h-1],f[h-1])-f[h]):d(a-u,f[u?u-1:0],f[u],f[h<u+1?h:u+1],f[h<u+2?h:u+2])};r.exports=x},36316:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l,h){var a=1-l;return a*a*a*h}function s(l,h){var a=1-l;return 3*a*a*l*h}function d(l,h){return 3*(1-l)*l*l*h}function x(l,h){return l*l*l*h}var f=function(l,h,a,u,v){return T(l,h)+s(l,a)+d(l,u)+x(l,v)};r.exports=f},28392:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(28915),x=function(f,l){var h=f.length-1,a=h*l,u=Math.floor(a);return l<0?d(f[0],f[1],a):l>1?d(f[h],f[h-1],h-a):d(f[u],f[u+1>h?h:u+1],a-u)};r.exports=x},32112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(f,l){var h=1-f;return h*h*l}function s(f,l){return 2*(1-f)*f*l}function d(f,l){return f*f*l}var x=function(f,l,h,a){return T(f,l)+s(f,h)+d(f,a)};r.exports=x},47235:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7602),x=function(f,l,h){return l+(h-l)*d(f,0,1)};r.exports=x},50178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(54261),x=function(f,l,h){return l+(h-l)*d(f,0,1)};r.exports=x},38289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=Math.log(s)/.6931471805599453;return 1<<Math.ceil(d)};r.exports=T},50030:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s>0&&(s&s-1)===0&&d>0&&(d&d-1)===0};r.exports=T},81230:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>0&&(s&s-1)===0};r.exports=T},49001:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var l,h=this.n;f=f.toString();for(var a=0;a<f.length;a++)h+=f.charCodeAt(a),l=.02519603282416938*h,h=l>>>0,l-=h,l*=h,h=l>>>0,l-=h,h+=l*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var l=0;l<f.length&&f[l]!=null;l++){var h=f[l];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},between:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},realInRange:function(f,l){return this.frac()*(l-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",l="";for(l=f="";f++<36;l+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return l},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,l){return this.realInRange(f||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var l=f.length-1,h=l;h>0;h--){var a=Math.floor(this.frac()*(h+1)),u=f[a];f[a]=f[h],f[h]=u}return f}});r.exports=x},63448:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return x===void 0&&(x=0),d===0?s:(s-=x,s=d*Math.ceil(s/d),f?(x+s)/d:x+s)};r.exports=T},56583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return x===void 0&&(x=0),d===0?s:(s-=x,s=d*Math.floor(s/d),f?(x+s)/d:x+s)};r.exports=T},77720:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){return x===void 0&&(x=0),d===0?s:(s-=x,s=d*Math.round(s/d),f?(x+s)/d:x+s)};r.exports=T},73697:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var d=s(8054),x=s(79291),f={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};f.Sound=s(23717),f=x(!1,f,d),r.exports=f,s.g.Phaser=f},71289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(92209),f=s(88571),l=new d({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,u,v,o,c){f.call(this,a,u,v,o,c),this.body=null}});r.exports=l},86689:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(39506),f=s(20339),l=s(89774),h=s(66022),a=s(95540),u=s(46975),v=s(72441),o=s(47956),c=s(37277),p=s(44594),g=s(26099),m=s(82248),C=new d({initialize:function(M){this.scene=M,this.systems=M.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,M.sys.events.once(p.BOOT,this.boot,this),M.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new h(this.world));var E=this.systems.events;a(this.config,"customUpdate",!1)||E.on(p.UPDATE,this.world.update,this.world),E.on(p.POST_UPDATE,this.world.postUpdate,this.world),E.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics,M=this.systems.settings.physics,P=u(a(M,"arcade",{}),a(E,"arcade",{}));return P},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,M,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(E,M,P,w,R,!0)},collide:function(E,M,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(E,M,P,w,R,!1)},collideTiles:function(E,M,P,w,R){return this.world.collideTiles(E,M,P,w,R)},overlapTiles:function(E,M,P,w,R){return this.world.overlapTiles(E,M,P,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,M,P,w,R,A){w===void 0&&(w=60);var L=Math.atan2(P-E.y,M-E.x);return E.body.acceleration.setToPolar(L,w),R!==void 0&&A!==void 0&&E.body.maxVelocity.set(R,A),L},accelerateToObject:function(E,M,P,w,R){return this.accelerateTo(E,M.x,M.y,P,w,R)},closest:function(E,M){M||(M=this.world.bodies.entries);for(var P=Number.MAX_VALUE,w=null,R=E.x,A=E.y,L=M.length,F=0;F<L;F++){var O=M[F],D=O.body||O;if(!(E===O||E===D||E===D.gameObject||E===D.center)){var B=l(R,A,D.center.x,D.center.y);B<P&&(w=O,P=B)}}return w},furthest:function(E,M){M||(M=this.world.bodies.entries);for(var P=-1,w=null,R=E.x,A=E.y,L=M.length,F=0;F<L;F++){var O=M[F],D=O.body||O;if(!(E===O||E===D||E===D.gameObject||E===D.center)){var B=l(R,A,D.center.x,D.center.y);B>P&&(w=O,P=B)}}return w},moveTo:function(E,M,P,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var A=Math.atan2(P-E.y,M-E.x);return R>0&&(w=f(E.x,E.y,M,P)/(R/1e3)),E.body.velocity.setToPolar(A,w),A},moveToObject:function(E,M,P,w){return this.moveTo(E,M.x,M.y,P,w)},velocityFromAngle:function(E,M,P){return M===void 0&&(M=60),P===void 0&&(P=new g),P.setToPolar(x(E),M)},velocityFromRotation:function(E,M,P){return M===void 0&&(M=60),P===void 0&&(P=new g),P.setToPolar(E,M)},overlapRect:function(E,M,P,w,R,A){return o(this.world,E,M,P,w,R,A)},overlapCirc:function(E,M,P,w,R){return v(this.world,E,M,P,w,R)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(p.UPDATE,this.world.update,this.world),E.off(p.POST_UPDATE,this.world.postUpdate,this.world),E.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",C,"arcadePhysics"),r.exports=C},13759:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(92209),f=s(68287),l=new d({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,u,v,o,c){f.call(this,a,u,v,o,c),this.body=null}});r.exports=l},37742:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(78389),f=s(37747),l=s(63012),h=s(43396),a=s(87841),u=s(37303),v=s(95829),o=s(26099),c=new d({Mixins:[x],initialize:function(g,m){var C=64,E=64,M={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=m!==void 0;P&&m.displayWidth&&(C=m.displayWidth,E=m.displayHeight),P||(m=M),this.world=g,this.gameObject=P?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=C,this.height=E,this.sourceWidth=C,this.sourceHeight=E,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(E/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new o,this.newVelocity=new o,this.deltaMax=new o,this.acceleration=new o,this.allowDrag=!0,this.drag=new o,this.allowGravity=!0,this.gravity=new o,this.bounce=new o,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new o(1e4,1e4),this.maxSpeed=-1,this.friction=new o(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new o(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,g=this.transform;if(p.parentContainer){var m=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=m.tx,g.y=m.ty,g.rotation=h(m.rotation),g.scaleX=m.scaleX,g.scaleY=m.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY}else g.x=p.x,g.y=p.y,g.rotation=p.angle,g.scaleX=p.scaleX,g.scaleY=p.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY;var C=!1;if(this.syncBounds){var E=p.getBounds(this._bounds);this.width=E.width,this.height=E.height,C=!0}else{var M=Math.abs(g.scaleX),P=Math.abs(g.scaleY);(this._sx!==M||this._sy!==P)&&(this.width=this.sourceWidth*M,this.height=this.sourceHeight*P,this._sx=M,this._sy=P,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var g=this.wasTouching,m=this.touching,C=this.blocked;p?v(!0,g):(g.none=m.none,g.up=m.up,g.down=m.down,g.left=m.left,g.right=m.right),v(!0,m),v(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,g){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}p&&this.update(g)},update:function(p){var g=this.prev,m=this.position,C=this.velocity;if(g.set(m.x,m.y),!this.moves){this._dx=m.x-g.x,this._dy=m.y-g.y;return}if(this.directControl){var E=this.autoFrame;C.set((m.x-E.x)/p,(m.y-E.y)/p),this.world.updateMotion(this,p),this._dx=m.x-E.x,this._dy=m.y-E.y}else this.world.updateMotion(this,p),this.newVelocity.set(C.x*p,C.y*p),m.add(this.newVelocity),this._dx=m.x-g.x,this._dy=m.y-g.y;var M=C.x,P=C.y;if(this.updateCenter(),this.angle=Math.atan2(P,M),this.speed=Math.sqrt(M*M+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var p=this.position,g=p.x-this.prevFrame.x,m=p.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var E=this.deltaMax.x,M=this.deltaMax.y;E!==0&&g!==0&&(g<0&&g<-E?g=-E:g>0&&g>E&&(g=E)),M!==0&&m!==0&&(m<0&&m<-M?m=-M:m>0&&m>M&&(m=M)),C&&(C.x+=g,C.y+=m)}g<0?this.facing=f.FACING_LEFT:g>0&&(this.facing=f.FACING_RIGHT),m<0?this.facing=f.FACING_UP:m>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=g,this._ty=m,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,g=this.velocity,m=this.blocked,C=this.customBoundsRectangle,E=this.world.checkCollision,M=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return p.x<C.x&&E.left?(p.x=C.x,g.x*=M,m.left=!0,w=!0):this.right>C.right&&E.right&&(p.x=C.right-this.width,g.x*=M,m.right=!0,w=!0),p.y<C.y&&E.up?(p.y=C.y,g.y*=P,m.up=!0,w=!0):this.bottom>C.bottom&&E.down&&(p.y=C.bottom-this.height,g.y*=P,m.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(p,g){return g===void 0&&(g=p),this.offset.set(p,g),this},setGameObject:function(p,g){return g===void 0&&(g=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=p,p.body&&(p.body=this),this.setSize(),this.world.add(this),this.enable=g,this},setSize:function(p,g,m){m===void 0&&(m=!0);var C=this.gameObject;if(C&&(!p&&C.frame&&(p=C.frame.realWidth),!g&&C.frame&&(g=C.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&C&&C.getCenter){var E=(C.width-p)/2,M=(C.height-g)/2;this.offset.set(E,M)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter()):this.isCircle=!1,this},reset:function(p,g){this.stop();var m=this.gameObject;m&&(m.setPosition(p,g),this.rotation=m.angle,this.preRotation=m.angle);var C=this.position;m&&m.getTopLeft?m.getTopLeft(C):C.set(p,g),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){if(!this.isCircle)return u(this,p,g);if(this.radius>0&&p>=this.left&&p<=this.right&&g>=this.top&&g<=this.bottom){var m=(this.center.x-p)*(this.center.x-p),C=(this.center.y-g)*(this.center.y-g);return m+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,m=g.x+this.halfWidth,C=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(m,C,this.width/2):(this.checkCollision.up&&p.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&p.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&p.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&p.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(m,C,m+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,g,m,C){p===void 0&&(p=!0),this.collideWorldBounds=p;var E=g!==void 0,M=m!==void 0;return(E||M)&&(this.worldBounce||(this.worldBounce=new o),E&&(this.worldBounce.x=g),M&&(this.worldBounce.y=m)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(p,g){return this.velocity.set(p,g),p=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(p*p+g*g),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,g){return this.maxVelocity.set(p,g),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,g){return this.slideFactor.set(p,g),this},setBounce:function(p,g){return this.bounce.set(p,g),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,g){return this.acceleration.set(p,g),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,g){return this.drag.set(p,g),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,g){return this.gravity.set(p,g),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,g){return this.friction.set(p,g),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,g,m,C){this.x+=p,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var E=this.blocked;m&&(E.left=!0,E.none=!1),C&&(E.right=!0,E.none=!1)},processY:function(p,g,m,C){this.y+=p,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var E=this.blocked;m&&(E.up=!0,E.none=!1),C&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=c},79342:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u,v,o,c){this.world=l,this.name="",this.active=!0,this.overlapOnly=h,this.object1=a,this.object2=u,this.collideCallback=v,this.processCallback=o,this.callbackContext=c},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=x},66022:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(71289),x=s(13759),f=s(37742),l=s(83419),h=s(37747),a=s(60758),u=s(72624),v=s(71464),o=new l({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,g,m,C){return this.world.addCollider(c,p,g,m,C)},overlap:function(c,p,g,m,C){return this.world.addOverlap(c,p,g,m,C)},existing:function(c,p){var g=p?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(c,g),c},staticImage:function(c,p,g,m){var C=new d(this.scene,c,p,g,m);return this.sys.displayList.add(C),this.world.enableBody(C,h.STATIC_BODY),C},image:function(c,p,g,m){var C=new d(this.scene,c,p,g,m);return this.sys.displayList.add(C),this.world.enableBody(C,h.DYNAMIC_BODY),C},staticSprite:function(c,p,g,m){var C=new x(this.scene,c,p,g,m);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,h.STATIC_BODY),C},sprite:function(c,p,g,m){var C=new x(this.scene,c,p,g,m);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,h.DYNAMIC_BODY),C},staticGroup:function(c,p){return this.sys.updateList.add(new v(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new a(this.world,this.world.scene,c,p))},body:function(c,p,g,m){var C=new f(this.world);return C.position.set(c,p),g&&m&&C.setSize(g,m),this.world.add(C,h.DYNAMIC_BODY),C},staticBody:function(c,p,g,m){var C=new u(this.world);return C.position.set(c,p),g&&m&&C.setSize(g,m),this.world.add(C,h.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=o},79599:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=0;if(!Array.isArray(s))d=s;else for(var x=0;x<s.length;x++)d|=s[x];return d};r.exports=T},64897:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37747),x=function(f,l,h,a){var u=0,v=f.deltaAbsX()+l.deltaAbsX()+a;return f._dx===0&&l._dx===0?(f.embedded=!0,l.embedded=!0):f._dx>l._dx?(u=f.right-l.x,u>v&&!h||f.checkCollision.right===!1||l.checkCollision.left===!1?u=0:(f.touching.none=!1,f.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===d.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===d.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.left=!0))):f._dx<l._dx&&(u=f.x-l.width-l.x,-u>v&&!h||f.checkCollision.left===!1||l.checkCollision.right===!1?u=0:(f.touching.none=!1,f.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===d.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===d.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.right=!0))),f.overlapX=u,l.overlapX=u,u};r.exports=x},45170:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37747),x=function(f,l,h,a){var u=0,v=f.deltaAbsY()+l.deltaAbsY()+a;return f._dy===0&&l._dy===0?(f.embedded=!0,l.embedded=!0):f._dy>l._dy?(u=f.bottom-l.y,u>v&&!h||f.checkCollision.down===!1||l.checkCollision.up===!1?u=0:(f.touching.none=!1,f.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===d.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===d.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.up=!0))):f._dy<l._dy&&(u=f.y-l.bottom,-u>v&&!h||f.checkCollision.up===!1||l.checkCollision.down===!1?u=0:(f.touching.none=!1,f.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===d.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===d.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.down=!0))),f.overlapY=u,l.overlapY=u,u};r.exports=x},60758:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13759),x=s(83419),f=s(78389),l=s(37747),h=s(95540),a=s(26479),u=s(41212),v=new x({Extends:a,Mixins:[f],initialize:function(c,p,g,m){if(!g&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(u(g))m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&u(g[0])){var C=this;g.forEach(function(E){E.internalCreateCallback=C.createCallbackHandler,E.internalRemoveCallback=C.removeCallbackHandler,E.classType=h(E,"classType",d)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,m&&(m.classType=h(m,"classType",d)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:h(m,"collideWorldBounds",!1),setBoundsRectangle:h(m,"customBoundsRectangle",null),setAccelerationX:h(m,"accelerationX",0),setAccelerationY:h(m,"accelerationY",0),setAllowDrag:h(m,"allowDrag",!0),setAllowGravity:h(m,"allowGravity",!0),setAllowRotation:h(m,"allowRotation",!0),setDamping:h(m,"useDamping",!1),setBounceX:h(m,"bounceX",0),setBounceY:h(m,"bounceY",0),setDragX:h(m,"dragX",0),setDragY:h(m,"dragY",0),setEnable:h(m,"enable",!0),setGravityX:h(m,"gravityX",0),setGravityY:h(m,"gravityY",0),setFrictionX:h(m,"frictionX",0),setFrictionY:h(m,"frictionY",0),setMaxSpeed:h(m,"maxSpeed",-1),setMaxVelocityX:h(m,"maxVelocityX",1e4),setMaxVelocityY:h(m,"maxVelocityY",1e4),setVelocityX:h(m,"velocityX",0),setVelocityY:h(m,"velocityY",0),setAngularVelocity:h(m,"angularVelocity",0),setAngularAcceleration:h(m,"angularAcceleration",0),setAngularDrag:h(m,"angularDrag",0),setMass:h(m,"mass",1),setImmovable:h(m,"immovable",!1)},a.call(this,p,g,m),this.type="PhysicsGroup"},createCallbackHandler:function(o){o.body||this.world.enableBody(o,l.DYNAMIC_BODY);var c=o.body;for(var p in this.defaults)c[p](this.defaults[p])},removeCallbackHandler:function(o){o.body&&this.world.disableBody(o)},setVelocity:function(o,c,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.set(o+m*p,c+m*p);return this},setVelocityX:function(o,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.x=o+g*c;return this},setVelocityY:function(o,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.y=o+g*c;return this}});r.exports=v},3017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,s,d,x,f,l,h,a,u,v,o,c,p,g,m,C,E,M=function(F,O,D){T=F,s=O;var B=T.velocity.x,b=s.velocity.x;return d=T.pushable,u=T._dx<0,v=T._dx>0,o=T._dx===0,m=Math.abs(T.right-s.x)<=Math.abs(s.right-T.x),h=b-B*T.bounce.x,x=s.pushable,c=s._dx<0,p=s._dx>0,g=s._dx===0,C=!m,a=B-b*s.bounce.x,E=Math.abs(D),P()},P=function(){return v&&m&&s.blocked.right?(T.processX(-E,h,!1,!0),1):u&&C&&s.blocked.left?(T.processX(E,h,!0),1):p&&C&&T.blocked.right?(s.processX(-E,a,!1,!0),2):c&&m&&T.blocked.left?(s.processX(E,a,!0),2):0},w=function(){var F=T.velocity.x,O=s.velocity.x,D=Math.sqrt(O*O*s.mass/T.mass)*(O>0?1:-1),B=Math.sqrt(F*F*T.mass/s.mass)*(F>0?1:-1),b=(D+B)*.5;return D-=b,B-=b,f=b+D*T.bounce.x,l=b+B*s.bounce.x,u&&C?R(0):c&&m?R(1):v&&m?R(2):p&&C?R(3):!1},R=function(F){if(d&&x)E*=.5,F===0||F===3?(T.processX(E,f),s.processX(-E,l)):(T.processX(-E,f),s.processX(E,l));else if(d&&!x)F===0||F===3?T.processX(E,h,!0):T.processX(-E,h,!1,!0);else if(!d&&x)F===0||F===3?s.processX(-E,a,!1,!0):s.processX(E,a,!0);else{var O=E*.5;F===0?g?(T.processX(E,0,!0),s.processX(0,null,!1,!0)):p?(T.processX(O,0,!0),s.processX(-O,0,!1,!0)):(T.processX(O,s.velocity.x,!0),s.processX(-O,null,!1,!0)):F===1?o?(T.processX(0,null,!1,!0),s.processX(E,0,!0)):v?(T.processX(-O,0,!1,!0),s.processX(O,0,!0)):(T.processX(-O,null,!1,!0),s.processX(O,T.velocity.x,!0)):F===2?g?(T.processX(-E,0,!1,!0),s.processX(0,null,!0)):c?(T.processX(-O,0,!1,!0),s.processX(O,0,!0)):(T.processX(-O,s.velocity.x,!1,!0),s.processX(O,null,!0)):F===3&&(o?(T.processX(0,null,!0),s.processX(-E,0,!1,!0)):u?(T.processX(O,0,!0),s.processX(-O,0,!1,!0)):(T.processX(O,s.velocity.y,!0),s.processX(-O,null,!1,!0)))}return!0},A=function(F){F===1?s.velocity.x=0:m?s.processX(E,a,!0):s.processX(-E,a,!1,!0),T.moves&&(s.y+=(T.y-T.prev.y)*T.friction.y,s._dy=s.y-s.prev.y)},L=function(F){F===2?T.velocity.x=0:C?T.processX(E,h,!0):T.processX(-E,h,!1,!0),s.moves&&(T.y+=(s.y-s.prev.y)*s.friction.y,T._dy=T.y-T.prev.y)};r.exports={BlockCheck:P,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},47962:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,s,d,x,f,l,h,a,u,v,o,c,p,g,m,C,E,M=function(F,O,D){T=F,s=O;var B=T.velocity.y,b=s.velocity.y;return d=T.pushable,u=T._dy<0,v=T._dy>0,o=T._dy===0,m=Math.abs(T.bottom-s.y)<=Math.abs(s.bottom-T.y),h=b-B*T.bounce.y,x=s.pushable,c=s._dy<0,p=s._dy>0,g=s._dy===0,C=!m,a=B-b*s.bounce.y,E=Math.abs(D),P()},P=function(){return v&&m&&s.blocked.down?(T.processY(-E,h,!1,!0),1):u&&C&&s.blocked.up?(T.processY(E,h,!0),1):p&&C&&T.blocked.down?(s.processY(-E,a,!1,!0),2):c&&m&&T.blocked.up?(s.processY(E,a,!0),2):0},w=function(){var F=T.velocity.y,O=s.velocity.y,D=Math.sqrt(O*O*s.mass/T.mass)*(O>0?1:-1),B=Math.sqrt(F*F*T.mass/s.mass)*(F>0?1:-1),b=(D+B)*.5;return D-=b,B-=b,f=b+D*T.bounce.y,l=b+B*s.bounce.y,u&&C?R(0):c&&m?R(1):v&&m?R(2):p&&C?R(3):!1},R=function(F){if(d&&x)E*=.5,F===0||F===3?(T.processY(E,f),s.processY(-E,l)):(T.processY(-E,f),s.processY(E,l));else if(d&&!x)F===0||F===3?T.processY(E,h,!0):T.processY(-E,h,!1,!0);else if(!d&&x)F===0||F===3?s.processY(-E,a,!1,!0):s.processY(E,a,!0);else{var O=E*.5;F===0?g?(T.processY(E,0,!0),s.processY(0,null,!1,!0)):p?(T.processY(O,0,!0),s.processY(-O,0,!1,!0)):(T.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)):F===1?o?(T.processY(0,null,!1,!0),s.processY(E,0,!0)):v?(T.processY(-O,0,!1,!0),s.processY(O,0,!0)):(T.processY(-O,null,!1,!0),s.processY(O,T.velocity.y,!0)):F===2?g?(T.processY(-E,0,!1,!0),s.processY(0,null,!0)):c?(T.processY(-O,0,!1,!0),s.processY(O,0,!0)):(T.processY(-O,s.velocity.y,!1,!0),s.processY(O,null,!0)):F===3&&(o?(T.processY(0,null,!0),s.processY(-E,0,!1,!0)):u?(T.processY(O,0,!0),s.processY(-O,0,!1,!0)):(T.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)))}return!0},A=function(F){F===1?s.velocity.y=0:m?s.processY(E,a,!0):s.processY(-E,a,!1,!0),T.moves&&(s.x+=(T.x-T.prev.x)*T.friction.x,s._dx=s.x-s.prev.x)},L=function(F){F===2?T.velocity.y=0:C?T.processY(E,h,!0):T.processY(-E,h,!1,!0),s.moves&&(T.x+=(s.x-s.prev.x)*s.friction.x,T._dx=T.x-T.prev.x)};r.exports={BlockCheck:P,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},14087:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(64897),x=s(3017),f=function(l,h,a,u,v){v===void 0&&(v=d(l,h,a,u));var o=l.immovable,c=h.immovable;if(a||v===0||o&&c||l.customSeparateX||h.customSeparateX)return v!==0||l.embedded&&h.embedded;var p=x.Set(l,h,v);return!o&&!c?p>0?!0:x.Check():(o?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};r.exports=f},89936:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45170),x=s(47962),f=function(l,h,a,u,v){v===void 0&&(v=d(l,h,a,u));var o=l.immovable,c=h.immovable;if(a||v===0||o&&c||l.customSeparateY||h.customSeparateY)return v!==0||l.embedded&&h.embedded;var p=x.Set(l,h,v);return!o&&!c?p>0?!0:x.Check():(o?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};r.exports=f},95829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===void 0&&(d={}),d.none=s,d.up=!1,d.down=!1,d.left=!1,d.right=!1,s||(d.up=!0,d.down=!0,d.left=!0,d.right=!0),d};r.exports=T},72624:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87902),x=s(83419),f=s(78389),l=s(37747),h=s(37303),a=s(95829),u=s(26099),v=new x({Mixins:[f],initialize:function(c,p){var g=64,m=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=p!==void 0;E&&p.displayWidth&&(g=p.displayWidth,m=p.displayHeight),E||(p=C),this.world=c,this.gameObject=E?p:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(p.x-g*p.originX,p.y-m*p.originY),this.width=g,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(o,c){return o&&o!==this.gameObject&&(this.gameObject.body=null,o.body=this,this.gameObject=o),c&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var o=this.gameObject;return o.getTopLeft(this.position),this.width=o.displayWidth,this.height=o.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(o,c){return c===void 0&&(c=o),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(o,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(o,c,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&g.frame&&(o||(o=g.frame.realWidth),c||(c=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=o,this.height=c,this.halfWidth=Math.floor(o/2),this.halfHeight=Math.floor(c/2),p&&g&&g.getCenter){var m=g.displayWidth/2,C=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(o,c,p){return c===void 0&&(c=this.offset.x),p===void 0&&(p=this.offset.y),o>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=o,this.width=o*2,this.height=o*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(o,c){var p=this.gameObject;o===void 0&&(o=p.x),c===void 0&&(c=p.y),this.world.staticTree.remove(this),p.setPosition(o,c),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,c){return this.isCircle?d(this,o,c):h(this,o,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(o){var c=this.position,p=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?o.strokeCircle(p,g,this.width/2):o.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(o){return o<=0&&(o=.1),this.mass=o,this},x:{get:function(){return this.position.x},set:function(o){this.world.staticTree.remove(this),this.position.x=o,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(o){this.world.staticTree.remove(this),this.position.y=o,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=v},71464:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13759),x=s(83419),f=s(78389),l=s(37747),h=s(95540),a=s(26479),u=s(41212),v=new x({Extends:a,Mixins:[f],initialize:function(c,p,g,m){!g&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:d}:u(g)?(m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=h(m,"classType",d)):Array.isArray(g)&&u(g[0])?(m=g,g=null,m.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=h(C,"classType",d)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=c,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,p,g,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(o){o.body||this.world.enableBody(o,l.STATIC_BODY)},removeCallbackHandler:function(o){o.body&&this.world.disableBody(o)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var o=this.children.entries,c=0;c<o.length;c++)o[c].body.reset();return this}});r.exports=v},82248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(55495),x=s(37742),f=s(45319),l=s(83419),h=s(79342),a=s(37747),u=s(20339),v=s(52816),o=s(50792),c=s(63012),p=s(43855),g=s(5470),m=s(94977),C=s(64897),E=s(45170),M=s(96523),P=s(35154),w=s(36383),R=s(25774),A=s(96602),L=s(87841),F=s(59542),O=s(40012),D=s(14087),B=s(89936),b=s(35072),G=s(72624),V=s(2483),W=s(61340),H=s(26099),z=s(15994),U=new l({Extends:o,initialize:function(N,k){o.call(this),this.scene=N,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new R,this.gravity=new H(P(k,"gravity.x",0),P(k,"gravity.y",0)),this.bounds=new L(P(k,"x",0),P(k,"y",0),P(k,"width",N.sys.scale.width),P(k,"height",N.sys.scale.height)),this.checkCollision={up:P(k,"checkCollision.up",!0),down:P(k,"checkCollision.down",!0),left:P(k,"checkCollision.left",!0),right:P(k,"checkCollision.right",!0)},this.fps=P(k,"fps",60),this.fixedStep=P(k,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(k,"timeScale",1),this.OVERLAP_BIAS=P(k,"overlapBias",4),this.TILE_BIAS=P(k,"tileBias",16),this.forceX=P(k,"forceX",!1),this.isPaused=P(k,"isPaused",!1),this._total=0,this.drawDebug=P(k,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(k,"debugShowBody",!0),debugShowStaticBody:P(k,"debugShowStaticBody",!0),debugShowVelocity:P(k,"debugShowVelocity",!0),bodyDebugColor:P(k,"debugBodyColor",16711935),staticBodyDebugColor:P(k,"debugStaticBodyColor",255),velocityDebugColor:P(k,"debugVelocityColor",65280)},this.maxEntries=P(k,"maxEntries",16),this.useTree=P(k,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,N){N===void 0&&(N=a.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var X=I[k];if(X.isParent)for(var Y=X.getChildren(),$=0;$<Y.length;$++){var K=Y[$];K.isParent?this.enable(K,N):this.enableBody(K,N)}else this.enableBody(X,N)}},enableBody:function(I,N){return N===void 0&&(N=a.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(N===a.DYNAMIC_BODY?I.body=new x(this,I):N===a.STATIC_BODY&&(I.body=new G(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===a.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===a.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var N=0;N<I.length;N++){var k=I[N];if(k.isParent)for(var X=k.getChildren(),Y=0;Y<X.length;Y++){var $=X[Y];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(k.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===a.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,N,k,X,Y,$,K,Z){return this.bounds.setTo(I,N,k,X),Y!==void 0&&this.setBoundsCollision(Y,$,K,Z),this},setBoundsCollision:function(I,N,k,X){return I===void 0&&(I=!0),N===void 0&&(N=!0),k===void 0&&(k=!0),X===void 0&&(X=!0),this.checkCollision.left=I,this.checkCollision.right=N,this.checkCollision.up=k,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(I,N,k,X,Y){k===void 0&&(k=null),X===void 0&&(X=null),Y===void 0&&(Y=k);var $=new h(this,!1,I,N,k,X,Y);return this.colliders.add($),$},addOverlap:function(I,N,k,X,Y){k===void 0&&(k=null),X===void 0&&(X=null),Y===void 0&&(Y=k);var $=new h(this,!0,I,N,k,X,Y);return this.colliders.add($),$},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,N){if(!(this.isPaused||this.bodies.size===0)){var k,X=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=N;var $,K=this.bodies.entries,Z=this._elapsed>=Y;for(this.fixedStep||(X=N*.001,Z=!0,this._elapsed=0),k=0;k<K.length;k++)$=K[k],$.enable&&$.preUpdate(Z,X);if(Z){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(k=0;k<J.length;k++){var Q=J[k];Q.active&&Q.update()}this.emit(c.WORLD_STEP,X)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(X)}},step:function(I){var N,k,X=this.bodies.entries,Y=X.length;for(N=0;N<Y;N++)k=X[N],k.enable&&k.update(I);this.useTree&&(this.tree.clear(),this.tree.load(X));var $=this.colliders.update();for(N=0;N<$.length;N++){var K=$[N];K.active&&K.update()}this.emit(c.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,N,k=this.bodies.entries,X=k.length,Y=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<X;I++)N=k[I],N.enable&&N.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),I=0;I<X;I++)N=k[I],N.willDrawDebug()&&N.drawDebug(K);for(k=$.entries,X=k.length,I=0;I<X;I++)N=k[I],N.willDrawDebug()&&N.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,Q=this.staticTree;for(k=Z.entries,X=k.length,I=0;I<X;I++)N=k[I],N.physicsType===a.DYNAMIC_BODY?(J.remove(N),Y.delete(N)):N.physicsType===a.STATIC_BODY&&(Q.remove(N),$.delete(N)),N.world=void 0,N.gameObject=void 0;Z.clear()}},updateMotion:function(I,N){I.allowRotation&&this.computeAngularVelocity(I,N),this.computeVelocity(I,N)},computeAngularVelocity:function(I,N){var k=I.angularVelocity,X=I.angularAcceleration,Y=I.angularDrag,$=I.maxAngular;X?k+=X*N:I.allowDrag&&Y&&(Y*=N,g(k-Y,0,.1)?k-=Y:m(k+Y,0,.1)?k+=Y:k=0),k=f(k,-$,$);var K=k-I.angularVelocity;I.angularVelocity+=K,I.rotation+=I.angularVelocity*N},computeVelocity:function(I,N){var k=I.velocity.x,X=I.acceleration.x,Y=I.drag.x,$=I.maxVelocity.x,K=I.velocity.y,Z=I.acceleration.y,J=I.drag.y,Q=I.maxVelocity.y,j=I.speed,_=I.maxSpeed,q=I.allowDrag,it=I.useDamping;I.allowGravity&&(k+=(this.gravity.x+I.gravity.x)*N,K+=(this.gravity.y+I.gravity.y)*N),X?k+=X*N:q&&Y&&(it?(Y=Math.pow(Y,N),k*=Y,j=Math.sqrt(k*k+K*K),p(j,0,.001)&&(k=0)):(Y*=N,g(k-Y,0,.01)?k-=Y:m(k+Y,0,.01)?k+=Y:k=0)),Z?K+=Z*N:q&&J&&(it?(J=Math.pow(J,N),K*=J,j=Math.sqrt(k*k+K*K),p(j,0,.001)&&(K=0)):(J*=N,g(K-J,0,.01)?K-=J:m(K+J,0,.01)?K+=J:K=0)),k=f(k,-$,$),K=f(K,-Q,Q),I.velocity.set(k,K),_>-1&&I.velocity.length()>_&&(I.velocity.normalize().scale(_),j=_),I.speed=j},separate:function(I,N,k,X,Y){var $,K,Z=!1,J=!0;if(!I.enable||!N.enable||I.checkCollision.none||N.checkCollision.none||!this.intersects(I,N)||k&&k.call(X,I.gameObject,N.gameObject)===!1)return Z;if(I.isCircle||N.isCircle){var Q=this.separateCircle(I,N,Y);Q.result?(Z=!0,J=!1):($=Q.x,K=Q.y,J=!0)}if(J){var j=!1,_=!1,q=this.OVERLAP_BIAS;Y?(j=D(I,N,Y,q,$),_=B(I,N,Y,q,K)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(j=D(I,N,Y,q,$),this.intersects(I,N)&&(_=B(I,N,Y,q,K))):(_=B(I,N,Y,q,K),this.intersects(I,N)&&(j=D(I,N,Y,q,$))),Z=j||_}return Z&&(Y?(I.onOverlap||N.onOverlap)&&this.emit(c.OVERLAP,I.gameObject,N.gameObject,I,N):(I.onCollide||N.onCollide)&&this.emit(c.COLLIDE,I.gameObject,N.gameObject,I,N)),Z},separateCircle:function(I,N,k){C(I,N,!1,0),E(I,N,!1,0);var X=I.isCircle,Y=N.isCircle,$=I.center,K=N.center,Z=I.immovable,J=N.immovable,Q=I.velocity,j=N.velocity,_=0,q=!0;if(X!==Y){q=!1;var it=$.x,ot=$.y,ut=I.halfWidth,ht=N.position.x,tt=N.position.y,at=N.right,rt=N.bottom;Y&&(it=K.x,ot=K.y,ut=N.halfWidth,ht=I.position.x,tt=I.position.y,at=I.right,rt=I.bottom),ot<tt?it<ht?_=u(it,ot,ht,tt)-ut:it>at&&(_=u(it,ot,at,tt)-ut):ot>rt&&(it<ht?_=u(it,ot,ht,rt)-ut:it>at&&(_=u(it,ot,at,rt)-ut)),_*=-1}else _=I.halfWidth+N.halfWidth-v($,K);I.overlapR=_,N.overlapR=_;var gt=d($,K),mt=(_+w.EPSILON)*Math.cos(gt),kt=(_+w.EPSILON)*Math.sin(gt),Gt={overlap:_,result:!1,x:mt,y:kt};if(k&&(!q||q&&_!==0))return Gt.result=!0,Gt;if(!q&&_===0||Z&&J||I.customSeparateX||N.customSeparateX)return Gt.x=void 0,Gt.y=void 0,Gt;var Et=!I.pushable&&!N.pushable;if(q){var Ct=$.x-K.x,ee=$.y-K.y,bt=Math.sqrt(Math.pow(Ct,2)+Math.pow(ee,2)),ge=(K.x-$.x)/bt||0,Pe=(K.y-$.y)/bt||0,ri=2*(Q.x*ge+Q.y*Pe-j.x*ge-j.y*Pe)/(I.mass+N.mass);(Z||J)&&(ri*=2),Z||(Q.x=Q.x-ri/I.mass*ge,Q.y=Q.y-ri/I.mass*Pe,Q.multiply(I.bounce)),J||(j.x=j.x+ri/N.mass*ge,j.y=j.y+ri/N.mass*Pe,j.multiply(N.bounce)),!Z&&!J&&(mt*=.5,kt*=.5),Z||(I.x-=mt,I.y-=kt,I.updateCenter()),J||(N.x+=mt,N.y+=kt,N.updateCenter()),Gt.result=!0}else!Z||I.pushable||Et?(I.x-=mt,I.y-=kt,I.updateCenter()):(!J||N.pushable||Et)&&(N.x+=mt,N.y+=kt,N.updateCenter()),Gt.x=void 0,Gt.y=void 0;return Gt},intersects:function(I,N){return I===N?!1:!I.isCircle&&!N.isCircle?!(I.right<=N.left||I.bottom<=N.top||I.left>=N.right||I.top>=N.bottom):I.isCircle?N.isCircle?v(I.center,N.center)<=I.halfWidth+N.halfWidth:this.circleBodyIntersects(I,N):this.circleBodyIntersects(N,I)},circleBodyIntersects:function(I,N){var k=f(I.center.x,N.left,N.right),X=f(I.center.y,N.top,N.bottom),Y=(I.center.x-k)*(I.center.x-k),$=(I.center.y-X)*(I.center.y-X);return Y+$<=I.halfWidth*I.halfWidth},overlap:function(I,N,k,X,Y){return k===void 0&&(k=null),X===void 0&&(X=null),Y===void 0&&(Y=k),this.collideObjects(I,N,k,X,Y,!0)},collide:function(I,N,k,X,Y){return k===void 0&&(k=null),X===void 0&&(X=null),Y===void 0&&(Y=k),this.collideObjects(I,N,k,X,Y,!1)},collideObjects:function(I,N,k,X,Y,$){var K,Z;I.isParent&&(I.physicsType===void 0||N===void 0||I===N)&&(I=I.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var J=Array.isArray(I),Q=Array.isArray(N);if(this._total=0,!J&&!Q)this.collideHandler(I,N,k,X,Y,$);else if(!J&&Q)for(K=0;K<N.length;K++)this.collideHandler(I,N[K],k,X,Y,$);else if(J&&!Q)if(N)for(K=0;K<I.length;K++)this.collideHandler(I[K],N,k,X,Y,$);else for(K=0;K<I.length;K++){var j=I[K];for(Z=K+1;Z<I.length;Z++)K!==Z&&this.collideHandler(j,I[Z],k,X,Y,$)}else for(K=0;K<I.length;K++)for(Z=0;Z<N.length;Z++)this.collideHandler(I[K],N[Z],k,X,Y,$);return this._total>0},collideHandler:function(I,N,k,X,Y,$){if(N===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,k,X,Y,$);if(!I||!N)return!1;if(I.body||I.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(I,N,k,X,Y,$);if(N.isParent)return this.collideSpriteVsGroup(I,N,k,X,Y,$);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(I,N,k,X,Y,$)}else if(I.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,I,k,X,Y,$);if(N.isParent)return this.collideGroupVsGroup(I,N,k,X,Y,$);if(N.isTilemap)return this.collideGroupVsTilemapLayer(I,N,k,X,Y,$)}else if(I.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,I,k,X,Y,$);if(N.isParent)return this.collideGroupVsTilemapLayer(N,I,k,X,Y,$)}},canCollide:function(I,N){return I&&N&&(I.collisionMask&N.collisionCategory)!==0&&(N.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,N,k,X,Y,$){var K=I.isBody?I:I.body,Z=N.isBody?N:N.body;return this.canCollide(K,Z)?(this.separate(K,Z,X,Y,$)&&(k&&k.call(Y,I,N),this._total++),!0):!1},collideSpriteVsGroup:function(I,N,k,X,Y,$){var K=I.isBody?I:I.body;if(!(N.length===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,N))){var Z,J,Q;if(this.useTree||N.physicsType===a.STATIC_BODY){var j=this.treeMinMax;j.minX=K.left,j.minY=K.top,j.maxX=K.right,j.maxY=K.bottom;var _=N.physicsType===a.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(J=_.length,Z=0;Z<J;Z++)Q=_[Z],!(K===Q||!Q.enable||Q.checkCollision.none||!N.contains(Q.gameObject))&&this.separate(K,Q,X,Y,$)&&(k&&k.call(Y,K.gameObject,Q.gameObject),this._total++)}else{var q=N.getChildren(),it=N.children.entries.indexOf(I);for(J=q.length,Z=0;Z<J;Z++)Q=q[Z].body,!(!Q||Z===it||!Q.enable)&&this.separate(K,Q,X,Y,$)&&(k&&k.call(Y,K.gameObject,Q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,N,k,X,Y,$){if(!this.canCollide(I,N))return!1;var K=I.getChildren();if(K.length===0)return!1;for(var Z=!1,J=0;J<K.length;J++)(K[J].body||K[J].isBody)&&this.collideSpriteVsTilemapLayer(K[J],N,k,X,Y,$)&&(Z=!0);return Z},collideTiles:function(I,N,k,X,Y){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,k,X,Y,!1,!1)},overlapTiles:function(I,N,k,X,Y){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,k,X,Y,!0,!1)},collideSpriteVsTilemapLayer:function(I,N,k,X,Y,$){var K=I.isBody?I:I.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,N))return!1;var Z=N.layer,J=K.x-Z.tileWidth*N.scaleX,Q=K.y-Z.tileHeight*N.scaleY,j=K.width+Z.tileWidth*N.scaleX,_=K.height+Z.tileHeight*N.scaleY,q=$?null:this.tileFilterOptions,it=M(J,Q,j,_,q,N.scene.cameras.main,N.layer);return it.length===0?!1:this.collideSpriteVsTilesHandler(I,it,k,X,Y,$,!0)},collideSpriteVsTilesHandler:function(I,N,k,X,Y,$,K){for(var Z=I.isBody?I:I.body,J,Q={left:0,right:0,top:0,bottom:0},j,_=!1,q=0;q<N.length;q++){J=N[q],j=J.tilemapLayer;var it=j.tileToWorldXY(J.x,J.y);Q.left=it.x,Q.top=it.y,Q.right=Q.left+J.width*j.scaleX,Q.bottom=Q.top+J.height*j.scaleY,V(Q,Z)&&(!X||X.call(Y,I,J))&&A(J,I)&&($||O(q,Z,J,Q,j,this.TILE_BIAS,K))&&(this._total++,_=!0,k&&k.call(Y,I,J),$&&Z.onOverlap?this.emit(c.TILE_OVERLAP,I,J,Z):Z.onCollide&&this.emit(c.TILE_COLLIDE,I,J,Z))}return _},collideGroupVsGroup:function(I,N,k,X,Y,$){if(!(I.length===0||N.length===0||!this.canCollide(I,N)))for(var K=I.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],N,k,X,Y,$)},wrap:function(I,N){I.body?this.wrapObject(I,N):I.getChildren?this.wrapArray(I.getChildren(),N):Array.isArray(I)?this.wrapArray(I,N):this.wrapObject(I,N)},wrapArray:function(I,N){for(var k=0;k<I.length;k++)this.wrapObject(I[k],N)},wrapObject:function(I,N){N===void 0&&(N=0),I.x=z(I.x,this.bounds.left-N,this.bounds.right+N),I.y=z(I.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=U},1093:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(s,d){return this.body.acceleration.set(s,d),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};r.exports=T},59023:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};r.exports=T},62069:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(s,d){return this.body.bounce.set(s,d),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,d,x,f){return this.body.setCollideWorldBounds(s,d,x,f),this}};r.exports=T},78389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79599),x={setCollisionCategory:function(f){var l=this.body?this.body:this;return l.collisionCategory=f,this},willCollideWith:function(f){var l=this.body?this.body:this;return(l.collisionMask&f)!==0},addCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|f,this},removeCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~f,this},setCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=d(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=1,this}};r.exports=x},87118:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(s,d,x){return this.debugShowBody=s,this.debugShowVelocity=d,this.debugBodyColor=x,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};r.exports=T},52819:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(s,d){return this.body.drag.set(s,d),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};r.exports=T},4074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,d,x,f,l){return s&&this.body.reset(d,x),f&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,d){return s===void 0&&(s=!1),d===void 0&&(d=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),d&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=T},40831:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(s,d){return this.body.friction.set(s,d),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};r.exports=T},26775:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(s,d){return this.body.gravity.set(s,d),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};r.exports=T},9437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};r.exports=T},30621:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(s){return this.body.mass=s,this}};r.exports=T},72441:(r,T,s)=>{var d=s(47956),x=s(96503),f=s(2044),l=s(81491),h=function(a,u,v,o,c,p){var g=d(a,u-o,v-o,2*o,2*o,c,p);if(g.length===0)return g;for(var m=new x(u,v,o),C=new x,E=[],M=0;M<g.length;M++){var P=g[M];P.isCircle?(C.setTo(P.center.x,P.center.y,P.halfWidth),f(m,C)&&E.push(P)):l(m,P)&&E.push(P)}return E};r.exports=h},47956:r=>{var T=function(s,d,x,f,l,h,a){h===void 0&&(h=!0),a===void 0&&(a=!1);var u=[],v=[],o=s.treeMinMax;if(o.minX=d,o.minY=x,o.maxX=d+f,o.maxY=x+l,a&&(v=s.staticTree.search(o)),h&&s.useTree)u=s.tree.search(o);else if(h){var c=s.bodies,p={position:{x:d,y:x},left:d,top:x,right:d+f,bottom:x+l,isCircle:!1},g=s.intersects;c.iterate(function(m){g(m,p)&&u.push(m)})}return v.concat(u)};r.exports=T},62121:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};r.exports=T},29384:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(s,d){return this.body.setOffset(s,d),this},setSize:function(s,d,x){return this.body.setSize(s,d,x),this},setBodySize:function(s,d,x){return this.body.setSize(s,d,x),this},setCircle:function(s,d,x){return this.body.setCircle(s,d,x),this}};r.exports=T},15098:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(s,d){return this.body.setVelocity(s,d),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,d){return this.body.maxVelocity.set(s,d),this}};r.exports=T},92209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=T},20009:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"},36768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"},60473:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},89954:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},61804:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"},7161:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"},34689:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"},16006:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"},63012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37747),x=s(79291),f={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};f=x(!1,f,d),r.exports=f},96602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,d,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,d,s):!0};r.exports=T},36294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d<0?(s.blocked.none=!1,s.blocked.left=!0):d>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=d,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};r.exports=T},67013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d<0?(s.blocked.none=!1,s.blocked.up=!0):d>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=d,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};r.exports=T},40012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(21329),x=s(53442),f=s(2483),l=function(h,a,u,v,o,c,p){var g=v.left,m=v.top,C=v.right,E=v.bottom,M=u.faceLeft||u.faceRight,P=u.faceTop||u.faceBottom;if(p||(M=!0,P=!0),!M&&!P)return!1;var w=0,R=0,A=0,L=1;if(a.deltaAbsX()>a.deltaAbsY()?A=-1:a.deltaAbsX()<a.deltaAbsY()&&(L=-1),a.deltaX()!==0&&a.deltaY()!==0&&M&&P&&(A=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-g)),L=Math.min(Math.abs(a.position.y-E),Math.abs(a.bottom-m))),A<L){if(M&&(w=d(a,u,g,C,c,p),w!==0&&!f(v,a)))return!0;P&&(R=x(a,u,m,E,c,p))}else{if(P&&(R=x(a,u,m,E,c,p),R!==0&&!f(v,a)))return!0;M&&(w=d(a,u,g,C,c,p))}return w!==0||R!==0};r.exports=l},21329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36294),x=function(f,l,h,a,u,v){var o=0,c=l.faceLeft,p=l.faceRight,g=l.collideLeft,m=l.collideRight;return v||(c=!0,p=!0,g=!0,m=!0),f.deltaX()<0&&m&&f.checkCollision.left?p&&f.x<a&&(o=f.x-a,o<-u&&(o=0)):f.deltaX()>0&&g&&f.checkCollision.right&&c&&f.right>h&&(o=f.right-h,o>u&&(o=0)),o!==0&&(f.customSeparateX?f.overlapX=o:d(f,o)),o};r.exports=x},53442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(67013),x=function(f,l,h,a,u,v){var o=0,c=l.faceTop,p=l.faceBottom,g=l.collideUp,m=l.collideDown;return v||(c=!0,p=!0,g=!0,m=!0),f.deltaY()<0&&m&&f.checkCollision.up?p&&f.y<a&&(o=f.y-a,o<-u&&(o=0)):f.deltaY()>0&&g&&f.checkCollision.down&&c&&f.bottom>h&&(o=f.bottom-h,o>u&&(o=0)),o!==0&&(f.customSeparateY?f.overlapY=o:d(f,o)),o};r.exports=x},2483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return!(d.right<=s.left||d.bottom<=s.top||d.position.x>=s.right||d.position.y>=s.bottom)};r.exports=T},55173:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};r.exports=d},44563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:s(27064),Matter:s(3875)}},68174:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(26099),f=new d({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,a=this.centerDiff,u=l.bounds.max.x-l.bounds.min.x,v=l.bounds.max.y-l.bounds.min.y,o=u*l.centerOfMass.x,c=v*l.centerOfMass.y;return h.set(u/2,v/2),a.set(o-h.x,c-h.y),!0},getTopLeft:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h+u.x+v.x,a+u.y+v.y)}return!1},getTopCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h+v.x,a+u.y+v.y)}return!1},getTopRight:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h-(u.x-v.x),a+u.y+v.y)}return!1},getLeftCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h+u.x+v.x,a+v.y)}return!1},getCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.centerDiff;return new x(h+u.x,a+u.y)}return!1},getRightCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h-(u.x-v.x),a+v.y)}return!1},getBottomLeft:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h+u.x+v.x,a-(u.y-v.y))}return!1},getBottomCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h+v.x,a-(u.y-v.y))}return!1},getBottomRight:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var u=this.boundsCenter,v=this.centerDiff;return new x(h-(u.x-v.x),a-(u.y-v.y))}return!1}});r.exports=f},19933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6790);d.Body=s(22562),d.Composite=s(69351),d.World=s(4372),d.Collision=s(52284),d.Detector=s(81388),d.Pairs=s(99561),d.Pair=s(4506),d.Query=s(73296),d.Resolver=s(66272),d.Constraint=s(48140),d.Common=s(53402),d.Engine=s(48413),d.Events=s(35810),d.Sleeping=s(53614),d.Plugin=s(73832),d.Bodies=s(66280),d.Composites=s(74116),d.Axes=s(66615),d.Bounds=s(15647),d.Svg=s(74058),d.Vector=s(31725),d.Vertices=s(41598),d.World.add=d.Composite.add,d.World.remove=d.Composite.remove,d.World.addComposite=d.Composite.addComposite,d.World.addBody=d.Composite.addBody,d.World.addConstraint=d.Composite.addConstraint,d.World.clear=d.Composite.clear,r.exports=d},28137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(83419),f=s(74116),l=s(48140),h=s(74058),a=s(75803),u=s(23181),v=s(34803),o=s(73834),c=s(19496),p=s(85791),g=s(98713),m=s(41598),C=new x({initialize:function(M){this.world=M,this.scene=M.scene,this.sys=M.scene.sys},rectangle:function(E,M,P,w,R){var A=d.rectangle(E,M,P,w,R);return this.world.add(A),A},trapezoid:function(E,M,P,w,R,A){var L=d.trapezoid(E,M,P,w,R,A);return this.world.add(L),L},circle:function(E,M,P,w,R){var A=d.circle(E,M,P,w,R);return this.world.add(A),A},polygon:function(E,M,P,w,R){var A=d.polygon(E,M,P,w,R);return this.world.add(A),A},fromVertices:function(E,M,P,w,R,A,L){typeof P=="string"&&(P=m.fromPath(P));var F=d.fromVertices(E,M,P,w,R,A,L);return this.world.add(F),F},fromPhysicsEditor:function(E,M,P,w,R){R===void 0&&(R=!0);var A=c.parseBody(E,M,P,w);return R&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(E,M,P,w,R,A){w===void 0&&(w=1),R===void 0&&(R={}),A===void 0&&(A=!0);for(var L=P.getElementsByTagName("path"),F=[],O=0;O<L.length;O++){var D=h.pathToVertices(L[O],30);w!==1&&m.scale(D,w,w),F.push(D)}var B=d.fromVertices(E,M,F,R);return A&&this.world.add(B),B},fromJSON:function(E,M,P,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var A=p.parseBody(E,M,P,w);return A&&R&&this.world.add(A),A},imageStack:function(E,M,P,w,R,A,L,F,O){L===void 0&&(L=0),F===void 0&&(F=0),O===void 0&&(O={});var D=this.world,B=this.sys.displayList;O.addToWorld=!1;var b=f.stack(P,w,R,A,L,F,function(G,V){var W=new u(D,G,V,E,M,O);return B.add(W),W.body});return D.add(b),b},stack:function(E,M,P,w,R,A,L){var F=f.stack(E,M,P,w,R,A,L);return this.world.add(F),F},pyramid:function(E,M,P,w,R,A,L){var F=f.pyramid(E,M,P,w,R,A,L);return this.world.add(F),F},chain:function(E,M,P,w,R,A){return f.chain(E,M,P,w,R,A)},mesh:function(E,M,P,w,R){return f.mesh(E,M,P,w,R)},newtonsCradle:function(E,M,P,w,R){var A=f.newtonsCradle(E,M,P,w,R);return this.world.add(A),A},car:function(E,M,P,w,R){var A=f.car(E,M,P,w,R);return this.world.add(A),A},softBody:function(E,M,P,w,R,A,L,F,O,D){var B=f.softBody(E,M,P,w,R,A,L,F,O,D);return this.world.add(B),B},joint:function(E,M,P,w,R){return this.constraint(E,M,P,w,R)},spring:function(E,M,P,w,R){return this.constraint(E,M,P,w,R)},constraint:function(E,M,P,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=E.type==="body"?E:E.body,R.bodyB=M.type==="body"?M:M.body,isNaN(P)||(R.length=P),R.stiffness=w;var A=l.create(R);return this.world.add(A),A},worldConstraint:function(E,M,P,w){P===void 0&&(P=1),w===void 0&&(w={}),w.bodyB=E.type==="body"?E:E.body,isNaN(M)||(w.length=M),w.stiffness=P;var R=l.create(w);return this.world.add(R),R},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var M=new g(this.scene,this.world,E);return this.world.add(M.constraint),M},image:function(E,M,P,w,R){var A=new u(this.world,E,M,P,w,R);return this.sys.displayList.add(A),A},tileBody:function(E,M){return new o(this.world,E,M)},sprite:function(E,M,P,w,R){var A=new v(this.world,E,M,P,w,R);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(E,M,P){return a(this.world,E,M,P)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=C},75803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(31884),x=s(95540),f=s(26099);function l(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var h=function(a,u,v,o){v===void 0&&(v={}),o===void 0&&(o=!0);var c=u.x,p=u.y;u.body={temp:!0,position:{x:c,y:p}};var g=[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity];if(g.forEach(function(C){for(var E in C)l(C[E])?Object.defineProperty(u,E,{get:C[E].get,set:C[E].set}):Object.defineProperty(u,E,{value:C[E]})}),u.world=a,u._tempVec2=new f(c,p),v.hasOwnProperty("type")&&v.type==="body")u.setExistingBody(v,o);else{var m=x(v,"shape",null);m||(m="rectangle"),v.addToWorld=o,u.setBody(m,v)}return u};r.exports=h},23181:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31884),f=s(95643),l=s(95540),h=s(88571),a=s(72699),u=s(26099),v=new d({Extends:h,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,a],initialize:function(c,p,g,m,C,E){f.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,C),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new u(p,g);var M=l(E,"shape",null);M?this.setBody(M,E):this.setRectangle(this.width,this.height,E),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=v},42045:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(60461),x=s(66615),f=s(66280),l=s(22562),h=s(68174),a=s(15647),u=s(83419),v=s(52284),o=s(53402),c=s(69351),p=s(74116),g=s(48140),m=s(81388),C=s(20339),E=s(28137),M=s(95540),P=s(35154),w=s(18210),R=s(40178),A=s(6790),L=s(74507),F=s(46975),O=s(4506),D=s(99561),B=s(73832),b=s(37277),G=s(73296),V=s(66272),W=s(44594),H=s(74058),z=s(31725),U=s(41598),I=s(68243);o.setDecomp(s(55973));var N=new u({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=c,this.collision=v,this.detector=m,this.pair=O,this.pairs=D,this.query=G,this.resolver=V,this.constraint=g,this.bodies=f,this.composites=p,this.axes=x,this.bounds=a,this.svg=H,this.vector=z,this.vertices=U,this.verts=U,this._tempVec2=z.create(),P(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),P(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),P(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),V._restingThresh=P(this.config,"restingThresh",4),V._restingThreshTangent=P(this.config,"restingThreshTangent",6),V._positionDampen=P(this.config,"positionDampen",.9),V._positionWarming=P(this.config,"positionWarming",.8),V._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),X.sys.events.once(W.BOOT,this.boot,this),X.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new I(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new h,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new I(this.scene,this.config),this.add=new E(this.world));var k=this.systems.events;k.on(W.UPDATE,this.world.update,this.world),k.on(W.POST_UPDATE,this.world.postUpdate,this.world),k.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var k=this.systems.game.config.physics,X=this.systems.settings.physics,Y=F(M(X,"matter",{}),M(k,"matter",{}));return Y},enableAttractorPlugin:function(){return B.register(w),B.use(A,w),this},enableWrapPlugin:function(){return B.register(L),B.use(A,L),this},enableCollisionEventsPlugin:function(){return B.register(R),B.use(A,R),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(k,X){this.world.step(k,X)},containsPoint:function(k,X,Y){k=this.getMatterBodies(k);var $=z.create(X,Y),K=G.point(k,$);return K.length>0},intersectPoint:function(k,X,Y){Y=this.getMatterBodies(Y);var $=z.create(k,X),K=[],Z=G.point(Y,$);return Z.forEach(function(J){K.indexOf(J)===-1&&K.push(J)}),K},intersectRect:function(k,X,Y,$,K,Z){K===void 0&&(K=!1),Z=this.getMatterBodies(Z);var J={min:{x:k,y:X},max:{x:k+Y,y:X+$}},Q=[],j=G.region(Z,J,K);return j.forEach(function(_){Q.indexOf(_)===-1&&Q.push(_)}),Q},intersectRay:function(k,X,Y,$,K,Z){K===void 0&&(K=1),Z=this.getMatterBodies(Z);for(var J=[],Q=G.ray(Z,z.create(k,X),z.create(Y,$),K),j=0;j<Q.length;j++)J.push(Q[j].body);return J},intersectBody:function(k,X){X=this.getMatterBodies(X);for(var Y=[],$=G.collides(k,X),K=0;K<$.length;K++){var Z=$[K];Z.bodyA===k?Y.push(Z.bodyB):Y.push(Z.bodyA)}return Y},overlap:function(k,X,Y,$,K){Y===void 0&&(Y=null),$===void 0&&($=null),K===void 0&&(K=Y),Array.isArray(k)||(k=[k]),k=this.getMatterBodies(k),X=this.getMatterBodies(X);for(var Z=!1,J=0;J<k.length;J++)for(var Q=k[J],j=G.collides(Q,X),_=0;_<j.length;_++){var q=j[_],it=q.bodyA.id===Q.id?q.bodyB:q.bodyA;if(!$||$.call(K,Q,it,q)){if(Z=!0,Y)Y.call(K,Q,it,q);else if(!$)return!0}}return Z},setCollisionCategory:function(k,X){return k=this.getMatterBodies(k),k.forEach(function(Y){Y.collisionFilter.category=X}),this},setCollisionGroup:function(k,X){return k=this.getMatterBodies(k),k.forEach(function(Y){Y.collisionFilter.group=X}),this},setCollidesWith:function(k,X){k=this.getMatterBodies(k);var Y=0;if(!Array.isArray(X))Y=X;else for(var $=0;$<X.length;$++)Y|=X[$];return k.forEach(function(K){K.collisionFilter.mask=Y}),this},getMatterBodies:function(k){if(!k)return this.world.getAllBodies();Array.isArray(k)||(k=[k]);for(var X=[],Y=0;Y<k.length;Y++){var $=k[Y].hasOwnProperty("body")?k[Y].body:k[Y];X.push($)}return X},setVelocity:function(k,X,Y){k=this.getMatterBodies(k);var $=this._tempVec2;return $.x=X,$.y=Y,k.forEach(function(K){l.setVelocity(K,$)}),this},setVelocityX:function(k,X){k=this.getMatterBodies(k);var Y=this._tempVec2;return Y.x=X,k.forEach(function($){Y.y=$.velocity.y,l.setVelocity($,Y)}),this},setVelocityY:function(k,X){k=this.getMatterBodies(k);var Y=this._tempVec2;return Y.y=X,k.forEach(function($){Y.x=$.velocity.x,l.setVelocity($,Y)}),this},setAngularVelocity:function(k,X){return k=this.getMatterBodies(k),k.forEach(function(Y){l.setAngularVelocity(Y,X)}),this},applyForce:function(k,X){k=this.getMatterBodies(k);var Y=this._tempVec2;return k.forEach(function($){Y.x=$.position.x,Y.y=$.position.y,l.applyForce($,Y,X)}),this},applyForceFromPosition:function(k,X,Y,$){k=this.getMatterBodies(k);var K=this._tempVec2;return k.forEach(function(Z){$===void 0&&($=Z.angle),K.x=Y*Math.cos($),K.y=Y*Math.sin($),l.applyForce(Z,X,K)}),this},applyForceFromAngle:function(k,X,Y){k=this.getMatterBodies(k);var $=this._tempVec2;return k.forEach(function(K){Y===void 0&&(Y=K.angle),$.x=X*Math.cos(Y),$.y=X*Math.sin(Y),l.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(k){var X=k.pointA.x,Y=k.pointA.y,$=k.pointB.x,K=k.pointB.y;return k.bodyA&&(X+=k.bodyA.position.x,Y+=k.bodyA.position.y),k.bodyB&&($+=k.bodyB.position.x,K+=k.bodyB.position.y),C(X,Y,$,K)},alignBody:function(k,X,Y,$){k=k.hasOwnProperty("body")?k.body:k;var K;switch($){case d.TOP_LEFT:case d.LEFT_TOP:K=this.bodyBounds.getTopLeft(k,X,Y);break;case d.TOP_CENTER:K=this.bodyBounds.getTopCenter(k,X,Y);break;case d.TOP_RIGHT:case d.RIGHT_TOP:K=this.bodyBounds.getTopRight(k,X,Y);break;case d.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(k,X,Y);break;case d.CENTER:K=this.bodyBounds.getCenter(k,X,Y);break;case d.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(k,X,Y);break;case d.LEFT_BOTTOM:case d.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(k,X,Y);break;case d.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(k,X,Y);break;case d.BOTTOM_RIGHT:case d.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(k,X,Y);break}return K&&l.setPosition(k,K),this},shutdown:function(){var k=this.systems.events;this.world&&(k.off(W.UPDATE,this.world.update,this.world),k.off(W.POST_UPDATE,this.world.postUpdate,this.world)),k.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});b.register("MatterPhysics",N,"matterPhysics"),r.exports=N},34803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(9674),x=s(83419),f=s(31884),l=s(95643),h=s(95540),a=s(72699),u=s(68287),v=s(26099),o=new x({Extends:u,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,a],initialize:function(p,g,m,C,E,M){l.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(C,E),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new v(g,m);var P=h(M,"shape",null);P?this.setBody(P,M):this.setRectangle(this.width,this.height,M),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=o},73834:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(22562),f=s(83419),l=s(31884),h=s(62644),a=s(50792),u=s(95540),v=s(97022),o=s(41598),c=new f({Extends:a,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(g,m,C){a.call(this),this.tile=m,this.world=g,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var E=u(C,"body",null),M=u(C,"addToWorld",!0);if(E)this.setBody(E,M);else{var P=m.getCollisionGroup(),w=u(P,"objects",[]);w.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(m.flipX||m.flipY){var R={x:m.getCenterX(),y:m.getCenterY()},A=m.flipX?-1:1,L=m.flipY?-1:1;x.scale(E,A,L,R)}},setFromTileRectangle:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),m=g.x+g.width/2,C=g.y+g.height/2,E=d.rectangle(m,C,g.width,g.height,p);return this.setBody(E,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),E=this.tile.getTop(),M=this.tile.getCollisionGroup(),P=u(M,"objects",[]),w=[],R=0;R<P.length;R++){var A=P[R],L=C+A.x*g,F=E+A.y*m,O=A.width*g,D=A.height*m,B=null;if(A.rectangle)B=d.rectangle(L+O/2,F+D/2,O,D,p);else if(A.ellipse)B=d.circle(L+O/2,F+D/2,O/2,p);else if(A.polygon||A.polyline){var b=A.polygon?A.polygon:A.polyline,G=b.map(function(z){return{x:z.x*g,y:z.y*m}}),V=o.create(G),W=o.centre(V);L+=W.x,F+=W.y,B=d.fromVertices(L,F,V,p)}B&&w.push(B)}if(w.length===1)this.setBody(w[0],p.addToWorld);else if(w.length>1){var H=h(p);H.parts=w,this.setBody(x.create(H),H.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=c},19496:(r,T,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(22562),f=s(53402),l=s(95540),h=s(41598),a={parseBody:function(u,v,o,c){c===void 0&&(c={});for(var p=l(o,"fixtures",[]),g=[],m=0;m<p.length;m++)for(var C=this.parseFixture(p[m]),E=0;E<C.length;E++)g.push(C[E]);var M=f.clone(o,!0);f.extend(M,c,!0),delete M.fixtures,delete M.type;var P=x.create(M);return x.setParts(P,g),x.setPosition(P,{x:u,y:v}),P},parseFixture:function(u){var v=f.extend({},!1,u);delete v.circle,delete v.vertices;var o;if(u.circle){var c=l(u.circle,"x"),p=l(u.circle,"y"),g=l(u.circle,"radius");o=[d.circle(c,p,g,v)]}else u.vertices&&(o=this.parseVertices(u.vertices,v));return o},parseVertices:function(u,v){v===void 0&&(v={});for(var o=[],c=0;c<u.length;c++)h.clockwiseSort(u[c]),o.push(x.create(f.extend({position:h.centre(u[c]),vertices:u[c]},v)));return d.flagCoincidentParts(o)}};r.exports=a},85791:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(22562),f={parseBody:function(l,h,a,u){u===void 0&&(u={});var v,o=a.vertices;if(o.length===1)u.vertices=o[0],v=x.create(u),d.flagCoincidentParts(v.parts);else{for(var c=[],p=0;p<o.length;p++){var g=x.create({vertices:o[p]});c.push(g)}d.flagCoincidentParts(c),u.parts=c,v=x.create(u)}return v.label=a.label,x.setPosition(v,{x:l,y:h}),v}};r.exports=f},98713:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(15647),x=s(83419),f=s(69351),l=s(48140),h=s(81388),a=s(1121),u=s(8214),v=s(46975),o=s(53614),c=s(26099),p=s(41598),g=new x({initialize:function(C,E,M){M===void 0&&(M={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=l.create(v(M,P)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(u.POINTER_DOWN,this.onDown,this),C.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var C=this.position,E=this.constraint;this.camera.getWorldPoint(m.x,m.y,C);for(var M=f.allBodies(this.world.localWorld),P=0;P<M.length;P++){var w=M[P];if(!w.ignorePointer&&d.contains(w.bounds,C)&&h.canCollide(w.collisionFilter,E.collisionFilter)&&this.hitTestBody(w,C))return this.world.emit(a.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(m,C){for(var E=this.constraint,M=m.parts.length,P=M>1?1:0,w=P;w<M;w++){var R=m.parts[w];if(p.contains(R.vertices,C))return E.pointA=C,E.pointB={x:C.x-m.position.x,y:C.y-m.position.y},E.bodyB=m,E.angleB=m.angle,o.set(m,!1),this.part=R,this.body=m,!0}return!1},update:function(){var m=this.pointer,C=this.body;if(!this.active||!m){C&&this.stopDrag();return}if(!m.isDown&&C){this.stopDrag();return}else if(m.isDown){if(!this.camera||!C&&!this.getBody(m))return;C=this.body;var E=this.position,M=this.constraint;this.camera.getWorldPoint(m.x,m.y,E),M.pointA.x=E.x,M.pointA.y=E.y,o.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var m=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(a.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});r.exports=g},68243:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(22562),f=s(83419),l=s(53402),h=s(69351),a=s(48413),u=s(50792),v=s(1121),o=s(95540),c=s(35154),p=s(22562),g=s(35810),m=s(73834),C=s(4372),E=s(31725),M=new f({Extends:u,initialize:function(w,R){u.call(this),this.scene=w,this.engine=a.create(R),this.localWorld=this.engine.world;var A=c(R,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(R,"enabled",!0),this.getDelta=c(R,"getDelta",this.update60Hz);var L=o(R,"runner",{}),F=o(L,"fps",!1),O=o(L,"fps",60),D=o(L,"delta",1e3/O),B=o(L,"deltaMin",1e3/O),b=o(L,"deltaMax",1e3/(O*.5));F||(O=1e3/D),this.runner={fps:O,deltaSampleSize:o(L,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:o(L,"isFixed",!1),delta:D,deltaMin:B,deltaMax:b},this.autoUpdate=c(R,"autoUpdate",!0);var G=c(R,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:o(G,"showAxes",!1),showAngleIndicator:o(G,"showAngleIndicator",!1),angleColor:o(G,"angleColor",15208787),showBroadphase:o(G,"showBroadphase",!1),broadphaseColor:o(G,"broadphaseColor",16757760),showBounds:o(G,"showBounds",!1),boundsColor:o(G,"boundsColor",16777215),showVelocity:o(G,"showVelocity",!1),velocityColor:o(G,"velocityColor",44783),showCollisions:o(G,"showCollisions",!1),collisionColor:o(G,"collisionColor",16094476),showSeparations:o(G,"showSeparations",!1),separationColor:o(G,"separationColor",16753920),showBody:o(G,"showBody",!0),showStaticBody:o(G,"showStaticBody",!0),showInternalEdges:o(G,"showInternalEdges",!1),renderFill:o(G,"renderFill",!1),renderLine:o(G,"renderLine",!0),fillColor:o(G,"fillColor",1075465),fillOpacity:o(G,"fillOpacity",1),lineColor:o(G,"lineColor",2678297),lineOpacity:o(G,"lineOpacity",1),lineThickness:o(G,"lineThickness",1),staticFillColor:o(G,"staticFillColor",857979),staticLineColor:o(G,"staticLineColor",1255396),showSleeping:o(G,"showSleeping",!1),staticBodySleepOpacity:o(G,"staticBodySleepOpacity",.7),sleepFillColor:o(G,"sleepFillColor",4605510),sleepLineColor:o(G,"sleepLineColor",10066585),showSensors:o(G,"showSensors",!0),sensorFillColor:o(G,"sensorFillColor",857979),sensorLineColor:o(G,"sensorLineColor",1255396),showPositions:o(G,"showPositions",!0),positionSize:o(G,"positionSize",4),positionColor:o(G,"positionColor",14697178),showJoint:o(G,"showJoint",!0),jointColor:o(G,"jointColor",14737474),jointLineOpacity:o(G,"jointLineOpacity",1),jointLineThickness:o(G,"jointLineThickness",2),pinSize:o(G,"pinSize",4),pinColor:o(G,"pinColor",4382944),springColor:o(G,"springColor",14697184),anchorColor:o(G,"anchorColor",15724527),anchorSize:o(G,"anchorSize",4),showConvexHulls:o(G,"showConvexHulls",!1),hullColor:o(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),o(R,"setBounds",!1)){var V=R.setBounds;if(typeof V=="boolean")this.setBounds();else{var W=o(V,"x",0),H=o(V,"y",0),z=o(V,"width",w.sys.scale.width),U=o(V,"height",w.sys.scale.height),I=o(V,"thickness",64),N=o(V,"left",!0),k=o(V,"right",!0),X=o(V,"top",!0),Y=o(V,"bottom",!0);this.setBounds(W,H,z,U,I,N,k,X,Y)}}},setCompositeRenderStyle:function(P){var w=P.bodies,R=P.constraints,A=P.composites,L,F,O;for(L=0;L<w.length;L++)F=w[L],O=F.render,this.setBodyRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(L=0;L<R.length;L++)F=R[L],O=F.render,this.setConstraintRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(L=0;L<A.length;L++)F=A[L],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(P,w,R,A,L,F){var O=P.render,D=this.debugConfig;return O?(w==null&&(w=P.isStatic?D.staticLineColor:D.lineColor),R==null&&(R=D.lineOpacity),A==null&&(A=D.lineThickness),L==null&&(L=P.isStatic?D.staticFillColor:D.fillColor),F==null&&(F=D.fillOpacity),w!==!1&&(O.lineColor=w),R!==!1&&(O.lineOpacity=R),A!==!1&&(O.lineThickness=A),L!==!1&&(O.fillColor=L),F!==!1&&(O.fillOpacity=F),this):this},setConstraintRenderStyle:function(P,w,R,A,L,F,O){var D=P.render,B=this.debugConfig;if(!D)return this;if(w==null){var b=D.type;b==="line"?w=B.jointColor:b==="pin"?w=B.pinColor:b==="spring"&&(w=B.springColor)}return R==null&&(R=B.jointLineOpacity),A==null&&(A=B.jointLineThickness),L==null&&(L=B.pinSize),F==null&&(F=B.anchorColor),O==null&&(O=B.anchorSize),w!==!1&&(D.lineColor=w),R!==!1&&(D.lineOpacity=R),A!==!1&&(D.lineThickness=A),L!==!1&&(D.pinSize=L),F!==!1&&(D.anchorColor=F),O!==!1&&(D.anchorSize=O),this},setEventsProxy:function(){var P=this,w=this.engine,R=this.localWorld;this.drawDebug&&(g.on(R,"compositeModified",function(A){P.setCompositeRenderStyle(A)}),g.on(R,"beforeAdd",function(A){for(var L=[].concat(A.object),F=0;F<L.length;F++){var O=L[F],D=O.render;O.type==="body"?P.setBodyRenderStyle(O,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):O.type==="composite"?P.setCompositeRenderStyle(O):O.type==="constraint"&&P.setConstraintRenderStyle(O,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),g.on(R,"beforeAdd",function(A){P.emit(v.BEFORE_ADD,A)}),g.on(R,"afterAdd",function(A){P.emit(v.AFTER_ADD,A)}),g.on(R,"beforeRemove",function(A){P.emit(v.BEFORE_REMOVE,A)}),g.on(R,"afterRemove",function(A){P.emit(v.AFTER_REMOVE,A)}),g.on(w,"beforeUpdate",function(A){P.emit(v.BEFORE_UPDATE,A)}),g.on(w,"afterUpdate",function(A){P.emit(v.AFTER_UPDATE,A)}),g.on(w,"collisionStart",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_START,A,F,O)}),g.on(w,"collisionActive",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_ACTIVE,A,F,O)}),g.on(w,"collisionEnd",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_END,A,F,O)})},setBounds:function(P,w,R,A,L,F,O,D,B){return P===void 0&&(P=0),w===void 0&&(w=0),R===void 0&&(R=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),L===void 0&&(L=64),F===void 0&&(F=!0),O===void 0&&(O=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),this.updateWall(F,"left",P-L,w-L,L,A+L*2),this.updateWall(O,"right",P+R,w-L,L,A+L*2),this.updateWall(D,"top",P,w-L,R,L),this.updateWall(B,"bottom",P,w+A,R,L),this},updateWall:function(P,w,R,A,L,F){var O=this.walls[w];P?(O&&C.remove(this.localWorld,O),R+=L/2,A+=F/2,this.walls[w]=this.create(R,A,L,F,{isStatic:!0,friction:0,frictionStatic:0})):(O&&C.remove(this.localWorld,O),this.walls[w]=null)},createDebugGraphic:function(){var P=this.scene.sys.add.graphics({x:0,y:0});return P.setDepth(Number.MAX_VALUE),this.debugGraphic=P,this.drawDebug=!0,P},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(P,w,R){return P===void 0&&(P=0),w===void 0&&(w=1),R===void 0&&(R=.001),this.localWorld.gravity.x=P,this.localWorld.gravity.y=w,this.localWorld.gravity.scale=R,this},create:function(P,w,R,A,L){var F=d.rectangle(P,w,R,A,L);return C.add(this.localWorld,F),F},add:function(P){return C.add(this.localWorld,P),this},remove:function(P,w){Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var A=P[R],L=A.body?A.body:A;h.remove(this.localWorld,L,w)}return this},removeConstraint:function(P,w){return h.remove(this.localWorld,P,w),this},convertTilemapLayer:function(P,w){var R=P.layer,A=P.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(A,w),this},convertTiles:function(P,w){if(P.length===0)return this;for(var R=0;R<P.length;R++)new m(this,P[R],w);return this},nextGroup:function(P){return p.nextGroup(P)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(v.RESUME),this},update:function(P,w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,A=this.runner,L=R.timing;A.isFixed?w=this.getDelta(P,w):(w=P-A.timePrev||A.delta,A.timePrev=P,A.deltaHistory.push(w),A.deltaHistory=A.deltaHistory.slice(-A.deltaSampleSize),w=Math.min.apply(null,A.deltaHistory),w=w<A.deltaMin?A.deltaMin:w,w=w>A.deltaMax?A.deltaMax:w,A.delta=w),A.timeScalePrev=L.timeScale,A.frameCounter+=1,P-A.counterTimestamp>=1e3&&(A.fps=A.frameCounter*((P-A.counterTimestamp)/1e3),A.counterTimestamp=P,A.frameCounter=0),a.update(R,w)}},step:function(P){a.update(this.engine,P)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(P){var w=P.hasOwnProperty("body")?P.body:P;return h.get(this.localWorld,w.id,w.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var P=this.debugConfig,w=this.engine,R=this.debugGraphic,A=h.allBodies(this.localWorld);this.debugGraphic.clear(),P.showBroadphase&&w.broadphase.controller&&this.renderGrid(w.broadphase,R,P.broadphaseColor,.5),P.showBounds&&this.renderBodyBounds(A,R,P.boundsColor,.5),(P.showBody||P.showStaticBody)&&this.renderBodies(A),P.showJoint&&this.renderJoints(),(P.showAxes||P.showAngleIndicator)&&this.renderBodyAxes(A,R,P.showAxes,P.angleColor,.5),P.showVelocity&&this.renderBodyVelocity(A,R,P.velocityColor,1,2),P.showSeparations&&this.renderSeparations(w.pairs.list,R,P.separationColor),P.showCollisions&&this.renderCollisions(w.pairs.list,R,P.collisionColor)}},renderGrid:function(P,w,R,A){w.lineStyle(1,R,A);for(var L=l.keys(P.buckets),F=0;F<L.length;F++){var O=L[F];if(!(P.buckets[O].length<2)){var D=O.split(/C|R/);w.strokeRect(parseInt(D[1],10)*P.bucketWidth,parseInt(D[2],10)*P.bucketHeight,P.bucketWidth,P.bucketHeight)}}return this},renderSeparations:function(P,w,R){w.lineStyle(1,R,1);for(var A=0;A<P.length;A++){var L=P[A];if(L.isActive){var F=L.collision,O=F.bodyA,D=F.bodyB,B=O.position,b=D.position,G=F.penetration,V=!O.isStatic&&!D.isStatic?4:1;D.isStatic&&(V=0),w.lineBetween(b.x,b.y,b.x-G.x*V,b.y-G.y*V),V=!O.isStatic&&!D.isStatic?4:1,O.isStatic&&(V=0),w.lineBetween(B.x,B.y,B.x-G.x*V,B.y-G.y*V)}}return this},renderCollisions:function(P,w,R){w.lineStyle(1,R,.5),w.fillStyle(R,1);var A,L;for(A=0;A<P.length;A++)if(L=P[A],!!L.isActive)for(var F=0;F<L.activeContacts.length;F++){var O=L.activeContacts[F],D=O.vertex;w.fillRect(D.x-2,D.y-2,5,5)}for(A=0;A<P.length;A++)if(L=P[A],!!L.isActive){var B=L.collision,b=L.activeContacts;if(b.length>0){var G=b[0].vertex.x,V=b[0].vertex.y;b.length===2&&(G=(b[0].vertex.x+b[1].vertex.x)/2,V=(b[0].vertex.y+b[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?w.lineBetween(G-B.normal.x*8,V-B.normal.y*8,G,V):w.lineBetween(G+B.normal.x*8,V+B.normal.y*8,G,V)}}return this},renderBodyBounds:function(P,w,R,A){w.lineStyle(1,R,A);for(var L=0;L<P.length;L++){var F=P[L];if(F.render.visible){var O=F.bounds;if(O)w.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var D=F.parts,B=D.length>1?1:0;B<D.length;B++){var b=D[B];w.strokeRect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}}return this},renderBodyAxes:function(P,w,R,A,L){w.lineStyle(1,A,L);for(var F=0;F<P.length;F++){var O=P[F],D=O.parts;if(O.render.visible){var B,b,G;if(R)for(b=D.length>1?1:0;b<D.length;b++)for(B=D[b],G=0;G<B.axes.length;G++){var V=B.axes[G];w.lineBetween(B.position.x,B.position.y,B.position.x+V.x*20,B.position.y+V.y*20)}else for(b=D.length>1?1:0;b<D.length;b++)for(B=D[b],G=0;G<B.axes.length;G++)w.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(P,w,R,A,L){w.lineStyle(L,R,A);for(var F=0;F<P.length;F++){var O=P[F];O.render.visible&&w.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(P){for(var w=this.debugGraphic,R=this.debugConfig,A=R.showBody,L=R.showStaticBody,F=R.showSleeping,O=R.showInternalEdges,D=R.showConvexHulls,B=R.renderFill,b=R.renderLine,G=R.staticBodySleepOpacity,V=R.sleepFillColor,W=R.sleepLineColor,H=R.hullColor,z=0;z<P.length;z++){var U=P[z];if(U.render.visible&&!(!L&&U.isStatic||!A&&!U.isStatic)){var I=U.render.lineColor,N=U.render.lineOpacity,k=U.render.lineThickness,X=U.render.fillColor,Y=U.render.fillOpacity;F&&U.isSleeping&&(U.isStatic?(N*=G,Y*=G):(I=W,X=V)),B||(X=null),b||(I=null),this.renderBody(U,w,O,I,N,k,X,Y);var $=U.parts.length;D&&$>1&&this.renderConvexHull(U,w,H,k)}}},renderBody:function(P,w,R,A,L,F,O,D){A===void 0&&(A=null),L===void 0&&(L=null),F===void 0&&(F=1),O===void 0&&(O=null),D===void 0&&(D=null);for(var B=this.debugConfig,b=B.sensorFillColor,G=B.sensorLineColor,V=P.parts,W=V.length,H=W>1?1:0;H<W;H++){var z=V[H],U=z.render,I=U.opacity;if(!(!U.visible||I===0||z.isSensor&&!B.showSensors)){var N=z.circleRadius;if(w.beginPath(),z.isSensor?(O!==null&&w.fillStyle(b,D*I),A!==null&&w.lineStyle(F,G,L*I)):(O!==null&&w.fillStyle(O,D*I),A!==null&&w.lineStyle(F,A,L*I)),N)w.arc(z.position.x,z.position.y,N,0,2*Math.PI);else{var k=z.vertices,X=k.length;w.moveTo(k[0].x,k[0].y);for(var Y=1;Y<X;Y++){var $=k[Y];if(!k[Y-1].isInternal||R?w.lineTo($.x,$.y):w.moveTo($.x,$.y),Y<X&&$.isInternal&&!R){var K=(Y+1)%X;w.moveTo(k[K].x,k[K].y)}}w.closePath()}O!==null&&w.fillPath(),A!==null&&w.strokePath()}}if(B.showPositions&&!P.isStatic){var Z=P.position.x,J=P.position.y,Q=Math.ceil(B.positionSize/2);w.fillStyle(B.positionColor,1),w.fillRect(Z-Q,J-Q,B.positionSize,B.positionSize)}return this},renderConvexHull:function(P,w,R,A){A===void 0&&(A=1);var L=P.parts,F=L.length;if(F>1){var O=P.vertices;w.lineStyle(A,R),w.beginPath(),w.moveTo(O[0].x,O[0].y);for(var D=1;D<O.length;D++)w.lineTo(O[D].x,O[D].y);w.lineTo(O[0].x,O[0].y),w.strokePath()}return this},renderJoints:function(){for(var P=this.debugGraphic,w=h.allConstraints(this.localWorld),R=0;R<w.length;R++){var A=w[R].render,L=A.lineColor,F=A.lineOpacity,O=A.lineThickness,D=A.pinSize,B=A.anchorColor,b=A.anchorSize;this.renderConstraint(w[R],P,L,F,O,D,B,b)}},renderConstraint:function(P,w,R,A,L,F,O,D){var B=P.render;if(!B.visible||!P.pointA||!P.pointB)return this;w.lineStyle(L,R,A);var b=P.bodyA,G=P.bodyB,V,W;if(b?V=E.add(b.position,P.pointA):V=P.pointA,B.type==="pin")w.strokeCircle(V.x,V.y,F);else{if(G?W=E.add(G.position,P.pointB):W=P.pointB,w.beginPath(),w.moveTo(V.x,V.y),B.type==="spring")for(var H=E.sub(W,V),z=E.perp(E.normalise(H)),U=Math.ceil(l.clamp(P.length/5,12,20)),I,N=1;N<U;N+=1)I=N%2===0?1:-1,w.lineTo(V.x+H.x*(N/U)+z.x*I*4,V.y+H.y*(N/U)+z.y*I*4);w.lineTo(W.x,W.y)}return w.strokePath(),B.anchors&&D>0&&(w.fillStyle(O),w.fillCircle(V.x,V.y,D),w.fillCircle(W.x,W.y,D)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=M},70410:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(s){return this.body.restitution=s,this}};r.exports=T},66968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var d=0;if(!Array.isArray(s))d=s;else for(var x=0;x<s.length;x++)d|=s[x];return this.body.collisionFilter.mask=d,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,d){Array.isArray(s)||(s=[s]);for(var x=0;x<s.length;x++){var f=s[x].hasOwnProperty("body")?s[x].body:s[x];this.body.setOnCollideWith(f,d)}return this}};r.exports=T},51607:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22562),x={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),d.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,l){return d.applyForce(this.body,f,l),this},thrust:function(f){var l=this.body.angle;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var l=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=x},5436:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(s,d,x){return this.body.friction=s,d!==void 0&&(this.body.frictionAir=d),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};r.exports=T},39858:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};r.exports=T},37302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22562),x=s(26099),f={setMass:function(l){return d.setMass(this.body,l),this},setDensity:function(l){return d.setDensity(this.body,l),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=f},39132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};r.exports=T},57772:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(66280),x=s(22562),f=s(43855),l=s(95540),h=s(19496),a=s(85791),u=s(41598),v={setRectangle:function(o,c,p){return this.setBody({type:"rectangle",width:o,height:c},p)},setCircle:function(o,c){return this.setBody({type:"circle",radius:o},c)},setPolygon:function(o,c,p){return this.setBody({type:"polygon",sides:c,radius:o},p)},setTrapezoid:function(o,c,p,g){return this.setBody({type:"trapezoid",width:o,height:c,slope:p},g)},setExistingBody:function(o,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=o;for(var p=0;p<o.parts.length;p++)o.parts[p].gameObject=this;var g=this;if(o.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},c&&(this.world.has(o)&&this.world.remove(o,!0),this.world.add(o)),this._originComponent){var m=o.render.sprite.xOffset,C=o.render.sprite.yOffset,E=o.centerOfMass.x,M=o.centerOfMass.y;if(f(E,.5)&&f(M,.5))this.setOrigin(m+.5,C+.5);else{var P=o.centerOffset.x,w=o.centerOffset.y;this.setOrigin(m+P/this.displayWidth,C+w/this.displayHeight)}}return this},setBody:function(o,c){if(!o)return this;var p;typeof o=="string"&&(o={type:o});var g=l(o,"type","rectangle"),m=l(o,"x",this._tempVec2.x),C=l(o,"y",this._tempVec2.y),E=l(o,"width",this.width),M=l(o,"height",this.height);switch(g){case"rectangle":p=d.rectangle(m,C,E,M,c);break;case"circle":var P=l(o,"radius",Math.max(E,M)/2),w=l(o,"maxSides",25);p=d.circle(m,C,P,c,w);break;case"trapezoid":var R=l(o,"slope",.5);p=d.trapezoid(m,C,E,M,R,c);break;case"polygon":var A=l(o,"sides",5),L=l(o,"radius",Math.max(E,M)/2);p=d.polygon(m,C,A,L,c);break;case"fromVertices":case"fromVerts":var F=l(o,"verts",null);if(F)if(typeof F=="string"&&(F=u.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,F),p=this.body;else{var O=l(o,"flagInternal",!1),D=l(o,"removeCollinear",.01),B=l(o,"minimumArea",10);p=d.fromVertices(m,C,F,c,O,D,B)}break;case"fromPhysicsEditor":p=h.parseBody(m,C,o,c);break;case"fromPhysicsTracer":p=a.parseBody(m,C,o,c);break}return p&&this.setExistingBody(p,o.addToWorld),this}};r.exports=v},38083:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(1121),x=s(53614),f=s(35810),l={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,a){return this.setSleepStartEvent(h),this.setSleepEndEvent(a),this},setSleepStartEvent:function(h){if(h){var a=this.world;f.on(this.body,"sleepStart",function(u){a.emit(d.SLEEP_START,u,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var a=this.world;f.on(this.body,"sleepEnd",function(u){a.emit(d.SLEEP_END,u,this)})}else f.off(this.body,"sleepEnd");return this}};r.exports=l},90556:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22562),x={setStatic:function(f){return d.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};r.exports=x},85436:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22562),x=s(36383),f=s(86554),l=s(30954),h=4,a={x:{get:function(){return this.body.position.x},set:function(u){this._tempVec2.set(u,this.y),d.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(u){this._tempVec2.set(this.x,u),d.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(u){var v=1/this._scaleX,o=1/this._scaleY;this._scaleX=u,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,d.scale(this.body,v,o),d.scale(this.body,u,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(u){var v=1/this._scaleX,o=1/this._scaleY;this._scaleY=u,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,d.scale(this.body,v,o),d.scale(this.body,this._scaleX,u)}},angle:{get:function(){return l(this.body.angle*x.RAD_TO_DEG)},set:function(u){this.rotation=l(u)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(u){this._rotation=f(u),d.setAngle(this.body,this._rotation)}},setPosition:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this._tempVec2.set(u,v),d.setPosition(this.body,this._tempVec2),this},setRotation:function(u){return u===void 0&&(u=0),this._rotation=f(u),d.setAngle(this.body,u),this},setFixedRotation:function(){return d.setInertia(this.body,1/0),this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,d.setAngle(this.body,this.rotation),this},setScale:function(u,v,o){u===void 0&&(u=1),v===void 0&&(v=u);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=u,this._scaleY=v,d.scale(this.body,c,p,o),d.scale(this.body,u,v,o),this}};r.exports=a},42081:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(22562),x={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),d.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),d.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,l){return this._tempVec2.set(f,l),d.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return d.getVelocity(this.body)},setAngularVelocity:function(f){return d.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return d.getAngularVelocity(this.body)},setAngularSpeed:function(f){return d.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return d.getAngularSpeed(this.body)}};r.exports=x},31884:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"},1213:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"},25968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"},67205:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"},39438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"},44823:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"},92593:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"},60128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"},76861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"},92362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},76408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},93971:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},5656:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},47861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},79099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"},35906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"},1121:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(r,T,s)=>{var d={};r.exports=d;var x=s(41598),f=s(31725),l=s(53614),h=s(53402),a=s(15647),u=s(66615);(function(){d._timeCorrection=!0,d._inertiaScale=4,d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,d._baseDelta=16.666666666666668,d.create=function(o){var c={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!o.hasOwnProperty("position")&&o.hasOwnProperty("vertices")?o.position=x.centre(o.vertices):o.hasOwnProperty("vertices")||(c.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=h.extend(c,o);return v(p,o),p.setOnCollideWith=function(g,m){return m?this.onCollideWith[g.id]=m:delete this.onCollideWith[g.id],this},p},d.nextGroup=function(o){return o?d._nextNonCollidingGroupId--:d._nextCollidingGroupId++},d.nextCategory=function(){return d._nextCategory=d._nextCategory<<1,d._nextCategory};var v=function(o,c){if(c=c||{},d.set(o,{bounds:o.bounds||a.create(o.vertices),positionPrev:o.positionPrev||f.clone(o.position),anglePrev:o.anglePrev||o.angle,vertices:o.vertices,parts:o.parts||[o],isStatic:o.isStatic,isSleeping:o.isSleeping,parent:o.parent||o}),x.rotate(o.vertices,o.angle,o.position),u.rotate(o.axes,o.angle),a.update(o.bounds,o.vertices,o.velocity),d.set(o,{axes:c.axes||o.axes,area:c.area||o.area,mass:c.mass||o.mass,inertia:c.inertia||o.inertia}),o.parts.length===1){var p=o.bounds,g=o.centerOfMass,m=o.centerOffset,C=p.max.x-p.min.x,E=p.max.y-p.min.y;g.x=-(p.min.x-o.position.x)/C,g.y=-(p.min.y-o.position.y)/E,m.x=C*g.x,m.y=E*g.y}};d.set=function(o,c,p){var g;typeof c=="string"&&(g=c,c={},c[g]=p);for(g in c)if(Object.prototype.hasOwnProperty.call(c,g))switch(p=c[g],g){case"isStatic":d.setStatic(o,p);break;case"isSleeping":l.set(o,p);break;case"mass":d.setMass(o,p);break;case"density":d.setDensity(o,p);break;case"inertia":d.setInertia(o,p);break;case"vertices":d.setVertices(o,p);break;case"position":d.setPosition(o,p);break;case"angle":d.setAngle(o,p);break;case"velocity":d.setVelocity(o,p);break;case"angularVelocity":d.setAngularVelocity(o,p);break;case"speed":d.setSpeed(o,p);break;case"angularSpeed":d.setAngularSpeed(o,p);break;case"parts":d.setParts(o,p);break;case"centre":d.setCentre(o,p);break;default:o[g]=p}},d.setStatic=function(o,c){for(var p=0;p<o.parts.length;p++){var g=o.parts[p];c?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=c}},d.setMass=function(o,c){var p=o.inertia/(o.mass/6);o.inertia=p*(c/6),o.inverseInertia=1/o.inertia,o.mass=c,o.inverseMass=1/o.mass,o.density=o.mass/o.area},d.setDensity=function(o,c){d.setMass(o,c*o.area),o.density=c},d.setInertia=function(o,c){o.inertia=c,o.inverseInertia=1/o.inertia},d.setVertices=function(o,c){c[0].body===o?o.vertices=c:o.vertices=x.create(c,o),o.axes=u.fromVertices(o.vertices),o.area=x.area(o.vertices),d.setMass(o,o.density*o.area);var p=x.centre(o.vertices);x.translate(o.vertices,p,-1),d.setInertia(o,d._inertiaScale*x.inertia(o.vertices,o.mass)),x.translate(o.vertices,o.position),a.update(o.bounds,o.vertices,o.velocity)},d.setParts=function(o,c,p){var g;for(c=c.slice(0),o.parts.length=0,o.parts.push(o),o.parent=o,g=0;g<c.length;g++){var m=c[g];m!==o&&(m.parent=o,o.parts.push(m))}if(o.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var C=[];for(g=0;g<c.length;g++)C=C.concat(c[g].vertices);x.clockwiseSort(C);var E=x.hull(C),M=x.centre(E);d.setVertices(o,E),x.translate(o.vertices,M)}var P=d._totalProperties(o),w=P.centre.x,R=P.centre.y,A=o.bounds,L=o.centerOfMass,F=o.centerOffset;a.update(A,o.vertices,o.velocity),L.x=-(A.min.x-w)/(A.max.x-A.min.x),L.y=-(A.min.y-R)/(A.max.y-A.min.y),F.x=w,F.y=R,o.area=P.area,o.parent=o,o.position.x=w,o.position.y=R,o.positionPrev.x=w,o.positionPrev.y=R,d.setMass(o,P.mass),d.setInertia(o,P.inertia),d.setPosition(o,P.centre)}},d.setCentre=function(o,c,p){p?(o.positionPrev.x+=c.x,o.positionPrev.y+=c.y,o.position.x+=c.x,o.position.y+=c.y):(o.positionPrev.x=c.x-(o.position.x-o.positionPrev.x),o.positionPrev.y=c.y-(o.position.y-o.positionPrev.y),o.position.x=c.x,o.position.y=c.y)},d.setPosition=function(o,c,p){var g=f.sub(c,o.position);p?(o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.velocity.x=g.x,o.velocity.y=g.y,o.speed=f.magnitude(g)):(o.positionPrev.x+=g.x,o.positionPrev.y+=g.y);for(var m=0;m<o.parts.length;m++){var C=o.parts[m];C.position.x+=g.x,C.position.y+=g.y,x.translate(C.vertices,g),a.update(C.bounds,C.vertices,o.velocity)}},d.setAngle=function(o,c,p){var g=c-o.angle;p?(o.anglePrev=o.angle,o.angularVelocity=g,o.angularSpeed=Math.abs(g)):o.anglePrev+=g;for(var m=0;m<o.parts.length;m++){var C=o.parts[m];C.angle+=g,x.rotate(C.vertices,g,o.position),u.rotate(C.axes,g),a.update(C.bounds,C.vertices,o.velocity),m>0&&f.rotateAbout(C.position,g,o.position,C.position)}},d.setVelocity=function(o,c){var p=o.deltaTime/d._baseDelta;o.positionPrev.x=o.position.x-c.x*p,o.positionPrev.y=o.position.y-c.y*p,o.velocity.x=(o.position.x-o.positionPrev.x)/p,o.velocity.y=(o.position.y-o.positionPrev.y)/p,o.speed=f.magnitude(o.velocity)},d.getVelocity=function(o){var c=d._baseDelta/o.deltaTime;return{x:(o.position.x-o.positionPrev.x)*c,y:(o.position.y-o.positionPrev.y)*c}},d.getSpeed=function(o){return f.magnitude(d.getVelocity(o))},d.setSpeed=function(o,c){d.setVelocity(o,f.mult(f.normalise(d.getVelocity(o)),c))},d.setAngularVelocity=function(o,c){var p=o.deltaTime/d._baseDelta;o.anglePrev=o.angle-c*p,o.angularVelocity=(o.angle-o.anglePrev)/p,o.angularSpeed=Math.abs(o.angularVelocity)},d.getAngularVelocity=function(o){return(o.angle-o.anglePrev)*d._baseDelta/o.deltaTime},d.getAngularSpeed=function(o){return Math.abs(d.getAngularVelocity(o))},d.setAngularSpeed=function(o,c){d.setAngularVelocity(o,h.sign(d.getAngularVelocity(o))*c)},d.translate=function(o,c,p){d.setPosition(o,f.add(o.position,c),p)},d.rotate=function(o,c,p,g){if(!p)d.setAngle(o,o.angle+c,g);else{var m=Math.cos(c),C=Math.sin(c),E=o.position.x-p.x,M=o.position.y-p.y;d.setPosition(o,{x:p.x+(E*m-M*C),y:p.y+(E*C+M*m)},g),d.setAngle(o,o.angle+c,g)}},d.scale=function(o,c,p,g){var m=0,C=0;g=g||o.position;for(var E=o.inertia===1/0,M=0;M<o.parts.length;M++){var P=o.parts[M];P.scale.x=c,P.scale.y=p,x.scale(P.vertices,c,p,g),P.axes=u.fromVertices(P.vertices),P.area=x.area(P.vertices),d.setMass(P,o.density*P.area),x.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),d.setInertia(P,d._inertiaScale*x.inertia(P.vertices,P.mass)),x.translate(P.vertices,{x:P.position.x,y:P.position.y}),M>0&&(m+=P.area,C+=P.inertia),P.position.x=g.x+(P.position.x-g.x)*c,P.position.y=g.y+(P.position.y-g.y)*p,a.update(P.bounds,P.vertices,o.velocity)}o.parts.length>1&&(o.area=m,o.isStatic||(d.setMass(o,o.density*m),d.setInertia(o,C))),o.circleRadius&&(c===p?o.circleRadius*=c:o.circleRadius=null),E&&d.setInertia(o,1/0)},d.update=function(o,c){c=(typeof c<"u"?c:16.666666666666668)*o.timeScale;var p=c*c,g=d._timeCorrection?c/(o.deltaTime||c):1,m=1-o.frictionAir*(c/h._baseDelta),C=(o.position.x-o.positionPrev.x)*g,E=(o.position.y-o.positionPrev.y)*g;o.velocity.x=C*m+o.force.x/o.mass*p,o.velocity.y=E*m+o.force.y/o.mass*p,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.position.x+=o.velocity.x,o.position.y+=o.velocity.y,o.deltaTime=c,o.angularVelocity=(o.angle-o.anglePrev)*m*g+o.torque/o.inertia*p,o.anglePrev=o.angle,o.angle+=o.angularVelocity,o.speed=f.magnitude(o.velocity),o.angularSpeed=Math.abs(o.angularVelocity);for(var M=0;M<o.parts.length;M++){var P=o.parts[M];x.translate(P.vertices,o.velocity),M>0&&(P.position.x+=o.velocity.x,P.position.y+=o.velocity.y),o.angularVelocity!==0&&(x.rotate(P.vertices,o.angularVelocity,o.position),u.rotate(P.axes,o.angularVelocity),M>0&&f.rotateAbout(P.position,o.angularVelocity,o.position,P.position)),a.update(P.bounds,P.vertices,o.velocity)}},d.updateVelocities=function(o){var c=d._baseDelta/o.deltaTime,p=o.velocity;p.x=(o.position.x-o.positionPrev.x)*c,p.y=(o.position.y-o.positionPrev.y)*c,o.speed=Math.sqrt(p.x*p.x+p.y*p.y),o.angularVelocity=(o.angle-o.anglePrev)*c,o.angularSpeed=Math.abs(o.angularVelocity)},d.applyForce=function(o,c,p){var g={x:c.x-o.position.x,y:c.y-o.position.y};o.force.x+=p.x,o.force.y+=p.y,o.torque+=g.x*p.y-g.y*p.x},d._totalProperties=function(o){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=o.parts.length===1?0:1;p<o.parts.length;p++){var g=o.parts[p],m=g.mass!==1/0?g.mass:1;c.mass+=m,c.area+=g.area,c.inertia+=g.inertia,c.centre=f.add(c.centre,f.mult(g.position,m))}return c.centre=f.div(c.centre,c.mass),c}})()},69351:(r,T,s)=>{var d={};r.exports=d;var x=s(35810),f=s(53402),l=s(15647),h=s(22562);(function(){d.create=function(a){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},d.setModified=function(a,u,v,o){if(x.trigger(a,"compositeModified",a),a.isModified=u,u&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),v&&a.parent&&d.setModified(a.parent,u,v,o),o)for(var c=0;c<a.composites.length;c++){var p=a.composites[c];d.setModified(p,u,v,o)}},d.add=function(a,u){var v=[].concat(u);x.trigger(a,"beforeAdd",{object:u});for(var o=0;o<v.length;o++){var c=v[o];switch(c.type){case"body":if(c.parent!==c){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}d.addBody(a,c);break;case"constraint":d.addConstraint(a,c);break;case"composite":d.addComposite(a,c);break;case"mouseConstraint":d.addConstraint(a,c.constraint);break}}return x.trigger(a,"afterAdd",{object:u}),a},d.remove=function(a,u,v){var o=[].concat(u);x.trigger(a,"beforeRemove",{object:u});for(var c=0;c<o.length;c++){var p=o[c];switch(p.type){case"body":d.removeBody(a,p,v);break;case"constraint":d.removeConstraint(a,p,v);break;case"composite":d.removeComposite(a,p,v);break;case"mouseConstraint":d.removeConstraint(a,p.constraint);break}}return x.trigger(a,"afterRemove",{object:u}),a},d.addComposite=function(a,u){return a.composites.push(u),u.parent=a,d.setModified(a,!0,!0,!1),a},d.removeComposite=function(a,u,v){var o=f.indexOf(a.composites,u);if(o!==-1&&d.removeCompositeAt(a,o),v)for(var c=0;c<a.composites.length;c++)d.removeComposite(a.composites[c],u,!0);return a},d.removeCompositeAt=function(a,u){return a.composites.splice(u,1),d.setModified(a,!0,!0,!1),a},d.addBody=function(a,u){return a.bodies.push(u),d.setModified(a,!0,!0,!1),a},d.removeBody=function(a,u,v){var o=f.indexOf(a.bodies,u);if(o!==-1&&d.removeBodyAt(a,o),v)for(var c=0;c<a.composites.length;c++)d.removeBody(a.composites[c],u,!0);return a},d.removeBodyAt=function(a,u){return a.bodies.splice(u,1),d.setModified(a,!0,!0,!1),a},d.addConstraint=function(a,u){return a.constraints.push(u),d.setModified(a,!0,!0,!1),a},d.removeConstraint=function(a,u,v){var o=f.indexOf(a.constraints,u);if(o!==-1&&d.removeConstraintAt(a,o),v)for(var c=0;c<a.composites.length;c++)d.removeConstraint(a.composites[c],u,!0);return a},d.removeConstraintAt=function(a,u){return a.constraints.splice(u,1),d.setModified(a,!0,!0,!1),a},d.clear=function(a,u,v){if(v)for(var o=0;o<a.composites.length;o++)d.clear(a.composites[o],u,!0);return u?a.bodies=a.bodies.filter(function(c){return c.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,d.setModified(a,!0,!0,!1),a},d.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var u=[].concat(a.bodies),v=0;v<a.composites.length;v++)u=u.concat(d.allBodies(a.composites[v]));return a.cache&&(a.cache.allBodies=u),u},d.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var u=[].concat(a.constraints),v=0;v<a.composites.length;v++)u=u.concat(d.allConstraints(a.composites[v]));return a.cache&&(a.cache.allConstraints=u),u},d.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var u=[].concat(a.composites),v=0;v<a.composites.length;v++)u=u.concat(d.allComposites(a.composites[v]));return a.cache&&(a.cache.allComposites=u),u},d.get=function(a,u,v){var o,c;switch(v){case"body":o=d.allBodies(a);break;case"constraint":o=d.allConstraints(a);break;case"composite":o=d.allComposites(a).concat(a);break}return o?(c=o.filter(function(p){return p.id.toString()===u.toString()}),c.length===0?null:c[0]):null},d.move=function(a,u,v){return d.remove(a,u),d.add(v,u),a},d.rebase=function(a){for(var u=d.allBodies(a).concat(d.allConstraints(a)).concat(d.allComposites(a)),v=0;v<u.length;v++)u[v].id=f.nextId();return a},d.translate=function(a,u,v){for(var o=v?d.allBodies(a):a.bodies,c=0;c<o.length;c++)h.translate(o[c],u);return a},d.rotate=function(a,u,v,o){for(var c=Math.cos(u),p=Math.sin(u),g=o?d.allBodies(a):a.bodies,m=0;m<g.length;m++){var C=g[m],E=C.position.x-v.x,M=C.position.y-v.y;h.setPosition(C,{x:v.x+(E*c-M*p),y:v.y+(E*p+M*c)}),h.rotate(C,u)}return a},d.scale=function(a,u,v,o,c){for(var p=c?d.allBodies(a):a.bodies,g=0;g<p.length;g++){var m=p[g],C=m.position.x-o.x,E=m.position.y-o.y;h.setPosition(m,{x:o.x+C*u,y:o.y+E*v}),h.scale(m,u,v)}return a},d.bounds=function(a){for(var u=d.allBodies(a),v=[],o=0;o<u.length;o+=1){var c=u[o];v.push(c.bounds.min,c.bounds.max)}return l.create(v)}})()},4372:(r,T,s)=>{var d={};r.exports=d;var x=s(69351);(function(){d.create=x.create,d.add=x.add,d.remove=x.remove,d.clear=x.clear,d.addComposite=x.addComposite,d.addBody=x.addBody,d.addConstraint=x.addConstraint})()},52284:(r,T,s)=>{var d={};r.exports=d;var x=s(41598),f=s(4506);(function(){var l=[],h={overlap:0,axis:null},a={overlap:0,axis:null};d.create=function(u,v){return{pair:null,collided:!1,bodyA:u,bodyB:v,parentA:u.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},d.collides=function(u,v,o){if(d._overlapAxes(h,u.vertices,v.vertices,u.axes),h.overlap<=0||(d._overlapAxes(a,v.vertices,u.vertices,v.axes),a.overlap<=0))return null;var c=o&&o.table[f.id(u,v)],p;c?p=c.collision:(p=d.create(u,v),p.collided=!0,p.bodyA=u.id<v.id?u:v,p.bodyB=u.id<v.id?v:u,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),u=p.bodyA,v=p.bodyB;var g;h.overlap<a.overlap?g=h:g=a;var m=p.normal,C=p.supports,E=g.axis,M=E.x,P=E.y;M*(v.position.x-u.position.x)+P*(v.position.y-u.position.y)<0?(m.x=M,m.y=P):(m.x=-M,m.y=-P),p.tangent.x=-m.y,p.tangent.y=m.x,p.depth=g.overlap,p.penetration.x=m.x*p.depth,p.penetration.y=m.y*p.depth;var w=d._findSupports(u,v,m,1),R=0;if(x.contains(u.vertices,w[0])&&(C[R++]=w[0]),x.contains(u.vertices,w[1])&&(C[R++]=w[1]),R<2){var A=d._findSupports(v,u,m,-1);x.contains(v.vertices,A[0])&&(C[R++]=A[0]),R<2&&x.contains(v.vertices,A[1])&&(C[R++]=A[1])}return R===0&&(C[R++]=w[0]),C.length=R,p},d._overlapAxes=function(u,v,o,c){var p=v.length,g=o.length,m=v[0].x,C=v[0].y,E=o[0].x,M=o[0].y,P=c.length,w=Number.MAX_VALUE,R=0,A,L,F,O,D,B;for(D=0;D<P;D++){var b=c[D],G=b.x,V=b.y,W=m*G+C*V,H=E*G+M*V,z=W,U=H;for(B=1;B<p;B+=1)O=v[B].x*G+v[B].y*V,O>z?z=O:O<W&&(W=O);for(B=1;B<g;B+=1)O=o[B].x*G+o[B].y*V,O>U?U=O:O<H&&(H=O);if(L=z-H,F=U-W,A=L<F?L:F,A<w&&(w=A,R=D,A<=0))break}u.axis=c[R],u.overlap=w},d._projectToAxis=function(u,v,o){for(var c=v[0].x*o.x+v[0].y*o.y,p=c,g=1;g<v.length;g+=1){var m=v[g].x*o.x+v[g].y*o.y;m>p?p=m:m<c&&(c=m)}u.min=c,u.max=p},d._findSupports=function(u,v,o,c){var p=v.vertices,g=p.length,m=u.position.x,C=u.position.y,E=o.x*c,M=o.y*c,P=Number.MAX_VALUE,w,R,A,L,F;for(F=0;F<g;F+=1)R=p[F],L=E*(m-R.x)+M*(C-R.y),L<P&&(P=L,w=R);return A=p[(g+w.index-1)%g],P=E*(m-A.x)+M*(C-A.y),R=p[(w.index+1)%g],E*(m-R.x)+M*(C-R.y)<P?(l[0]=w,l[1]=R,l):(l[0]=w,l[1]=A,l)}})()},43424:r=>{var T={};r.exports=T,function(){T.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(r,T,s)=>{var d={};r.exports=d;var x=s(53402),f=s(52284);(function(){d.create=function(l){var h={bodies:[],pairs:null};return x.extend(h,l)},d.setBodies=function(l,h){l.bodies=h.slice(0)},d.clear=function(l){l.bodies=[]},d.collisions=function(l){var h=[],a=l.pairs,u=l.bodies,v=u.length,o=d.canCollide,c=f.collides,p,g;for(u.sort(d._compareBoundsX),p=0;p<v;p++){var m=u[p],C=m.bounds,E=m.bounds.max.x,M=m.bounds.max.y,P=m.bounds.min.y,w=m.isStatic||m.isSleeping,R=m.parts.length,A=R===1;for(g=p+1;g<v;g++){var L=u[g],F=L.bounds;if(F.min.x>E)break;if(!(M<F.min.y||P>F.max.y)&&!(w&&(L.isStatic||L.isSleeping))&&o(m.collisionFilter,L.collisionFilter)){var O=L.parts.length;if(A&&O===1){var D=c(m,L,a);D&&h.push(D)}else for(var B=R>1?1:0,b=O>1?1:0,G=B;G<R;G++)for(var V=m.parts[G],C=V.bounds,W=b;W<O;W++){var H=L.parts[W],F=H.bounds;if(!(C.min.x>F.max.x||C.max.x<F.min.x||C.max.y<F.min.y||C.min.y>F.max.y)){var D=c(V,H,a);D&&h.push(D)}}}}}return h},d.canCollide=function(l,h){return l.group===h.group&&l.group!==0?l.group>0:(l.mask&h.category)!==0&&(h.mask&l.category)!==0},d._compareBoundsX=function(l,h){return l.bounds.min.x-h.bounds.min.x}})()},4506:(r,T,s)=>{var d={};r.exports=d;var x=s(43424);(function(){d.create=function(f,l){var h=f.bodyA,a=f.bodyB,u={id:d.id(h,a),bodyA:h,bodyB:a,collision:f,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||a.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return d.update(u,f,l),u},d.update=function(f,l,h){var a=f.contacts,u=l.supports,v=f.activeContacts,o=l.parentA,c=l.parentB,p=o.vertices.length;f.isActive=!0,f.timeUpdated=h,f.collision=l,f.separation=l.depth,f.inverseMass=o.inverseMass+c.inverseMass,f.friction=o.friction<c.friction?o.friction:c.friction,f.frictionStatic=o.frictionStatic>c.frictionStatic?o.frictionStatic:c.frictionStatic,f.restitution=o.restitution>c.restitution?o.restitution:c.restitution,f.slop=o.slop>c.slop?o.slop:c.slop,l.pair=f,v.length=0;for(var g=0;g<u.length;g++){var m=u[g],C=m.body===o?m.index:p+m.index,E=a[C];E?v.push(E):v.push(a[C]=x.create(m))}},d.setActive=function(f,l,h){l?(f.isActive=!0,f.timeUpdated=h):(f.isActive=!1,f.activeContacts.length=0)},d.id=function(f,l){return f.id<l.id?"A"+f.id+"B"+l.id:"A"+l.id+"B"+f.id}})()},99561:(r,T,s)=>{var d={};r.exports=d;var x=s(4506),f=s(53402);(function(){d.create=function(l){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},d.update=function(l,h,a){var u=l.list,v=u.length,o=l.table,c=h.length,p=l.collisionStart,g=l.collisionEnd,m=l.collisionActive,C,E,M,P;for(p.length=0,g.length=0,m.length=0,P=0;P<v;P++)u[P].confirmedActive=!1;for(P=0;P<c;P++)C=h[P],M=C.pair,M?(M.isActive?m.push(M):p.push(M),x.update(M,C,a),M.confirmedActive=!0):(M=x.create(C,a),o[M.id]=M,p.push(M),u.push(M));var w=[];for(v=u.length,P=0;P<v;P++)M=u[P],M.confirmedActive||(x.setActive(M,!1,a),g.push(M),!M.collision.bodyA.isSleeping&&!M.collision.bodyB.isSleeping&&w.push(P));for(P=0;P<w.length;P++)E=w[P]-P,M=u[E],u.splice(E,1),delete o[M.id]},d.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(r,T,s)=>{var d={};r.exports=d;var x=s(31725),f=s(52284),l=s(15647),h=s(66280),a=s(41598);(function(){d.collides=function(u,v){for(var o=[],c=v.length,p=u.bounds,g=f.collides,m=l.overlaps,C=0;C<c;C++){var E=v[C],M=E.parts.length,P=M===1?0:1;if(u!==E&&m(E.bounds,p))for(var w=P;w<M;w++){var R=E.parts[w];if(m(R.bounds,p)){var A=g(R,u);if(A){o.push(A);break}}}}return o},d.ray=function(u,v,o,c){c=c||1e-100;for(var p=x.angle(v,o),g=x.magnitude(x.sub(v,o)),m=(o.x+v.x)*.5,C=(o.y+v.y)*.5,E=h.rectangle(m,C,g,c,{angle:p}),M=d.collides(E,u),P=0;P<M.length;P+=1){var w=M[P];w.body=w.bodyB=w.bodyA}return M},d.region=function(u,v,o){for(var c=[],p=0;p<u.length;p++){var g=u[p],m=l.overlaps(g.bounds,v);(m&&!o||!m&&o)&&c.push(g)}return c},d.point=function(u,v){for(var o=[],c=0;c<u.length;c++){var p=u[c];if(l.contains(p.bounds,v))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var m=p.parts[g];if(l.contains(m.bounds,v)&&a.contains(m.vertices,v)){o.push(p);break}}}return o}})()},66272:(r,T,s)=>{var d={};r.exports=d;var x=s(41598),f=s(53402),l=s(15647);(function(){d._restingThresh=2,d._restingThreshTangent=Math.sqrt(6),d._positionDampen=.9,d._positionWarming=.8,d._frictionNormalMultiplier=5,d._frictionMaxStatic=Number.MAX_VALUE,d.preSolvePosition=function(h){var a,u,v,o=h.length;for(a=0;a<o;a++)u=h[a],u.isActive&&(v=u.activeContacts.length,u.collision.parentA.totalContacts+=v,u.collision.parentB.totalContacts+=v)},d.solvePosition=function(h,a,u){var v,o,c,p,g,m,C,E,M=d._positionDampen*(u||1),P=f.clamp(a/f._baseDelta,0,1),w=h.length;for(v=0;v<w;v++)o=h[v],!(!o.isActive||o.isSensor)&&(c=o.collision,p=c.parentA,g=c.parentB,m=c.normal,o.separation=m.x*(g.positionImpulse.x+c.penetration.x-p.positionImpulse.x)+m.y*(g.positionImpulse.y+c.penetration.y-p.positionImpulse.y));for(v=0;v<w;v++)o=h[v],!(!o.isActive||o.isSensor)&&(c=o.collision,p=c.parentA,g=c.parentB,m=c.normal,E=o.separation-o.slop*P,(p.isStatic||g.isStatic)&&(E*=2),p.isStatic||p.isSleeping||(C=M/p.totalContacts,p.positionImpulse.x+=m.x*E*C,p.positionImpulse.y+=m.y*E*C),g.isStatic||g.isSleeping||(C=M/g.totalContacts,g.positionImpulse.x-=m.x*E*C,g.positionImpulse.y-=m.y*E*C))},d.postSolvePosition=function(h){for(var a=d._positionWarming,u=h.length,v=x.translate,o=l.update,c=0;c<u;c++){var p=h[c],g=p.positionImpulse,m=g.x,C=g.y,E=p.velocity;if(p.totalContacts=0,m!==0||C!==0){for(var M=0;M<p.parts.length;M++){var P=p.parts[M];v(P.vertices,g),o(P.bounds,P.vertices,E),P.position.x+=m,P.position.y+=C}p.positionPrev.x+=m,p.positionPrev.y+=C,m*E.x+C*E.y<0?(g.x=0,g.y=0):(g.x*=a,g.y*=a)}}},d.preSolveVelocity=function(h){var a=h.length,u,v;for(u=0;u<a;u++){var o=h[u];if(!(!o.isActive||o.isSensor)){var c=o.activeContacts,p=c.length,g=o.collision,m=g.parentA,C=g.parentB,E=g.normal,M=g.tangent;for(v=0;v<p;v++){var P=c[v],w=P.vertex,R=P.normalImpulse,A=P.tangentImpulse;if(R!==0||A!==0){var L=E.x*R+M.x*A,F=E.y*R+M.y*A;m.isStatic||m.isSleeping||(m.positionPrev.x+=L*m.inverseMass,m.positionPrev.y+=F*m.inverseMass,m.anglePrev+=m.inverseInertia*((w.x-m.position.x)*F-(w.y-m.position.y)*L)),C.isStatic||C.isSleeping||(C.positionPrev.x-=L*C.inverseMass,C.positionPrev.y-=F*C.inverseMass,C.anglePrev-=C.inverseInertia*((w.x-C.position.x)*F-(w.y-C.position.y)*L))}}}}},d.solveVelocity=function(h,a){var u=a/f._baseDelta,v=u*u,o=v*u,c=-d._restingThresh*u,p=d._restingThreshTangent,g=d._frictionNormalMultiplier*u,m=d._frictionMaxStatic,C=h.length,E,M,P,w;for(P=0;P<C;P++){var R=h[P];if(!(!R.isActive||R.isSensor)){var A=R.collision,L=A.parentA,F=A.parentB,O=L.velocity,D=F.velocity,B=A.normal.x,b=A.normal.y,G=A.tangent.x,V=A.tangent.y,W=R.activeContacts,H=W.length,z=1/H,U=L.inverseMass+F.inverseMass,I=R.friction*R.frictionStatic*g;for(O.x=L.position.x-L.positionPrev.x,O.y=L.position.y-L.positionPrev.y,D.x=F.position.x-F.positionPrev.x,D.y=F.position.y-F.positionPrev.y,L.angularVelocity=L.angle-L.anglePrev,F.angularVelocity=F.angle-F.anglePrev,w=0;w<H;w++){var N=W[w],k=N.vertex,X=k.x-L.position.x,Y=k.y-L.position.y,$=k.x-F.position.x,K=k.y-F.position.y,Z=O.x-Y*L.angularVelocity,J=O.y+X*L.angularVelocity,Q=D.x-K*F.angularVelocity,j=D.y+$*F.angularVelocity,_=Z-Q,q=J-j,it=B*_+b*q,ot=G*_+V*q,ut=R.separation+it,ht=Math.min(ut,1);ht=ut<0?0:ht;var tt=ht*I;ot<-tt||ot>tt?(M=ot>0?ot:-ot,E=R.friction*(ot>0?1:-1)*o,E<-M?E=-M:E>M&&(E=M)):(E=ot,M=m);var at=X*b-Y*B,rt=$*b-K*B,gt=z/(U+L.inverseInertia*at*at+F.inverseInertia*rt*rt),mt=(1+R.restitution)*it*gt;if(E*=gt,it<c)N.normalImpulse=0;else{var kt=N.normalImpulse;N.normalImpulse+=mt,N.normalImpulse>0&&(N.normalImpulse=0),mt=N.normalImpulse-kt}if(ot<-p||ot>p)N.tangentImpulse=0;else{var Gt=N.tangentImpulse;N.tangentImpulse+=E,N.tangentImpulse<-M&&(N.tangentImpulse=-M),N.tangentImpulse>M&&(N.tangentImpulse=M),E=N.tangentImpulse-Gt}var Et=B*mt+G*E,Ct=b*mt+V*E;L.isStatic||L.isSleeping||(L.positionPrev.x+=Et*L.inverseMass,L.positionPrev.y+=Ct*L.inverseMass,L.anglePrev+=(X*Ct-Y*Et)*L.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Et*F.inverseMass,F.positionPrev.y-=Ct*F.inverseMass,F.anglePrev-=($*Ct-K*Et)*F.inverseInertia)}}}}})()},48140:(r,T,s)=>{var d={};r.exports=d;var x=s(41598),f=s(31725),l=s(53614),h=s(15647),a=s(66615),u=s(53402);(function(){d._warming=.4,d._torqueDampen=1,d._minLength=1e-6,d.create=function(v){var o=v;o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0});var c=o.bodyA?f.add(o.bodyA.position,o.pointA):o.pointA,p=o.bodyB?f.add(o.bodyB.position,o.pointB):o.pointB,g=f.magnitude(f.sub(c,p));o.length=typeof o.length<"u"?o.length:g,o.id=o.id||u.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return o.length===0&&o.stiffness>.1?(m.type="pin",m.anchors=!1):o.stiffness<.9&&(m.type="spring"),o.render=u.extend(m,o.render),o},d.preSolveAll=function(v){for(var o=0;o<v.length;o+=1){var c=v[o],p=c.constraintImpulse;c.isStatic||p.x===0&&p.y===0&&p.angle===0||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},d.solveAll=function(v,o){for(var c=u.clamp(o/u._baseDelta,0,1),p=0;p<v.length;p+=1){var g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,C=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||C)&&d.solve(v[p],c)}for(p=0;p<v.length;p+=1)g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,C=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!C&&d.solve(v[p],c)},d.solve=function(v,o){var c=v.bodyA,p=v.bodyB,g=v.pointA,m=v.pointB;if(!(!c&&!p)){c&&!c.isStatic&&(f.rotate(g,c.angle-v.angleA,g),v.angleA=c.angle),p&&!p.isStatic&&(f.rotate(m,p.angle-v.angleB,m),v.angleB=p.angle);var C=g,E=m;if(c&&(C=f.add(c.position,g)),p&&(E=f.add(p.position,m)),!(!C||!E)){var M=f.sub(C,E),P=f.magnitude(M);P<d._minLength&&(P=d._minLength);var w=(P-v.length)/P,R=v.stiffness>=1||v.length===0,A=R?v.stiffness*o:v.stiffness*o*o,L=v.damping*o,F=f.mult(M,w*A),O=(c?c.inverseMass:0)+(p?p.inverseMass:0),D=(c?c.inverseInertia:0)+(p?p.inverseInertia:0),B=O+D,b,G,V,W,H;if(L>0){var z=f.create();V=f.div(M,P),H=f.sub(p&&f.sub(p.position,p.positionPrev)||z,c&&f.sub(c.position,c.positionPrev)||z),W=f.dot(V,H)}c&&!c.isStatic&&(G=c.inverseMass/O,c.constraintImpulse.x-=F.x*G,c.constraintImpulse.y-=F.y*G,c.position.x-=F.x*G,c.position.y-=F.y*G,L>0&&(c.positionPrev.x-=L*V.x*W*G,c.positionPrev.y-=L*V.y*W*G),b=f.cross(g,F)/B*d._torqueDampen*c.inverseInertia*(1-v.angularStiffness),c.constraintImpulse.angle-=b,c.angle-=b),p&&!p.isStatic&&(G=p.inverseMass/O,p.constraintImpulse.x+=F.x*G,p.constraintImpulse.y+=F.y*G,p.position.x+=F.x*G,p.position.y+=F.y*G,L>0&&(p.positionPrev.x+=L*V.x*W*G,p.positionPrev.y+=L*V.y*W*G),b=f.cross(m,F)/B*d._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle+=b,p.angle+=b)}}},d.postSolveAll=function(v){for(var o=0;o<v.length;o++){var c=v[o],p=c.constraintImpulse;if(!(c.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(c,!1);for(var g=0;g<c.parts.length;g++){var m=c.parts[g];x.translate(m.vertices,p),g>0&&(m.position.x+=p.x,m.position.y+=p.y),p.angle!==0&&(x.rotate(m.vertices,p.angle,c.position),a.rotate(m.axes,p.angle),g>0&&f.rotateAbout(m.position,p.angle,c.position,m.position)),h.update(m.bounds,m.vertices,c.velocity)}p.angle*=d._warming,p.x*=d._warming,p.y*=d._warming}}},d.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},d.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},d.currentLength=function(v){var o=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),c=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),p=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),g=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),m=o-p,C=c-g;return Math.sqrt(m*m+C*C)}})()},53402:(r,T,s)=>{var d={};r.exports=d,function(){d._baseDelta=16.666666666666668,d._nextId=0,d._seed=0,d._nowStartTime=+new Date,d._warnedOnce={},d._decomp=null,d.extend=function(f,l){var h,a;typeof l=="boolean"?(h=2,a=l):(h=1,a=!0);for(var u=h;u<arguments.length;u++){var v=arguments[u];if(v)for(var o in v)a&&v[o]&&v[o].constructor===Object&&(!f[o]||f[o].constructor===Object)?(f[o]=f[o]||{},d.extend(f[o],a,v[o])):f[o]=v[o]}return f},d.clone=function(f,l){return d.extend({},l,f)},d.keys=function(f){if(Object.keys)return Object.keys(f);var l=[];for(var h in f)l.push(h);return l},d.values=function(f){var l=[];if(Object.keys){for(var h=Object.keys(f),a=0;a<h.length;a++)l.push(f[h[a]]);return l}for(var u in f)l.push(f[u]);return l},d.get=function(f,l,h,a){l=l.split(".").slice(h,a);for(var u=0;u<l.length;u+=1)f=f[l[u]];return f},d.set=function(f,l,h,a,u){var v=l.split(".").slice(a,u);return d.get(f,l,0,-1)[v[v.length-1]]=h,h},d.shuffle=function(f){for(var l=f.length-1;l>0;l--){var h=Math.floor(d.random()*(l+1)),a=f[l];f[l]=f[h],f[h]=a}return f},d.choose=function(f){return f[Math.floor(d.random()*f.length)]},d.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},d.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},d.isFunction=function(f){return typeof f=="function"},d.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},d.isString=function(f){return toString.call(f)==="[object String]"},d.clamp=function(f,l,h){return f<l?l:f>h?h:f},d.sign=function(f){return f<0?-1:1},d.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-d._nowStartTime},d.random=function(f,l){return f=typeof f<"u"?f:0,l=typeof l<"u"?l:1,f+x()*(l-f)};var x=function(){return d._seed=(d._seed*9301+49297)%233280,d._seed/233280};d.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},d.logLevel=1,d.log=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.info=function(){console&&d.logLevel>0&&d.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warn=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");d._warnedOnce[f]||(d.warn(f),d._warnedOnce[f]=!0)},d.deprecated=function(f,l,h){f[l]=d.chain(function(){d.warnOnce(" deprecated ",h)},f[l])},d.nextId=function(){return d._nextId++},d.indexOf=function(f,l){if(f.indexOf)return f.indexOf(l);for(var h=0;h<f.length;h++)if(f[h]===l)return h;return-1},d.map=function(f,l){if(f.map)return f.map(l);for(var h=[],a=0;a<f.length;a+=1)h.push(l(f[a]));return h},d.topologicalSort=function(f){var l=[],h=[],a=[];for(var u in f)!h[u]&&!a[u]&&d._topologicalSort(u,h,a,f,l);return l},d._topologicalSort=function(f,l,h,a,u){var v=a[f]||[];h[f]=!0;for(var o=0;o<v.length;o+=1){var c=v[o];h[c]||l[c]||d._topologicalSort(c,l,h,a,u)}h[f]=!1,l[f]=!0,u.push(f)},d.chain=function(){for(var f=[],l=0;l<arguments.length;l+=1){var h=arguments[l];h._chained?f.push.apply(f,h._chained):f.push(h)}var a=function(){for(var u,v=new Array(arguments.length),o=0,c=arguments.length;o<c;o++)v[o]=arguments[o];for(o=0;o<f.length;o+=1){var p=f[o].apply(u,v);typeof p<"u"&&(u=p)}return u};return a._chained=f,a},d.chainPathBefore=function(f,l,h){return d.set(f,l,d.chain(h,d.get(f,l)))},d.chainPathAfter=function(f,l,h){return d.set(f,l,d.chain(d.get(f,l),h))},d.setDecomp=function(f){d._decomp=f},d.getDecomp=function(){var f=d._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof s.g<"u"&&(f=s.g.decomp)}catch{f=null}return f}}()},48413:(r,T,s)=>{var d={};r.exports=d;var x=s(53614),f=s(66272),l=s(81388),h=s(99561),a=s(35810),u=s(69351),v=s(48140),o=s(53402),c=s(22562);(function(){d.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},m=o.extend(g,p);return m.world=p.world||u.create({label:"World"}),m.pairs=p.pairs||h.create(),m.detector=p.detector||l.create(),m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},d.update=function(p,g){var m=o.now(),C=p.world,E=p.detector,M=p.pairs,P=p.timing,w=P.timestamp,R;g=typeof g<"u"?g:o._baseDelta,g*=P.timeScale,P.timestamp+=g,P.lastDelta=g;var A={timestamp:P.timestamp,delta:g};a.trigger(p,"beforeUpdate",A);var L=u.allBodies(C),F=u.allConstraints(C);for(C.isModified&&(l.setBodies(E,L),u.setModified(C,!1,!1,!0)),p.enableSleeping&&x.update(L,g),d._bodiesApplyGravity(L,p.gravity),g>0&&d._bodiesUpdate(L,g),a.trigger(p,"beforeSolve",A),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(F,g);v.postSolveAll(L),E.pairs=p.pairs;var O=l.collisions(E);h.update(M,O,w),p.enableSleeping&&x.afterCollisions(M.list),M.collisionStart.length>0&&a.trigger(p,"collisionStart",{pairs:M.collisionStart,timestamp:P.timestamp,delta:g});var D=o.clamp(20/p.positionIterations,0,1);for(f.preSolvePosition(M.list),R=0;R<p.positionIterations;R++)f.solvePosition(M.list,g,D);for(f.postSolvePosition(L),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(F,g);for(v.postSolveAll(L),f.preSolveVelocity(M.list),R=0;R<p.velocityIterations;R++)f.solveVelocity(M.list,g);return d._bodiesUpdateVelocities(L),M.collisionActive.length>0&&a.trigger(p,"collisionActive",{pairs:M.collisionActive,timestamp:P.timestamp,delta:g}),M.collisionEnd.length>0&&a.trigger(p,"collisionEnd",{pairs:M.collisionEnd,timestamp:P.timestamp,delta:g}),d._bodiesClearForces(L),a.trigger(p,"afterUpdate",A),p.timing.lastElapsed=o.now()-m,p},d.merge=function(p,g){if(o.extend(p,g),g.world){p.world=g.world,d.clear(p);for(var m=u.allBodies(p.world),C=0;C<m.length;C++){var E=m[C];x.set(E,!1),E.id=o.nextId()}}},d.clear=function(p){h.clear(p.pairs),l.clear(p.detector)},d._bodiesClearForces=function(p){for(var g=p.length,m=0;m<g;m++){var C=p[m];C.force.x=0,C.force.y=0,C.torque=0}},d._bodiesApplyGravity=function(p,g){var m=typeof g.scale<"u"?g.scale:.001,C=p.length;if(!(g.x===0&&g.y===0||m===0))for(var E=0;E<C;E++){var M=p[E];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.y+=M.mass*g.y*m,M.force.x+=M.mass*g.x*m)}},d._bodiesUpdate=function(p,g){for(var m=p.length,C=0;C<m;C++){var E=p[C];E.isStatic||E.isSleeping||c.update(E,g)}},d._bodiesUpdateVelocities=function(p){for(var g=p.length,m=0;m<g;m++)c.updateVelocities(p[m])}})()},35810:(r,T,s)=>{var d={};r.exports=d;var x=s(53402);(function(){d.on=function(f,l,h){for(var a=l.split(" "),u,v=0;v<a.length;v++)u=a[v],f.events=f.events||{},f.events[u]=f.events[u]||[],f.events[u].push(h);return h},d.off=function(f,l,h){if(!l){f.events={};return}typeof l=="function"&&(h=l,l=x.keys(f.events).join(" "));for(var a=l.split(" "),u=0;u<a.length;u++){var v=f.events[a[u]],o=[];if(h&&v)for(var c=0;c<v.length;c++)v[c]!==h&&o.push(v[c]);f.events[a[u]]=o}},d.trigger=function(f,l,h){var a,u,v,o,c=f.events;if(c&&x.keys(c).length>0){h||(h={}),a=l.split(" ");for(var p=0;p<a.length;p++)if(u=a[p],v=c[u],v){o=x.clone(h,!1),o.name=u,o.source=f;for(var g=0;g<v.length;g++)v[g].apply(f,[o])}}}})()},6790:(r,T,s)=>{var d={};r.exports=d;var x=s(73832),f=s(53402);(function(){d.name="matter-js",d.version="0.19.0",d.uses=[],d.used=[],d.use=function(){x.use(d,Array.prototype.slice.call(arguments))},d.before=function(l,h){return l=l.replace(/^Matter./,""),f.chainPathBefore(d,l,h)},d.after=function(l,h){return l=l.replace(/^Matter./,""),f.chainPathAfter(d,l,h)}})()},73832:(r,T,s)=>{var d={};r.exports=d;var x=s(53402);(function(){d._registry={},d.register=function(f){if(d.isPlugin(f)||x.warn("Plugin.register:",d.toString(f),"does not implement all required fields."),f.name in d._registry){var l=d._registry[f.name],h=d.versionParse(f.version).number,a=d.versionParse(l.version).number;h>a?(x.warn("Plugin.register:",d.toString(l),"was upgraded to",d.toString(f)),d._registry[f.name]=f):h<a?x.warn("Plugin.register:",d.toString(l),"can not be downgraded to",d.toString(f)):f!==l&&x.warn("Plugin.register:",d.toString(f),"is already registered to different plugin object")}else d._registry[f.name]=f;return f},d.resolve=function(f){return d._registry[d.dependencyParse(f).name]},d.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},d.isPlugin=function(f){return f&&f.name&&f.version&&f.install},d.isUsed=function(f,l){return f.used.indexOf(l)>-1},d.isFor=function(f,l){var h=f.for&&d.dependencyParse(f.for);return!f.for||l.name===h.name&&d.versionSatisfies(l.version,h.range)},d.use=function(f,l){if(f.uses=(f.uses||[]).concat(l||[]),f.uses.length===0){x.warn("Plugin.use:",d.toString(f),"does not specify any dependencies to install.");return}for(var h=d.dependencies(f),a=x.topologicalSort(h),u=[],v=0;v<a.length;v+=1)if(a[v]!==f.name){var o=d.resolve(a[v]);if(!o){u.push(" "+a[v]);continue}d.isUsed(f,o.name)||(d.isFor(o,f)||(x.warn("Plugin.use:",d.toString(o),"is for",o.for,"but installed on",d.toString(f)+"."),o._warned=!0),o.install?o.install(f):(x.warn("Plugin.use:",d.toString(o),"does not specify an install function."),o._warned=!0),o._warned?(u.push(" "+d.toString(o)),delete o._warned):u.push(" "+d.toString(o)),f.used.push(o.name))}u.length>0&&!o.silent&&x.info(u.join("  "))},d.dependencies=function(f,l){var h=d.dependencyParse(f),a=h.name;if(l=l||{},!(a in l)){f=d.resolve(f)||f,l[a]=x.map(f.uses||[],function(v){d.isPlugin(v)&&d.register(v);var o=d.dependencyParse(v),c=d.resolve(v);return c&&!d.versionSatisfies(c.version,o.range)?(x.warn("Plugin.dependencies:",d.toString(c),"does not satisfy",d.toString(o),"used by",d.toString(h)+"."),c._warned=!0,f._warned=!0):c||(x.warn("Plugin.dependencies:",d.toString(v),"used by",d.toString(h),"could not be resolved."),f._warned=!0),o.name});for(var u=0;u<l[a].length;u+=1)d.dependencies(l[a][u],l);return l}},d.dependencyParse=function(f){if(x.isString(f)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(f)||x.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},d.versionParse=function(f){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(f)||x.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=l.exec(f),a=Number(h[4]),u=Number(h[5]),v=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:f,operator:h[1]||h[2]||"",major:a,minor:u,patch:v,parts:[a,u,v],prerelease:h[7],number:a*1e8+u*1e4+v}},d.versionSatisfies=function(f,l){l=l||"*";var h=d.versionParse(l),a=d.versionParse(f);if(h.isRange){if(h.operator==="*"||f==="*")return!0;if(h.operator===">")return a.number>h.number;if(h.operator===">=")return a.number>=h.number;if(h.operator==="~")return a.major===h.major&&a.minor===h.minor&&a.patch>=h.patch;if(h.operator==="^")return h.major>0?a.major===h.major&&a.number>=h.number:h.minor>0?a.minor===h.minor&&a.patch>=h.patch:a.patch===h.patch}return f===l||f==="*"}})()},53614:(r,T,s)=>{var d={};r.exports=d;var x=s(22562),f=s(35810),l=s(53402);(function(){d._motionWakeThreshold=.18,d._motionSleepThreshold=.08,d._minBias=.9,d.update=function(h,a){for(var u=a/l._baseDelta,v=d._motionSleepThreshold,o=0;o<h.length;o++){var c=h[o],p=x.getSpeed(c),g=x.getAngularSpeed(c),m=p*p+g*g;if(c.force.x!==0||c.force.y!==0){d.set(c,!1);continue}var C=Math.min(c.motion,m),E=Math.max(c.motion,m);c.motion=d._minBias*C+(1-d._minBias)*E,c.sleepThreshold>0&&c.motion<v?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/u&&d.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},d.afterCollisions=function(h){for(var a=d._motionSleepThreshold,u=0;u<h.length;u++){var v=h[u];if(v.isActive){var o=v.collision,c=o.bodyA.parent,p=o.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var g=c.isSleeping&&!c.isStatic?c:p,m=g===c?p:c;!g.isStatic&&m.motion>a&&d.set(g,!1)}}}},d.set=function(h,a){var u=h.isSleeping;a?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,u||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,u&&f.trigger(h,"sleepEnd"))}})()},66280:(r,T,s)=>{var d={};r.exports=d;var x=s(41598),f=s(53402),l=s(22562),h=s(15647),a=s(31725);(function(){d.rectangle=function(u,v,o,c,p){p=p||{};var g={label:"Rectangle Body",position:{x:u,y:v},vertices:x.fromPath("L 0 0 L "+o+" 0 L "+o+" "+c+" L 0 "+c)};if(p.chamfer){var m=p.chamfer;g.vertices=x.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete p.chamfer}return l.create(f.extend({},g,p))},d.trapezoid=function(u,v,o,c,p,g){g=g||{},p*=.5;var m=(1-p*2)*o,C=o*p,E=C+m,M=E+C,P;p<.5?P="L 0 0 L "+C+" "+-c+" L "+E+" "+-c+" L "+M+" 0":P="L 0 0 L "+E+" "+-c+" L "+M+" 0";var w={label:"Trapezoid Body",position:{x:u,y:v},vertices:x.fromPath(P)};if(g.chamfer){var R=g.chamfer;w.vertices=x.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete g.chamfer}return l.create(f.extend({},w,g))},d.circle=function(u,v,o,c,p){c=c||{};var g={label:"Circle Body",circleRadius:o};p=p||25;var m=Math.ceil(Math.max(10,Math.min(p,o)));return m%2===1&&(m+=1),d.polygon(u,v,m,o,f.extend({},g,c))},d.polygon=function(u,v,o,c,p){if(p=p||{},o<3)return d.circle(u,v,c,p);for(var g=2*Math.PI/o,m="",C=g*.5,E=0;E<o;E+=1){var M=C+E*g,P=Math.cos(M)*c,w=Math.sin(M)*c;m+="L "+P.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:u,y:v},vertices:x.fromPath(m)};if(p.chamfer){var A=p.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete p.chamfer}return l.create(f.extend({},R,p))},d.fromVertices=function(u,v,o,c,p,g,m,C){var E=f.getDecomp(),M,P,w,R,A,L,F,O,D,B,b;for(M=!!(E&&E.quickDecomp),c=c||{},w=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,C=typeof C<"u"?C:.01,f.isArray(o[0])||(o=[o]),B=0;B<o.length;B+=1)if(L=o[B],R=x.isConvex(L),A=!R,A&&!M&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!M)R?L=x.clockwiseSort(L):L=x.hull(L),w.push({position:{x:u,y:v},vertices:L});else{var G=L.map(function($){return[$.x,$.y]});E.makeCCW(G),g!==!1&&E.removeCollinearPoints(G,g),C!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(G,C);var V=E.quickDecomp(G);for(F=0;F<V.length;F++){var W=V[F],H=W.map(function($){return{x:$[0],y:$[1]}});m>0&&x.area(H)<m||w.push({position:x.centre(H),vertices:H})}}for(F=0;F<w.length;F++)w[F]=l.create(f.extend(w[F],c));if(p){var z=5;for(F=0;F<w.length;F++){var U=w[F];for(O=F+1;O<w.length;O++){var I=w[O];if(h.overlaps(U.bounds,I.bounds)){var N=U.vertices,k=I.vertices;for(D=0;D<U.vertices.length;D++)for(b=0;b<I.vertices.length;b++){var X=a.magnitudeSquared(a.sub(N[(D+1)%N.length],k[b])),Y=a.magnitudeSquared(a.sub(N[D],k[(b+1)%k.length]));X<z&&Y<z&&(N[D].isInternal=!0,k[b].isInternal=!0)}}}}}return w.length>1?(P=l.create(f.extend({parts:w.slice(0)},c)),l.setPosition(P,{x:u,y:v}),P):w[0]},d.flagCoincidentParts=function(u,v){v===void 0&&(v=5);for(var o=0;o<u.length;o++)for(var c=u[o],p=o+1;p<u.length;p++){var g=u[p];if(h.overlaps(c.bounds,g.bounds))for(var m=c.vertices,C=g.vertices,E=0;E<c.vertices.length;E++)for(var M=0;M<g.vertices.length;M++){var P=a.magnitudeSquared(a.sub(m[(E+1)%m.length],C[M])),w=a.magnitudeSquared(a.sub(m[E],C[(M+1)%C.length]));P<v&&w<v&&(m[E].isInternal=!0,C[M].isInternal=!0)}}return u}})()},74116:(r,T,s)=>{var d={};r.exports=d;var x=s(69351),f=s(48140),l=s(53402),h=s(22562),a=s(66280);(function(){d.stack=function(u,v,o,c,p,g,m){for(var C=x.create({label:"Stack"}),E=u,M=v,P,w=0,R=0;R<c;R++){for(var A=0,L=0;L<o;L++){var F=m(E,M,L,R,P,w);if(F){var O=F.bounds.max.y-F.bounds.min.y,D=F.bounds.max.x-F.bounds.min.x;O>A&&(A=O),h.translate(F,{x:D*.5,y:O*.5}),E=F.bounds.max.x+p,x.addBody(C,F),P=F,w+=1}else E+=p}M+=A+g,E=u}return C},d.chain=function(u,v,o,c,p,g){for(var m=u.bodies,C=1;C<m.length;C++){var E=m[C-1],M=m[C],P=E.bounds.max.y-E.bounds.min.y,w=E.bounds.max.x-E.bounds.min.x,R=M.bounds.max.y-M.bounds.min.y,A=M.bounds.max.x-M.bounds.min.x,L={bodyA:E,pointA:{x:w*v,y:P*o},bodyB:M,pointB:{x:A*c,y:R*p}},F=l.extend(L,g);x.addConstraint(u,f.create(F))}return u.label+=" Chain",u},d.mesh=function(u,v,o,c,p){var g=u.bodies,m,C,E,M,P;for(m=0;m<o;m++){for(C=1;C<v;C++)E=g[C-1+m*v],M=g[C+m*v],x.addConstraint(u,f.create(l.extend({bodyA:E,bodyB:M},p)));if(m>0)for(C=0;C<v;C++)E=g[C+(m-1)*v],M=g[C+m*v],x.addConstraint(u,f.create(l.extend({bodyA:E,bodyB:M},p))),c&&C>0&&(P=g[C-1+(m-1)*v],x.addConstraint(u,f.create(l.extend({bodyA:P,bodyB:M},p)))),c&&C<v-1&&(P=g[C+1+(m-1)*v],x.addConstraint(u,f.create(l.extend({bodyA:P,bodyB:M},p))))}return u.label+=" Mesh",u},d.pyramid=function(u,v,o,c,p,g,m){return d.stack(u,v,o,c,p,g,function(C,E,M,P,w,R){var A=Math.min(c,Math.ceil(o/2)),L=w?w.bounds.max.x-w.bounds.min.x:0;if(!(P>A)){P=A-P;var F=P,O=o-1-P;if(!(M<F||M>O)){R===1&&h.translate(w,{x:(M+(o%2===1?1:-1))*L,y:0});var D=w?M*L:0;return m(u+D+M*p,E,M,P,w,R)}}})},d.newtonsCradle=function(u,v,o,c,p){for(var g=x.create({label:"Newtons Cradle"}),m=0;m<o;m++){var C=1.9,E=a.circle(u+m*(c*C),v+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),M=f.create({pointA:{x:u+m*(c*C),y:v},bodyB:E});x.addBody(g,E),x.addConstraint(g,M)}return g},d.car=function(u,v,o,c,p){var g=h.nextGroup(!0),m=20,C=-o*.5+m,E=o*.5-m,M=0,P=x.create({label:"Car"}),w=a.rectangle(u,v,o,c,{collisionFilter:{group:g},chamfer:{radius:c*.5},density:2e-4}),R=a.circle(u+C,v+M,p,{collisionFilter:{group:g},friction:.8}),A=a.circle(u+E,v+M,p,{collisionFilter:{group:g},friction:.8}),L=f.create({bodyB:w,pointB:{x:C,y:M},bodyA:R,stiffness:1,length:0}),F=f.create({bodyB:w,pointB:{x:E,y:M},bodyA:A,stiffness:1,length:0});return x.addBody(P,w),x.addBody(P,R),x.addBody(P,A),x.addConstraint(P,L),x.addConstraint(P,F),P},d.softBody=function(u,v,o,c,p,g,m,C,E,M){E=l.extend({inertia:1/0},E),M=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},M);var P=d.stack(u,v,o,c,p,g,function(w,R){return a.circle(w,R,C,E)});return d.mesh(P,o,c,m,M),P.label="Soft Body",P}})()},66615:(r,T,s)=>{var d={};r.exports=d;var x=s(31725),f=s(53402);(function(){d.fromVertices=function(l){for(var h={},a=0;a<l.length;a++){var u=(a+1)%l.length,v=x.normalise({x:l[u].y-l[a].y,y:l[a].x-l[u].x}),o=v.y===0?1/0:v.x/v.y;o=o.toFixed(3).toString(),h[o]=v}return f.values(h)},d.rotate=function(l,h){if(h!==0)for(var a=Math.cos(h),u=Math.sin(h),v=0;v<l.length;v++){var o=l[v],c;c=o.x*a-o.y*u,o.y=o.x*u+o.y*a,o.x=c}}})()},15647:r=>{var T={};r.exports=T,function(){T.create=function(s){var d={min:{x:0,y:0},max:{x:0,y:0}};return s&&T.update(d,s),d},T.update=function(s,d,x){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var f=0;f<d.length;f++){var l=d[f];l.x>s.max.x&&(s.max.x=l.x),l.x<s.min.x&&(s.min.x=l.x),l.y>s.max.y&&(s.max.y=l.y),l.y<s.min.y&&(s.min.y=l.y)}x&&(x.x>0?s.max.x+=x.x:s.min.x+=x.x,x.y>0?s.max.y+=x.y:s.min.y+=x.y)},T.contains=function(s,d){return d.x>=s.min.x&&d.x<=s.max.x&&d.y>=s.min.y&&d.y<=s.max.y},T.overlaps=function(s,d){return s.min.x<=d.max.x&&s.max.x>=d.min.x&&s.max.y>=d.min.y&&s.min.y<=d.max.y},T.translate=function(s,d){s.min.x+=d.x,s.max.x+=d.x,s.min.y+=d.y,s.max.y+=d.y},T.shift=function(s,d){var x=s.max.x-s.min.x,f=s.max.y-s.min.y;s.min.x=d.x,s.max.x=d.x+x,s.min.y=d.y,s.max.y=d.y+f}}()},74058:(r,T,s)=>{var d={};r.exports=d,s(15647);var x=s(53402);(function(){d.pathToVertices=function(f,l){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,a,u,v,o,c,p,g,m,C,E=[],M,P,w=0,R=0,A=0;l=l||15;var L=function(O,D,B){var b=B%2===1&&B>1;if(!m||O!=m.x||D!=m.y){m&&b?(M=m.x,P=m.y):(M=0,P=0);var G={x:M+O,y:P+D};(b||!m)&&(m=G),E.push(G),R=M+O,A=P+D}},F=function(O){var D=O.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":R=O.x,A=O.y;break;case"H":R=O.x;break;case"V":A=O.y;break}L(R,A,O.pathSegType)}};for(d._svgPathToAbsolute(f),u=f.getTotalLength(),c=[],h=0;h<f.pathSegList.numberOfItems;h+=1)c.push(f.pathSegList.getItem(h));for(p=c.concat();w<u;){if(C=f.getPathSegAtLength(w),o=c[C],o!=g){for(;p.length&&p[0]!=o;)F(p.shift());g=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=f.getPointAtLength(w),L(v.x,v.y,0);break}w+=l}for(h=0,a=p.length;h<a;++h)F(p[h]);return E},d._svgPathToAbsolute=function(f){for(var l,h,a,u,v,o,c=f.pathSegList,p=0,g=0,m=c.numberOfItems,C=0;C<m;++C){var E=c.getItem(C),M=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in E&&(p=E.x),"y"in E&&(g=E.y);else switch("x1"in E&&(a=p+E.x1),"x2"in E&&(v=p+E.x2),"y1"in E&&(u=g+E.y1),"y2"in E&&(o=g+E.y2),"x"in E&&(p+=E.x),"y"in E&&(g+=E.y),M){case"m":c.replaceItem(f.createSVGPathSegMovetoAbs(p,g),C);break;case"l":c.replaceItem(f.createSVGPathSegLinetoAbs(p,g),C);break;case"h":c.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(p),C);break;case"v":c.replaceItem(f.createSVGPathSegLinetoVerticalAbs(g),C);break;case"c":c.replaceItem(f.createSVGPathSegCurvetoCubicAbs(p,g,a,u,v,o),C);break;case"s":c.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(p,g,v,o),C);break;case"q":c.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(p,g,a,u),C);break;case"t":c.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),C);break;case"a":c.replaceItem(f.createSVGPathSegArcAbs(p,g,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),C);break;case"z":case"Z":p=l,g=h;break}(M=="M"||M=="m")&&(l=p,h=g)}}})()},31725:r=>{var T={};r.exports=T,function(){T.create=function(s,d){return{x:s||0,y:d||0}},T.clone=function(s){return{x:s.x,y:s.y}},T.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},T.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},T.rotate=function(s,d,x){var f=Math.cos(d),l=Math.sin(d);x||(x={});var h=s.x*f-s.y*l;return x.y=s.x*l+s.y*f,x.x=h,x},T.rotateAbout=function(s,d,x,f){var l=Math.cos(d),h=Math.sin(d);f||(f={});var a=x.x+((s.x-x.x)*l-(s.y-x.y)*h);return f.y=x.y+((s.x-x.x)*h+(s.y-x.y)*l),f.x=a,f},T.normalise=function(s){var d=T.magnitude(s);return d===0?{x:0,y:0}:{x:s.x/d,y:s.y/d}},T.dot=function(s,d){return s.x*d.x+s.y*d.y},T.cross=function(s,d){return s.x*d.y-s.y*d.x},T.cross3=function(s,d,x){return(d.x-s.x)*(x.y-s.y)-(d.y-s.y)*(x.x-s.x)},T.add=function(s,d,x){return x||(x={}),x.x=s.x+d.x,x.y=s.y+d.y,x},T.sub=function(s,d,x){return x||(x={}),x.x=s.x-d.x,x.y=s.y-d.y,x},T.mult=function(s,d){return{x:s.x*d,y:s.y*d}},T.div=function(s,d){return{x:s.x/d,y:s.y/d}},T.perp=function(s,d){return d=d===!0?-1:1,{x:d*-s.y,y:d*s.x}},T.neg=function(s){return{x:-s.x,y:-s.y}},T.angle=function(s,d){return Math.atan2(d.y-s.y,d.x-s.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(r,T,s)=>{var d={};r.exports=d;var x=s(31725),f=s(53402);(function(){d.create=function(l,h){for(var a=[],u=0;u<l.length;u++){var v=l[u],o={x:v.x,y:v.y,index:u,body:h,isInternal:!1};a.push(o)}return a},d.fromPath=function(l,h){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,u=[];return l.replace(a,function(v,o,c){u.push({x:parseFloat(o),y:parseFloat(c)})}),d.create(u,h)},d.centre=function(l){for(var h=d.area(l,!0),a={x:0,y:0},u,v,o,c=0;c<l.length;c++)o=(c+1)%l.length,u=x.cross(l[c],l[o]),v=x.mult(x.add(l[c],l[o]),u),a=x.add(a,v);return x.div(a,6*h)},d.mean=function(l){for(var h={x:0,y:0},a=0;a<l.length;a++)h.x+=l[a].x,h.y+=l[a].y;return x.div(h,l.length)},d.area=function(l,h){for(var a=0,u=l.length-1,v=0;v<l.length;v++)a+=(l[u].x-l[v].x)*(l[u].y+l[v].y),u=v;return h?a/2:Math.abs(a)/2},d.inertia=function(l,h){for(var a=0,u=0,v=l,o,c,p=0;p<v.length;p++)c=(p+1)%v.length,o=Math.abs(x.cross(v[c],v[p])),a+=o*(x.dot(v[c],v[c])+x.dot(v[c],v[p])+x.dot(v[p],v[p])),u+=o;return h/6*(a/u)},d.translate=function(l,h,a){a=typeof a<"u"?a:1;var u=l.length,v=h.x*a,o=h.y*a,c;for(c=0;c<u;c++)l[c].x+=v,l[c].y+=o;return l},d.rotate=function(l,h,a){if(h!==0){var u=Math.cos(h),v=Math.sin(h),o=a.x,c=a.y,p=l.length,g,m,C,E;for(E=0;E<p;E++)g=l[E],m=g.x-o,C=g.y-c,g.x=o+(m*u-C*v),g.y=c+(m*v+C*u);return l}},d.contains=function(l,h){for(var a=h.x,u=h.y,v=l.length,o=l[v-1],c,p=0;p<v;p++){if(c=l[p],(a-o.x)*(c.y-o.y)+(u-o.y)*(o.x-c.x)>0)return!1;o=c}return!0},d.scale=function(l,h,a,u){if(h===1&&a===1)return l;u=u||d.centre(l);for(var v,o,c=0;c<l.length;c++)v=l[c],o=x.sub(v,u),l[c].x=u.x+o.x*h,l[c].y=u.y+o.y*a;return l},d.chamfer=function(l,h,a,u,v){typeof h=="number"?h=[h]:h=h||[8],a=typeof a<"u"?a:-1,u=u||2,v=v||14;for(var o=[],c=0;c<l.length;c++){var p=l[c-1>=0?c-1:l.length-1],g=l[c],m=l[(c+1)%l.length],C=h[c<h.length?c:h.length-1];if(C===0){o.push(g);continue}var E=x.normalise({x:g.y-p.y,y:p.x-g.x}),M=x.normalise({x:m.y-g.y,y:g.x-m.x}),P=Math.sqrt(2*Math.pow(C,2)),w=x.mult(f.clone(E),C),R=x.normalise(x.mult(x.add(E,M),.5)),A=x.sub(g,x.mult(R,P)),L=a;a===-1&&(L=Math.pow(C,.32)*1.75),L=f.clamp(L,u,v),L%2===1&&(L+=1);for(var F=Math.acos(x.dot(E,M)),O=F/L,D=0;D<L;D++)o.push(x.add(x.rotate(w,O*D),A))}return o},d.clockwiseSort=function(l){var h=d.mean(l);return l.sort(function(a,u){return x.angle(h,a)-x.angle(h,u)}),l},d.isConvex=function(l){var h=0,a=l.length,u,v,o,c;if(a<3)return null;for(u=0;u<a;u++)if(v=(u+1)%a,o=(u+2)%a,c=(l[v].x-l[u].x)*(l[o].y-l[v].y),c-=(l[v].y-l[u].y)*(l[o].x-l[v].x),c<0?h|=1:c>0&&(h|=2),h===3)return!1;return h!==0?!0:null},d.hull=function(l){var h=[],a=[],u,v;for(l=l.slice(0),l.sort(function(o,c){var p=o.x-c.x;return p!==0?p:o.y-c.y}),v=0;v<l.length;v+=1){for(u=l[v];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],u)<=0;)a.pop();a.push(u)}for(v=l.length-1;v>=0;v-=1){for(u=l[v];h.length>=2&&x.cross3(h[h.length-2],h[h.length-1],u)<=0;)h.pop();h.push(u)}return h.pop(),a.pop(),h.concat(a)}})()},18210:(r,T,s)=>{var d=s(19933),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Body.create",function(){x.Body.init(this)}),f.before("Engine.update",function(l){x.Engine.update(l)})},Body:{init:function(f){f.plugin.attractors=f.plugin.attractors||[]}},Engine:{update:function(f){for(var l=d.Composite.allBodies(f.world),h=0;h<l.length;h++){var a=l[h],u=a.plugin.attractors;if(u&&u.length>0)for(var v=0;v<l.length;v++){var o=l[v];if(h!==v)for(var c=0;c<u.length;c++){var p=u[c],g=p;d.Common.isFunction(p)&&(g=p(a,o)),g&&d.Body.applyForce(o,o.position,g)}}}}},Attractors:{gravityConstant:.001,gravity:function(f,l){var h=d.Vector.sub(l.position,f.position),a=d.Vector.magnitudeSquared(h)||1e-4,u=d.Vector.normalise(h),v=-x.Attractors.gravityConstant*(f.mass*l.mass/a),o=d.Vector.mult(u,v);d.Body.applyForce(f,f.position,d.Vector.neg(o)),d.Body.applyForce(l,l.position,o)}}};r.exports=x},40178:r=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.create",function(){s.Events.on(this,"collisionStart",function(d){d.pairs.map(function(x){var f=x.bodyA,l=x.bodyB;f.gameObject&&f.gameObject.emit("collide",f,l,x),l.gameObject&&l.gameObject.emit("collide",l,f,x),s.Events.trigger(f,"onCollide",{pair:x}),s.Events.trigger(l,"onCollide",{pair:x}),f.onCollideCallback&&f.onCollideCallback(x),l.onCollideCallback&&l.onCollideCallback(x),f.onCollideWith[l.id]&&f.onCollideWith[l.id](l,x),l.onCollideWith[f.id]&&l.onCollideWith[f.id](f,x)})}),s.Events.on(this,"collisionActive",function(d){d.pairs.map(function(x){var f=x.bodyA,l=x.bodyB;f.gameObject&&f.gameObject.emit("collideActive",f,l,x),l.gameObject&&l.gameObject.emit("collideActive",l,f,x),s.Events.trigger(f,"onCollideActive",{pair:x}),s.Events.trigger(l,"onCollideActive",{pair:x}),f.onCollideActiveCallback&&f.onCollideActiveCallback(x),l.onCollideActiveCallback&&l.onCollideActiveCallback(x)})}),s.Events.on(this,"collisionEnd",function(d){d.pairs.map(function(x){var f=x.bodyA,l=x.bodyB;f.gameObject&&f.gameObject.emit("collideEnd",f,l,x),l.gameObject&&l.gameObject.emit("collideEnd",l,f,x),s.Events.trigger(f,"onCollideEnd",{pair:x}),s.Events.trigger(l,"onCollideEnd",{pair:x}),f.onCollideEndCallback&&f.onCollideEndCallback(x),l.onCollideEndCallback&&l.onCollideEndCallback(x)})})})}};r.exports=T},74507:(r,T,s)=>{var d=s(19933),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(f){for(var l=f.world,h=d.Composite.allBodies(l),a=d.Composite.allComposites(l),u=0;u<h.length;u+=1){var v=h[u];v.plugin.wrap&&x.Body.wrap(v,v.plugin.wrap)}for(u=0;u<a.length;u+=1){var o=a[u];o.plugin.wrap&&x.Composite.wrap(o,o.plugin.wrap)}}},Bounds:{wrap:function(f,l){var h=null,a=null;if(typeof l.min.x<"u"&&typeof l.max.x<"u"&&(f.min.x>l.max.x?h=l.min.x-f.max.x:f.max.x<l.min.x&&(h=l.max.x-f.min.x)),typeof l.min.y<"u"&&typeof l.max.y<"u"&&(f.min.y>l.max.y?a=l.min.y-f.max.y:f.max.y<l.min.y&&(a=l.max.y-f.min.y)),h!==null||a!==null)return{x:h||0,y:a||0}}},Body:{wrap:function(f,l){var h=x.Bounds.wrap(f.bounds,l);return h&&d.Body.translate(f,h),h}},Composite:{bounds:function(f){for(var l=d.Composite.allBodies(f),h=[],a=0;a<l.length;a+=1){var u=l[a];h.push(u.bounds.min,u.bounds.max)}return d.Bounds.create(h)},wrap:function(f,l){var h=x.Bounds.wrap(x.Composite.bounds(f),l);return h&&d.Composite.translate(f,h),h}}};r.exports=x},55973:r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:F,quickDecomp:b,isSimple:D,removeCollinearPoints:G,removeDuplicatePoints:V,makeCCW:m};function T(z,U,I){I=I||0;var N=[0,0],k,X,Y,$,K,Z,J;return k=z[1][1]-z[0][1],X=z[0][0]-z[1][0],Y=k*z[0][0]+X*z[0][1],$=U[1][1]-U[0][1],K=U[0][0]-U[1][0],Z=$*U[0][0]+K*U[0][1],J=k*K-$*X,W(J,0,I)||(N[0]=(K*Y-X*Z)/J,N[1]=(k*Z-$*Y)/J),N}function s(z,U,I,N){var k=U[0]-z[0],X=U[1]-z[1],Y=N[0]-I[0],$=N[1]-I[1];if(Y*X-$*k===0)return!1;var K=(k*(I[1]-z[1])+X*(z[0]-I[0]))/(Y*X-$*k),Z=(Y*(z[1]-I[1])+$*(I[0]-z[0]))/($*k-Y*X);return K>=0&&K<=1&&Z>=0&&Z<=1}function d(z,U,I){return(U[0]-z[0])*(I[1]-z[1])-(I[0]-z[0])*(U[1]-z[1])}function x(z,U,I){return d(z,U,I)>0}function f(z,U,I){return d(z,U,I)>=0}function l(z,U,I){return d(z,U,I)<0}function h(z,U,I){return d(z,U,I)<=0}var a=[],u=[];function v(z,U,I,N){if(N){var k=a,X=u;k[0]=U[0]-z[0],k[1]=U[1]-z[1],X[0]=I[0]-U[0],X[1]=I[1]-U[1];var Y=k[0]*X[0]+k[1]*X[1],$=Math.sqrt(k[0]*k[0]+k[1]*k[1]),K=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Z=Math.acos(Y/($*K));return Z<N}else return d(z,U,I)===0}function o(z,U){var I=U[0]-z[0],N=U[1]-z[1];return I*I+N*N}function c(z,U){var I=z.length;return z[U<0?U%I+I:U%I]}function p(z){z.length=0}function g(z,U,I,N){for(var k=I;k<N;k++)z.push(U[k])}function m(z){for(var U=0,I=z,N=1;N<z.length;++N)(I[N][1]<I[U][1]||I[N][1]===I[U][1]&&I[N][0]>I[U][0])&&(U=N);return x(c(z,U-1),c(z,U),c(z,U+1))?!1:(C(z),!0)}function C(z){for(var U=[],I=z.length,N=0;N!==I;N++)U.push(z.pop());for(var N=0;N!==I;N++)z[N]=U[N]}function E(z,U){return l(c(z,U-1),c(z,U),c(z,U+1))}var M=[],P=[];function w(z,U,I){var N,k,X=M,Y=P;if(f(c(z,U+1),c(z,U),c(z,I))&&h(c(z,U-1),c(z,U),c(z,I)))return!1;k=o(c(z,U),c(z,I));for(var $=0;$!==z.length;++$)if(!(($+1)%z.length===U||$===U)&&f(c(z,U),c(z,I),c(z,$+1))&&h(c(z,U),c(z,I),c(z,$))&&(X[0]=c(z,U),X[1]=c(z,I),Y[0]=c(z,$),Y[1]=c(z,$+1),N=T(X,Y),o(c(z,U),N)<k))return!1;return!0}function R(z,U,I){for(var N=0;N!==z.length;++N)if(!(N===U||N===I||(N+1)%z.length===U||(N+1)%z.length===I)&&s(c(z,U),c(z,I),c(z,N),c(z,N+1)))return!1;return!0}function A(z,U,I,N){var k=N||[];if(p(k),U<I)for(var X=U;X<=I;X++)k.push(z[X]);else{for(var X=0;X<=I;X++)k.push(z[X]);for(var X=U;X<z.length;X++)k.push(z[X])}return k}function L(z){for(var U=[],I=[],N=[],k=[],X=Number.MAX_VALUE,Y=0;Y<z.length;++Y)if(E(z,Y)){for(var $=0;$<z.length;++$)if(w(z,Y,$)){I=L(A(z,Y,$,k)),N=L(A(z,$,Y,k));for(var K=0;K<N.length;K++)I.push(N[K]);I.length<X&&(U=I,X=I.length,U.push([c(z,Y),c(z,$)]))}}return U}function F(z){var U=L(z);return U.length>0?O(z,U):[z]}function O(z,U){if(U.length===0)return[z];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var I=[z],N=0;N<U.length;N++)for(var k=U[N],X=0;X<I.length;X++){var Y=I[X],$=O(Y,k);if($){I.splice(X,1),I.push($[0],$[1]);break}}return I}else{var k=U,N=z.indexOf(k[0]),X=z.indexOf(k[1]);return N!==-1&&X!==-1?[A(z,N,X),A(z,X,N)]:!1}}function D(z){var U=z,I;for(I=0;I<U.length-1;I++)for(var N=0;N<I-1;N++)if(s(U[I],U[I+1],U[N],U[N+1]))return!1;for(I=1;I<U.length-2;I++)if(s(U[0],U[U.length-1],U[I],U[I+1]))return!1;return!0}function B(z,U,I,N,k){k=k||0;var X=U[1]-z[1],Y=z[0]-U[0],$=X*z[0]+Y*z[1],K=N[1]-I[1],Z=I[0]-N[0],J=K*I[0]+Z*I[1],Q=X*Z-K*Y;return W(Q,0,k)?[0,0]:[(Z*$-Y*J)/Q,(X*J-K*$)/Q]}function b(z,U,I,N,k,X,Y){X=X||100,Y=Y||0,k=k||25,U=typeof U<"u"?U:[],I=I||[],N=N||[];var $=[0,0],K=[0,0],Z=[0,0],J=0,Q=0,j=0,_=0,q=0,it=0,ot=0,ut=[],ht=[],tt=z,at=z;if(at.length<3)return U;if(Y++,Y>X)return console.warn("quickDecomp: max level ("+X+") reached."),U;for(var rt=0;rt<z.length;++rt)if(E(tt,rt)){I.push(tt[rt]),J=Q=Number.MAX_VALUE;for(var gt=0;gt<z.length;++gt)x(c(tt,rt-1),c(tt,rt),c(tt,gt))&&h(c(tt,rt-1),c(tt,rt),c(tt,gt-1))&&(Z=B(c(tt,rt-1),c(tt,rt),c(tt,gt),c(tt,gt-1)),l(c(tt,rt+1),c(tt,rt),Z)&&(j=o(tt[rt],Z),j<Q&&(Q=j,K=Z,it=gt))),x(c(tt,rt+1),c(tt,rt),c(tt,gt+1))&&h(c(tt,rt+1),c(tt,rt),c(tt,gt))&&(Z=B(c(tt,rt+1),c(tt,rt),c(tt,gt),c(tt,gt+1)),x(c(tt,rt-1),c(tt,rt),Z)&&(j=o(tt[rt],Z),j<J&&(J=j,$=Z,q=gt)));if(it===(q+1)%z.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,N.push(Z),rt<q?(g(ut,tt,rt,q+1),ut.push(Z),ht.push(Z),it!==0&&g(ht,tt,it,tt.length),g(ht,tt,0,rt+1)):(rt!==0&&g(ut,tt,rt,tt.length),g(ut,tt,0,q+1),ut.push(Z),ht.push(Z),g(ht,tt,it,rt+1));else{if(it>q&&(q+=z.length),_=Number.MAX_VALUE,q<it)return U;for(var gt=it;gt<=q;++gt)f(c(tt,rt-1),c(tt,rt),c(tt,gt))&&h(c(tt,rt+1),c(tt,rt),c(tt,gt))&&(j=o(c(tt,rt),c(tt,gt)),j<_&&R(tt,rt,gt)&&(_=j,ot=gt%z.length));rt<ot?(g(ut,tt,rt,ot+1),ot!==0&&g(ht,tt,ot,at.length),g(ht,tt,0,rt+1)):(rt!==0&&g(ut,tt,rt,at.length),g(ut,tt,0,ot+1),g(ht,tt,ot,rt+1))}return ut.length<ht.length?(b(ut,U,I,N,k,X,Y),b(ht,U,I,N,k,X,Y)):(b(ht,U,I,N,k,X,Y),b(ut,U,I,N,k,X,Y)),U}return U.push(z),U}function G(z,U){for(var I=0,N=z.length-1;z.length>3&&N>=0;--N)v(c(z,N-1),c(z,N),c(z,N+1),U)&&(z.splice(N%z.length,1),I++);return I}function V(z,U){for(var I=z.length-1;I>=1;--I)for(var N=z[I],k=I-1;k>=0;--k)if(H(N,z[k],U)){z.splice(I,1);continue}}function W(z,U,I){return I=I||0,Math.abs(z-U)<=I}function H(z,U,I){return W(z[0],U[0],I)&&W(z[1],U[1],I)}},52018:(r,T,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=s(83419),x=new d({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=x},42363:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=T},37277:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},s={},d={};d.register=function(x,f,l,h){h===void 0&&(h=!1),T[x]={plugin:f,mapping:l,custom:h}},d.registerCustom=function(x,f,l,h){s[x]={plugin:f,mapping:l,data:h}},d.hasCore=function(x){return T.hasOwnProperty(x)},d.hasCustom=function(x){return s.hasOwnProperty(x)},d.getCore=function(x){return T[x]},d.getCustom=function(x){return s[x]},d.getCustomClass=function(x){return s.hasOwnProperty(x)?s[x].plugin:null},d.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},d.removeCustom=function(x){s.hasOwnProperty(x)&&delete s[x]},d.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},d.destroyCustomPlugins=function(){for(var x in s)s.hasOwnProperty(x)&&delete s[x]},r.exports=d},77332:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(8443),f=s(50792),l=s(74099),h=s(44603),a=s(39429),u=s(95540),v=s(37277),o=s(72905),c=new d({Extends:f,initialize:function(g){f.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted?this.boot():g.events.once(x.BOOT,this.boot,this)},boot:function(){var p,g,m,C,E,M,P,w=this.game.config,R=w.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),p=0;p<R.length;p++)g=R[p],m=u(g,"key",null),C=u(g,"plugin",null),E=u(g,"start",!1),M=u(g,"mapping",null),P=u(g,"data",null),m&&(C?this.install(m,C,E,M,P):console.warn("Missing `plugin` for key: "+m));for(R=w.installScenePlugins,R=R.concat(this._pendingScene),p=0;p<R.length;p++)g=R[p],m=u(g,"key",null),C=u(g,"plugin",null),M=u(g,"mapping",null),m&&(C?this.installScenePlugin(m,C,M):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(p,g,m){var C,E,M,P=this.game,w=p.scene,R=p.settings.map,A=p.settings.isBooted;for(C=0;C<g.length;C++)E=g[C],P[E]?(p[E]=P[E],R.hasOwnProperty(E)&&(w[R[E]]=p[E])):E==="game"&&R.hasOwnProperty(E)&&(w[R[E]]=P);for(var L=0;L<m.length;L++)for(M=m[L],C=0;C<M.length;C++)if(E=M[C],!!v.hasCore(E)){var F=v.getCore(E),O=F.mapping,D=new F.plugin(w,this,O);p[O]=D,F.custom?w[O]=D:R.hasOwnProperty(O)&&(w[R[O]]=D),A&&D.boot()}for(M=this.plugins,C=0;C<M.length;C++){var B=M[C];B.mapping&&(w[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,g,m,C,E){if(E===void 0&&(E=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(v.hasCore(p)||v.register(p,g,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!E&&v.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(C){var M=new g(C,this,p);C.sys[p]=M,m&&m!==""&&(C[m]=M),M.boot()}},install:function(p,g,m,C,E){if(m===void 0&&(m=!1),C===void 0&&(C=null),E===void 0&&(E=null),typeof g!="function")return console.warn("Invalid Plugin: "+p),null;if(v.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(C!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:g,start:m,mapping:C,data:E});else if(v.registerCustom(p,g,C,E),m)return this.start(p);return null},getIndex:function(p){for(var g=this.plugins,m=0;m<g.length;m++){var C=g[m];if(C.key===p)return m}return-1},getEntry:function(p){var g=this.getIndex(p);if(g!==-1)return this.plugins[g]},isActive:function(p){var g=this.getEntry(p);return g&&g.active},start:function(p,g){g===void 0&&(g=p);var m=this.getEntry(g);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,g)),m?m.plugin:null},createEntry:function(p,g){var m=v.getCustom(p);if(m){var C=new m.plugin(this);m={key:g,plugin:C,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),C.init(m.data),C.start()}return m},stop:function(p){var g=this.getEntry(p);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(p,g){g===void 0&&(g=!0);var m=this.getEntry(p);if(m)return m.plugin;var C=this.getClass(p);return C&&g?(m=this.createEntry(p,p),m?m.plugin:null):C||null},getClass:function(p){return v.getCustomClass(p)},removeGlobalPlugin:function(p){var g=this.getEntry(p);g&&o(this.plugins,g),v.removeCustom(p)},removeScenePlugin:function(p){o(this.scenePlugins,p),v.remove(p)},registerGameObject:function(p,g,m){return g&&a.register(p,g),m&&h.register(p,m),this},removeGameObject:function(p,g,m){return g===void 0&&(g=!0),m===void 0&&(m=!0),g&&a.remove(p),m&&h.remove(p),this},registerFileType:function(p,g,m){l.register(p,g),m&&m.sys.load&&(m.sys.load[p]=g)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=c},45145:(r,T,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=s(52018),x=s(83419),f=s(44594),l=new x({Extends:d,initialize:function(a,u,v){d.call(this,u),this.scene=a,this.systems=a.sys,this.pluginKey=v,a.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=l},18922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const T=performance.now(),s=this.getVideoPlaybackQuality(),d=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,x=(f,l)=>{const h=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(a>d){const u=this.mozFrameDelay||h.totalFrameDelay-s.totalFrameDelay||0,v=l-f;r(l,{presentationTime:l+u*1e3,expectedDisplayTime:l+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:a,processingDuration:u}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(u=>x(l,u))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>x(T,f)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},10312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=T},68627:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19715),x=s(32880),f=s(83419),l=s(8054),h=s(50792),a=s(92503),u=s(56373),v=s(97480),o=s(69442),c=s(61340),p=new f({Extends:h,initialize:function(m){h.call(this);var C=m.config;this.config={clearBeforeRender:C.clearBeforeRender,backgroundColor:C.backgroundColor,antialias:C.antialias,roundPixels:C.roundPixels},this.game=m,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var E={alpha:m.config.transparent,desynchronized:m.config.desynchronized,willReadFrequently:!1};this.gameContext=C.context?C.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=m.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(o.READY,this.boot,this)},boot:function(){var g=this.game,m=g.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,g.scale.on(v.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(g,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(g,m){this.width=g,this.height=m,this.emit(a.RESIZE,g,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,m=this.config,C=this.width,E=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),m.clearBeforeRender&&(g.clearRect(0,0,C,E),m.transparent||(g.fillStyle=m.backgroundColor.rgba,g.fillRect(0,0,C,E))),g.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(g,m,C){var E=m.length;this.emit(a.RENDER,g,C);var M=C.x,P=C.y,w=C.width,R=C.height,A=C.renderToTexture?C.context:g.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(M,P,w,R),A.clip()),C.emit(d.PRE_RENDER,C),this.currentContext=A;var L=C.mask;L&&L.preRenderCanvas(this,null,C._maskCamera),C.transparent||(A.fillStyle=C.backgroundColor.rgba,A.fillRect(M,P,w,R)),A.globalAlpha=C.alpha,A.globalCompositeOperation="source-over",this.drawCount+=E,C.renderToTexture&&C.emit(d.PRE_RENDER,C),C.matrix.copyToContext(A);for(var F=0;F<E;F++){var O=m[F];O.mask&&O.mask.preRenderCanvas(this,O,C),O.renderCanvas(this,O,C),O.mask&&O.mask.postRenderCanvas(this,O,C)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,C.flashEffect.postRenderCanvas(A),C.fadeEffect.postRenderCanvas(A),C.dirty=!1,L&&L.postRenderCanvas(this),A.restore(),C.renderToTexture&&(C.emit(d.POST_RENDER,C),C.renderToGame&&g.sys.context.drawImage(C.canvas,M,P)),C.emit(d.POST_RENDER,C)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(a.POST_RENDER);var m=this.snapshotState;m.callback&&(x(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(g,m,C,E,M,P,w,R,A){C===void 0&&(C=!1),this.snapshotArea(E,M,P,w,m,R,A);var L=this.snapshotState;return L.getPixel=C,x(g,L),L.callback=null,this},snapshot:function(g,m,C){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,m,C)},snapshotArea:function(g,m,C,E,M,P,w){var R=this.snapshotState;return R.callback=M,R.type=P,R.encoder=w,R.getPixel=!1,R.x=g,R.y=m,R.width=Math.min(C,this.gameCanvas.width),R.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(g,m,C){return this.snapshotArea(g,m,1,1,C),this.snapshotState.getPixel=!0,this},batchSprite:function(g,m,C,E){var M=C.alpha*g.alpha;if(M!==0){var P=this.currentContext,w=this._tempMatrix1,R=this._tempMatrix2,A=m.canvasData,L=A.x,F=A.y,O=m.cutWidth,D=m.cutHeight,B=m.customPivot,b=m.source.resolution,G=g.displayOriginX,V=g.displayOriginY,W=-G+m.x,H=-V+m.y;if(g.isCropped){var z=g._crop;(z.flipX!==g.flipX||z.flipY!==g.flipY)&&m.updateCropUVs(z,g.flipX,g.flipY),O=z.cw,D=z.ch,L=z.cx,F=z.cy,W=-G+z.x,H=-V+z.y,g.flipX&&(W>=0?W=-(W+O):W<0&&(W=Math.abs(W)-O)),g.flipY&&(H>=0?H=-(H+D):H<0&&(H=Math.abs(H)-D))}var U=1,I=1;g.flipX&&(B||(W+=-m.realWidth+G*2),U=-1),g.flipY&&(B||(H+=-m.realHeight+V*2),I=-1);var N=g.x,k=g.y;R.applyITRS(N,k,g.rotation,g.scaleX*U,g.scaleY*I),w.copyFrom(C.matrix),E?(w.multiplyWithOffset(E,-C.scrollX*g.scrollFactorX,-C.scrollY*g.scrollFactorY),R.e=N,R.f=k):(R.e-=C.scrollX*g.scrollFactorX,R.f-=C.scrollY*g.scrollFactorY),w.multiply(R),C.roundPixels&&(w.e=Math.round(w.e),w.f=Math.round(w.f)),P.save(),w.setToContext(P),P.globalCompositeOperation=this.blendModes[g.blendMode],P.globalAlpha=M,P.imageSmoothingEnabled=!m.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,C),O>0&&D>0&&(C.roundPixels?P.drawImage(m.source.image,L,F,O,D,Math.round(W),Math.round(H),Math.round(O/b),Math.round(D/b)):P.drawImage(m.source.image,L,F,O,D,W,H,O/b,D/b)),g.mask&&g.mask.postRenderCanvas(this,g,C),P.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=p},55830:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(89289),f=function(){var l=[],h=x.supportNewBlendModes,a="source-over";return l[d.NORMAL]=a,l[d.ADD]="lighter",l[d.MULTIPLY]=h?"multiply":a,l[d.SCREEN]=h?"screen":a,l[d.OVERLAY]=h?"overlay":a,l[d.DARKEN]=h?"darken":a,l[d.LIGHTEN]=h?"lighten":a,l[d.COLOR_DODGE]=h?"color-dodge":a,l[d.COLOR_BURN]=h?"color-burn":a,l[d.HARD_LIGHT]=h?"hard-light":a,l[d.SOFT_LIGHT]=h?"soft-light":a,l[d.DIFFERENCE]=h?"difference":a,l[d.EXCLUSION]=h?"exclusion":a,l[d.HUE]=h?"hue":a,l[d.SATURATION]=h?"saturation":a,l[d.COLOR]=h?"color":a,l[d.LUMINOSITY]=h?"luminosity":a,l[d.ERASE]="destination-out",l[d.SOURCE_IN]="source-in",l[d.SOURCE_OUT]="source-out",l[d.SOURCE_ATOP]="source-atop",l[d.DESTINATION_OVER]="destination-over",l[d.DESTINATION_IN]="destination-in",l[d.DESTINATION_OUT]="destination-out",l[d.DESTINATION_ATOP]="destination-atop",l[d.LIGHTER]="lighter",l[d.COPY]="copy",l[d.XOR]="xor",l};r.exports=f},20926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91296),x=function(f,l,h,a,u){var v=a.alpha*h.alpha;if(v<=0)return!1;var o=d(h,a,u).calc;return l.globalCompositeOperation=f.blendModes[h.blendMode],l.globalAlpha=v,l.save(),o.setToContext(l),l.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:f.antialias,!0};r.exports=x},63899:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="losewebgl"},6119:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},48070:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},15640:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},8912:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},87124:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="restorewebgl"},92503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(92503),Snapshot:s(89966)},r.exports.Canvas=s(55830),r.exports.WebGL=s(4159)},32880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=s(40987),f=s(95540),l=function(h,a){var u=f(a,"callback"),v=f(a,"type","image/png"),o=f(a,"encoder",.92),c=Math.abs(Math.round(f(a,"x",0))),p=Math.abs(Math.round(f(a,"y",0))),g=Math.floor(f(a,"width",h.width)),m=Math.floor(f(a,"height",h.height)),C=f(a,"getPixel",!1);if(C){var E=h.getContext("2d",{willReadFrequently:!1}),M=E.getImageData(c,p,1,1),P=M.data;u.call(null,new x(P[0],P[1],P[2],P[3]))}else if(c!==0||p!==0||g!==h.width||m!==h.height){var w=d.createWebGL(this,g,m),R=w.getContext("2d",{willReadFrequently:!0});g>0&&m>0&&R.drawImage(h,c,p,g,m,0,0,g,m);var A=new Image;A.onerror=function(){u.call(null),d.remove(w)},A.onload=function(){u.call(null,A),d.remove(w)},A.src=w.toDataURL(v,o)}else{var L=new Image;L.onerror=function(){u.call(null)},L.onload=function(){u.call(null,L)},L.src=h.toDataURL(v,o)}};r.exports=l},88815:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=s(40987),f=s(95540),l=function(h,a){var u=h,v=f(a,"callback"),o=f(a,"type","image/png"),c=f(a,"encoder",.92),p=Math.abs(Math.round(f(a,"x",0))),g=Math.abs(Math.round(f(a,"y",0))),m=f(a,"getPixel",!1),C=f(a,"isFramebuffer",!1),E=C?f(a,"bufferWidth",1):u.drawingBufferWidth,M=C?f(a,"bufferHeight",1):u.drawingBufferHeight;if(m){var P=new Uint8Array(4),w=C?g:M-g;u.readPixels(p,w,1,1,u.RGBA,u.UNSIGNED_BYTE,P),v.call(null,new x(P[0],P[1],P[2],P[3]))}else{var R=Math.floor(f(a,"width",E)),A=Math.floor(f(a,"height",M)),L=R*A*4,F=new Uint8Array(L);u.readPixels(p,M-g-A,R,A,u.RGBA,u.UNSIGNED_BYTE,F);for(var O=d.createWebGL(this,R,A),D=O.getContext("2d",{willReadFrequently:!0}),B=D.getImageData(0,0,R,A),b=B.data,G=0;G<A;G++)for(var V=0;V<R;V++){var W=((A-G-1)*R+V)*4,H=C?L-(G*R+(R-V))*4:(G*R+V)*4;b[H+0]=F[W+0],b[H+1]=F[W+1],b[H+2]=F[W+2],b[H+3]=F[W+3]}D.putImageData(B,0,0);var z=new Image;z.onerror=function(){v.call(null),d.remove(O)},z.onload=function(){v.call(null,z),d.remove(O)},z.src=O.toDataURL(o,c)}};r.exports=l},89966:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(36060),f=s(90330),l=s(82264),h=s(95540),a=s(32302),u=s(63448),v=s(31302),o=s(58918),c=s(14811),p=s(92651),g=s(96569),m=s(56527),C=s(57516),E=s(43439),M=s(81041),P=s(12385),w=s(7589),R=s(95428),A=s(72905),L=new d({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new f([[x.UTILITY_PIPELINE,w],[x.MULTI_PIPELINE,C],[x.BITMAPMASK_PIPELINE,v],[x.SINGLE_PIPELINE,P],[x.ROPE_PIPELINE,M],[x.LIGHT_PIPELINE,g],[x.POINTLIGHT_PIPELINE,E],[x.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,O,D){var B=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(h(F,"frameInc",32));var G=B.width,V=B.height,W=this.game.config.disablePreFX,H=this.game.config.disablePostFX;if(H||this.postPipelineClasses.setAll([[String(c.BARREL),o.Barrel],[String(c.BLOOM),o.Bloom],[String(c.BLUR),o.Blur],[String(c.BOKEH),o.Bokeh],[String(c.CIRCLE),o.Circle],[String(c.COLOR_MATRIX),o.ColorMatrix],[String(c.DISPLACEMENT),o.Displacement],[String(c.GLOW),o.Glow],[String(c.GRADIENT),o.Gradient],[String(c.PIXELATE),o.Pixelate],[String(c.SHADOW),o.Shadow],[String(c.SHINE),o.Shine],[String(c.VIGNETTE),o.Vignette],[String(c.WIPE),o.Wipe]]),!W){this.classes.set(x.FX_PIPELINE,p);for(var z=Math.min(G,V),U=Math.ceil(z/this.frameInc),I=1;I<U;I++){var N=I*this.frameInc;b.push(new a(B,N,N)),b.push(new a(B,N,N)),b.push(new a(B,N,N)),this.maxDimension=N}b.push(new a(B,G,V,1,0,!0,!0)),b.push(new a(B,G,V,1,0,!0,!0)),b.push(new a(B,G,V,1,0,!0,!0))}var k,X,Y=this,$=this.game;if(this.classes.each(function(Z,J){k=Y.add(Z,new J({game:$})),Z===x.UTILITY_PIPELINE&&(Y.UTILITY_PIPELINE=k,Y.fullFrame1=k.fullFrame1,Y.fullFrame2=k.fullFrame2,Y.halfFrame1=k.halfFrame1,Y.halfFrame2=k.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),F)for(X in F){var K=F[X];k=new K($),k.name=X,k.isPostFX?this.postPipelineClasses.set(X,K):this.has(X)||(this.classes.set(X,K),this.add(X,k))}this.default=this.get(O),D&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var O=this.get(F);return O&&(this.default=O),O},add:function(F,O){if(O.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var D=this.pipelines,B=this.renderer;return D.has(F)?console.warn("Pipeline exists: "+F):(O.name=F,O.manager=this,D.set(F,O)),O.hasBooted||O.boot(),B.width!==0&&B.height!==0&&!O.isPreFX&&O.resize(B.width,B.height),O},addPostPipeline:function(F,O){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,O)},flush:function(){this.current&&this.current.flush()},has:function(F){var O=this.pipelines;return typeof F=="string"?O.has(F):!!O.contains(F)},get:function(F){var O=this.pipelines;if(typeof F=="string")return O.get(F);if(O.contains(F))return F},getPostPipeline:function(F,O,D){var B=this.postPipelineClasses,b,G="",V=typeof F;if(V==="string"||V==="number"?(b=B.get(F),G=F):V==="function"?(B.contains(F)&&(b=F),G=F.name):V==="object"&&(b=B.get(F.name),G=F.name),b){var W=new b(this.game,D);return W.name=G,O&&(W.gameObject=O),this.postPipelineInstances.push(W),W}},removePostPipeline:function(F){A(this.postPipelineInstances,F)},remove:function(F,O,D){O===void 0&&(O=!0),D===void 0&&(D=!0),this.pipelines.delete(F),O&&this.classes.delete(F),D&&this.postPipelineClasses.delete(F)},set:function(F,O,D){if(!F.isPostFX)return this.isCurrent(F,D)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(D)),F.updateProjectionMatrix(),F.onBind(O),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,D=O.length-1;D>=0;D--){var B=O[D];B.active&&B.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,D=0;D<O.length;D++){var B=O[D];B.active&&B.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,D=O.length-1;D>=0;D--){var B=O[D];B.active&&B.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,D=0;D<O.length;D++){var B=O[D];B.active&&B.postBatch(F)}}},isCurrent:function(F,O){var D=this.renderer,B=this.current;return B&&!O&&(O=B.currentShader),!(B!==F||O.program!==D.currentProgram)},copyFrame:function(F,O,D,B,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,O,D,B,b),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,O,D,B){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,O,D,B),this},blendFrames:function(F,O,D,B,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,O,D,B,b),this},blendFramesAdditive:function(F,O,D,B,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,O,D,B,b),this},clearFrame:function(F,O){return this.UTILITY_PIPELINE.clearFrame(F,O),this},blitFrame:function(F,O,D,B,b,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,O,D,B,b,G),this},copyFrameRect:function(F,O,D,B,b,G,V,W){return this.UTILITY_PIPELINE.copyFrameRect(F,O,D,B,b,G,V,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,O){O.restoreContext()}),R(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var O=this.renderer,D=O.gl;D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),O.hasActiveStencilMask()?D.clear(D.DEPTH_BUFFER_BIT):(D.disable(D.STENCIL_TEST),D.clear(D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)),D.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var B=O.vaoExtension;B&&B.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var G in b)b[G].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var O=F.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(F){var O=this.renderTargets,D=3;if(F>this.maxDimension)return this.targetIndex=O.length-D,O[this.targetIndex];var B=(u(F,this.frameInc,0,!0)-1)*D;return this.targetIndex=B,O[B]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=L},32302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(92503),f=new d({initialize:function(h,a,u,v,o,c,p,g,m){v===void 0&&(v=1),o===void 0&&(o=0),c===void 0&&(c=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),m===void 0&&(m=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=o,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=m,this.resize(a,u),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,h){if(l=Math.round(l*this.scale),h=Math.round(h*this.scale),l<=0&&(l=1),h<=0&&(h=1),this.autoResize&&(l!==this.width||h!==this.height)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,l,h,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(l,h,this.texture,this.hasDepthBuffer),this.width=l,this.height=h}return this},willResize:function(l,h){return l=Math.round(l*this.scale),h=Math.round(h*this.scale),l<=0&&(l=1),h<=0&&(h=1),l!==this.width||h!==this.height},bind:function(l,h,a){l===void 0&&(l=!1);var u=this.renderer;if(l&&u.flush(),h&&a&&this.resize(h,a),u.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}u.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(){var l=this.renderer,h=l.gl;l.pushFramebuffer(this.framebuffer),h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var h=this.renderer;return l&&h.flush(),h.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(x.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=f},70554:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(T,s,d,x){var f=(T*255|0)&255,l=(s*255|0)&255,h=(d*255|0)&255,a=(x*255|0)&255;return(a<<24|f<<16|l<<8|h)>>>0},getTintAppendFloatAlpha:function(T,s){var d=(s*255|0)&255;return(d<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,s){var d=(T>>16|0)&255,x=(T>>8|0)&255,f=(T|0)&255,l=(s*255|0)&255;return(l<<24|f<<16|x<<8|d)>>>0},getFloatsFromUintRGB:function(T){var s=(T>>16|0)&255,d=(T>>8|0)&255,x=(T|0)&255;return[s/255,d/255,x/255]},checkShaderMax:function(T,s){var d=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?d:Math.min(d,s)},parseFragmentShaderMaxTextures:function(T,s){if(!T)return"";for(var d="",x=0;x<s;x++)x>0&&(d+=`
	else `),x<s-1&&(d+="if (outTexId < "+x+".5)"),d+=`
	{`,d+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",d+=`
	}`;return T=T.replace(/%count%/gi,s.toString()),T.replace(/%forloop%/gi,d)},setGlowQuality:function(T,s,d,x){return d===void 0&&(d=s.config.glowFXQuality),x===void 0&&(x=s.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/d/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},29100:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(62644),f=s(50792),l=s(77085),h=s(95540),a=s(37867),u=s(92503),v=s(32302),o=s(70554),c=s(38683),p=new d({Extends:f,initialize:function(m){f.call(this);var C=m.game,E=C.renderer,M=E.gl;this.name=h(m,"name","WebGLPipeline"),this.game=C,this.renderer=E,this.manager,this.gl=M,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(m,"topology",M.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(m,"resizeUniform","")},boot:function(){var g,m=this.gl,C=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var M=this.renderTargets,P=h(C,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var w=E.width,R=E.height;if(typeof P=="number")for(g=0;g<P;g++)M.push(new v(E,w,R,1,0,!0));else if(Array.isArray(P))for(g=0;g<P.length;g++){var A=h(P[g],"scale",1),L=h(P[g],"minFilter",0),F=h(P[g],"autoClear",1),O=h(P[g],"autoResize",!1),D=h(P[g],"width",null),B=h(P[g],"height",D);D?M.push(new v(E,D,B,1,L,F,O)):M.push(new v(E,w,R,A,L,F,O))}M.length&&(this.currentRenderTarget=M[0]),this.setShadersFromConfig(C);var b=this.shaders,G=0;for(g=0;g<b.length;g++)b[g].vertexSize>G&&(G=b[g].vertexSize);var V=h(C,"batchSize",E.config.batchSize);this.vertexCapacity=V*6;var W=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var H=h(C,"vertices",null);for(H?(this.vertexViewF32.set(H),this.vertexBuffer=E.createVertexBuffer(W,m.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(W.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),g=b.length-1;g>=0;g--)b[g].rebind();this.hasBooted=!0,E.on(u.RESIZE,this.resize,this),E.on(u.PRE_RENDER,this.onPreRender,this),E.on(u.RENDER,this.onRender,this),E.on(u.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,m,C){var E=this.renderer;if(g!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var M=this.setVertexBuffer(C);M&&!m&&(m=!0),g.bind(m,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var m=this.shaders,C=0;C<m.length;C++)if(m[C].name===g)return m[C]},setShadersFromConfig:function(g){var m,C=this.shaders,E=this.renderer;for(m=0;m<C.length;m++)C[m].destroy();var M="vertShader",P="fragShader",w="attributes",R=h(g,M,null),A=o.parseFragmentShaderMaxTextures(h(g,P,null),E.maxTextures),L=h(g,w,null),F=h(g,"shaders",[]),O=F.length;if(O===0)R&&A&&(this.shaders=[new c(this,"default",R,A,x(L))]);else{var D=[];for(m=0;m<O;m++){var B=F[m],b,G,V,W;if(typeof B=="string"?(b="default",G=R,V=o.parseFragmentShaderMaxTextures(B,E.maxTextures),W=L):(b=h(B,"name","default"),G=h(B,M,R),V=o.parseFragmentShaderMaxTextures(h(B,P,A),E.maxTextures),W=h(B,w,L)),b==="default"){var H=V.split(`
`),z=H[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(b=z.substring(20))}G&&V&&D.push(new c(this,b,G,V,x(W)))}this.shaders=D}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var m=this.currentBatch;m&&(m.texture.push(g),m.unit++,m.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var m=this.currentBatch,C=m.texture.indexOf(g);return C===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(g):(m.unit++,m.maxUnit++,m.texture.push(g),this.currentUnit=m.unit,this.currentTexture=g,m.unit):(this.currentUnit=C,this.currentTexture=g,C)},setGameObject:function(g,m){return m===void 0&&(m=g.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,m){(g!==this.width||m!==this.height)&&this.flush(),this.width=g,this.height=m;for(var C=this.renderTargets,E=0;E<C.length;E++)C[E].resize(g,m);return this.setProjectionMatrix(g,m),this.resizeUniform&&this.set2f(this.resizeUniform,g,m),this.emit(l.RESIZE,g,m,this),this.onResize(g,m),this},setProjectionMatrix:function(g,m){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=g,this.projectionHeight=m,C.ortho(0,g,m,0,-1e3,1e3);for(var E=this.shaders,M="uProjectionMatrix",P=0;P<E.length;P++){var w=E[P];w.hasUniform(M)&&(w.resetUniform(M),w.setMatrix4fv(M,!1,C.val,w))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var m=this.projectionMatrix;if(!m)return this;var C=this.projectionWidth,E=this.projectionHeight;g?m.ortho(0,C,0,E,-1e3,1e3):m.ortho(0,C,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==m)&&this.setProjectionMatrix(g,m)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var m=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,m=!0),g.bind(m),this.currentShader=g,this.activeTextures.length=0,this.emit(l.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,C=m.length-1;C>=0;C--){var E=m[C].rebind();(!g||E===g)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var g=this.shaders,m=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,m&&this.setVertexBuffer();for(var C=0;C<g.length;C++){var E=g[C];E.syncUniforms(),m&&E.rebind()}},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var m=this.gl,C=this.vertexCount,E=this.currentShader.vertexSize,M=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,C*E));var P,w,R,A=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||m.activeTexture(m.TEXTURE0),P=0;P<A.length;P++)w=A[P],R=w.texture[0],L[0]!==R&&(m.bindTexture(m.TEXTURE_2D,R.webGLTexture),L[0]=R),m.drawArrays(M,w.start,w.count);else for(P=0;P<A.length;P++){w=A[P];for(var F=0;F<=w.maxUnit;F++)R=w.texture[F],L[F]!==R&&(m.activeTexture(m.TEXTURE0+F),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),L[F]=R);m.drawArrays(M,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,m,C,E,M,P,w){var R=this.vertexViewF32,A=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=g,R[++L]=m,R[++L]=C,R[++L]=E,R[++L]=M,R[++L]=P,A[++L]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,m,C,E,M,P,w,R,A,L,F,O,D,B,b,G,V,W,H,z){z===void 0&&(z=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(z=this.setTexture2D(H));var I=this.vertexViewF32,N=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++k]=m,I[++k]=C,I[++k]=L,I[++k]=F,I[++k]=z,I[++k]=W,N[++k]=B,I[++k]=E,I[++k]=M,I[++k]=L,I[++k]=D,I[++k]=z,I[++k]=W,N[++k]=G,I[++k]=P,I[++k]=w,I[++k]=O,I[++k]=D,I[++k]=z,I[++k]=W,N[++k]=V,I[++k]=m,I[++k]=C,I[++k]=L,I[++k]=F,I[++k]=z,I[++k]=W,N[++k]=B,I[++k]=P,I[++k]=w,I[++k]=O,I[++k]=D,I[++k]=z,I[++k]=W,N[++k]=V,I[++k]=R,I[++k]=A,I[++k]=O,I[++k]=F,I[++k]=z,I[++k]=W,N[++k]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),U},batchTri:function(g,m,C,E,M,P,w,R,A,L,F,O,D,B,b,G,V){V===void 0&&(V=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(V=this.setTexture2D(G));var H=this.vertexViewF32,z=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++U]=m,H[++U]=C,H[++U]=R,H[++U]=A,H[++U]=V,H[++U]=b,z[++U]=O,H[++U]=E,H[++U]=M,H[++U]=R,H[++U]=F,H[++U]=V,H[++U]=b,z[++U]=D,H[++U]=P,H[++U]=w,H[++U]=L,H[++U]=F,H[++U]=V,H[++U]=b,z[++U]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),W},drawFillRect:function(g,m,C,E,M,P,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),g=Math.floor(g),m=Math.floor(m);var A=Math.floor(g+C),L=Math.floor(m+E),F=this.setTexture2D(w),O=o.getTintAppendFloatAlphaAndSwap(M,P),D=0,B=0,b=1,G=1;R&&(B=1,G=0),this.batchQuad(null,g,m,g,L,A,L,A,m,D,B,b,G,O,O,O,O,0,w,F)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,m){m===void 0&&(m=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+m),C.bindTexture(C.TEXTURE_2D,g.webGLTexture),this},bindRenderTarget:function(g,m){return this.bindTexture(g.texture,m)},setTime:function(g,m){return this.set1f(g,this.game.loop.getDuration(),m),this},setBoolean:function(g,m,C){return C===void 0&&(C=this.currentShader),C.setBoolean(g,m),this},set1f:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set1f(g,m),this},set2f:function(g,m,C,E){return E===void 0&&(E=this.currentShader),E.set2f(g,m,C),this},set3f:function(g,m,C,E,M){return M===void 0&&(M=this.currentShader),M.set3f(g,m,C,E),this},set4f:function(g,m,C,E,M,P){return P===void 0&&(P=this.currentShader),P.set4f(g,m,C,E,M),this},set1fv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set1fv(g,m),this},set2fv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set2fv(g,m),this},set3fv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set3fv(g,m),this},set4fv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set4fv(g,m),this},set1iv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set1iv(g,m),this},set2iv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set2iv(g,m),this},set3iv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set3iv(g,m),this},set4iv:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set4iv(g,m),this},set1i:function(g,m,C){return C===void 0&&(C=this.currentShader),C.set1i(g,m),this},set2i:function(g,m,C,E){return E===void 0&&(E=this.currentShader),E.set2i(g,m,C),this},set3i:function(g,m,C,E,M){return M===void 0&&(M=this.currentShader),M.set3i(g,m,C,E),this},set4i:function(g,m,C,E,M,P){return P===void 0&&(P=this.currentShader),P.set4i(g,m,C,E,M),this},setMatrix2fv:function(g,m,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(g,m,C),this},setMatrix3fv:function(g,m,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(g,m,C),this},setMatrix4fv:function(g,m,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(g,m,C),this},destroy:function(){this.emit(l.DESTROY,this);var g,m=this.shaders;for(g=0;g<m.length;g++)m[g].destroy();var C=this.renderTargets;for(g=0;g<C.length;g++)C[g].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(u.RESIZE,this.resize,this),E.off(u.PRE_RENDER,this.onPreRender,this),E.off(u.RENDER,this.onRender,this),E.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=p},74797:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95428),x=s(72905),f=s(19715),l=s(83419),h=s(8054),a=s(50792),u=s(92503),v=s(50030),o=s(37867),c=s(29747),p=s(7530),g=s(32302),m=s(97480),C=s(69442),E=s(70554),M=s(88815),P=s(26128),w=s(1482),R=s(82751),A=s(84387),L=s(93567),F=s(57183),O=new l({Extends:a,initialize:function(B){a.call(this);var b=B.config,G={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:G,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=B,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(D){var B,b=this.game,G=this.canvas,V=D.backgroundColor;if(b.config.context?B=b.config.context:B=G.getContext("webgl",D.contextCreation)||G.getContext("experimental-webgl",D.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B;var W=this,H=function(){var I=B.getSupportedExtensions();W.supportedExtensions=I;var N="ANGLE_instanced_arrays";W.instancedArraysExtension=I.indexOf(N)>-1?B.getExtension(N):null;var k="OES_vertex_array_object";W.vaoExtension=I.indexOf(k)>-1?B.getExtension(k):null};H(),this.contextLostHandler=function(I){W.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.emit(u.LOSE_WEBGL,W),I.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(I){if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}W.currentProgram=null,W.currentFramebuffer=null,W.setBlendMode(h.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),W.compression=W.getCompressedTextures();var N=function(k){k.createResource()};d(W.glTextureWrappers,N),d(W.glBufferWrappers,N),d(W.glFramebufferWrappers,N),d(W.glProgramWrappers,N),d(W.glAttribLocationWrappers,N),d(W.glUniformLocationWrappers,N),W.createTemporaryTextures(),W.pipelines.restoreContext(),W.resize(W.game.scale.baseSize.width,W.game.scale.baseSize.height),H(),W.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),W.emit(u.RESTORE_WEBGL,W),I.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),b.context=B;for(var z=0;z<=27;z++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!D.maxTextures||D.maxTextures===-1)&&(D.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),D.maxTextureSize||(D.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL);var U=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return U.indexOf(D.mipmapFilter)!==-1&&(this.mipmapFilter=B[D.mipmapFilter]),this.maxTextures=E.checkShaderMax(B,D.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new o().identity(),b.textures.once(C.READY,this.boot,this),this},boot:function(){var D=this.game,B=this.pipelines,b=D.scale.baseSize,G=b.width,V=b.height;this.width=G,this.height=V,this.isBooted=!0,this.renderTarget=new g(this,G,V,1,0,!0,!0),this.maskTarget=new g(this,G,V,1,0,!0,!0),this.maskSource=new g(this,G,V,1,0,!0,!0);var W=D.config;B.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=D.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=D.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=D.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),D.scale.on(m.RESIZE,this.onResize,this),this.resize(G,V)},createTemporaryTextures:function(){for(var D=this.gl,B=0;B<this.maxTextures;B++){var b=D.createTexture();D.activeTexture(D.TEXTURE0+B),D.bindTexture(D.TEXTURE_2D,b),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,1,1,0,D.RGBA,D.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(D,B){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(D,B,b){},stopCapture:function(){},onCapture:function(D){},onResize:function(D,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(D,B){D===void 0&&(D=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,D,B),this.setProjectionMatrix(D,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(D,B){var b=this.gl;return this.width=D,this.height=B,this.setProjectionMatrix(D,B),b.viewport(0,0,D,B),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-B,D,B),this.defaultScissor[2]=D,this.defaultScissor[3]=B,this.emit(u.RESIZE,D,B),this},getCompressedTextures:function(){var D="WEBGL_compressed_texture_",B="WEBKIT_"+D,b="EXT_texture_compression_",G=function(W,H){var z=W.getExtension(D+H)||W.getExtension(B+H)||W.getExtension(b+H);if(z){var U={};for(var I in z)U[z[I]]=I;return U}},V=this.gl;return{ETC:G(V,"etc"),ETC1:G(V,"etc1"),ATC:G(V,"atc"),ASTC:G(V,"astc"),BPTC:G(V,"bptc"),RGTC:G(V,"rgtc"),PVRTC:G(V,"pvrtc"),S3TC:G(V,"s3tc"),S3TCSRGB:G(V,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(D,B){var b=this.compression[D.toUpperCase()];if(B in b)return b[B]},supportsCompressedTexture:function(D,B){var b=this.compression[D.toUpperCase()];return b?B?B in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(D,B){return(D!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=D,this.projectionHeight=B,this.projectionMatrix.ortho(0,D,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(D){return this.supportedExtensions?this.supportedExtensions.indexOf(D):!1},getExtension:function(D){return this.hasExtension(D)?(D in this.extensions||(this.extensions[D]=this.gl.getExtension(D)),this.extensions[D]):null},flush:function(){this.pipelines.flush()},pushScissor:function(D,B,b,G,V){V===void 0&&(V=this.drawingBufferHeight);var W=this.scissorStack,H=[D,B,b,G];return W.push(H),this.setScissor(D,B,b,G,V),this.currentScissor=H,H},setScissor:function(D,B,b,G,V){V===void 0&&(V=this.drawingBufferHeight);var W=this.gl,H=this.currentScissor,z=b>0&&G>0;if(H&&z){var U=H[0],I=H[1],N=H[2],k=H[3];z=U!==D||I!==B||N!==b||k!==G}z&&(this.flush(),W.scissor(D,V-B-G,b,G))},resetScissor:function(){var D=this.gl;D.enable(D.SCISSOR_TEST);var B=this.currentScissor;if(B){var b=B[0],G=B[1],V=B[2],W=B[3];V>0&&W>0&&D.scissor(b,this.drawingBufferHeight-G-W,V,W)}},popScissor:function(){var D=this.scissorStack;D.pop();var B=D[D.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var D=this.currentMask.mask,B=this.currentCameraMask.mask;return D&&D.isStencil||B&&B.isStencil},resetViewport:function(){var D=this.gl;D.viewport(0,0,this.width,this.height),this.drawingBufferHeight=D.drawingBufferHeight},setBlendMode:function(D,B){B===void 0&&(B=!1);var b=this.gl,G=this.blendModes[D];return B||D!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==D?(this.flush(),b.enable(b.BLEND),b.blendEquation(G.equation),G.func.length>2?b.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):b.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=D,!0):!1},addBlendMode:function(D,B){var b=this.blendModes.push({func:D,equation:B});return b-1},updateBlendMode:function(D,B,b){return this.blendModes[D]&&(this.blendModes[D].func=B,b&&(this.blendModes[D].equation=b)),this},removeBlendMode:function(D){return D>17&&this.blendModes[D]&&this.blendModes.splice(D,1),this},pushFramebuffer:function(D,B,b,G,V){return D===this.currentFramebuffer?this:(this.fboStack.push(D),this.setFramebuffer(D,B,b,G,V))},setFramebuffer:function(D,B,b,G,V){if(B===void 0&&(B=!1),b===void 0&&(b=!0),G===void 0&&(G=null),V===void 0&&(V=!1),D===this.currentFramebuffer)return this;var W=this.gl,H=this.width,z=this.height;return D&&D.renderTexture&&b?(H=D.renderTexture.width,z=D.renderTexture.height):this.flush(),D?W.bindFramebuffer(W.FRAMEBUFFER,D.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),b&&W.viewport(0,0,H,z),G&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,G.webGLTexture,0),V&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),B&&(D?(this.drawingBufferHeight=z,this.pushScissor(0,0,H,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=D,this},popFramebuffer:function(D,B){D===void 0&&(D=!1),B===void 0&&(B=!0);var b=this.fboStack;b.pop();var G=b[b.length-1];return G||(G=null),this.setFramebuffer(G,D,B),G},restoreFramebuffer:function(D,B){D===void 0&&(D=!1),B===void 0&&(B=!0);var b=this.fboStack,G=b[b.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,D,B)},setProgram:function(D){return D!==this.currentProgram?(this.flush(),this.gl.useProgram(D.webGLProgram),this.currentProgram=D,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(D,B,b,G,V){V===void 0&&(V=!1);var W=this.gl,H=W.NEAREST,z=W.NEAREST,U=W.CLAMP_TO_EDGE,I=null;B=D?D.width:B,b=D?D.height:b;var N=v(B,b);if(N&&!V&&(U=W.REPEAT),G===h.ScaleModes.LINEAR&&this.config.antialias){var k=D&&D.compressed,X=!k&&N||k&&D.mipmaps.length>1;H=this.mipmapFilter&&X?this.mipmapFilter:W.LINEAR,z=W.LINEAR}return!D&&typeof B=="number"&&typeof b=="number"?I=this.createTexture2D(0,H,z,U,U,W.RGBA,null,B,b):I=this.createTexture2D(0,H,z,U,U,W.RGBA,D),I},createTexture2D:function(D,B,b,G,V,W,H,z,U,I,N,k){typeof z!="number"&&(z=H?H.width:1),typeof U!="number"&&(U=H?H.height:1);var X=new R(this.gl,D,B,b,G,V,W,H,z,U,I,N,k);return this.glTextureWrappers.push(X),X},createFramebuffer:function(D,B,b,G){this.currentFramebuffer=null;var V=new A(this.gl,D,B,b,G);return this.glFramebufferWrappers.push(V),V},beginBitmapMask:function(D,B){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==D&&(this.currentMask.mask=D,this.currentMask.camera=B))},drawBitmapMask:function(D,B,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),D.renderWebGL(this,D,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,V=this.getCurrentStencilMask();V?(G.enable(G.STENCIL_TEST),V.mask.applyStencil(this,V.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(D,B){var b=new w(this.gl,D,B);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(D,B){var b=this.gl,G=new P(b,D,b.ARRAY_BUFFER,B);return this.glBufferWrappers.push(G),G},createAttribLocation:function(D,B){var b=new L(this.gl,D,B);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(D,B){var b=new F(this.gl,D,B);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(D,B){var b=this.gl,G=new P(b,D,b.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(G),G},deleteTexture:function(D){if(D)return x(this.glTextureWrappers,D),D.destroy(),this},deleteFramebuffer:function(D){return D?(x(this.fboStack,D),x(this.glFramebufferWrappers,D),D.destroy(),this):this},deleteProgram:function(D){return D&&(x(this.glProgramWrappers,D),D.destroy()),this},deleteAttribLocation:function(D){return D&&(x(this.glAttribLocationWrappers,D),D.destroy()),this},deleteUniformLocation:function(D){return D&&(x(this.glUniformLocationWrappers,D),D.destroy()),this},deleteBuffer:function(D){return D?(x(this.glBufferWrappers,D),D.destroy(),this):this},preRenderCamera:function(D){var B=D.x,b=D.y,G=D.width,V=D.height,W=D.backgroundColor;if(D.emit(f.PRE_RENDER,D),this.pipelines.preBatchCamera(D),this.pushScissor(B,b,G,V),D.mask&&(this.currentCameraMask.mask=D.mask,this.currentCameraMask.camera=D._maskCamera,D.mask.preRenderWebGL(this,D,D._maskCamera)),W.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(B,b,G,V,E.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var D=null,B=this.maskStack,b=this.currentCameraMask;return B.length>0?D=B[B.length-1]:b.mask&&b.mask.isStencil&&(D=b),D},postRenderCamera:function(D){var B=D.flashEffect,b=D.fadeEffect;if(B.isRunning||b.isRunning||b.isComplete){var G=this.pipelines.setMulti();B.postRenderWebGL(G,E.getTintFromFloats),b.postRenderWebGL(G,E.getTintFromFloats)}D.dirty=!1,this.popScissor(),D.mask&&(this.currentCameraMask.mask=null,D.mask.postRenderWebGL(this,D._maskCamera)),this.pipelines.postBatchCamera(D),D.emit(f.POST_RENDER,D)},preRender:function(){if(!this.contextLost){var D=this.gl;if(D.bindFramebuffer(D.FRAMEBUFFER,null),this.config.clearBeforeRender){var B=this.config.backgroundColor;D.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)}D.enable(D.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&D.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(u.PRE_RENDER)}},render:function(D,B,b){if(!this.contextLost){var G=B.length;if(this.emit(u.RENDER,D,b),this.preRenderCamera(b),G===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var V=this.currentMask,W=0;W<G;W++){this.finalType=W===G-1;var H=B[W],z=H.mask;V=this.currentMask,V.mask&&V.mask!==z&&V.mask.postRenderWebGL(this,V.camera),z&&V.mask!==z&&z.preRenderWebGL(this,H,b),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var U=H.type;U!==this.currentType&&(this.newType=!0,this.currentType=U),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[W+1].type===this.currentType,H.renderWebGL(this,H,b),this.newType=!1}V=this.currentMask,V.mask&&V.mask.postRenderWebGL(this,V.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var D=this.snapshotState;D.callback&&(M(this.gl,D),D.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var D=this.gl,B=this.getCurrentStencilMask();if(B){var b=B.mask;D.enable(D.STENCIL_TEST),b.invertAlpha?D.stencilFunc(D.NOTEQUAL,b.level,255):D.stencilFunc(D.EQUAL,b.level,255)}},snapshot:function(D,B,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,D,B,b)},snapshotArea:function(D,B,b,G,V,W,H){var z=this.snapshotState;return z.callback=V,z.type=W,z.encoder=H,z.getPixel=!1,z.x=D,z.y=B,z.width=b,z.height=G,this},snapshotPixel:function(D,B,b){return this.snapshotArea(D,B,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(D,B,b,G,V,W,H,z,U,I,N){V===void 0&&(V=!1),W===void 0&&(W=0),H===void 0&&(H=0),z===void 0&&(z=B),U===void 0&&(U=b),I==="pixel"&&(V=!0,I="image/png");var k=this.currentFramebuffer;this.snapshotArea(W,H,z,U,G,I,N);var X=this.snapshotState;return X.getPixel=V,X.isFramebuffer=!0,X.bufferWidth=B,X.bufferHeight=b,X.width=Math.min(X.width,B),X.height=Math.min(X.height,b),this.setFramebuffer(D),M(this.gl,X),this.setFramebuffer(k),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(D,B,b,G){b===void 0&&(b=!1),G===void 0&&(G=!1);var V=this.gl,W=V.NEAREST,H=V.NEAREST,z=D.width,U=D.height,I=V.CLAMP_TO_EDGE,N=v(z,U);return!b&&N&&(I=V.REPEAT),this.config.antialias&&(W=N&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,H=V.LINEAR),B?(B.update(D,z,U,G,I,I,W,H,B.format),B):this.createTexture2D(0,W,H,I,I,V.RGBA,D,z,U,!0,!1,G)},createCanvasTexture:function(D,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.canvasToTexture(D,null,B,b)},updateCanvasTexture:function(D,B,b,G){return b===void 0&&(b=!1),G===void 0&&(G=!1),this.canvasToTexture(D,B,G,b)},videoToTexture:function(D,B,b,G){b===void 0&&(b=!1),G===void 0&&(G=!1);var V=this.gl,W=V.NEAREST,H=V.NEAREST,z=D.videoWidth,U=D.videoHeight,I=V.CLAMP_TO_EDGE,N=v(z,U);return!b&&N&&(I=V.REPEAT),this.config.antialias&&(W=N&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,H=V.LINEAR),B?(B.update(D,z,U,G,I,I,W,H,B.format),B):this.createTexture2D(0,W,H,I,I,V.RGBA,D,z,U,!0,!0,G)},createVideoTexture:function(D,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.videoToTexture(D,null,B,b)},updateVideoTexture:function(D,B,b,G){return b===void 0&&(b=!1),G===void 0&&(G=!1),this.videoToTexture(D,B,G,b)},createUint8ArrayTexture:function(D,B,b){var G=this.gl,V=G.NEAREST,W=G.NEAREST,H=G.CLAMP_TO_EDGE,z=v(B,b);return z&&(H=G.REPEAT),this.createTexture2D(0,V,W,H,H,G.RGBA,D,B,b)},setTextureFilter:function(D,B){var b=this.gl,G=B===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var V=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,D.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,G),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,G),D.minFilter=G,D.magFilter=G,V&&b.bindTexture(b.TEXTURE_2D,V),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var D=function(B){B.destroy()};d(this.glAttribLocationWrappers,D),d(this.glBufferWrappers,D),d(this.glFramebufferWrappers,D),d(this.glProgramWrappers,D),d(this.glTextureWrappers,D),d(this.glUniformLocationWrappers,D),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=O},38683:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95428),f=s(95540),l=s(14500),h=new d({initialize:function(u,v,o,c,p){this.pipeline=u,this.name=v,this.renderer=u.renderer,this.gl=this.renderer.gl,this.fragSrc=c,this.vertSrc=o,this.program=this.renderer.createProgram(o,c),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(a){var u=0,v=0,o=[];this.vertexComponentCount=0;for(var c=0;c<a.length;c++){var p=a[c],g=p.name,m=f(p,"size",1),C=f(p,"type",l.FLOAT),E=C.enum,M=C.size,P=!!p.normalized;o.push({name:g,size:m,type:E,normalized:P,offset:v,enabled:!1,location:-1}),M===4?u+=m:u++,v+=m*M}this.vertexSize=v,this.vertexComponentCount=u,this.attributes=o},bind:function(a,u){return a===void 0&&(a=!1),u===void 0&&(u=!1),u&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var u=this.gl,v=this.renderer,o=this.vertexSize,c=this.attributes,p=this.program,g=0;g<c.length;g++){var m=c[g],C=m.size,E=m.type,M=m.offset,P=m.enabled,w=m.location,R=!!m.normalized;if(a){w!==-1&&v.deleteAttribLocation(w);var A=this.renderer.createAttribLocation(p,m.name);A.webGLAttribLocation>=0?(u.enableVertexAttribArray(A.webGLAttribLocation),u.vertexAttribPointer(A.webGLAttribLocation,C,E,R,o,M),m.enabled=!0,m.location=A):A.webGLAttribLocation!==-1&&u.disableVertexAttribArray(A.webGLAttribLocation)}else P?u.vertexAttribPointer(w.webGLAttribLocation,C,E,R,o,M):!P&&w!==-1&&w.webGLAttribLocation>-1&&(u.disableVertexAttribArray(w.webGLAttribLocation),m.location=-1)}return this},createUniforms:function(){var a=this.gl,u=this.program,v=this.uniforms,o,c,p,g=a.getProgramParameter(u.webGLProgram,a.ACTIVE_UNIFORMS);for(o=0;o<g;o++){var m=a.getActiveUniform(u.webGLProgram,o);if(m){c=m.name,p=this.renderer.createUniformLocation(u,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var C=c.indexOf("[");C>0&&(c=c.substr(0,C),v.hasOwnProperty(c)||(p=this.renderer.createUniformLocation(u,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var u in this.uniforms){var v=this.uniforms[u];v.setter&&v.setter.call(a,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var u=this.uniforms[a];return u&&(u.value1=null,u.value2=null,u.value3=null,u.value4=null),this},setUniform1:function(a,u,v,o){var c=this.uniforms[u];return c?((o||c.value1!==v)&&(c.setter||(c.setter=a),c.value1=v,this.renderer.setProgram(this.program),a.call(this.gl,c.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(a,u,v,o,c){var p=this.uniforms[u];return p?((c||p.value1!==v||p.value2!==o)&&(p.setter||(p.setter=a),p.value1=v,p.value2=o,this.renderer.setProgram(this.program),a.call(this.gl,p.location.webGLUniformLocation,v,o),this.pipeline.currentShader=this),this):this},setUniform3:function(a,u,v,o,c,p){var g=this.uniforms[u];return g?((p||g.value1!==v||g.value2!==o||g.value3!==c)&&(g.setter||(g.setter=a),g.value1=v,g.value2=o,g.value3=c,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,v,o,c),this.pipeline.currentShader=this),this):this},setUniform4:function(a,u,v,o,c,p,g){var m=this.uniforms[u];return m?((g||m.value1!==v||m.value2!==o||m.value3!==c||m.value4!==p)&&(m.setter||(m.setter=a),m.value1=v,m.value2=o,m.value3=c,m.value4=p,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,v,o,c,p),this.pipeline.currentShader=this),this):this},setBoolean:function(a,u){return this.setUniform1(this.gl.uniform1i,a,Number(u))},set1f:function(a,u){return this.setUniform1(this.gl.uniform1f,a,u)},set2f:function(a,u,v){return this.setUniform2(this.gl.uniform2f,a,u,v)},set3f:function(a,u,v,o){return this.setUniform3(this.gl.uniform3f,a,u,v,o)},set4f:function(a,u,v,o,c){return this.setUniform4(this.gl.uniform4f,a,u,v,o,c)},set1fv:function(a,u){return this.setUniform1(this.gl.uniform1fv,a,u,!0)},set2fv:function(a,u){return this.setUniform1(this.gl.uniform2fv,a,u,!0)},set3fv:function(a,u){return this.setUniform1(this.gl.uniform3fv,a,u,!0)},set4fv:function(a,u){return this.setUniform1(this.gl.uniform4fv,a,u,!0)},set1iv:function(a,u){return this.setUniform1(this.gl.uniform1iv,a,u,!0)},set2iv:function(a,u){return this.setUniform1(this.gl.uniform2iv,a,u,!0)},set3iv:function(a,u){return this.setUniform1(this.gl.uniform3iv,a,u,!0)},set4iv:function(a,u){return this.setUniform1(this.gl.uniform4iv,a,u,!0)},set1i:function(a,u){return this.setUniform1(this.gl.uniform1i,a,u)},set2i:function(a,u,v){return this.setUniform2(this.gl.uniform2i,a,u,v)},set3i:function(a,u,v,o){return this.setUniform3(this.gl.uniform3i,a,u,v,o)},set4i:function(a,u,v,o,c){return this.setUniform4(this.gl.uniform4i,a,u,v,o,c)},setMatrix2fv:function(a,u,v){return this.setUniform2(this.gl.uniformMatrix2fv,a,u,v,!0)},setMatrix3fv:function(a,u,v){return this.setUniform2(this.gl.uniformMatrix3fv,a,u,v,!0)},setMatrix4fv:function(a,u,v){return this.setUniform2(this.gl.uniformMatrix4fv,a,u,v,!0)},createProgram:function(a,u){return a===void 0&&(a=this.vertSrc),u===void 0&&(u=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=u,this.program=this.renderer.createProgram(a,u),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;x(this.uniforms,function(u){a.deleteUniformLocation(u.location)}),this.uniforms=null,x(this.attributes,function(u){a.deleteAttribLocation(u.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=h},14500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=T},4159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(14500),x=s(79291),f={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};f=x(!1,f,d),r.exports=f},31302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(78908),l=s(85191),h=s(14500),a=s(29100),u=new d({Extends:a,initialize:function(o){o.fragShader=x(o,"fragShader",f),o.vertShader=x(o,"vertShader",l),o.batchSize=x(o,"batchSize",1),o.vertices=x(o,"vertices",[-1,1,-1,-7,7,1]),o.attributes=x(o,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),a.call(this,o)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,o){a.prototype.resize.call(this,v,o),this.set2f("uResolution",v,o)},beginMask:function(v,o,c){this.renderer.beginBitmapMask(v,c)},endMask:function(v,o,c){var p=this.gl,g=this.renderer,m=v.bitmapMask;m&&p&&(g.drawBitmapMask(m,o,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});r.exports=u},92651:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(58918),f=s(14811),l=s(95540),h=s(43558),a=s(89350),u=s(70554),v=new d({Extends:h,initialize:function(c){c.shaders=[u.setGlowQuality(a.FXGlowFrag,c.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],h.call(this,c);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var g=[];g[f.GLOW]=this.onGlow,g[f.SHADOW]=this.onShadow,g[f.PIXELATE]=this.onPixelate,g[f.VIGNETTE]=this.onVignette,g[f.SHINE]=this.onShine,g[f.BLUR]=this.onBlur,g[f.GRADIENT]=this.onGradient,g[f.BLOOM]=this.onBloom,g[f.COLOR_MATRIX]=this.onColorMatrix,g[f.CIRCLE]=this.onCircle,g[f.BARREL]=this.onBarrel,g[f.DISPLACEMENT]=this.onDisplacement,g[f.WIPE]=this.onWipe,g[f.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(o,c,p){this.source=o,this.target=c,this.swap=p;var g=o.width,m=o.height,C=this.tempSprite,E=this.fxHandlers;if(C&&C.preFX)for(var M=C.preFX.list,P=0;P<M.length;P++){var w=M[P];w.active&&E[w.type].call(this,w,g,m)}this.drawToGame(this.source)},runDraw:function(){var o=this.source,c=this.target;this.copy(o,c),this.source=c,this.target=o},onGlow:function(o,c,p){var g=this.shaders[f.GLOW];this.setShader(g),this.glow.onPreRender(o,g,c,p),this.runDraw()},onShadow:function(o){var c=this.shaders[f.SHADOW];this.setShader(c),this.shadow.onPreRender(o,c),this.runDraw()},onPixelate:function(o,c,p){var g=this.shaders[f.PIXELATE];this.setShader(g),this.pixelate.onPreRender(o,g,c,p),this.runDraw()},onVignette:function(o){var c=this.shaders[f.VIGNETTE];this.setShader(c),this.vignette.onPreRender(o,c),this.runDraw()},onShine:function(o,c,p){var g=this.shaders[f.SHINE];this.setShader(g),this.shine.onPreRender(o,g,c,p),this.runDraw()},onBlur:function(o,c,p){var g=l(o,"quality"),m=this.shaders[f.BLUR+g];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",l(o,"strength")),this.set3fv("color",l(o,"glcolor"));for(var C=l(o,"x"),E=l(o,"y"),M=l(o,"steps"),P=0;P<M;P++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(o){var c=this.shaders[f.GRADIENT];this.setShader(c),this.gradient.onPreRender(o,c),this.runDraw()},onBloom:function(o,c,p){var g=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",l(o,"blurStrength")),this.set3fv("color",l(o,"glcolor"));for(var m=2/c*l(o,"offsetX"),C=2/p*l(o,"offsetY"),E=l(o,"steps"),M=0;M<E;M++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(o,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(o){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",o.getData()),this.set1f("uAlpha",o.alpha),this.runDraw()},onCircle:function(o,c,p){var g=this.shaders[f.CIRCLE];this.setShader(g),this.circle.onPreRender(o,g,c,p),this.runDraw()},onBarrel:function(o){var c=this.shaders[f.BARREL];this.setShader(c),this.barrel.onPreRender(o,c),this.runDraw()},onDisplacement:function(o){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.runDraw()},onWipe:function(o){var c=this.shaders[f.WIPE];this.setShader(c),this.wipe.onPreRender(o,c),this.runDraw()},onBokeh:function(o,c,p){var g=this.shaders[f.BOKEH];this.setShader(g),this.bokeh.onPreRender(o,g,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});r.exports=v},96569:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(31063),l=s(57516),h=s(61340),a=s(26099),u=s(29100),v=new d({Extends:l,initialize:function(c){var p=x(c,"fragShader",f);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),l.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){u.prototype.boot.call(this)},onRender:function(o,c){var p=o.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(c),m=g.length;this.lightsActive=!0;var C,E=this.renderer,M=E.height,P=c.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",m),C=0;C<m;C++){var R=g[C].light,A=R.color,L="uLights["+C+"].";P.transformPoint(R.x,R.y,w),this.set2f(L+"position",w.x-c.scrollX*R.scrollFactorX*c.zoom,M-(w.y-c.scrollY*R.scrollFactorY*c.zoom)),this.set3f(L+"color",A.r,A.g,A.b),this.set1f(L+"intensity",R.intensity),this.set1f(L+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(o){if(o!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(o){var p=-o,g=Math.cos(p),m=Math.sin(p);c[1]=m,c[3]=-m,c[0]=c[4]=g}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=o}},setTexture2D:function(o,c){var p=this.renderer;o===void 0&&(o=p.whiteTexture);var g=this.getNormalMap(c);this.isNewNormalMap(o,g)&&(this.flush(),this.createBatch(o),this.addTextureToBatch(g),this.currentNormalMap=g);var m=0;if(c&&c.parentContainer){var C=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=C.rotationNormalized}else c&&(m=c.rotation);return this.setNormalMapRotation(m),0},setGameObject:function(o,c){c===void 0&&(c=o.frame);var p=c.glTexture,g=this.getNormalMap(o);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),o.parentContainer){var m=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(o.rotation);return 0},isNewNormalMap:function(o,c){return this.currentTexture!==o||this.currentNormalMap!==c},getNormalMap:function(o){var c;if(o)o.displayTexture?c=o.displayTexture.dataSource[o.displayFrame.sourceIndex]:o.texture?c=o.texture.dataSource[o.frame.sourceIndex]:o.tileset&&(Array.isArray(o.tileset)?c=o.tileset[0].image.dataSource[0]:c=o.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return c?c.glTexture:this.renderer.normalTexture},batchSprite:function(o,c,p){this.lightsActive&&l.prototype.batchSprite.call(this,o,c,p)},batchTexture:function(o,c,p,g,m,C,E,M,P,w,R,A,L,F,O,D,B,b,G,V,W,H,z,U,I,N,k,X,Y,$,K,Z){this.lightsActive&&l.prototype.batchTexture.call(this,o,c,p,g,m,C,E,M,P,w,R,A,L,F,O,D,B,b,G,V,W,H,z,U,I,N,k,X,Y,$,K,Z)},batchTextureFrame:function(o,c,p,g,m,C,E){this.lightsActive&&l.prototype.batchTextureFrame.call(this,o,c,p,g,m,C,E)}});r.exports=v},56527:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(57516),l=s(45561),h=s(60722),a=s(14500),u=s(29100),v=new d({Extends:f,initialize:function(c){c.fragShader=x(c,"fragShader",l),c.vertShader=x(c,"vertShader",h),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,c.resizeUniform="uResolution",f.call(this,c)},boot:function(){u.prototype.boot.call(this);var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height),this.set1i("uRoundPixels",o.config.roundPixels)}});r.exports=v},57516:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(94811),f=s(95540),l=s(98840),h=s(44667),a=s(61340),u=s(70554),v=s(14500),o=s(29100),c=new d({Extends:o,initialize:function(g){var m=g.game.renderer,C=f(g,"fragShader",l);g.fragShader=u.parseFragmentShaderMaxTextures(C,m.maxTextures),g.vertShader=f(g,"vertShader",h),g.attributes=f(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),g.resizeUniform="uResolution",o.call(this,g),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){o.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)},batchSprite:function(p,g,m){this.manager.set(this,p);var C=this._tempMatrix1,E=this._tempMatrix2,M=this._tempMatrix3,P=p.frame,w=P.glTexture,R=P.u0,A=P.v0,L=P.u1,F=P.v1,O=P.x,D=P.y,B=P.cutWidth,b=P.cutHeight,G=P.customPivot,V=p.displayOriginX,W=p.displayOriginY,H=-V+O,z=-W+D;if(p.isCropped){var U=p._crop;(U.flipX!==p.flipX||U.flipY!==p.flipY)&&P.updateCropUVs(U,p.flipX,p.flipY),R=U.u0,A=U.v0,L=U.u1,F=U.v1,B=U.width,b=U.height,O=U.x,D=U.y,H=-V+O,z=-W+D}var I=1,N=1;p.flipX&&(G||(H+=-P.realWidth+V*2),I=-1),p.flipY&&(G||(z+=-P.realHeight+W*2),N=-1);var k=p.x,X=p.y;E.applyITRS(k,X,p.rotation,p.scaleX*I,p.scaleY*N),C.copyFrom(g.matrix),m?(C.multiplyWithOffset(m,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),E.e=k,E.f=X):(E.e-=g.scrollX*p.scrollFactorX,E.f-=g.scrollY*p.scrollFactorY),C.multiply(E,M);var Y=M.setQuad(H,z,H+B,z+b),$=u.getTintAppendFloatAlpha,K=g.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),J=$(p.tintTopRight,K*p._alphaTR),Q=$(p.tintBottomLeft,K*p._alphaBL),j=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(p,P);this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",g.roundPixels),this.batchQuad(p,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],R,A,L,F,Z,J,Q,j,p.tintFill,w,_),this.manager.postBatch(p)},batchTexture:function(p,g,m,C,E,M,P,w,R,A,L,F,O,D,B,b,G,V,W,H,z,U,I,N,k,X,Y,$,K,Z,J,Q,j){j===void 0&&(j=!1),this.manager.set(this,p);var _=this._tempMatrix1,q=this._tempMatrix2,it=this._tempMatrix3,ot=V/m+Y,ut=W/C+$,ht=(V+H)/m+Y,tt=(W+z)/C+$,at=P,rt=w,gt=-b,mt=-G;if(p.isCropped){var kt=p._crop,Gt=kt.width,Et=kt.height;at=Gt,rt=Et,P=Gt,w=Et,V=kt.x,W=kt.y;var Ct=V,ee=W;F&&(Ct=H-kt.x-Gt),O&&(ee=z-kt.y-Et),ot=Ct/m+Y,ut=ee/C+$,ht=(Ct+Gt)/m+Y,tt=(ee+Et)/C+$,gt=-b+V,mt=-G+W}O=O^(!J&&g.isRenderTexture?1:0),F&&(at*=-1,gt+=P),O&&(rt*=-1,mt+=w),q.applyITRS(E,M,L,R,A),_.copyFrom(K.matrix),Z?(_.multiplyWithOffset(Z,-K.scrollX*D,-K.scrollY*B),q.e=E,q.f=M):(q.e-=K.scrollX*D,q.f-=K.scrollY*B),_.multiply(q,it);var bt=it.setQuad(gt,mt,gt+at,mt+rt);Q==null&&(Q=this.setTexture2D(g)),p&&!j&&this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",K.roundPixels),this.batchQuad(p,bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],ot,ut,ht,tt,U,I,N,k,X,g,Q),p&&!j&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,m,C,E,M,P){this.manager.set(this);var w=this._tempMatrix1.copyFrom(M),R=this._tempMatrix2;P?w.multiply(P,R):R=w;var A=R.setQuad(g,m,g+p.width,m+p.height),L=this.setTexture2D(p.source.glTexture);C=u.getTintAppendFloatAlpha(C,E),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],p.u0,p.v0,p.u1,p.v1,C,C,C,C,0,p.glTexture,L)},batchFillRect:function(p,g,m,C,E,M){this.renderer.pipelines.set(this);var P=this.calcMatrix;M&&M.multiply(E,P);var w=P.setQuad(p,g,p+m,g+C),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(p,g,m,C,E,M,P,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(P,R);var A=R.getX(p,g),L=R.getY(p,g),F=R.getX(m,C),O=R.getY(m,C),D=R.getX(E,M),B=R.getY(E,M),b=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,A,L,F,O,D,B,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(p,g,m,C,E,M,P,w,R){var A=this.tempTriangle;A[0].x=p,A[0].y=g,A[0].width=P,A[1].x=m,A[1].y=C,A[1].width=P,A[2].x=E,A[2].y=M,A[2].width=P,A[3].x=p,A[3].y=g,A[3].width=P,this.batchStrokePath(A,P,!1,w,R)},batchFillPath:function(p,g,m){this.renderer.pipelines.set(this);var C=this.calcMatrix;m&&m.multiply(g,C);for(var E=p.length,M=this.polygonCache,P,w,R=this.fillTint.TL,A=this.fillTint.TR,L=this.fillTint.BL,F=0;F<E;++F)w=p[F],M.push(w.x,w.y);P=x(M),E=P.length,this.currentShader.set1i("uRoundPixels",!1);for(var O=0;O<E;O+=3){var D=P[O+0]*2,B=P[O+1]*2,b=P[O+2]*2,G=M[D+0],V=M[D+1],W=M[B+0],H=M[B+1],z=M[b+0],U=M[b+1],I=C.getX(G,V),N=C.getY(G,V),k=C.getX(W,H),X=C.getY(W,H),Y=C.getX(z,U),$=C.getY(z,U);this.batchTri(null,I,N,k,X,Y,$,0,0,1,1,R,A,L,2)}M.length=0},batchStrokePath:function(p,g,m,C,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var M=p.length-1,P=0;P<M;P++){var w=p[P],R=p[P+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,g,P,!m&&P===M-1,C,E)}},batchLine:function(p,g,m,C,E,M,P,w,R,A,L){this.renderer.pipelines.set(this);var F=this.calcMatrix;L&&L.multiply(A,F);var O=m-p,D=C-g,B=Math.sqrt(O*O+D*D);if(B!==0){var b=E*(C-g)/B,G=E*(p-m)/B,V=M*(C-g)/B,W=M*(p-m)/B,H=m-V,z=C-W,U=p-b,I=g-G,N=m+V,k=C+W,X=p+b,Y=g+G,$=F.getX(H,z),K=F.getY(H,z),Z=F.getX(U,I),J=F.getY(U,I),Q=F.getX(N,k),j=F.getY(N,k),_=F.getX(X,Y),q=F.getY(X,Y),it=this.strokeTint,ot=it.TL,ut=it.TR,ht=it.BL,tt=it.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,_,q,Z,J,$,K,Q,j,0,0,1,1,ot,ut,ht,tt,2),!(P<=2)){var at=this.prevQuad,rt=this.firstQuad;w>0&&at[4]?this.batchQuad(null,_,q,Z,J,at[0],at[1],at[2],at[3],0,0,1,1,ot,ut,ht,tt,2):(rt[0]=_,rt[1]=q,rt[2]=Z,rt[3]=J,rt[4]=1),R&&rt[4]?this.batchQuad(null,$,K,Q,j,rt[0],rt[1],rt[2],rt[3],0,0,1,1,ot,ut,ht,tt,2):(at[0]=$,at[1]=K,at[2]=Q,at[3]=j,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,o.prototype.destroy.call(this),this}});r.exports=c},43439:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(4127),l=s(89924),h=s(29100),a=new d({Extends:h,initialize:function(v){v.vertShader=x(v,"vertShader",l),v.fragShader=x(v,"fragShader",f),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,v)},onRender:function(u,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(u,v,o,c,p,g,m,C,E,M,P,w){var R=u.color,A=u.intensity,L=u.radius,F=u.attenuation,O=R.r*A,D=R.g*A,B=R.b*A,b=v.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(o,c,P,w,L,F,O,D,B,b),this.batchLightVert(p,g,P,w,L,F,O,D,B,b),this.batchLightVert(m,C,P,w,L,F,O,D,B,b),this.batchLightVert(o,c,P,w,L,F,O,D,B,b),this.batchLightVert(m,C,P,w,L,F,O,D,B,b),this.batchLightVert(E,M,P,w,L,F,O,D,B,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(u,v,o,c,p,g,m,C,E,M){var P=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++w]=u,P[++w]=v,P[++w]=o,P[++w]=c,P[++w]=p,P[++w]=g,P[++w]=m,P[++w]=C,P[++w]=E,P[++w]=M,this.vertexCount++}});r.exports=a},84057:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(89422),f=s(95540),l=s(27681),h=s(49627),a=s(29100),u=new d({Extends:a,initialize:function(o){o.renderTarget=f(o,"renderTarget",1),o.fragShader=f(o,"fragShader",l),o.vertShader=f(o,"vertShader",h),o.attributes=f(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),o.batchSize=1,o.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,o),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height),this.set1i("uRoundPixels",o.config.roundPixels);for(var c=this.renderTargets,p=0;p<c.length;p++)c[p].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,o,c){c===void 0&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,v.texture.webGLTexture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,o.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,o.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(v,o,c,p,g){this.manager.copyFrame(v,o,c,p,g)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,o,c){this.manager.drawFrame(v,o,c,this.colorMatrix)},blendFrames:function(v,o,c,p,g){this.manager.blendFrames(v,o,c,p,g)},blendFramesAdditive:function(v,o,c,p,g){this.manager.blendFramesAdditive(v,o,c,p,g)},clearFrame:function(v,o){this.manager.clearFrame(v,o)},blitFrame:function(v,o,c,p,g,m){this.manager.blitFrame(v,o,c,p,g,m)},copyFrameRect:function(v,o,c,p,g,m,C,E){this.manager.copyFrameRect(v,o,c,p,g,m,C,E)},bindAndDraw:function(v,o,c,p,g){c===void 0&&(c=!0),p===void 0&&(p=!0);var m=this.gl,C=this.renderer;this.bind(g),this.set1i("uMainSampler",0),o?(m.viewport(0,0,o.width,o.height),m.bindFramebuffer(m.FRAMEBUFFER,o.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,o.texture.webGLTexture,0),c&&(p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||m.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),o&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});r.exports=u},43558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(67502),f=s(83419),l=s(96293),h=s(95540),a=s(57516),u=s(27681),v=s(87841),o=s(32302),c=s(45561),p=s(60722),g=s(29100),m=new f({Extends:a,initialize:function(E){var M=h(E,"fragShader",u),P=h(E,"vertShader",p),w=h(E,"drawShader",u),R=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:M,vertShader:P},{name:"DrawGame",fragShader:w,vertShader:p},{name:"ColorMatrix",fragShader:l}],A=h(E,"shaders",[]);E.shaders=R.concat(A),E.vertShader||(E.vertShader=P),E.batchSize=1,a.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var C=this.shaders,E=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new o(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var M=new ArrayBuffer(168);this.quadVertexData=M,this.quadVertexViewF32=new Float32Array(M),this.quadVertexBuffer=E.createVertexBuffer(M,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height),this.set1i("uRoundPixels",E.config.roundPixels)},onResize:function(C,E){var M=this.quadVertexViewF32;M[1]=E,M[22]=E,M[14]=C,M[28]=C,M[35]=C,M[36]=E},batchQuad:function(C,E,M,P,w,R,A,L,F,O,D,B,b,G,V,W,H,z,U){var I=Math.min(E,P,R,L),N=Math.min(M,w,A,F),k=Math.max(E,P,R,L),X=Math.max(M,w,A,F),Y=k-I,$=X-N,K=this.spriteBounds.setTo(I,N,Y,$),Z=C?C.preFX.padding:0,J=Y+Z*2,Q=$+Z*2,j=Math.abs(Math.max(J,Q)),_=this.manager.getRenderTarget(j),q=this.targetBounds.setTo(0,0,_.width,_.height);x(q,K.centerX,K.centerY),this.tempSprite=C;var it=this.gl,ot=this.renderer;ot.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ot.width,ot.height),this.set1i("uRoundPixels",ot.config.roundPixels),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,_),C.preFX.onFX(this));var ut=this.fsTarget;return this.flush(),it.viewport(0,0,ot.width,ot.height),it.bindFramebuffer(it.FRAMEBUFFER,ut.framebuffer.webGLFramebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,ut.texture.webGLTexture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(E,M,O,D,0,z,G),this.batchVert(P,w,O,b,0,z,W),this.batchVert(R,A,B,b,0,z,H),this.batchVert(E,M,O,D,0,z,G),this.batchVert(R,A,B,b,0,z,H),this.batchVert(L,F,B,D,0,z,V),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,_.texture.webGLTexture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,E,M,P,w,R,A){M===void 0&&(M=!0),P===void 0&&(P=!0),w===void 0&&(w=!1),A===void 0&&(A=this.copyShader);var L=this.gl,F=this.tempSprite;R&&(A=this.colorMatrixShader),this.currentShader=A;var O=this.setVertexBuffer(this.quadVertexBuffer);A.bind(O,!1);var D=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",D.width,D.height),this.set1i("uRoundPixels",D.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(C,E,F),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,C.texture.webGLTexture),C.height>E.height)L.viewport(0,0,C.width,C.height),this.setTargetUVs(C,E);else{var B=E.height-C.height;L.viewport(0,B,C.width,C.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,E.texture.webGLTexture,0),M&&(L.clearColor(0,0,0,+!P),L.clear(L.COLOR_BUFFER_BIT)),w){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(d.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),w&&this.renderer.setBlendMode(b),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(C,E){var M=this.gl;this.set1i("uMainSampler",0),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,C.texture.webGLTexture),M.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),M.bindFramebuffer(M.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,E.texture.webGLTexture,0),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null)},blendFrames:function(C,E,M,P,w){this.manager.blendFrames(C,E,M,P,w)},blendFramesAdditive:function(C,E,M,P,w){this.manager.blendFramesAdditive(C,E,M,P,w)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var E=this.gl,M=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var P=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,A=w+C.width,L=R+C.height,F=P.getX(w,R),O=P.getX(w,L),D=P.getX(A,L),B=P.getX(A,R),b=P.getY(w,R),G=P.getY(w,L),V=P.getY(A,L),W=P.getY(A,R),H=16777215;this.batchVert(F,b,0,0,0,0,H),this.batchVert(O,G,0,1,0,0,H),this.batchVert(D,V,1,1,0,0,H),this.batchVert(F,b,0,0,0,0,H),this.batchVert(D,V,1,1,0,0,H),this.batchVert(B,W,1,0,0,0,H),M.restoreFramebuffer(!1,!0),M.currentFramebuffer||E.viewport(0,0,M.width,M.height),M.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,E,M,P,w,R,A,L){var F=this.quadVertexViewF32;F[2]=C,F[3]=E,F[9]=M,F[10]=P,F[16]=w,F[17]=R,F[23]=C,F[24]=E,F[30]=w,F[31]=R,F[37]=A,F[38]=L},setTargetUVs:function(C,E){var M=E.height/C.height;M>.5?M=.5-(M-.5):M=.5+(.5-M),this.setUVs(0,M,0,1+M,1,1+M,1,M)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});r.exports=m},81041:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(57516),l=new d({Extends:f,initialize:function(a){a.topology=5,a.batchSize=x(a,"batchSize",256),f.call(this,a)}});r.exports=l},12385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(57516),l=s(45561),h=s(60722),a=s(29100),u=new d({Extends:f,initialize:function(o){o.fragShader=x(o,"fragShader",l),o.vertShader=x(o,"vertShader",h),o.forceZero=!0,f.call(this,o)},boot:function(){a.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)}});r.exports=u},7589:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35407),x=s(10312),f=s(83419),l=s(89422),h=s(96293),a=s(36682),u=s(95540),v=s(48247),o=s(49627),c=s(29100),p=new f({Extends:c,initialize:function(m){m.renderTarget=u(m,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),m.vertShader=u(m,"vertShader",o),m.shaders=u(m,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:d},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:h}]),m.attributes=u(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,c.call(this,m),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var g=this.shaders,m=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(g,m,C,E,M){C===void 0&&(C=1),E===void 0&&(E=!0),M===void 0&&(M=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,g.texture.webGLTexture),m?(P.viewport(0,0,m.width,m.height),P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture.webGLTexture,0)):P.viewport(0,0,g.width,g.height),E&&(M?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blitFrame:function(g,m,C,E,M,P,w){C===void 0&&(C=1),E===void 0&&(E=!0),M===void 0&&(M=!0),P===void 0&&(P=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture.webGLTexture),g.height>m.height)R.viewport(0,0,g.width,g.height),this.setTargetUVs(g,m);else{var A=m.height-g.height;R.viewport(0,A,g.width,g.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture.webGLTexture,0),E&&(M?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),P){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),P&&this.renderer.setBlendMode(L),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,m,C,E,M,P,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),w&&(R?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,C,E,M,P),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(g){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(g,m,C,E){C===void 0&&(C=!0),E===void 0&&(E=this.colorMatrix);var M=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,g.texture.webGLTexture),m?(M.viewport(0,0,m.width,m.height),M.bindFramebuffer(M.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,m.texture.webGLTexture,0)):M.viewport(0,0,g.width,g.height),C?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFrames:function(g,m,C,E,M,P){E===void 0&&(E=1),M===void 0&&(M=!0),P===void 0&&(P=this.linearShader);var w=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),C?(w.bindFramebuffer(w.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,C.texture.webGLTexture,0),w.viewport(0,0,C.width,C.height)):w.viewport(0,0,g.width,g.height),M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(g,m,C,E,M){this.blendFrames(g,m,C,E,M,this.addShader)},clearFrame:function(g,m){m===void 0&&(m=!0);var C=this.gl;C.viewport(0,0,g.width,g.height),C.bindFramebuffer(C.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,E.webGLFramebuffer)},setUVs:function(g,m,C,E,M,P,w,R){var A=this.vertexViewF32;A[2]=g,A[3]=m,A[6]=C,A[7]=E,A[10]=M,A[11]=P,A[14]=g,A[15]=m,A[18]=M,A[19]=P,A[22]=w,A[23]=R},setTargetUVs:function(g,m){var C=m.height/g.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=p},36060:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=T},84817:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"},36712:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"},40285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"},65918:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"},92852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"},56072:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"},57566:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"},77085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(99155),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(h,a){h=this.getController(h),this.set1f("amount",h.amount,a)}});r.exports=l},67329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(24400),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var a=this.getController(),u=this.fullFrame1,v=this.fullFrame2;this.copyFrame(h,v);for(var o=2/h.width*a.offsetX,c=2/h.height*a.offsetY,p=0;p<a.steps;p++)this.set2f("offset",o,0),this.copySprite(h,u),this.set2f("offset",0,c),this.copySprite(u,h);this.blendFrames(v,h,u,a.strength),this.copyToGame(u)}});r.exports=l},8861:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(41514),f=s(51078),l=s(94328),h=s(84057),a=new d({Extends:h,initialize:function(v){h.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(u){var v=this.getController(),o=this.gl,c=this.fullFrame1,p=o.getParameter(o.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),o.activeTexture(o.TEXTURE0),o.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var g=0;g<v.steps;g++)this.set2f("offset",v.x,0),this.copySprite(u,c),this.set2f("offset",0,v.y),this.copySprite(c,u);o.bindFramebuffer(o.FRAMEBUFFER,p),o.bindTexture(o.TEXTURE_2D,null),this.copyToGame(u)}});r.exports=a},51051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(90610),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,a,u,v){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("amount",h.amount,a),this.set1f("contrast",h.contrast,a),this.set1f("strength",h.strength,a),this.set2f("blur",h.blurX,h.blurY,a),this.setBoolean("isTiltShift",h.isTiltShift,a),u&&v&&this.set2f("resolution",u,v,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=l},89428:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(91899),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,a,u,v){h=this.getController(h),this.set1f("scale",h.scale,a),this.set1f("feather",h.feather,a),this.set1f("thickness",h.thickness,a),this.set3fv("color",h.glcolor,a),this.set4fv("backgroundColor",h.glcolor2,a),u&&v&&this.set2f("resolution",u,v,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=l},88904:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(84057),f=new d({Extends:x,initialize:function(h){x.call(this,{game:h})},onDraw:function(l){var h=this.fullFrame1;this.controller?this.manager.drawFrame(l,h,!0,this.controller):this.drawFrame(l,h),this.copyToGame(h)}});r.exports=f},63563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(47838),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var a=this.game.textures.getFrame(h);a&&(this.glTexture=a.glTexture)},onDraw:function(h){var a=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(h,u),this.copyToGame(u)}});r.exports=l},94045:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=s(98656),l=s(84057),h=s(70554),a=new d({Extends:l,initialize:function(v,o){var c=x(o,"quality",.1),p=x(o,"distance",10);l.call(this,{game:v,fragShader:h.setGlowQuality(f,v,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(u,v,o,c){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,v),this.set1f("innerStrength",u.innerStrength,v),this.set4fv("glowColor",u.glcolor,v),this.setBoolean("knockout",u.knockout,v),o&&c&&this.set2f("resolution",o,c,v)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=a},74088:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(70463),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,a){h=this.getController(h),this.set1f("alpha",h.alpha,a),this.set1i("size",h.size,a),this.set3fv("color1",h.glcolor1,a),this.set3fv("color2",h.glcolor2,a),this.set2f("positionFrom",h.fromX,h.fromY,a),this.set2f("positionTo",h.toX,h.toY,a)}});r.exports=l},99636:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50831),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(h,a,u,v){h=this.getController(h),this.set1f("amount",h.amount,a),u&&v&&this.set2f("resolution",u,v,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=l},34700:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(92595),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,a){h=this.getController(h);var u=h.samples;this.set1i("samples",u,a),this.set1f("intensity",h.intensity,a),this.set1f("decay",h.decay,a),this.set1f("power",h.power/u,a),this.set2f("lightPosition",h.x,h.y,a),this.set4fv("color",h.glcolor,a)}});r.exports=l},91157:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(72464),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,a,u,v){h=this.getController(h),this.setTime("time",a),this.set1f("speed",h.speed,a),this.set1f("lineWidth",h.lineWidth,a),this.set1f("gradient",h.gradient,a),this.setBoolean("reveal",h.reveal,a),u&&v&&this.set2f("resolution",u,v,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=l},27797:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(39249),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,a){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("strength",h.strength,a),this.set2f("position",h.x,h.y,a)}});r.exports=l},67603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(2878),f=s(84057),l=new d({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,a){h=this.getController(h);var u=h.progress,v=h.wipeWidth,o=h.direction,c=h.axis;this.set4f("config",u,v,o,c,a),this.setBoolean("reveal",h.reveal,a)}});r.exports=l},58918:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};r.exports=d},96615:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(36060),x=s(79291),f={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};f=x(!1,f,d),r.exports=f},35407:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a){this.webGLAttribLocation=-1,this.gl=l,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=x},26128:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=h,this.bufferType=a,this.bufferUsage=u,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var l=this.bufferType,h=f.createBuffer();this.webGLBuffer=h,f.bindBuffer(l,this.webGLBuffer),f.bufferData(l,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(l,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=x},84387:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new d({initialize:function(h,a,u,v,o){this.webGLFramebuffer=null,this.gl=h,this.width=a,this.height=u,this.renderTexture=v,this.addDepthStencilBuffer=!!o,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var h=this.renderTexture,a=0,u=l.createFramebuffer();if(this.webGLFramebuffer=u,l.bindFramebuffer(l.FRAMEBUFFER,u),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,h.webGLTexture,0),a=l.checkFramebufferStatus(l.FRAMEBUFFER),a!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[a]||a));if(this.addDepthStencilBuffer){var v=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,v),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,v)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var h=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(h));var a=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&l.deleteRenderbuffer(a),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=f},1482:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a){this.webGLProgram=null,this.gl=l,this.vertexSource=h,this.fragmentSource=a,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var l=f.createProgram(),h=f.createShader(f.VERTEX_SHADER),a=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(h,this.vertexSource),f.shaderSource(a,this.fragmentSource),f.compileShader(h),f.compileShader(a);var u=`Shader failed:
`;if(!f.getShaderParameter(h,f.COMPILE_STATUS))throw new Error("Vertex "+u+f.getShaderInfoLog(h));if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw new Error("Fragment "+u+f.getShaderInfoLog(a));if(f.attachShader(l,h),f.attachShader(l,a),f.linkProgram(l),!f.getProgramParameter(l,f.LINK_STATUS))throw new Error("Link "+u+f.getProgramInfoLog(l));f.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=x},82751:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50030),f=new d({initialize:function(h,a,u,v,o,c,p,g,m,C,E,M,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=a,this.minFilter=u,this.magFilter=v,this.wrapT=o,this.wrapS=c,this.format=p,this.pixels=g,this.width=m,this.height=C,this.pma=E??!0,this.forceSize=!!M,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var h=l.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(l,h,a,u,v,o,c,p,g){if(!(h===0||a===0)){this.pixels=l,this.width=h,this.height=a,this.flipY=u,this.wrapS=v,this.wrapT=o,this.minFilter=c,this.magFilter=p,this.format=g;var m=this.gl;m.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var h=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,u=this.mipLevel,v=this.width,o=this.height,c=this.format,p=!1;if(a==null)l.texImage2D(l.TEXTURE_2D,u,c,v,o,0,c,l.UNSIGNED_BYTE,null),p=x(v,o);else if(a.compressed){v=a.width,o=a.height,p=a.generateMipmap;for(var g=0;g<a.mipmaps.length;g++)l.compressedTexImage2D(l.TEXTURE_2D,g,a.internalFormat,a.mipmaps[g].width,a.mipmaps[g].height,0,a.mipmaps[g].data)}else a instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,u,c,v,o,0,c,l.UNSIGNED_BYTE,a),p=x(v,o)):(this.forceSize||(v=a.width,o=a.height),l.texImage2D(l.TEXTURE_2D,u,c,c,l.UNSIGNED_BYTE,a),p=x(v,o));p&&l.generateMipmap(l.TEXTURE_2D),h?l.bindTexture(l.TEXTURE_2D,h):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=f},57183:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a){this.webGLUniformLocation=null,this.gl=l,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=x},9503:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};r.exports=d},76531:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(13560),x=s(83419),f=s(50792),l=s(97480),h=s(8443),a=s(57811),u=s(74403),v=s(45818),o=s(29747),c=s(87841),p=s(86555),g=s(56583),m=s(26099),C=s(38058),E=new x({Extends:f,initialize:function(P){f.call(this),this.game=P,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=d.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=d.CENTER.NO_CENTER,this.orientation=d.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:o,windowResize:o,fullScreenChange:o,fullScreenError:o}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var M=this.game;this.canvas=M.canvas,this.fullscreen=M.device.fullscreen,this.scaleMode!==d.SCALE_MODE.RESIZE&&this.scaleMode!==d.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===d.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),M.events.on(h.PRE_STEP,this.step,this),M.events.once(h.READY,this.refresh,this),M.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(M){this.getParent(M),this.getParentBounds();var P=M.width,w=M.height,R=M.scaleMode,A=M.zoom,L=M.autoRound;if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var O=parseInt(P,10)/100;P=Math.floor(F*O)}if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var B=parseInt(w,10)/100;w=Math.floor(D*B)}this.scaleMode=R,this.autoRound=L,this.autoCenter=M.autoCenter,this.resizeInterval=M.resizeInterval,L&&(P=Math.floor(P),w=Math.floor(w)),this.gameSize.setSize(P,w),A===d.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(P,w),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),M.minWidth>0&&this.displaySize.setMin(M.minWidth*A,M.minHeight*A),M.maxWidth>0&&this.displaySize.setMax(M.maxWidth*A,M.maxHeight*A),this.displaySize.setSize(P,w),(M.snapWidth>0||M.snapHeight>0)&&this.displaySize.setSnap(M.snapWidth,M.snapHeight),this.orientation=v(P,w)},getParent:function(M){var P=M.parent;if(P!==null){if(this.parent=u(P),this.parentIsWindow=this.parent===document.body,M.expandParent&&M.scaleMode!==d.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}M.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(M.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var M=this.parentSize,P=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(P.height=a(!0));var w=P.width,R=P.height;if(M.width!==w||M.height!==R)return M.setSize(w,R),!0;if(this.canvas){var A=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==A.x||L.y!==A.y)return!0}return!1},lockOrientation:function(M){var P=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return P?P.call(screen,M):!1},setParentSize:function(M,P){return this.parentSize.setSize(M,P),this.refresh()},setGameSize:function(M,P){var w=this.autoRound;w&&(M=Math.floor(M),P=Math.floor(P));var R=this.width,A=this.height;return this.gameSize.resize(M,P),this.baseSize.resize(M,P),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(M/P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,A)},resize:function(M,P){var w=this.zoom,R=this.autoRound;R&&(M=Math.floor(M),P=Math.floor(P));var A=this.width,L=this.height;this.gameSize.resize(M,P),this.baseSize.resize(M,P),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(M*w,P*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,O=M*w,D=P*w;return R&&(O=Math.floor(O),D=Math.floor(D)),(O!==M||D!==P)&&(F.width=O+"px",F.height=D+"px"),this.refresh(A,L)},setZoom:function(M){return this.zoom=M,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(M,P){return M===void 0&&(M=0),P===void 0&&(P=M),this.displaySize.setSnap(M,P),this.refresh()},refresh:function(M,P){M===void 0&&(M=this.width),P===void 0&&(P=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var R=this.canvas.style,A=w.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=R.marginLeft,A.marginTop=R.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,M,P),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var M=v(this.width,this.height);M!==this.orientation&&(this.orientation=M,this.emit(l.ORIENTATION_CHANGE,M))}},updateScale:function(){var M=this.canvas.style,P=this.gameSize.width,w=this.gameSize.height,R,A,L=this.zoom,F=this.autoRound;if(this.scaleMode===d.SCALE_MODE.NONE)this.displaySize.setSize(P*L,w*L),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this._resetZoom&&(M.width=R+"px",M.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===d.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A;else if(this.scaleMode===d.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),M.width=R+"px",M.height=A+"px";var O=this.parentSize.width/this.gameSize.width,D=this.parentSize.height/this.gameSize.height;O<D?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/O):this.baseSize.setSize(this.displaySize.width/D,this.gameSize.height),R=this.baseSize.width,A=this.baseSize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),M.width=R+"px",M.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var M=g(this.parentSize.width,this.gameSize.width,0,!0),P=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(M,P),1)},updateCenter:function(){var M=this.autoCenter;if(M!==d.CENTER.NO_CENTER){var P=this.canvas,w=P.style,R=P.getBoundingClientRect(),A=R.width,L=R.height,F=Math.floor((this.parentSize.width-A)/2),O=Math.floor((this.parentSize.height-L)/2);M===d.CENTER.CENTER_HORIZONTALLY?O=0:M===d.CENTER.CENTER_VERTICALLY&&(F=0),w.marginLeft=F+"px",w.marginTop=O+"px"}},updateBounds:function(){var M=this.canvasBounds,P=this.canvas.getBoundingClientRect();M.x=P.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),M.y=P.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),M.width=P.width,M.height=P.height},transformX:function(M){return(M-this.canvasBounds.left)*this.displayScale.x},transformY:function(M){return(M-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(M){M===void 0&&(M={navigationUI:"hide"});var P=this.fullscreen;if(!P.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!P.active){var w=this.getFullscreenTarget();P.keyboard?w[P.request](Element.ALLOW_KEYBOARD_INPUT):w[P.request](M)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(M){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,M)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var M=document.createElement("div");M.style.margin="0",M.style.padding="0",M.style.width="100%",M.style.height="100%",this.fullscreenTarget=M,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var P=this.canvas.parentNode;P.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var M=this.fullscreenTarget;if(M&&M.parentNode){var P=M.parentNode;P.insertBefore(this.canvas,M),P.removeChild(M)}}},stopFullscreen:function(){var M=this.fullscreen;if(!M.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;M.active&&document[M.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(M){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(M)},startListeners:function(){var M=this,P=this.domlisteners;if(P.orientationChange=function(){M.updateBounds(),M._checkOrientation=!0,M.dirty=!0,M.refresh()},P.windowResize=function(){M.updateBounds(),M.dirty=!0},window.addEventListener("orientationchange",P.orientationChange,!1),window.addEventListener("resize",P.windowResize,!1),this.fullscreen.available){P.fullScreenChange=function(R){return M.onFullScreenChange(R)},P.fullScreenError=function(R){return M.onFullScreenError(R)};var w=["webkit","moz",""];w.forEach(function(R){document.addEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.addEventListener("MSFullscreenError",P.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(M,P){M instanceof C||(P=M,M=void 0),P===void 0&&(P=new c);var w=this.baseSize,R=this.parentSize,A=this.canvasBounds,L=this.displayScale,F=A.x>=0?0:-(A.x*L.x),O=A.y>=0?0:-(A.y*L.y),D;R.width>=A.width?D=w.width:D=w.width-(A.width-R.width)*L.x;var B;return R.height>=A.height?B=w.height:B=w.height-(A.height-R.height)*L.y,P.setTo(F,O,D,B),M&&(P.width/=M.zoomX,P.height/=M.zoomY,P.centerX=M.centerX+M.scrollX,P.centerY=M.centerY+M.scrollY),P},step:function(M,P){this.parent&&(this._lastCheck+=P,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var M=this.domlisteners;window.removeEventListener("orientationchange",M.orientationChange,!1),window.removeEventListener("resize",M.windowResize,!1);var P=["webkit","moz",""];P.forEach(function(w){document.removeEventListener(w+"fullscreenchange",M.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",M.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",M.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===d.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===d.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=E},64743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};r.exports=d},56139:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"},2336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"},47412:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"},51452:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"},20666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"},47945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},97480:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=s(13560),f={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};f=d(!1,f,x.CENTER),f=d(!1,f,x.ORIENTATION),f=d(!1,f,x.SCALE_MODE),f=d(!1,f,x.ZOOM),r.exports=f},27397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=s(35355),f=function(l){var h=l.game.config.defaultPhysicsSystem,a=d(l.settings,"physics",!1);if(!(!h&&!a)){var u=[];if(h&&u.push(x(h+"Physics")),a)for(var v in a)v=x(v.concat("Physics")),u.indexOf(v)===-1&&u.push(v);return u}};r.exports=f},52106:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=function(f){var l=f.plugins.getDefaultScenePlugins(),h=d(f.settings,"plugins",!1);return Array.isArray(h)?h:l||[]};r.exports=x},87033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=T},97482:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(2368),f=new d({initialize:function(h){this.sys=new x(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=f},60903:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(89993),f=s(44594),l=s(8443),h=s(35154),a=s(54899),u=s(29747),v=s(97482),o=s(2368),c=new d({initialize:function(g,m){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++)this._pending.push({key:"default",scene:m[C],autoStart:C===0,data:{}})}g.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var p,g,m,C;for(p=0;p<this._pending.length;p++){g=this._pending[p],m=g.key,C=g.scene;var E;C instanceof v?E=this.createSceneFromInstance(m,C):typeof C=="object"?E=this.createSceneFromObject(m,C):typeof C=="function"&&(E=this.createSceneFromFunction(m,C)),m=E.sys.settings.key,this.keys[m]=E,this.scenes.push(E),this._data[m]&&(E.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(g.autoStart=!0)),(g.autoStart||E.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var m,C;if(p){for(m=0;m<p;m++)C=this._pending[m],this.add(C.key,C.scene,C.autoStart,C.data);for(m=0;m<this._start.length;m++)C=this._start[m],this.start(C);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)C=this._queue[m],this[C.op](C.keyA,C.keyB);this._queue.length=0}},add:function(p,g,m,C){if(m===void 0&&(m=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:m,data:C}),this.isBooted||(this._data[p]={data:C}),null;p=this.getKey(p,g);var E;return g instanceof v?E=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,E=this.createSceneFromObject(p,g)):typeof g=="function"&&(E=this.createSceneFromFunction(p,g)),E.sys.settings.data=C,p=E.sys.settings.key,this.keys[p]=E,this.scenes.push(E),(m||E.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),E},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var m=this.scenes.indexOf(g),C=g.sys.settings.key;m>-1&&(delete this.keys[C],this.scenes.splice(m,1),this._start.indexOf(C)>-1&&(m=this._start.indexOf(C),this._start.splice(m,1)),g.sys.destroy())}return this},bootScene:function(p){var g=p.sys,m=g.settings;g.sceneUpdate=u,p.init&&(p.init.call(p,m.data),m.status=x.INIT,m.isTransition&&g.events.emit(f.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var C;g.load&&(C=g.load,C.reset()),C&&p.preload?(p.preload.call(p),m.status=x.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var C=this.scenes[m].sys;C.settings.status>x.START&&C.settings.status<=x.RUNNING&&C.step(p,g),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.settings.visible&&m.settings.status>=x.LOADING&&m.settings.status<x.SLEEPING&&m.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,m=g.settings;p.create&&(m.status=x.CREATING,p.create.call(p,m.data),m.status===x.DESTROYED)||(m.isTransition&&g.events.emit(f.TRANSITION_START,m.transitionFrom,m.transitionDuration),p.update&&(g.sceneUpdate=p.update),m.status=x.RUNNING,g.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,g){var m=new g;if(m instanceof v){var C=m.sys.settings.key;if(C!==""&&(p=C),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,m)}else return m.sys=new o(m),m.sys.settings.key=p,m.sys.init(this.game),m},createSceneFromInstance:function(p,g){var m=g.sys.settings.key;return m===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var m=new v(g),C=m.sys.settings.key;C!==""?p=C:m.sys.settings.key=p,m.sys.init(this.game);for(var E=["init","preload","create","update","render"],M=0;M<E.length;M++){var P=h(g,E[M],null);P&&(m[E[M]]=P)}if(g.hasOwnProperty("extend")){for(var w in g.extend)if(g.extend.hasOwnProperty(w)){var R=g.extend[w];w==="data"&&m.hasOwnProperty("data")&&typeof R=="object"?m.data.merge(R):w!=="sys"&&(m[w]=R)}}return m},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof v?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var m=[],C=this.scenes,E=0;E<C.length;E++){var M=C[E];M&&(!p||p&&M.sys.isActive())&&m.push(M)}return g?m.reverse():m},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var m=this.getScene(p);return m&&m.sys.pause(g),this},resume:function(p,g){var m=this.getScene(p);return m&&m.sys.resume(g),this},sleep:function(p,g){var m=this.getScene(p);return m&&!m.sys.isTransitioning()&&m.sys.sleep(g),this},wake:function(p,g){var m=this.getScene(p);return m&&m.sys.wake(g),this},run:function(p,g){var m=this.getScene(p);if(!m){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===p){this.queueOp("start",p,g);break}return this}m.sys.isSleeping()?m.sys.wake(g):m.sys.isPaused()?m.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var m=this.getScene(p);if(!m)return console.warn("Scene not found for key: "+p),this;var C=m.sys,E=C.settings.status;if(E>=x.START&&E<=x.CREATING)return this;if(E>=x.RUNNING&&E<=x.SLEEPING)C.shutdown(),C.sceneUpdate=u,C.start(g);else{C.sceneUpdate=u,C.start(g);var M;if(C.load&&(M=C.load),M&&C.settings.hasOwnProperty("pack")&&(M.reset(),M.addPack({payload:C.settings.pack})))return C.settings.status=x.LOADING,M.once(a.COMPLETE,this.payloadComplete,this),M.start(),this}return this.bootScene(m),this},stop:function(p,g){var m=this.getScene(p);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==x.SHUTDOWN){var C=m.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(g)}return this},switch:function(p,g){var m=this.getScene(p),C=this.getScene(g);return m&&C&&m!==C&&(this.sleep(p),this.isSleeping(g)?this.wake(g):this.start(g)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g<this.scenes.length){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.push(m)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g>0){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(m)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g>0){var m=g-1,C=this.getScene(p),E=this.getAt(m);this.scenes[g]=E,this.scenes[m]=C}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g<this.scenes.length-1){var m=g+1,C=this.getScene(p),E=this.getAt(m);this.scenes[g]=E,this.scenes[m]=C}}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:g});else{var m=this.getIndex(p),C=this.getIndex(g);if(m!==-1&&C!==-1&&C<m){var E=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(m+(C>m),0,E)}}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:g});else{var m=this.getIndex(p),C=this.getIndex(g);if(m!==-1&&C!==-1&&C>m){var E=this.getAt(C);this.scenes.splice(C,1),m===0?this.scenes.unshift(E):this.scenes.splice(m-(C<m),0,E)}}return this},queueOp:function(p,g,m){return this._queue.push({op:p,keyA:g,keyB:m}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:g});else{var m=this.getIndex(p),C=this.getIndex(g);if(m!==C&&m!==-1&&C!==-1){var E=this.getAt(m);this.scenes[m]=this.scenes[C],this.scenes[C]=E}}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var C=this.scenes[m].sys,E=C.settings.visible&&(C.settings.status===x.RUNNING||C.settings.status===x.PAUSED)?"[*] ":"[-] ";E+=C.settings.key+" ("+g[C.settings.status]+")",p.push(E)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=c},52209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(44594),l=s(95540),h=s(37277),a=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,v),this},restart:function(u){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,u),this},transition:function(u){u===void 0&&(u={});var v=l(u,"target",!1),o=this.manager.getScene(v);if(!v||!this.checkValidTransition(o))return!1;var c=l(u,"duration",1e3);this._elapsed=0,this._target=o,this._duration=c,this._willSleep=l(u,"sleep",!1),this._willRemove=l(u,"remove",!1);var p=l(u,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=l(u,"onUpdateScope",this.scene));var g=l(u,"allowInput",!1);this.settings.transitionAllowInput=g;var m=o.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=c,m.transitionAllowInput=g,l(u,"moveAbove",!1)?this.manager.moveAbove(this.key,v):l(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),o.sys.isSleeping()?o.sys.wake(l(u,"data")):this.manager.start(v,l(u,"data"));var C=l(u,"onStart",null),E=l(u,"onStartScope",this.scene);return C&&C.call(E,this.scene,o,c),this.systems.events.emit(f.TRANSITION_OUT,o,c),!0},checkValidTransition:function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},step:function(u,v){this._elapsed+=v,this.transitionProgress=d(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var u=this._target.sys,v=this._target.sys.settings;u.events.emit(f.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(u,v,o,c){return this.manager.add(u,v,o,c)},launch:function(u,v){return u&&u!==this.key&&this.manager.queueOp("start",u,v),this},run:function(u,v){return u&&u!==this.key&&this.manager.queueOp("run",u,v),this},pause:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("pause",u,v),this},resume:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("resume",u,v),this},sleep:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("sleep",u,v),this},wake:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("wake",u,v),this},switch:function(u){return u!==this.key&&this.manager.queueOp("switch",this.key,u),this},stop:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",u,v),this},setActive:function(u,v,o){v===void 0&&(v=this.key);var c=this.manager.getScene(v);return c&&c.sys.setActive(u,o),this},setVisible:function(u,v){v===void 0&&(v=this.key);var o=this.manager.getScene(v);return o&&o.sys.setVisible(u),this},isSleeping:function(u){return u===void 0&&(u=this.key),this.manager.isSleeping(u)},isActive:function(u){return u===void 0&&(u=this.key),this.manager.isActive(u)},isPaused:function(u){return u===void 0&&(u=this.key),this.manager.isPaused(u)},isVisible:function(u){return u===void 0&&(u=this.key),this.manager.isVisible(u)},swapPosition:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.swapPosition(u,v),this},moveAbove:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveAbove(u,v),this},moveBelow:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveBelow(u,v),this},remove:function(u){return u===void 0&&(u=this.key),this.manager.remove(u),this},moveUp:function(u){return u===void 0&&(u=this.key),this.manager.moveUp(u),this},moveDown:function(u){return u===void 0&&(u=this.key),this.manager.moveDown(u),this},bringToTop:function(u){return u===void 0&&(u=this.key),this.manager.bringToTop(u),this},sendToBack:function(u){return u===void 0&&(u=this.key),this.manager.sendToBack(u),this},get:function(u){return this.manager.getScene(u)},getStatus:function(u){var v=this.manager.getScene(u);if(v)return v.sys.getStatus()},getIndex:function(u){return u===void 0&&(u=this.key),this.manager.getIndex(u)},shutdown:function(){var u=this.systems.events;u.off(f.SHUTDOWN,this.shutdown,this),u.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",a,"scenePlugin"),r.exports=a},55681:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(89993),x=s(35154),f=s(46975),l=s(87033),h={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:d.PENDING,key:x(a,"key",""),active:x(a,"active",!1),visible:x(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(a,"pack",!1),cameras:x(a,"cameras",null),map:x(a,"map",f(l,x(a,"mapAdd",{}))),physics:x(a,"physics",{}),loader:x(a,"loader",{}),plugins:x(a,"plugins",!1),input:x(a,"input",{})}}};r.exports=h},2368:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(89993),f=s(42363),l=s(44594),h=s(27397),a=s(52106),u=s(29747),v=s(55681),o=new d({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=v.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(c){this.settings.status=x.INIT,this.sceneUpdate=u,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,f.Global,[f.CoreScene,a(this),h(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var g=this.events;g.emit(l.PRE_UPDATE,c,p),g.emit(l.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),g.emit(l.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(l.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(l.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(l.PAUSE,this,c)),this},resume:function(c){var p=this.events,g=this.settings;return this.settings.active||(g.status=x.RUNNING,g.active=!0,p.emit(l.RESUME,this,c)),this},sleep:function(c){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(l.SLEEP,this,c)),this},wake:function(c){var p=this.events,g=this.settings;return g.status=x.RUNNING,g.active=!0,g.visible=!0,p.emit(l.WAKE,this,c),g.isTransition&&p.emit(l.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>x.PENDING&&c<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,g=this.settings;c&&(g.data=c),g.status=x.START,g.active=!0,g.visible=!0,p.emit(l.START,this),p.emit(l.READY,this,c)},shutdown:function(c){var p=this.events,g=this.settings;p.off(l.TRANSITION_INIT),p.off(l.TRANSITION_START),p.off(l.TRANSITION_COMPLETE),p.off(l.TRANSITION_OUT),g.status=x.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(l.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,c.emit(l.DESTROY,this),c.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<g.length;m++)this[g[m]]=null}});r.exports=o},89993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=T},69830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},7919:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},46763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"},11763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},71555:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},36735:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"},3809:r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},90716:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},58262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},91633:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},10319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},87132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},81961:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},90194:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"},6265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},33178:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"},43063:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"},11259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"},61611:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"},45209:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"},22966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},21747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"},44594:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(89993),x=s(79291),f={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};f=x(!1,f,d),r.exports=f},30341:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(14463),l=s(79291),h=s(29747),a=new d({Extends:x,initialize:function(v,o,c){x.call(this),this.manager=v,this.key=o,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),!1):(u=l(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,!0)},updateMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(this.markers[u.name]=l(!0,this.markers[u.name],u),!0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),!1)},removeMarker:function(u){var v=this.markers[u];return v?(this.markers[u]=null,v):null},play:function(u,v){if(u===void 0&&(u=""),typeof u=="object"&&(v=u,u=""),typeof u!="string")return!1;if(!u)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var u=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,o=Math.pow(u,v);this.totalRate=this.currentConfig.rate*this.manager.rate*o},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=a},85034:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(41786),f=s(50792),l=s(14463),h=s(8443),a=s(46710),u=s(58731),v=s(29747),o=s(26099),c=new d({Extends:f,initialize:function(g){f.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new o,g.events.on(h.BLUR,this.onGameBlur,this),g.events.on(h.FOCUS,this.onGameFocus,this),g.events.on(h.PRE_STEP,this.update,this),g.events.once(h.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(p,g){g===void 0&&(g={});var m=this.add(p,g);m.spritemap=this.jsonCache.get(p).spritemap;for(var C in m.spritemap)if(m.spritemap.hasOwnProperty(C)){var E=x(g),M=m.spritemap[C];E.loop=M.hasOwnProperty("loop")?M.loop:!1,m.addMarker({name:C,start:M.start,duration:M.end-M.start,config:E})}return m},get:function(p){return u(this.sounds,"key",p)},getAll:function(p){return p?a(this.sounds,"key",p):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(p,g){var m=this.add(p);return m.once(l.COMPLETE,m.destroy,m),g?g.name?(m.addMarker(g),m.play(g.name)):m.play(g):m.play()},playAudioSprite:function(p,g,m){var C=this.addAudioSprite(p);return C.once(l.COMPLETE,C.destroy,C),C.play(g,m)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,m=this.sounds.length-1;m>=0;m--){var C=this.sounds[m];C.key===p&&(C.destroy(),this.sounds.splice(m,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(m){m.stop()&&g++}),g},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(C){C.update(p,g)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var m=this;this.sounds.forEach(function(C,E){C&&!C.pendingRemove&&p.call(g||m,C,E,m.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(l.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,p)}}});r.exports=c},14747:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33684),x=s(25960),f=s(57490),l={create:function(h){var a=h.config.audio,u=h.device.audio;return a.noAudio||!u.webAudio&&!u.audioData?new x(h):u.webAudio&&!a.disableWebAudio?new f(h):new d(h)}};r.exports=l},19723:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},98882:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"},57506:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"},73146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},11305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},40577:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},30333:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},20394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},21802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},1299:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"},99190:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},97125:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},89259:r=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"},79986:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},17586:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},19618:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},42306:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},10387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},48959:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},9960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"},19180:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"},98328:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},50401:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},52498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},14463:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30341),x=s(83419),f=s(14463),l=s(45319),h=new x({Extends:d,initialize:function(u,v,o){if(o===void 0&&(o={}),this.tags=u.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,d.call(this,u,v,o)},play:function(a,u){return this.manager.isLocked(this,"play",[a,u])||!d.prototype.play.call(this,a,u)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!d.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!d.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,u=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),u===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+u*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var u=this.tags[a];if(u.dataset.used==="false")return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&v.push(c)},this),v.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var o=v[0];return this.audio=o.audio,o.reset(),o.audio=null,o.startTime=0,o.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(u){console.warn(u)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){d.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var u=this.currentMarker?this.currentMarker.start:0,v=u+this.duration,o=this.audio.currentTime;if(this.currentConfig.loop)o>=v-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,o-v),o=this.audio.currentTime):o<u&&(this.audio.currentTime+=u,o=this.audio.currentTime),o<this.previousTime&&this.emit(f.LOOPED,this);else if(o>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=o}},destroy:function(){d.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){d.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(f.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(f.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,f.RATE,a)&&(this.calculateRate(),this.emit(f.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,f.DETUNE,a)&&(this.calculateRate(),this.emit(f.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(f.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});r.exports=h},33684:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85034),x=s(83419),f=s(14463),l=s(64895),h=new x({Extends:d,initialize:function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,d.call(this,u)},add:function(a,u){var v=new l(this,a,u);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(c,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var u=!1,v=function(){u=!0},o=function(){if(u){u=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",o);var c=[];if(a.game.cache.audio.entries.each(function(g,m){for(var C=0;C<m.length;C++){var E=m[C];E.dataset.locked==="true"&&c.push(E)}return!0}),c.length!==0){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(g){g.dataset.locked="false"}),a.unlocked=!0},c.forEach(function(g){g.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",o,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){d.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,u,v){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:u,value:v}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(f.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,a)}}});r.exports=h},23717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30341),x=s(83419),f=s(50792),l=s(79291),h=s(29747),a=function(){return!1},u=function(){return null},v=function(){return this},o=new x({Extends:f,initialize:function(p,g,m){m===void 0&&(m={}),f.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:u,play:a,pause:a,resume:a,stop:a,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:u,resetConfig:u,update:h,calculateRate:u,destroy:function(){d.prototype.destroy.call(this)}});r.exports=o},25960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85034),x=s(83419),f=s(50792),l=s(4603),h=s(29747),a=new x({Extends:f,initialize:function(v){f.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(u,v){var o=new l(this,u,v);return this.sounds.push(o),o},addAudioSprite:function(u,v){var o=this.add(u,v);return o.spritemap={},o},get:function(u){return d.prototype.get.call(this,u)},getAll:function(u){return d.prototype.getAll.call(this,u)},play:function(u,v){return!1},playAudioSprite:function(u,v,o){return!1},remove:function(u){return d.prototype.remove.call(this,u)},removeAll:function(){return d.prototype.removeAll.call(this)},removeByKey:function(u){return d.prototype.removeByKey.call(this,u)},stopByKey:function(u){return d.prototype.stopByKey.call(this,u)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(u,v){d.prototype.forEachActiveSound.call(this,u,v)},destroy:function(){d.prototype.destroy.call(this)}});r.exports=a},71741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30341),x=s(83419),f=s(14463),l=s(95540),h=new x({Extends:d,initialize:function(u,v,o){if(o===void 0&&(o={}),this.audioBuffer=u.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,d.call(this,u,v,o)},play:function(a,u){return d.prototype.play.call(this,a,u)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return d.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,u=this.currentConfig.delay,v=this.manager.context.currentTime+u,o=(this.currentMarker?this.currentMarker.start:0)+a,c=this.duration-a;this.playTime=v-a,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,o),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,u),Math.max(0,v))},createBufferSource:function(){var a=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(v){v.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},u},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=l(a,"panningModel","equalpower"),u.distanceModel=l(a,"distanceModel","inverse"),u.orientationX.value=l(a,"orientationX",0),u.orientationY.value=l(a,"orientationY",0),u.orientationZ.value=l(a,"orientationZ",-1),u.refDistance=l(a,"refDistance",1),u.maxDistance=l(a,"maxDistance",1e4),u.rolloffFactor=l(a,"rolloffFactor",1),u.coneInnerAngle=l(a,"coneInnerAngle",360),u.coneOuterAngle=l(a,"coneOuterAngle",0),u.coneOuterGain=l(a,"coneOuterGain",0),this.spatialSource=l(a,"follow",null),this.spatialSource||(u.positionX.value=l(a,"x",0),u.positionY.value=l(a,"y",0),u.positionZ.value=l(a,"z",0))}d.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=l(this.spatialSource,"x",null),u=l(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(d.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(d.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){d.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,u=0;u<this.rateUpdates.length;u++){var v=0;u<this.rateUpdates.length-1?v=this.rateUpdates[u+1].time:v=this.manager.context.currentTime-this.playTime,a+=(v-this.rateUpdates[u].time)*this.rateUpdates[u].rate}return a},getLoopTime:function(){for(var a=0,u=0;u<this.rateUpdates.length-1;u++)a+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-a)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(f.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(f.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(f.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(f.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});r.exports=h},57490:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(53134),x=s(85034),f=s(83419),l=s(14463),h=s(8443),a=s(71741),u=s(95540),v=new f({Extends:x,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),x.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(o){var c=o.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(o){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=o,this.masterMuteNode=o.createGain(),this.masterVolumeNode=o.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(o.destination),this.destination=this.masterMuteNode,this},add:function(o,c){var p=new a(this,o,c);return this.sounds.push(p),p},decodeAudio:function(o,c){var p;Array.isArray(o)?p=o:p=[{key:o,data:c}];for(var g=this.game.cache.audio,m=p.length,C=0;C<p.length;C++){var E=p[C],M=E.key,P=E.data;typeof P=="string"&&(P=d(P));var w=(function(A,L){g.add(A,L),this.emit(l.DECODED,A),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,M),R=(function(A,L){console.error("Error decoding audio: "+A+" - ",L?L.message:""),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,M);this.context.decodeAudioData(P,w,R)}},setListenerPosition:function(o,c){return o===void 0&&(o=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(o,c),this},unlock:function(){var o=this,c=document.body,p=function g(){if(o.context&&c){var m=c.removeEventListener.bind(c);o.context.resume().then(function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g),o.unlocked=!0},function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("click",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var o=this.context;o&&!this.locked&&(o.state==="suspended"||o.state==="interrupted")&&o.resume()},update:function(o,c){var p=this.context.listener;if(p&&p.positionX!==void 0){var g=u(this.listenerPosition,"x",null),m=u(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),m&&m!==this._spatialy&&(this._spatialy=p.positionY.value=m)}x.prototype.update.call(this,o,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var o=this;this.context.close().then(function(){o.context=null})}x.prototype.destroy.call(this)},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(o){this.masterMuteNode.gain.setValueAtTime(o?0:1,0),this.emit(l.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(o){this.masterVolumeNode.gain.setValueAtTime(o,0),this.emit(l.GLOBAL_VOLUME,this,o)}}});r.exports=v},73162:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37105),x=s(83419),f=s(29747),l=s(19186),h=new x({initialize:function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(a,u){return u?d.Add(this.list,a):d.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,u,v){return v?d.AddAt(this.list,a,u):d.AddAt(this.list,a,u,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,u){return a?(u===void 0&&(u=function(v,o){return v[a]-o[a]}),l(this.list,u),this):this},getByName:function(a){return d.GetFirst(this.list,"name",a)},getRandom:function(a,u){return d.GetRandom(this.list,a,u)},getFirst:function(a,u,v,o){return d.GetFirst(this.list,a,u,v,o)},getAll:function(a,u,v,o){return d.GetAll(this.list,a,u,v,o)},count:function(a,u){return d.CountAllMatching(this.list,a,u)},swap:function(a,u){d.Swap(this.list,a,u)},moveTo:function(a,u){return d.MoveTo(this.list,a,u)},moveAbove:function(a,u){return d.MoveAbove(this.list,a,u)},moveBelow:function(a,u){return d.MoveBelow(this.list,a,u)},remove:function(a,u){return u?d.Remove(this.list,a):d.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,u){return u?d.RemoveAt(this.list,a):d.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,u,v){return v?d.RemoveBetween(this.list,a,u):d.RemoveBetween(this.list,a,u,this.removeCallback,this)},removeAll:function(a){for(var u=this.list.length;u--;)this.remove(this.list[u],a);return this},bringToTop:function(a){return d.BringToTop(this.list,a)},sendToBack:function(a){return d.SendToBack(this.list,a)},moveUp:function(a){return d.MoveUp(this.list,a),a},moveDown:function(a){return d.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(a,u){return d.Replace(this.list,a,u)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,u,v,o){return d.SetAll(this.list,a,u,v,o),this},each:function(a,u){for(var v=[null],o=2;o<arguments.length;o++)v.push(arguments[o]);for(o=0;o<this.list.length;o++)v[0]=this.list[o],a.apply(u,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=h},90330:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(f){if(Array.isArray(f))for(var l=0;l<f.length;l++)this.set(f[l][0],f[l][1]);return this},set:function(f,l){return this.has(f)||this.size++,this.entries[f]=l,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],l=this.entries;for(var h in l)f.push(l[h]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],l=this.entries;for(var h in l)f.push(l[h]);return f},dump:function(){var f=this.entries;console.group("Map");for(var l in f)console.log(l,f[l]);console.groupEnd()},each:function(f){var l=this.entries;for(var h in l)if(f(h,l[h])===!1)break;return this},contains:function(f){var l=this.entries;for(var h in l)if(l[h]===f)return!0;return!1},merge:function(f,l){l===void 0&&(l=!1);var h=this.entries,a=f.entries;for(var u in a)h.hasOwnProperty(u)&&l?h[u]=a[u]:this.set(u,a[u]);return this}});r.exports=x},25774:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(82348),l=new d({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var a=this._pending,u=a.indexOf(h);u!==-1&&a.splice(u,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,a=this._destroy,u=h.length;u--;)a.push(h[u]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,a=this._active,u,v;for(u=0;u<h.length;u++){v=h[u];var o=a.indexOf(v);o!==-1&&(a.splice(o,1),this.emit(f.PROCESS_QUEUE_REMOVE,v))}for(h.length=0,h=this._pending,u=0;u<h.length;u++)v=h[u],(!this.checkQueue||this.checkQueue&&a.indexOf(v)===-1)&&(a.push(v),this.emit(f.PROCESS_QUEUE_ADD,v));return h.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=l},59542:(r,T,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(43886);function x(P){if(!(this instanceof x))return new x(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(P){var w=this.data,R=[],A=this.toBBox;if(!C(P,w))return R;for(var L=[],F,O,D,B;w;){for(F=0,O=w.children.length;F<O;F++)D=w.children[F],B=w.leaf?A(D):D,C(P,B)&&(w.leaf?R.push(D):m(P,B)?this._all(D,R):L.push(D));w=L.pop()}return R},collides:function(P){var w=this.data,R=this.toBBox;if(!C(P,w))return!1;for(var A=[],L,F,O,D;w;){for(L=0,F=w.children.length;L<F;L++)if(O=w.children[L],D=w.leaf?R(O):O,C(P,D)){if(w.leaf||m(P,D))return!0;A.push(O)}w=A.pop()}return!1},load:function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var w=0,R=P.length;w<R;w++)this.insert(P[w]);return this}var A=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var L=this.data;this.data=A,A=L}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(P,w){if(!P)return this;for(var R=this.data,A=this.toBBox(P),L=[],F=[],O,D,B,b;R||L.length;){if(R||(R=L.pop(),D=L[L.length-1],O=F.pop(),b=!0),R.leaf&&(B=f(P,R.children,w),B!==-1))return R.children.splice(B,1),L.push(R),this._condense(L),this;!b&&!R.leaf&&m(R,A)?(L.push(R),F.push(O),O=0,D=R,R=R.children[0]):D?(O++,R=D.children[O],b=!1):R=null}return this},toBBox:function(P){return P},compareMinX:u,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,w){for(var R=[];P;)P.leaf?w.push.apply(w,P.children):R.push.apply(R,P.children),P=R.pop();return w},_build:function(P,w,R,A){var L=R-w+1,F=this._maxEntries,O;if(L<=F)return O=E(P.slice(w,R+1)),l(O,this.toBBox),O;A||(A=Math.ceil(Math.log(L)/Math.log(F)),F=Math.ceil(L/Math.pow(F,A-1))),O=E([]),O.leaf=!1,O.height=A;var D=Math.ceil(L/F),B=D*Math.ceil(Math.sqrt(F)),b,G,V,W;for(M(P,w,R,B,this.compareMinX),b=w;b<=R;b+=B)for(V=Math.min(b+B-1,R),M(P,b,V,D,this.compareMinY),G=b;G<=V;G+=D)W=Math.min(G+D-1,V),O.children.push(this._build(P,G,W,A-1));return l(O,this.toBBox),O},_chooseSubtree:function(P,w,R,A){for(var L,F,O,D,B,b,G,V;A.push(w),!(w.leaf||A.length-1===R);){for(G=V=1/0,L=0,F=w.children.length;L<F;L++)O=w.children[L],B=o(O),b=p(P,O)-B,b<V?(V=b,G=B<G?B:G,D=O):b===V&&B<G&&(G=B,D=O);w=D||w.children[0]}return w},_insert:function(P,w,R){var A=this.toBBox,L=R?P:A(P),F=[],O=this._chooseSubtree(L,this.data,w,F);for(O.children.push(P),a(O,L);w>=0&&F[w].children.length>this._maxEntries;)this._split(F,w),w--;this._adjustParentBBoxes(L,F,w)},_split:function(P,w){var R=P[w],A=R.children.length,L=this._minEntries;this._chooseSplitAxis(R,L,A);var F=this._chooseSplitIndex(R,L,A),O=E(R.children.splice(F,R.children.length-F));O.height=R.height,O.leaf=R.leaf,l(R,this.toBBox),l(O,this.toBBox),w?P[w-1].children.push(O):this._splitRoot(R,O)},_splitRoot:function(P,w){this.data=E([P,w]),this.data.height=P.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(P,w,R){var A,L,F,O,D,B,b,G;for(B=b=1/0,A=w;A<=R-w;A++)L=h(P,0,A,this.toBBox),F=h(P,A,R,this.toBBox),O=g(L,F),D=o(L)+o(F),O<B?(B=O,G=A,b=D<b?D:b):O===B&&D<b&&(b=D,G=A);return G},_chooseSplitAxis:function(P,w,R){var A=P.leaf?this.compareMinX:u,L=P.leaf?this.compareMinY:v,F=this._allDistMargin(P,w,R,A),O=this._allDistMargin(P,w,R,L);F<O&&P.children.sort(A)},_allDistMargin:function(P,w,R,A){P.children.sort(A);var L=this.toBBox,F=h(P,0,w,L),O=h(P,R-w,R,L),D=c(F)+c(O),B,b;for(B=w;B<R-w;B++)b=P.children[B],a(F,P.leaf?L(b):b),D+=c(F);for(B=R-w-1;B>=w;B--)b=P.children[B],a(O,P.leaf?L(b):b),D+=c(O);return D},_adjustParentBBoxes:function(P,w,R){for(var A=R;A>=0;A--)a(w[A],P)},_condense:function(P){for(var w=P.length-1,R;w>=0;w--)P[w].children.length===0?w>0?(R=P[w-1].children,R.splice(R.indexOf(P[w]),1)):this.clear():l(P[w],this.toBBox)},compareMinX:function(P,w){return P.left-w.left},compareMinY:function(P,w){return P.top-w.top},toBBox:function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}}};function f(P,w,R){if(!R)return w.indexOf(P);for(var A=0;A<w.length;A++)if(R(P,w[A]))return A;return-1}function l(P,w){h(P,0,P.children.length,w,P)}function h(P,w,R,A,L){L||(L=E(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var F=w,O;F<R;F++)O=P.children[F],a(L,P.leaf?A(O):O);return L}function a(P,w){return P.minX=Math.min(P.minX,w.minX),P.minY=Math.min(P.minY,w.minY),P.maxX=Math.max(P.maxX,w.maxX),P.maxY=Math.max(P.maxY,w.maxY),P}function u(P,w){return P.minX-w.minX}function v(P,w){return P.minY-w.minY}function o(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function c(P){return P.maxX-P.minX+(P.maxY-P.minY)}function p(P,w){return(Math.max(w.maxX,P.maxX)-Math.min(w.minX,P.minX))*(Math.max(w.maxY,P.maxY)-Math.min(w.minY,P.minY))}function g(P,w){var R=Math.max(P.minX,w.minX),A=Math.max(P.minY,w.minY),L=Math.min(P.maxX,w.maxX),F=Math.min(P.maxY,w.maxY);return Math.max(0,L-R)*Math.max(0,F-A)}function m(P,w){return P.minX<=w.minX&&P.minY<=w.minY&&w.maxX<=P.maxX&&w.maxY<=P.maxY}function C(P,w){return w.minX<=P.maxX&&w.minY<=P.maxY&&w.maxX>=P.minX&&w.maxY>=P.minY}function E(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function M(P,w,R,A,L){for(var F=[w,R],O;F.length;)R=F.pop(),w=F.pop(),!(R-w<=A)&&(O=w+Math.ceil((R-w)/A/2)*A,d(P,O,w,R,L),F.push(w,O,O,R))}r.exports=x},35072:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var h=0;h<l.length;h++)this.set(l[h])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,l){for(var h=0;h<this.entries.length;h++){var a=this.entries[h];if(a[f]===l)return a}},getArray:function(){return this.entries.slice(0)},delete:function(f){var l=this.entries.indexOf(f);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var l=this.entries[f];console.log(l)}console.groupEnd()},each:function(f,l){var h,a=this.entries.slice(),u=a.length;if(l)for(h=0;h<u&&f.call(l,a[h],h)!==!1;h++);else for(h=0;h<u&&f(a[h],h)!==!1;h++);return this},iterate:function(f,l){var h,a=this.entries.length;if(l)for(h=0;h<a&&f.call(l,this.entries[h],h)!==!1;h++);else for(h=0;h<a&&f(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(f){var l,h=[];for(l=1;l<arguments.length;l++)h.push(arguments[l]);var a=this.entries.length;for(l=0;l<a;l++){var u=this.entries[l];u[f].apply(u,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var l=new x;return f.entries.forEach(function(h){l.set(h)}),this.entries.forEach(function(h){l.set(h)}),l},intersect:function(f){var l=new x;return this.entries.forEach(function(h){f.contains(h)&&l.set(h)}),l},difference:function(f){var l=new x;return this.entries.forEach(function(h){f.contains(h)||l.set(h)}),l},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});r.exports=x},86555:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45319),x=s(83419),f=s(56583),l=s(26099),h=new x({initialize:function(u,v,o,c){u===void 0&&(u=0),v===void 0&&(v=u),o===void 0&&(o=0),c===void 0&&(c=null),this._width=u,this._height=v,this._parent=c,this.aspectMode=o,this.aspectRatio=v===0?1:u/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,u){return a===void 0&&(a=0),u===void 0&&(u=a),this.snapTo.set(a,u),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,u){return a===void 0&&(a=0),u===void 0&&(u=a),this.minWidth=d(a,0,this.maxWidth),this.minHeight=d(u,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,u){return a===void 0&&(a=Number.MAX_VALUE),u===void 0&&(u=a),this.maxWidth=d(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=d(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,u){switch(a===void 0&&(a=0),u===void 0&&(u=a),this.aspectMode){case h.NONE:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(a,u,!0);break;case h.ENVELOP:this.constrain(a,u,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,u){return this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,u){return u===void 0&&(u=!0),a=d(a,this.minWidth,this.maxWidth),u&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,u){return u===void 0&&(u=!0),a=d(a,this.minHeight,this.maxHeight),u&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,u,v){a===void 0&&(a=0),u===void 0&&(u=a),v===void 0&&(v=!0),a=this.getNewWidth(a),u=this.getNewHeight(u);var o=this.snapTo,c=u===0?1:a/u;return v&&this.aspectRatio>c||!v&&this.aspectRatio<c?(a=f(a,o.x),u=a/this.aspectRatio,o.y>0&&(u=f(u,o.y),a=u*this.aspectRatio)):(v&&this.aspectRatio<c||!v&&this.aspectRatio>c)&&(u=f(u,o.y),a=u*this.aspectRatio,o.x>0&&(a=f(a,o.x),u=a*(1/this.aspectRatio))),this._width=a,this._height=u,this},fitTo:function(a,u){return this.constrain(a,u,!0)},envelop:function(a,u){return this.constrain(a,u,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,r.exports=h},15238:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},56187:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},82348:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(45319),f=s(40987),l=s(8054),h=s(50030),a=s(79237),u=new d({Extends:a,initialize:function(o,c,p,g,m){a.call(this,o,c,p,g,m),this.add("__BASE",0,0,0,g,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=m,this.imageData=this.context.getImageData(0,0,g,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(v,o,c,p){return p===void 0&&(p=!0),this.context.drawImage(c,v,o),p&&this.update(),this},drawFrame:function(v,o,c,p,g){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=!0);var m=this.manager.getFrame(v,o);if(m){var C=m.canvasData,E=m.cutWidth,M=m.cutHeight,P=m.source.resolution;this.context.drawImage(m.source.image,C.x,C.y,E,M,c,p,E/P,M/P),g&&this.update()}return this},setPixel:function(v,o,c,p,g,m){m===void 0&&(m=255),v=Math.abs(Math.floor(v)),o=Math.abs(Math.floor(o));var C=this.getIndex(v,o);if(C>-1){var E=this.context.getImageData(v,o,1,1);E.data[0]=c,E.data[1]=p,E.data[2]=g,E.data[3]=m,this.context.putImageData(E,v,o)}return this},putData:function(v,o,c,p,g,m,C){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=v.width),C===void 0&&(C=v.height),this.context.putImageData(v,o,c,p,g,m,C),this},getData:function(v,o,c,p){v=x(Math.floor(v),0,this.width-1),o=x(Math.floor(o),0,this.height-1),c=x(c,1,this.width-v),p=x(p,1,this.height-o);var g=this.context.getImageData(v,o,c,p);return g},getPixel:function(v,o,c){c||(c=new f);var p=this.getIndex(v,o);if(p>-1){var g=this.data,m=g[p+0],C=g[p+1],E=g[p+2],M=g[p+3];c.setTo(m,C,E,M)}return c},getPixels:function(v,o,c,p){v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=this.width),p===void 0&&(p=c),v=Math.abs(Math.round(v)),o=Math.abs(Math.round(o));for(var g=x(v,0,this.width),m=x(v+c,0,this.width),C=x(o,0,this.height),E=x(o+p,0,this.height),M=new f,P=[],w=C;w<E;w++){for(var R=[],A=g;A<m;A++)M=this.getPixel(A,w,M),R.push({x:A,y:w,color:M.color,alpha:M.alphaGL});P.push(R)}return P},getIndex:function(v,o){return v=Math.abs(Math.round(v)),o=Math.abs(Math.round(o)),v<this.width&&o<this.height?(v+o*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,o,c,p,g){return v===void 0&&(v=0),o===void 0&&(o=0),c===void 0&&(c=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(v,o,c,p),g&&this.update(),this},setSize:function(v,o){return o===void 0&&(o=v),(v!==this.width||o!==this.height)&&(this.canvas.width=v,this.canvas.height=o,this._source.width=v,this._source.height=o,this._source.isPowerOf2=h(v,o),this.frames.__BASE.setSize(v,o,0,0),this.width=v,this.height=o,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=u},81320:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(10312),x=s(71911),f=s(27919),l=s(83419),h=s(8054),a=s(4327),u=s(95540),v=s(36060),o=s(32302),c=s(79237),p=s(70554),g=new l({Extends:c,initialize:function(C,E,M,P){M===void 0&&(M=256),P===void 0&&(P=256),this.type="DynamicTexture";var w=C.game.renderer,R=w&&w.type===h.CANVAS,A=R?f.create2D(this,M,P):[this];c.call(this,C,E,A,M,P),this.add("__BASE",0,0,0,M,P),this.renderer=w,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?A:null,this.context=R?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,M,P).setScene(C.game.scene.systemScene,!1),this.renderTarget=R?null:new o(w,M,P,1,0,!1,!0,!0,!1),this.pipeline=R?null:w.pipelines.get(v.SINGLE_PIPELINE),this.setSize(M,P)},setSize:function(m,C){C===void 0&&(C=m);var E=this.get(),M=E.source;if(m!==this.width||C!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=C);var P=this.renderTarget;P&&(P.willResize(m,C)&&P.resize(m,C),P.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(m,C),M.width=m,M.height=C,E.setSize(m,C),this.width=m,this.height=C}else{var w=this.getSourceImage();E.cutX+m>w.width&&(m=w.width-E.cutX),E.cutY+C>w.height&&(C=w.height-E.cutY),E.setSize(m,C,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),C=m.source,E=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=E.texture,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,C,E,M,P,w){var R=this.camera,A=this.renderer;C===void 0&&(C=1),E===void 0&&(E=0),M===void 0&&(M=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height);var L=m>>16&255,F=m>>8&255,O=m&255,D=this.renderTarget;if(R.preRender(),D){D.bind(!0);var B=this.pipeline.manager.set(this.pipeline),b=A.width/D.width,G=A.height/D.height,V=D.height-(M+w);B.drawFillRect(E*b,V*G,P*b,w*G,p.getTintFromFloats(O/255,F/255,L/255,1),C),D.unbind(!0)}else{var W=this.context;A.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+L+","+F+","+O+","+C+")",W.fillRect(E,M,P,w),A.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.context,C=this.renderTarget;C?C.clear():m&&(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore()),this.dirty=!1}return this},stamp:function(m,C,E,M,P){E===void 0&&(E=0),M===void 0&&(M=0);var w=u(P,"alpha",1),R=u(P,"tint",16777215),A=u(P,"angle",0),L=u(P,"rotation",0),F=u(P,"scale",1),O=u(P,"scaleX",F),D=u(P,"scaleY",F),B=u(P,"originX",.5),b=u(P,"originY",.5),G=u(P,"blendMode",0),V=u(P,"erase",!1),W=u(P,"skipBatch",!1),H=this.manager.resetStamp(w,R);return H.setAngle(0),A!==0?H.setAngle(A):L!==0&&H.setRotation(L),H.setScale(O,D),H.setTexture(m,C),H.setOrigin(B,b),H.setBlendMode(G),V&&(this._eraseMode=!0),W?this.batchGameObject(H,E,M):this.draw(H,E,M),V&&(this._eraseMode=!1),this},erase:function(m,C,E){return this._eraseMode=!0,this.draw(m,C,E),this._eraseMode=!1,this},draw:function(m,C,E,M,P){return this.beginDraw(),this.batchDraw(m,C,E,M,P),this.endDraw(),this},drawFrame:function(m,C,E,M,P,w){return this.beginDraw(),this.batchDrawFrame(m,C,E,M,P,w),this.endDraw(),this},repeat:function(m,C,E,M,P,w,R,A,L){if(E===void 0&&(E=0),M===void 0&&(M=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),A===void 0&&(A=16777215),L===void 0&&(L=!1),m instanceof a?C=m:C=this.manager.getFrame(m,C),!C)return this;var F=this.manager.resetStamp(R,A);F.setFrame(C),F.setOrigin(0);var O=C.width,D=C.height;P=Math.floor(P),w=Math.floor(w);var B=Math.ceil(P/O),b=Math.ceil(w/D),G=B*O-P,V=b*D-w;G>0&&(G=O-G),V>0&&(V=D-V),E<0&&(B+=Math.ceil(Math.abs(E)/O)),M<0&&(b+=Math.ceil(Math.abs(M)/D));var W=E,H=M,z=!1,U=this.manager.stampCrop.setTo(0,0,O,D);L||this.beginDraw();for(var I=0;I<b;I++){if(H+D<0){H+=D;continue}for(var N=0;N<B;N++){if(z=!1,W+O<0){W+=O;continue}else W<0&&(z=!0,U.width=O+W,U.x=O-U.width);H<0&&(z=!0,U.height=D+H,U.y=D-U.height),G>0&&N===B-1&&(z=!0,U.width=G),V>0&&I===b-1&&(z=!0,U.height=V),z&&F.setCrop(U),this.batchGameObject(F,W,H),F.isCropped=!1,U.setTo(0,0,O,D),W+=O}W=E,H+=D}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,C=this.renderer,E=this.renderTarget;m.preRender(),E?C.beginCapture(E.width,E.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,C,E,M,P){return Array.isArray(m)||(m=[m]),this.batchList(m,C,E,M,P),this},batchDrawFrame:function(m,C,E,M,P,w){E===void 0&&(E=0),M===void 0&&(M=0),P===void 0&&(P=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(m,C);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,E,M,w,P,this.camera.matrix,null):this.batchTextureFrame(R,E,M,P,w)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var C=this.renderer,E=this.renderTarget;if(E){var M=C.endCapture(),P=C.pipelines.setUtility();P.blitFrame(M,E,1,!1,!1,m,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,C,E,M,P){var w=m.length;if(w!==0)for(var R=0;R<w;R++){var A=m[R];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,C,E):A.isParent||A.list?this.batchGroup(A.getChildren(),C,E):typeof A=="string"?this.batchTextureFrameKey(A,null,C,E,M,P):A instanceof a?this.batchTextureFrame(A,C,E,M,P):Array.isArray(A)&&this.batchList(A,C,E,M,P))}},batchGroup:function(m,C,E){C===void 0&&(C=0),E===void 0&&(E=0);for(var M=0;M<m.length;M++){var P=m[M];P.willRender(this.camera)&&this.batchGameObject(P,P.x+C,P.y+E)}},batchGameObject:function(m,C,E){C===void 0&&(C=m.x),E===void 0&&(E=m.y);var M=m.x,P=m.y,w=this.camera,R=this.renderer,A=this._eraseMode,L=m.mask;if(m.setPosition(C,E),this.canvas){if(A){var F=m.blendMode;m.blendMode=d.ERASE}L&&L.preRenderCanvas(R,m,w),m.renderCanvas(R,m,w,null),L&&L.postRenderCanvas(R,m,w),A&&(m.blendMode=F)}else R&&(L&&L.preRenderWebGL(R,m,w),A||R.setBlendMode(m.blendMode),m.renderWebGL(R,m,w),L&&L.postRenderWebGL(R,w,this.renderTarget));m.setPosition(M,P)},batchTextureFrameKey:function(m,C,E,M,P,w){var R=this.manager.getFrame(m,C);R&&this.batchTextureFrame(R,E,M,P,w)},batchTextureFrame:function(m,C,E,M,P){C===void 0&&(C=0),E===void 0&&(E=0),M===void 0&&(M=1),P===void 0&&(P=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,C,E,P,M,w,null);else{var A=this.context,L=m.canvasData,F=m.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=M,w.setToContext(A),L.width>0&&L.height>0&&A.drawImage(F,L.x,L.y,L.width,L.height,C,E,L.width,L.height),A.restore()}},snapshotArea:function(m,C,E,M,P,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,m,C,E,M,w,R):this.renderer.snapshotCanvas(this.canvas,P,!1,m,C,E,M,w,R),this},snapshot:function(m,C,E){return this.snapshotArea(0,0,this.width,this.height,m,C,E)},snapshotPixel:function(m,C,E){return this.snapshotArea(m,C,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,C,E,M){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(m,P,E,M)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=g},4327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(45319),f=s(79291),l=new d({initialize:function(a,u,v,o,c,p,g){this.texture=a,this.name=u,this.source=a.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,g,o,c)},setSize:function(h,a,u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.cutX=u,this.cutY=v,this.cutWidth=h,this.cutHeight=a,this.width=h,this.height=a,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(a/2);var o=this.data,c=o.cut;c.x=u,c.y=v,c.w=h,c.h=a,c.r=u+h,c.b=v+a,o.sourceSize.w=h,o.sourceSize.h=a,o.spriteSourceSize.w=h,o.spriteSourceSize.h=a,o.radius=.5*Math.sqrt(h*h+a*a);var p=o.drawImage;return p.x=u,p.y=v,p.width=h,p.height=a,this.updateUVs()},setTrim:function(h,a,u,v,o,c){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=h,p.sourceSize.h=a,g.x=u,g.y=v,g.w=o,g.h=c,g.r=u+o,g.b=v+c,this.x=u,this.y=v,this.width=o,this.height=c,this.halfWidth=o*.5,this.halfHeight=c*.5,this.centerX=Math.floor(o/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(h,a,u,v){var o=this.data;return o.scale9=!0,o.is3Slice=a===0&&v===this.height,o.scale9Borders.x=h,o.scale9Borders.y=a,o.scale9Borders.w=u,o.scale9Borders.h=v,this},setCropUVs:function(h,a,u,v,o,c,p){var g=this.cutX,m=this.cutY,C=this.cutWidth,E=this.cutHeight,M=this.realWidth,P=this.realHeight;a=x(a,0,M),u=x(u,0,P),v=x(v,0,M-a),o=x(o,0,P-u);var w=g+a,R=m+u,A=v,L=o,F=this.data;if(F.trim){var O=F.spriteSourceSize;v=x(v,0,C-a),o=x(o,0,E-u);var D=a+v,B=u+o,b=!(O.r<a||O.b<u||O.x>D||O.y>B);if(b){var G=Math.max(O.x,a),V=Math.max(O.y,u),W=Math.min(O.r,D)-G,H=Math.min(O.b,B)-V;A=W,L=H,c?w=g+(C-(G-O.x)-W):w=g+(G-O.x),p?R=m+(E-(V-O.y)-H):R=m+(V-O.y),a=G,u=V,v=W,o=H}else w=0,R=0,A=0,L=0}else c&&(w=g+(C-a-v)),p&&(R=m+(E-u-o));var z=this.source.width,U=this.source.height;return h.u0=Math.max(0,w/z),h.v0=Math.max(0,R/U),h.u1=Math.min(1,(w+A)/z),h.v1=Math.min(1,(R+L)/U),h.x=a,h.y=u,h.cx=w,h.cy=R,h.cw=A,h.ch=L,h.width=v,h.height=o,h.flipX=c,h.flipY=p,h},updateCropUVs:function(h,a,u){return this.setCropUVs(h,h.x,h.y,h.width,h.height,a,u)},setUVs:function(h,a,u,v,o,c){var p=this.data.drawImage;return p.width=h,p.height=a,this.u0=u,this.v0=v,this.u1=o,this.v1=c,this},updateUVs:function(){var h=this.cutX,a=this.cutY,u=this.cutWidth,v=this.cutHeight,o=this.data.drawImage;o.width=u,o.height=v;var c=this.source.width,p=this.source.height;return this.u0=h/c,this.v0=a/p,this.u1=(h+u)/c,this.v1=(a+v)/p,this},updateUVsInverted:function(){var h=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/a,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var h=new l(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=f(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=l},79237:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(4327),f=s(11876),l='Texture "%s" has no frame "%s"',h=new d({initialize:function(u,v,o,c,p){Array.isArray(o)||(o=[o]),this.manager=u,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<o.length;g++)this.source.push(new f(this,o[g],c,p))},add:function(a,u,v,o,c,p){if(this.has(a))return null;var g=new x(this,a,u,v,o,c,p);return this.frames[a]=g,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,g},remove:function(a){if(this.has(a)){var u=this.get(a);return u.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var u=this.frames[a];return u||(console.warn(l,this.key,a),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(a){for(var u=0;u<this.source.length;u++)if(this.source[u]===a)return u;return-1},getFramesFromTextureSource:function(a,u){u===void 0&&(u=!1);var v=[];for(var o in this.frames)if(!(o==="__BASE"&&!u)){var c=this.frames[o];c.sourceIndex===a&&v.push(c)}return v},getFrameBounds:function(a){a===void 0&&(a=0);for(var u=this.getFramesFromTextureSource(a),v=1/0,o=1/0,c=0,p=0,g=0;g<u.length;g++){var m=u[g];m.cutX<v&&(v=m.cutX),m.cutY<o&&(o=m.cutY),m.cutX+m.cutWidth>c&&(c=m.cutX+m.cutWidth),m.cutY+m.cutHeight>p&&(p=m.cutY+m.cutHeight)}return{x:v,y:o,width:c-v,height:p-o}},getFrameNames:function(a){a===void 0&&(a=!1);var u=Object.keys(this.frames);if(!a){var v=u.indexOf("__BASE");v!==-1&&u.splice(v,1)}return u},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var u=this.frames[a];return u?u.source.image:(console.warn(l,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var u=this.frames[a],v;return u?v=u.sourceIndex:(console.warn(l,this.key,a),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++){var v=this.source[u];this.dataSource.push(new f(this,a[u],v.width,v.height))}},setFilter:function(a){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(a);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(a)},destroy:function(){var a,u=this.source,v=this.dataSource;for(a=0;a<u.length;a++)u[a]&&u[a].destroy();for(a=0;a<v.length;a++)v[a]&&v[a].destroy();for(var o in this.frames){var c=this.frames[o];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=h},17130:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=s(57382),f=s(83419),l=s(40987),h=s(8054),a=s(81320),u=s(50792),v=s(69442),o=s(4327),c=s(8443),p=s(99584),g=s(35154),m=s(88571),C=s(41212),E=s(61309),M=s(87841),P=s(79237),w=new f({Extends:u,initialize:function(A){u.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=d.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new M,this.silentWarnings=!1,A.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var R=this.game.config;this.addBase64("__DEFAULT",R.defaultImage),this.addBase64("__MISSING",R.missingImage),this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(A){this.stamp=new m(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(R){return this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var A=R.key;return this.list.hasOwnProperty(A)&&(R.destroy(),this.emit(v.REMOVE,A),this.emit(v.REMOVE_KEY+A)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,A){if(this.checkKey(R)){var L=this,F=new Image;F.onerror=function(){L.emit(v.ERROR,R)},F.onload=function(){var O=L.create(R,F);E.Image(O,0),L.emit(v.ADD,R,O),L.emit(v.ADD_KEY+R,O),L.emit(v.LOAD,R,O)},F.src=A}return this},getBase64:function(R,A,L,F){L===void 0&&(L="image/png"),F===void 0&&(F=.92);var O="",D=this.getFrame(R,A);if(D&&(D.source.isRenderTexture||D.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(D){var B=D.canvasData,b=d.create2D(this,B.width,B.height),G=b.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&G.drawImage(D.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),O=b.toDataURL(L,F),d.remove(b)}return O},addImage:function(R,A,L){var F=null;return this.checkKey(R)&&(F=this.create(R,A),E.Image(F,0),L&&F.setDataSource(L),this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)),F},addGLTexture:function(R,A){var L=null;if(this.checkKey(R)){var F=A.width,O=A.height;L=this.create(R,A,F,O),L.add("__BASE",0,0,0,F,O),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)}return L},addCompressedTexture:function(R,A,L){var F=null;if(this.checkKey(R)){if(F=this.create(R,A),F.add("__BASE",0,0,0,A.width,A.height),L){var O=function(B,b,G){Array.isArray(G.textures)||Array.isArray(G.frames)?E.JSONArray(B,b,G):E.JSONHash(B,b,G)};if(Array.isArray(L))for(var D=0;D<L.length;D++)O(F,D,L[D]);else O(F,0,L)}this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)}return F},addRenderTexture:function(R,A){var L=null;return this.checkKey(R)&&(L=this.create(R,A),L.add("__BASE",0,0,0,A.width,A.height),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)),L},generate:function(R,A){if(this.checkKey(R)){var L=d.create(this,1,1);return A.canvas=L,p(A),this.addCanvas(R,L)}else return null},createCanvas:function(R,A,L){if(A===void 0&&(A=256),L===void 0&&(L=256),this.checkKey(R)){var F=d.create(this,A,L,h.CANVAS,!0);return this.addCanvas(R,F)}return null},addCanvas:function(R,A,L){L===void 0&&(L=!1);var F=null;return L?F=new x(this,R,A,A.width,A.height):this.checkKey(R)&&(F=new x(this,R,A,A.width,A.height),this.list[R]=F,this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)),F},addDynamicTexture:function(R,A,L){var F=null;return typeof R=="string"&&!this.exists(R)?F=new a(this,R,A,L):(F=R,R=F.key),this.checkKey(R)?(this.list[R]=F,this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)):F=null,F},addAtlas:function(R,A,L,F){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(R,A,L,F):this.addAtlasJSONHash(R,A,L,F)},addAtlasJSONArray:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var D=L.length===1,B=0;B<O.source.length;B++){var b=D?L[0]:L[B];E.JSONArray(O,B,b)}else E.JSONArray(O,0,L);F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasJSONHash:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var D=0;D<L.length;D++)E.JSONHash(O,D,L[D]);else E.JSONHash(O,0,L);F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasXML:function(R,A,L,F){var O=null;return A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(E.AtlasXML(O,0,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addUnityAtlas:function(R,A,L,F){var O=null;return A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(E.UnityYAML(O,0,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addSpriteSheet:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){var D=O.source[0].width,B=O.source[0].height;E.SpriteSheet(O,0,0,0,D,B,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addSpriteSheetFromAtlas:function(R,A){if(!this.checkKey(R))return null;var L=g(A,"atlas",null),F=g(A,"frame",null);if(!(!L||!F)){var O=this.get(L),D=O.get(F);if(D){var B=D.source.image;B||(B=D.source.glTexture);var b=this.create(R,B);return D.trimmed?E.SpriteSheetFromAtlas(b,D,A):E.SpriteSheet(b,0,D.cutX,D.cutY,D.cutWidth,D.cutHeight,A),this.emit(v.ADD,R,b),this.emit(v.ADD_KEY+R,b),b}}},addUint8Array:function(R,A,L,F){if(!this.checkKey(R)||A.length/4!==L*F)return null;var O=this.create(R,A,L,F);return O.add("__BASE",0,0,0,L,F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O),O},create:function(R,A,L,F){var O=null;return this.checkKey(R)&&(O=new P(this,R,A,L,F),this.list[R]=O),O},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof P?R:R instanceof o?R.texture:this.list.__MISSING},cloneFrame:function(R,A){if(this.list[R])return this.list[R].get(A).clone()},getFrame:function(R,A){if(this.list[R])return this.list[R].get(A)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(C(R))return this.getFrame(R.key,R.frame);if(R instanceof P)return R.get();if(R instanceof o)return R}else return},getTextureKeys:function(){var R=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&R.push(A);return R},getPixel:function(R,A,L,F){var O=this.getFrame(L,F);if(O){R-=O.x,A-=O.y;var D=O.data.cut;if(R+=D.x,A+=D.y,R>=D.x&&R<D.r&&A>=D.y&&A<D.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(O.source.image,R,A,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return new l(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(R,A,L,F){var O=this.getFrame(L,F);if(O){R-=O.x,A-=O.y;var D=O.data.cut;if(R+=D.x,A+=D.y,R>=D.x&&R<D.r&&A>=D.y&&A<D.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(O.source.image,R,A,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(R,A,L){return this.list[A]&&(R.texture=this.list[A],R.frame=R.texture.get(L)),R},renameTexture:function(R,A){var L=this.get(R);return L&&R!==A?(L.key=A,this.list[A]=L,delete this.list[R],!0):!1},each:function(R,A){for(var L=[null],F=1;F<arguments.length;F++)L.push(arguments[F]);for(var O in this.list)L[0]=this.list[O],R.apply(A,L)},resetStamp:function(R,A){R===void 0&&(R=1),A===void 0&&(A=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(R),L.setTint(A),L.setTexture("__WHITE"),L},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,d.remove(this._tempCanvas)}});r.exports=w},11876:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(27919),x=s(83419),f=s(50030),l=s(29795),h=s(82751),a=new x({initialize:function(v,o,c,p,g){g===void 0&&(g=!1);var m=v.manager.game;this.renderer=m.renderer,this.texture=v,this.source=o,this.image=o.compressed?null:o,this.compressionAlgorithm=o.compressed?o.format:null,this.resolution=1,this.width=c||o.naturalWidth||o.videoWidth||o.width||0,this.height=p||o.naturalHeight||o.videoHeight||o.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=o instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&o instanceof HTMLVideoElement,this.isRenderTexture=o.type==="RenderTexture"||o.type==="DynamicTexture",this.isGLTexture=o instanceof h,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=g,this.init(m)},init:function(u){var v=this.renderer;if(v){var o=this.source;if(v.gl){var c=this.image,p=this.flipY,g=this.width,m=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(c,!1,p):this.isVideo?this.glTexture=v.createVideoTexture(c,!1,p):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,g,m,C):this.isGLTexture?this.glTexture=o:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(o,void 0,void 0,C):o instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(o,g,m,C):this.glTexture=v.createTextureFromSource(c,g,m,C)}else this.isRenderTexture&&(this.image=o.canvas)}u.config.antialias||this.setFilter(1)},setFilter:function(u){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,u),this.scaleMode=u},setFlipY:function(u){return u===void 0&&(u=!0),u===this.flipY?this:(this.flipY=u,this.update(),this)},update:function(){var u=this.renderer,v=this.image,o=this.flipY,c=u.gl;c&&this.isCanvas?u.updateCanvasTexture(v,this.glTexture,o):c&&this.isVideo&&u.updateVideoTexture(v,this.glTexture,o)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&d.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=a},19673:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};r.exports=T},44538:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"},63486:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"},94851:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"},29099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"},8678:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},86415:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"},30879:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"},69442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=s(19673),f={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:x,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};f=d(!1,f,x),r.exports=f},89905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=s.source[d];s.add("__BASE",d,0,0,f.width,f.height);for(var l=x.getElementsByTagName("SubTexture"),h,a=0;a<l.length;a++){var u=l[a].attributes,v=u.name.value,o=parseInt(u.x.value,10),c=parseInt(u.y.value,10),p=parseInt(u.width.value,10),g=parseInt(u.height.value,10);if(h=s.add(v,d,o,c,p,g),u.frameX){var m=Math.abs(parseInt(u.frameX.value,10)),C=Math.abs(parseInt(u.frameY.value,10)),E=parseInt(u.frameWidth.value,10),M=parseInt(u.frameHeight.value,10);h.setTrim(p,g,m,C,E,M)}}return s};r.exports=T},72893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.source[d];return s.add("__BASE",d,0,0,x.width,x.height),s};r.exports=T},4832:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.source[d];return s.add("__BASE",d,0,0,x.width,x.height),s};r.exports=T},78566:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41786),x=function(f,l,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=f.source[l];f.add("__BASE",l,0,0,a.width,a.height);for(var u=Array.isArray(h.textures)?h.textures[l].frames:h.frames,v,o=0;o<u.length;o++){var c=u[o];if(v=f.add(c.filename,l,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=d(c)}for(var g in h)g!=="frames"&&(Array.isArray(h[g])?f.customData[g]=h[g].slice(0):f.customData[g]=h[g]);return f};r.exports=x},39711:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41786),x=function(f,l,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=f.source[l];f.add("__BASE",l,0,0,a.width,a.height);var u=h.frames,v;for(var o in u)if(u.hasOwnProperty(o)){var c=u[o];if(v=f.add(o,l,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+o);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=d(c)}for(var g in h)g!=="frames"&&(Array.isArray(h[g])?f.customData[g]=h[g].slice(0):f.customData[g]=h[g]);return f};r.exports=x},31403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=[171,75,84,88,32,49,49,187,13,10,26,10],x,f=new Uint8Array(s,0,12);for(x=0;x<f.length;x++)if(f[x]!==d[x]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(s,12,13*l),a=h.getUint32(0,!0)===67305985,u=h.getUint32(1*l,a);if(u!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=h.getUint32(4*l,a),o=h.getUint32(6*l,a),c=h.getUint32(7*l,a),p=Math.max(1,h.getUint32(11*l,a)),g=h.getUint32(12*l,a),m=new Array(p),C=12+13*4+g,E=o,M=c;for(x=0;x<p;x++){var P=new Int32Array(s,C,1)[0];C+=4,m[x]={data:new Uint8Array(s,C,P),width:E,height:M},E=Math.max(1,E>>1),M=Math.max(1,M>>1),C+=P}return{mipmaps:m,width:o,height:c,internalFormat:v,compressed:!0,generateMipmap:!1}};r.exports=T},82038:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(A,L,F,O,D,B,b){return b===void 0&&(b=16),Math.floor((A+F)/D)*Math.floor((L+O)/B)*b}function s(A,L){return A=Math.max(A,16),L=Math.max(L,8),A*L/4}function d(A,L){return A=Math.max(A,8),L=Math.max(L,8),A*L/2}function x(A,L){return Math.ceil(A/4)*Math.ceil(L/4)*16}function f(A,L){return T(A,L,3,3,4,4,8)}function l(A,L){return T(A,L,3,3,4,4)}function h(A,L){return T(A,L,4,3,5,4)}function a(A,L){return T(A,L,4,4,5,5)}function u(A,L){return T(A,L,5,4,6,5)}function v(A,L){return T(A,L,5,5,6,6)}function o(A,L){return T(A,L,7,4,8,5)}function c(A,L){return T(A,L,7,5,8,6)}function p(A,L){return T(A,L,7,7,8,8)}function g(A,L){return T(A,L,9,4,10,5)}function m(A,L){return T(A,L,9,5,10,6)}function C(A,L){return T(A,L,9,7,10,8)}function E(A,L){return T(A,L,9,9,10,10)}function M(A,L){return T(A,L,11,9,12,10)}function P(A,L){return T(A,L,11,11,12,12)}var w={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:d,glFormat:[35840]},3:{sizeFunc:d,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:u,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:o,glFormat:[37813,37845]},33:{sizeFunc:c,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:g,glFormat:[37816,37848]},36:{sizeFunc:m,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:E,glFormat:[37819,37851]},39:{sizeFunc:M,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},R=function(A){for(var L=new Uint32Array(A,0,13),F=L[0],O=F===55727696,D=O?L[2]:L[3],B=L[4],b=w[D].glFormat[B],G=w[D].sizeFunc,V=L[11],W=L[7],H=L[6],z=52+L[12],U=new Uint8Array(A,z),I=new Array(V),N=0,k=W,X=H,Y=0;Y<V;Y++){var $=G(k,X);I[Y]={data:new Uint8Array(U.buffer,U.byteOffset+N,$),width:k,height:X},k=Math.max(1,k>>1),X=Math.max(1,X>>1),N+=$}return{mipmaps:I,width:W,height:H,internalFormat:b,compressed:!0,generateMipmap:!1}};r.exports=R},75549:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=function(f,l,h,a,u,v,o){var c=d(o,"frameWidth",null),p=d(o,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=f.source[l];f.add("__BASE",l,0,0,g.width,g.height);var m=d(o,"startFrame",0),C=d(o,"endFrame",-1),E=d(o,"margin",0),M=d(o,"spacing",0),P=Math.floor((u-E+M)/(c+M)),w=Math.floor((v-E+M)/(p+M)),R=P*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(m>R||m<-R)&&(m=0),m<0&&(m=R+m),(C===-1||C>R||C<m)&&(C=R);for(var A=E,L=E,F=0,O=0,D=0,B=0;B<R;B++){F=0,O=0;var b=A+c,G=L+p;b>u&&(F=b-u),G>v&&(O=G-v),B>=m&&B<=C&&(f.add(D,l,h+A,a+L,c-F,p-O),D++),A+=c+M,A+c>u&&(A=E,L+=p+M)}return f};r.exports=x},47534:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=function(f,l,h){var a=d(h,"frameWidth",null),u=d(h,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=f.source[0];f.add("__BASE",0,0,0,v.width,v.height),d(h,"startFrame",0),d(h,"endFrame",-1);for(var o=d(h,"margin",0),c=d(h,"spacing",0),p=l.cutX,g=l.cutY,m=l.cutWidth,C=l.cutHeight,E=l.realWidth,M=l.realHeight,P=Math.floor((E-o+c)/(a+c)),w=Math.floor((M-o+c)/(u+c)),R=l.x,A=a-R,L=a-(E-m-R),F=l.y,O=u-F,D=u-(M-C-F),B,b=o,G=o,V=0,W=0,H=0;H<w;H++){for(var z=H===0,U=H===w-1,I=0;I<P;I++){var N=I===0,k=I===P-1;if(B=f.add(V,W,p+b,g+G,a,u),N||z||k||U){var X=N?R:0,Y=z?F:0,$=0,K=0;N&&($+=a-A),k&&($+=a-L),z&&(K+=u-O),U&&(K+=u-D);var Z=a-$,J=u-K;B.cutWidth=Z,B.cutHeight=J,B.setTrim(a,u,X,Y,Z,J)}b+=c,N?b+=A:k?b+=L:b+=a,V++}b=o,G+=c,z?G+=O:U?G+=D:G+=u}return f};r.exports=x},86147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,s=function(x,f,l,h){var a=T-h.y-h.height;x.add(l,f,h.x,a,h.width,h.height)},d=function(x,f,l){var h=x.source[f];x.add("__BASE",f,0,0,h.width,h.height),T=h.height;for(var a=l.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",o="",c={x:0,y:0,width:0,height:0},p=0;p<a.length;p++){var g=a[p].match(u);if(g){var m=g[1]==="- ",C=g[2],E=g[3];if(m&&(o!==v&&(s(x,f,o,c),v=o),c={x:0,y:0,width:0,height:0}),C==="name"){o=E;continue}switch(C){case"x":case"y":case"width":case"height":c[C]=parseInt(E,10);break}}}return o!==v&&s(x,f,o,c),x};r.exports=d},55222:(r,T,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(50030),x=function(v){for(var o=v.mipmaps,c=1;c<o.length;c++){var p=o[c].width,g=o[c].height;if(!d(p,g))return console.warn("Mip level "+c+" is not a power-of-two size: "+p+"x"+g),!1}var m=u[v.internalFormat];return m?m(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function f(v){for(var o=v.mipmaps,c=0;c<o.length;c++){var p=o[c].width,g=o[c].height;if((p<<c)%4!==0||(g<<c)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+c+" is "+p+"x"+g),!1}return!0}function l(){return!0}function h(v){var o=v.mipmaps,c=o[0];return d(c.width,c.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+c.width+"x"+c.height),!1)}function a(v){var o=v.mipmaps,c=o[0];return c.width%4!==0||c.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+c.width+"x"+c.height+" pixels"),!1):!0}var u={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:h,35841:h,35842:h,35843:h,33776:f,33777:f,33778:f,33779:f,35916:a,35917:a,35918:a,35919:a};r.exports=x},61309:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l,h,a,u,v,o,c){(a===void 0||a<=0)&&(a=32),(u===void 0||u<=0)&&(u=32),v===void 0&&(v=0),o===void 0&&(o=0),this.name=l,this.firstgid=h|0,this.imageWidth=a|0,this.imageHeight=u|0,this.imageMargin=v|0,this.imageSpacing=o|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,l){return this.images.push({gid:f,image:l}),this.total++,this}});r.exports=x},27462:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=new d({initialize:function(l){if(this.gids=[],l!==void 0)for(var h=0;h<l.length;++h)for(var a=l[h],u=0;u<a.total;++u)this.gids[a.firstgid+u]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var l=this.gids[f.gid];if(l){var h=l.getTileData(f.gid);if(h)return h.type}}},setTextureAndFrame:function(f,l,h,a){if(l===null&&this.gids&&a.gid!==void 0){var u=this.gids[a.gid];u&&(l===null&&u.image!==void 0&&(l=u.image.key),h===null&&(h=a.gid-u.firstgid),f.scene.textures.getFrame(l,h)||(l=null,h=null))}f.setTexture(l,h)},setPropertiesFromTiledObject:function(f,l){if(this.gids!==void 0&&l.gid!==void 0){var h=this.gids[l.gid];h!==void 0&&this.setFromJSON(f,h.getTileProperties(l.gid))}this.setFromJSON(f,l.properties)},setFromJSON:function(f,l){if(l){if(Array.isArray(l)){for(var h=0;h<l.length;h++){var a=l[h];f[a.name]!==void 0?f[a.name]=a.value:f.setData(a.name,a.value)}return}for(var u in l)f[u]!==void 0?f[u]=l[u]:f.setData(u,l[u])}}});r.exports=x},31989:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80341),x=s(87010),f=s(46177),l=s(49075),h=function(a,u,v,o,c,p,g,m){v===void 0&&(v=32),o===void 0&&(o=32),c===void 0&&(c=10),p===void 0&&(p=10),m===void 0&&(m=!1);var C=null;if(Array.isArray(g)){var E=u!==void 0?u:"map";C=f(E,d.ARRAY_2D,g,v,o,m)}else if(u!==void 0){var M=a.cache.tilemap.get(u);M?C=f(u,M.format,M.data,v,o,m):console.warn("No map data found for key "+u)}return C===null&&(C=new x({tileWidth:v,tileHeight:o,width:c,height:p})),new l(a,C)};r.exports=h},23029:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(31401),f=s(91907),l=s(62644),h=s(93232),a=new d({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(v,o,c,p,g,m,C,E){this.layer=v,this.index=o,this.x=c,this.y=p,this.width=g,this.height=m,this.right,this.bottom,this.baseWidth=C!==void 0?C:g,this.baseHeight=E!==void 0?E:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(u,v){return!(u<this.pixelX||v<this.pixelY||u>this.right||v>this.bottom)},copy:function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=l(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(u){var v=this.tilemapLayer;if(v){var o=v.tileToWorldXY(this.x,this.y,void 0,u);return o.x}return this.x*this.baseWidth},getRight:function(u){var v=this.tilemapLayer;return v?this.getLeft(u)+this.width*v.scaleX:this.getLeft(u)+this.width},getTop:function(u){var v=this.tilemapLayer;if(v){var o=v.tileToWorldXY(this.x,this.y,void 0,u);return o.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(u){var v=this.tilemapLayer;return v?this.getTop(u)+this.height*v.scaleY:this.getTop(u)+this.height},getBounds:function(u,v){return v===void 0&&(v=new h),v.x=this.getLeft(u),v.y=this.getTop(u),v.width=this.getRight(u)-v.x,v.height=this.getBottom(u)-v.y,v},getCenterX:function(u){return(this.getLeft(u)+this.getRight(u))/2},getCenterY:function(u){return(this.getTop(u)+this.getBottom(u))/2},intersects:function(u,v,o,c){return!(o<=this.pixelX||c<=this.pixelY||u>=this.right||v>=this.bottom)},isInteresting:function(u,v){return u&&v?this.canCollide||this.hasInterestingFace:u?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(u){if(u===void 0&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(u,v,o,c,p){if(v===void 0&&(v=u),o===void 0&&(o=u),c===void 0&&(c=u),p===void 0&&(p=!0),this.collideLeft=u,this.collideRight=v,this.collideUp=o,this.collideDown=c,this.faceLeft=u,this.faceRight=v,this.faceTop=o,this.faceBottom=c,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(u,v){return u===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=v),this},setSize:function(u,v,o,c){return u!==void 0&&(this.width=u),v!==void 0&&(this.height=v),o!==void 0&&(this.baseWidth=o),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var u=this.layer.orientation;if(u===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===f.HEXAGONAL){var v=this.layer.staggerAxis,o=this.layer.staggerIndex,c=this.layer.hexSideLength,p,g;v==="y"?(g=(this.baseHeight-c)/2+c,o==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):v==="x"&&(p=(this.baseWidth-c)/2+c,this.pixelX=this.x*p,o==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var u=this.layer.tilemapLayer;if(u){var v=u.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var u=this.tilemapLayer;return u?u.tilemap:null}}});r.exports=a},49075:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(84101),x=s(83419),f=s(39506),l=s(80341),h=s(95540),a=s(14977),u=s(27462),v=s(91907),o=s(36305),c=s(19133),p=s(68287),g=s(23029),m=s(81086),C=s(20442),E=s(33629),M=new x({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(A),WorldToTileX:m.GetWorldToTileXFunction(A),WorldToTileY:m.GetWorldToTileYFunction(A),TileToWorldXY:m.GetTileToWorldXYFunction(A),TileToWorldX:m.GetTileToWorldXFunction(A),TileToWorldY:m.GetTileToWorldYFunction(A),GetTileCorners:m.GetTileCornersFunction(A)}},setRenderOrder:function(P){var w=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=w[P]),w.indexOf(P)>-1&&(this.renderOrder=P),this},addTilesetImage:function(P,w,R,A,L,F,O,D){if(P===void 0)return null;w==null&&(w=P);var B=this.scene.sys.textures;if(!B.exists(w))return console.warn('Texture key "%s" not found',w),null;var b=B.get(w),G=this.getTilesetIndex(P);if(G===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var V=this.tilesets[G];return V?(V.setTileSize(R,A),V.setSpacing(L,F),V.setImage(b),V):(R===void 0&&(R=this.tileWidth),A===void 0&&(A=this.tileHeight),L===void 0&&(L=0),F===void 0&&(F=0),O===void 0&&(O=0),D===void 0&&(D={x:0,y:0}),V=new E(P,O,R,A,L,F,void 0,void 0,D),V.setImage(b),this.tilesets.push(V),this.tiles=d(this),V)},copy:function(P,w,R,A,L,F,O,D){return D=this.getLayer(D),D!==null?(m.Copy(P,w,R,A,L,F,O,D),this):null},createBlankLayer:function(P,w,R,A,L,F,O,D){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.width),F===void 0&&(F=this.height),O===void 0&&(O=this.tileWidth),D===void 0&&(D=this.tileHeight);var B=this.getLayerIndex(P);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var b=new a({name:P,tileWidth:O,tileHeight:D,width:L,height:F,orientation:this.orientation}),G,V=0;V<F;V++){G=[];for(var W=0;W<L;W++)G.push(new g(b,-1,W,V,O,D,this.tileWidth,this.tileHeight));b.data.push(G)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var H=new C(this.scene,this,this.currentLayerIndex,w,R,A);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(P,w,R,A){var L=this.getLayerIndex(P);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[L];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=L,R===void 0&&(R=F.x),A===void 0&&(A=F.y);var O=new C(this.scene,this,L,w,R,A);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(P,w,R){R===void 0&&(R=!0);var A=[],L=this.getObjectLayer(P);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),A;var F=new u(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var O=L.objects,D=0;D<w.length;D++){var B=w[D],b=h(B,"id",null),G=h(B,"gid",null),V=h(B,"name",null),W=h(B,"type",null);F.enabled=!h(B,"ignoreTileset",null);for(var H,z=[],U=0;U<O.length;U++)H=O[U],(b===null&&G===null&&V===null&&W===null||b!==null&&H.id===b||G!==null&&H.gid===G||V!==null&&H.name===V||W!==null&&F.getTypeIncludingTile(H)===W)&&z.push(H);for(var I=h(B,"classType",p),N=h(B,"scene",this.scene),k=h(B,"container",null),X=h(B,"key",null),Y=h(B,"frame",null),$=0;$<z.length;$++){H=z[$];var K=new I(N);if(K.setName(H.name),K.setPosition(H.x,H.y),F.setTextureAndFrame(K,X,Y,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===v.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=J.x,K.y=J.y}var Q={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var j=f(H.rotation);o(Q,j),K.rotation=j}K.x+=Q.x,K.y+=Q.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),F.setPropertiesFromTiledObject(K,H),k?k.add(K):N.add.existing(K),A.push(K)}}return A},createFromTiles:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:m.CreateFromTiles(P,w,R,A,L,F)},fill:function(P,w,R,A,L,F,O){return F===void 0&&(F=!0),O=this.getLayer(O),O===null?null:(m.Fill(P,w,R,A,L,F,O),this)},filterObjects:function(P,w,R){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.filter(w,R)},filterTiles:function(P,w,R,A,L,F,O,D){return D=this.getLayer(D),D===null?null:m.FilterTiles(P,w,R,A,L,F,O,D)},findByIndex:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.FindByIndex(P,w,R,A)},findObject:function(P,w,R){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.find(w,R)||null},findTile:function(P,w,R,A,L,F,O,D){return D=this.getLayer(D),D===null?null:m.FindTile(P,w,R,A,L,F,O,D)},forEachTile:function(P,w,R,A,L,F,O,D){return D=this.getLayer(D),D===null?null:(m.ForEachTile(P,w,R,A,L,F,O,D),this)},getImageIndex:function(P){return this.getIndex(this.images,P)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},getIndex:function(P,w){for(var R=0;R<P.length;R++)if(P[R].name===w)return R;return null},getLayer:function(P){var w=this.getLayerIndex(P);return w!==null?this.layers[w]:null},getObjectLayer:function(P){var w=this.getIndex(this.objects,P);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},getLayerIndex:function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof C&&P.tilemap===this?P.layerIndex:null},getLayerIndexByName:function(P){return this.getIndex(this.layers,P)},getTileAt:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTileAt(P,w,R,A)},getTileAtWorldXY:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:m.GetTileAtWorldXY(P,w,R,A,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},getTilesWithin:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:m.GetTilesWithin(P,w,R,A,L,F)},getTilesWithinShape:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTilesWithinShape(P,w,R,A)},getTilesWithinWorldXY:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:m.GetTilesWithinWorldXY(P,w,R,A,L,F,O)},getTileset:function(P){var w=this.getIndex(this.tilesets,P);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(P){return this.getIndex(this.tilesets,P)},hasTileAt:function(P,w,R){return R=this.getLayer(R),R===null?null:m.HasTileAt(P,w,R)},hasTileAtWorldXY:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.HasTileAtWorldXY(P,w,R,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(P){this.setLayer(P)}},putTileAt:function(P,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:m.PutTileAt(P,w,R,A,L)},putTileAtWorldXY:function(P,w,R,A,L,F){return A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.PutTileAtWorldXY(P,w,R,A,L,F)},putTilesAt:function(P,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(m.PutTilesAt(P,w,R,A,L),this)},randomize:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:(m.Randomize(P,w,R,A,L,F),this)},calculateFacesAt:function(P,w,R){return R=this.getLayer(R),R===null?null:(m.CalculateFacesAt(P,w,R),this)},calculateFacesWithin:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:(m.CalculateFacesWithin(P,w,R,A,L),this)},removeLayer:function(P){var w=this.getLayerIndex(P);if(w!==null){c(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(P){var w=this.getLayerIndex(P);return w!==null?(P=this.layers[w],P.tilemapLayer.destroy(),c(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var P=this.layers,w=0;w<P.length;w++)P[w].tilemapLayer&&P[w].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},removeTile:function(P,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var A=[];Array.isArray(P)||(P=[P]);for(var L=0;L<P.length;L++){var F=P[L];A.push(this.removeTileAt(F.x,F.y,!0,R,F.tilemapLayer)),w>-1&&this.putTileAt(w,F.x,F.y,R,F.tilemapLayer)}return A},removeTileAt:function(P,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:m.RemoveTileAt(P,w,R,A,L)},removeTileAtWorldXY:function(P,w,R,A,L,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.RemoveTileAtWorldXY(P,w,R,A,L,F)},renderDebug:function(P,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===v.ORTHOGONAL&&m.RenderDebug(P,w,R),this)},renderDebugFull:function(P,w){for(var R=this.layers,A=0;A<R.length;A++)m.RenderDebug(P,w,R[A]);return this},replaceByIndex:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.ReplaceByIndex(P,w,R,A,L,F,O),this)},setCollision:function(P,w,R,A,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L===void 0&&(L=!0),A=this.getLayer(A),A===null?null:(m.SetCollision(P,w,R,A,L),this)},setCollisionBetween:function(P,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(m.SetCollisionBetween(P,w,R,A,L),this)},setCollisionByProperty:function(P,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByProperty(P,w,R,A),this)},setCollisionByExclusion:function(P,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByExclusion(P,w,R,A),this)},setCollisionFromCollisionGroup:function(P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionFromCollisionGroup(P,w,R),this)},setTileIndexCallback:function(P,w,R,A){return A=this.getLayer(A),A===null?null:(m.SetTileIndexCallback(P,w,R,A),this)},setTileLocationCallback:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.SetTileLocationCallback(P,w,R,A,L,F,O),this)},setLayer:function(P){var w=this.getLayerIndex(P);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(P,w){this.tileWidth=P,this.tileHeight=w,this.widthInPixels=this.width*P,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=P,this.layers[R].baseTileHeight=w;for(var A=this.layers[R].data,L=this.layers[R].width,F=this.layers[R].height,O=0;O<F;O++)for(var D=0;D<L;D++){var B=A[O][D];B!==null&&B.setSize(void 0,void 0,P,w)}}return this},setLayerTileSize:function(P,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=P,R.tileHeight=w;for(var A=R.data,L=R.width,F=R.height,O=0;O<F;O++)for(var D=0;D<L;D++){var B=A[O][D];B!==null&&B.setSize(P,w)}return this},shuffle:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:(m.Shuffle(P,w,R,A,L),this)},swapByIndex:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.SwapByIndex(P,w,R,A,L,F,O),this)},tileToWorldX:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(P,w,R)},tileToWorldY:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(P,w,R)},tileToWorldXY:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(P,w,R,A,L)},getTileCorners:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(P,w,R,A)},weightedRandomize:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:(m.WeightedRandomize(w,R,A,L,P,F),this)},worldToTileX:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(P,w,R,A)},worldToTileY:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(P,w,R,A)},worldToTileXY:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(P,w,R,A,L,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=M},45939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(44603),x=s(31989);d.register("tilemap",function(f){var l=f!==void 0?f:{};return x(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(39429),x=s(31989);d.register("tilemap",function(f,l,h,a,u,v,o){return f===null&&(f=void 0),l===null&&(l=void 0),h===null&&(h=void 0),a===null&&(a=void 0),u===null&&(u=void 0),x(this.scene,f,l,h,a,u,v,o)})},20442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(78389),f=s(31401),l=s(95643),h=s(81086),a=s(19218),u=s(26099),v=new d({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,x,a],initialize:function(c,p,g,m,C,E){l.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=g,this.layer=p.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(C,E),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(o){var c=[],p=[],g=this.tilemap;Array.isArray(o)||(o=[o]);for(var m=0;m<o.length;m++){var C=o[m];if(typeof C=="string"&&(C=g.getTileset(C)),C){p.push(C);for(var E=C.firstgid,M=0;M<C.total;M++)c[E+M]=C}}this.gidMap=c,this.tileset=p},setRenderOrder:function(o){var c=["right-down","left-down","right-up","left-up"];return typeof o=="string"&&(o=c.indexOf(o)),o>=0&&o<4&&(this._renderOrder=o),this},calculateFacesAt:function(o,c){return h.CalculateFacesAt(o,c,this.layer),this},calculateFacesWithin:function(o,c,p,g){return h.CalculateFacesWithin(o,c,p,g,this.layer),this},createFromTiles:function(o,c,p,g,m){return h.CreateFromTiles(o,c,p,g,m,this.layer)},cull:function(o){return this.cullCallback(this.layer,o,this.culledTiles,this._renderOrder)},copy:function(o,c,p,g,m,C,E){return h.Copy(o,c,p,g,m,C,E,this.layer),this},fill:function(o,c,p,g,m,C){return h.Fill(o,c,p,g,m,C,this.layer),this},filterTiles:function(o,c,p,g,m,C,E){return h.FilterTiles(o,c,p,g,m,C,E,this.layer)},findByIndex:function(o,c,p){return h.FindByIndex(o,c,p,this.layer)},findTile:function(o,c,p,g,m,C,E){return h.FindTile(o,c,p,g,m,C,E,this.layer)},forEachTile:function(o,c,p,g,m,C,E){return h.ForEachTile(o,c,p,g,m,C,E,this.layer),this},setTint:function(o,c,p,g,m,C){o===void 0&&(o=16777215);var E=function(M){M.tint=o,M.tintFill=!1};return this.forEachTile(E,this,c,p,g,m,C)},setTintFill:function(o,c,p,g,m,C){o===void 0&&(o=16777215);var E=function(M){M.tint=o,M.tintFill=!0};return this.forEachTile(E,this,c,p,g,m,C)},getTileAt:function(o,c,p){return h.GetTileAt(o,c,p,this.layer)},getTileAtWorldXY:function(o,c,p,g){return h.GetTileAtWorldXY(o,c,p,g,this.layer)},getIsoTileAtWorldXY:function(o,c,p,g,m){p===void 0&&(p=!0);var C=this.tempVec;return h.IsometricWorldToTileXY(o,c,!0,C,m,this.layer,p),this.getTileAt(C.x,C.y,g)},getTilesWithin:function(o,c,p,g,m){return h.GetTilesWithin(o,c,p,g,m,this.layer)},getTilesWithinShape:function(o,c,p){return h.GetTilesWithinShape(o,c,p,this.layer)},getTilesWithinWorldXY:function(o,c,p,g,m,C){return h.GetTilesWithinWorldXY(o,c,p,g,m,C,this.layer)},hasTileAt:function(o,c){return h.HasTileAt(o,c,this.layer)},hasTileAtWorldXY:function(o,c,p){return h.HasTileAtWorldXY(o,c,p,this.layer)},putTileAt:function(o,c,p,g){return h.PutTileAt(o,c,p,g,this.layer)},putTileAtWorldXY:function(o,c,p,g,m){return h.PutTileAtWorldXY(o,c,p,g,m,this.layer)},putTilesAt:function(o,c,p,g){return h.PutTilesAt(o,c,p,g,this.layer),this},randomize:function(o,c,p,g,m){return h.Randomize(o,c,p,g,m,this.layer),this},removeTileAt:function(o,c,p,g){return h.RemoveTileAt(o,c,p,g,this.layer)},removeTileAtWorldXY:function(o,c,p,g,m){return h.RemoveTileAtWorldXY(o,c,p,g,m,this.layer)},renderDebug:function(o,c){return h.RenderDebug(o,c,this.layer),this},replaceByIndex:function(o,c,p,g,m,C){return h.ReplaceByIndex(o,c,p,g,m,C,this.layer),this},setSkipCull:function(o){return o===void 0&&(o=!0),this.skipCull=o,this},setCullPadding:function(o,c){return o===void 0&&(o=1),c===void 0&&(c=1),this.cullPaddingX=o,this.cullPaddingY=c,this},setCollision:function(o,c,p,g){return h.SetCollision(o,c,p,this.layer,g),this},setCollisionBetween:function(o,c,p,g){return h.SetCollisionBetween(o,c,p,g,this.layer),this},setCollisionByProperty:function(o,c,p){return h.SetCollisionByProperty(o,c,p,this.layer),this},setCollisionByExclusion:function(o,c,p){return h.SetCollisionByExclusion(o,c,p,this.layer),this},setCollisionFromCollisionGroup:function(o,c){return h.SetCollisionFromCollisionGroup(o,c,this.layer),this},setTileIndexCallback:function(o,c,p){return h.SetTileIndexCallback(o,c,p,this.layer),this},setTileLocationCallback:function(o,c,p,g,m,C){return h.SetTileLocationCallback(o,c,p,g,m,C,this.layer),this},shuffle:function(o,c,p,g){return h.Shuffle(o,c,p,g,this.layer),this},swapByIndex:function(o,c,p,g,m,C){return h.SwapByIndex(o,c,p,g,m,C,this.layer),this},tileToWorldX:function(o,c){return this.tilemap.tileToWorldX(o,c,this)},tileToWorldY:function(o,c){return this.tilemap.tileToWorldY(o,c,this)},tileToWorldXY:function(o,c,p,g){return this.tilemap.tileToWorldXY(o,c,p,g,this)},getTileCorners:function(o,c,p){return this.tilemap.getTileCorners(o,c,p,this)},weightedRandomize:function(o,c,p,g,m){return h.WeightedRandomize(c,p,g,m,o,this.layer),this},worldToTileX:function(o,c,p){return this.tilemap.worldToTileX(o,c,p,this)},worldToTileY:function(o,c,p){return this.tilemap.worldToTileY(o,c,p,this)},worldToTileXY:function(o,c,p,g,m){return this.tilemap.worldToTileXY(o,c,p,g,m,this)},destroy:function(o){o===void 0&&(o=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),o&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});r.exports=v},16153:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61340),x=new d,f=new d,l=new d,h=function(a,u,v,o){var c=u.cull(v),p=c.length,g=v.alpha*u.alpha;if(!(p===0||g<=0)){var m=x,C=f,E=l;C.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),m.copyFrom(v.matrix);var M=a.currentContext,P=u.gidMap;M.save(),o?(m.multiplyWithOffset(o,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),C.e=u.x,C.f=u.y,m.multiply(C,E),E.copyToContext(M)):(C.e-=v.scrollX*u.scrollFactorX,C.f-=v.scrollY*u.scrollFactorY,C.copyToContext(M)),(!a.antialias||u.scaleX>1||u.scaleY>1)&&(M.imageSmoothingEnabled=!1);for(var w=0;w<p;w++){var R=c[w],A=P[R.index];if(A){var L=A.image.getSourceImage(),F=A.getTileTextureCoordinates(R.index),O=A.tileWidth,D=A.tileHeight;if(!(F===null||O===0||D===0)){var B=O*.5,b=D*.5;F.x+=A.tileOffset.x,F.y+=A.tileOffset.y,M.save(),M.translate(R.pixelX+B,R.pixelY+b),R.rotation!==0&&M.rotate(R.rotation),(R.flipX||R.flipY)&&M.scale(R.flipX?-1:1,R.flipY?-1:1),M.globalAlpha=g*R.alpha,M.drawImage(L,F.x,F.y,O,D,-B,-b,O,D),M.restore()}}}M.restore()}};r.exports=h},19218:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(29747),x=d,f=d;x=s(99558),f=s(16153),r.exports={renderWebGL:x,renderCanvas:f}},99558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70554),x=function(f,l,h){var a=l.cull(h),u=a.length,v=h.alpha*l.alpha;if(!(u===0||v<=0)){var o=l.gidMap,c=f.pipelines.set(l.pipeline,l),p=d.getTintAppendFloatAlpha,g=l.scrollFactorX,m=l.scrollFactorY,C=l.x,E=l.y,M=l.scaleX,P=l.scaleY;f.pipelines.preBatch(l);for(var w=0;w<u;w++){var R=a[w],A=o[R.index];if(A){var L=A.getTileTextureCoordinates(R.index),F=A.tileWidth,O=A.tileHeight;if(!(!L||F===0||O===0)){var D=F*.5,B=O*.5,b=A.glTexture,G=c.setTexture2D(b,l),V=F,W=O,H=L.x,z=L.y,U=A.tileOffset.x,I=A.tileOffset.y,N=p(R.tint,v*R.alpha);c.batchTexture(l,b,b.width,b.height,C+R.pixelX*M+(D*M-U),E+R.pixelY*P+(B*P-I),F,O,M,P,R.rotation,R.flipX,R.flipY,g,m,D,B,H,z,V,W,N,N,N,N,R.tintFill,0,0,h,null,!0,G,!0)}}}f.pipelines.postBatch(l)}};r.exports=x},33629:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(26099),f=new d({initialize:function(h,a,u,v,o,c,p,g,m){(u===void 0||u<=0)&&(u=32),(v===void 0||v<=0)&&(v=32),o===void 0&&(o=0),c===void 0&&(c=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=h,this.firstgid=a,this.tileWidth=u,this.tileHeight=v,this.tileMargin=o,this.tileSpacing=c,this.tileProperties=p,this.tileData=g,this.tileOffset=new x,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var h=this.getTileData(l);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var h=l.get(),a=l.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>a.width||h.height>a.height?this.updateTileData(h.width,h.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(l,h){return l!==void 0&&(this.tileWidth=l),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,h){return l!==void 0&&(this.tileMargin=l),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,h,a,u){a===void 0&&(a=0),u===void 0&&(u=0);var v=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),o=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||o%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),o=Math.floor(o),this.rows=v,this.columns=o,this.total=v*o,this.texCoordinates.length=0;for(var c=this.tileMargin+a,p=this.tileMargin+u,g=0;g<this.rows;g++){for(var m=0;m<this.columns;m++)this.texCoordinates.push({x:c,y:p}),c+=this.tileWidth+this.tileSpacing;c=this.tileMargin+a,p+=this.tileHeight+this.tileSpacing}return this}});r.exports=f},72023:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7423),x=function(f,l,h){var a=d(f,l,!0,h),u=d(f,l-1,!0,h),v=d(f,l+1,!0,h),o=d(f-1,l,!0,h),c=d(f+1,l,!0,h),p=a&&a.collides;return p&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),u&&u.collides&&(p&&(a.faceTop=!1),u.faceBottom=!p),v&&v.collides&&(p&&(a.faceBottom=!1),v.faceTop=!p),o&&o.collides&&(p&&(a.faceLeft=!1),o.faceRight=!p),c&&c.collides&&(p&&(a.faceRight=!1),c.faceLeft=!p),a&&!a.collides&&a.resetFaces(),a};r.exports=x},42573:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7423),x=s(7386),f=function(l,h,a,u,v){for(var o=null,c=null,p=null,g=null,m=x(l,h,a,u,null,v),C=0;C<m.length;C++){var E=m[C];E&&(E.collides?(o=d(E.x,E.y-1,!0,v),c=d(E.x,E.y+1,!0,v),p=d(E.x-1,E.y,!0,v),g=d(E.x+1,E.y,!0,v),E.faceTop=!(o&&o.collides),E.faceBottom=!(c&&c.collides),E.faceLeft=!(p&&p.collides),E.faceRight=!(g&&g.collides)):E.resetFaces())}};r.exports=f},33528:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=new d,f=function(l,h,a,u){var v=a.tilemapLayer,o=v.cullPaddingX,c=v.cullPaddingY,p=v.tilemap.tileToWorldXY(l,h,x,u,v);return p.x>u.worldView.x+v.scaleX*a.tileWidth*(-o-.5)&&p.x<u.worldView.right+v.scaleX*a.tileWidth*(o-.5)&&p.y>u.worldView.y+v.scaleY*a.tileHeight*(-c-1)&&p.y<u.worldView.bottom+v.scaleY*a.tileHeight*(c-.5)};r.exports=f},1785:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(42573),x=s(7386),f=s(62991),l=s(23029),h=function(a,u,v,o,c,p,g,m){g===void 0&&(g=!0);var C=x(a,u,v,o,null,m),E=[];C.forEach(function(F){var O=new l(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);O.copy(F),E.push(O)});for(var M=c-a,P=p-u,w=0;w<E.length;w++){var R=E[w],A=R.x+M,L=R.y+P;f(A,L,m)&&m.data[L][A]&&(R.x=A,R.y=L,R.updatePixelXY(),m.data[L][A]=R)}g&&d(c-1,p-1,v+2,o+2,m),C.length=0,E.length=0};r.exports=h},78419:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62644),x=s(7386),f=s(27987),l=function(h,a,u,v,o,c){u||(u={}),Array.isArray(h)||(h=[h]);var p=c.tilemapLayer;v||(v=p.scene),o||(o=v.cameras.main);var g=c.width,m=c.height,C=x(0,0,g,m,null,c),E=[],M,P=function(L,F,O){for(var D=0;D<O.length;D++){var B=O[D];L.hasOwnProperty(B)||(L[B]=F[B])}};for(M=0;M<C.length;M++){var w=C[M],R=d(u);if(h.indexOf(w.index)!==-1){var A=p.tileToWorldXY(w.x,w.y,void 0,o,c);R.x=A.x,R.y=A.y,P(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-1),E.push(v.make.sprite(R))}}if(Array.isArray(a))for(M=0;M<h.length;M++)f(h[M],a[M],0,0,g,m,c);else if(a!==null)for(M=0;M<h.length;M++)f(h[M],a,0,0,g,m,c);return E};r.exports=l},19545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(87841),x=s(63448),f=s(56583),l=new d,h=function(a,u){var v=a.tilemapLayer.tilemap,o=a.tilemapLayer,c=Math.floor(v.tileWidth*o.scaleX),p=Math.floor(v.tileHeight*o.scaleY),g=f(u.worldView.x-o.x,c,0,!0)-o.cullPaddingX,m=x(u.worldView.right-o.x,c,0,!0)+o.cullPaddingX,C=f(u.worldView.y-o.y,p,0,!0)-o.cullPaddingY,E=x(u.worldView.bottom-o.y,p,0,!0)+o.cullPaddingY;return l.setTo(g,C,m-g,E-C)};r.exports=h},30003:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19545),x=s(32483),f=function(l,h,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=l.tilemapLayer,o=d(l,h);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(o.left=0,o.right=l.width,o.top=0,o.bottom=l.height),x(l,o,u,a),a};r.exports=f},35137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(42573),f=s(20576),l=function(h,a,u,v,o,c,p){for(var g=p.collideIndexes.indexOf(h)!==-1,m=d(a,u,v,o,null,p),C=0;C<m.length;C++)m[C].index=h,f(m[C],g);c&&x(a-1,u-1,v+2,o+2,p)};r.exports=l},40253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o,c){var p=d(h,a,u,v,o,c);return p.filter(f,l)};r.exports=x},52692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d===void 0&&(d=0),x===void 0&&(x=!1);var l=0,h,a,u;if(x){for(a=f.height-1;a>=0;a--)for(h=f.width-1;h>=0;h--)if(u=f.data[a][h],u&&u.index===s){if(l===d)return u;l+=1}}else for(a=0;a<f.height;a++)for(h=0;h<f.width;h++)if(u=f.data[a][h],u&&u.index===s){if(l===d)return u;l+=1}return null};r.exports=T},66151:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o,c){var p=d(h,a,u,v,o,c);return p.find(f,l)||null};r.exports=x},97560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o,c){var p=d(h,a,u,v,o,c);p.forEach(f,l)};r.exports=x},43305:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(30003),f=s(9474),l=s(14018),h=s(29747),a=s(54503),u=function(v){return v===d.ORTHOGONAL?x:v===d.HEXAGONAL?f:v===d.STAGGERED?a:v===d.ISOMETRIC?l:h};r.exports=u},7423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62991),x=function(f,l,h,a){if(h===void 0&&(h=!1),d(f,l,a)){var u=a.data[l][f]||null;return u?u.index===-1?h?u:null:u:null}else return null};r.exports=x},60540:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7423),x=s(26099),f=new x,l=function(h,a,u,v,o){return o.tilemapLayer.worldToTileXY(h,a,!0,f,v),d(f.x,f.y,u,o)};r.exports=l},55826:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a){var u=a.baseTileWidth,v=a.baseTileHeight,o=a.tilemapLayer,c=0,p=0;o&&(h||(h=o.scene.cameras.main),c=o.x+h.scrollX*(1-o.scrollFactorX),p=o.y+h.scrollY*(1-o.scrollFactorY),u*=o.scaleX,v*=o.scaleY);var g=c+f*u,m=p+l*v;return[new d(g,m),new d(g+u,m),new d(g+u,m+v),new d(g,m+v)]};r.exports=x},11758:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(27229),f=s(29747),l=s(55826),h=function(a){return a===d.ORTHOGONAL?l:a===d.ISOMETRIC?f:a===d.HEXAGONAL?x:(a===d.STAGGERED,f)};r.exports=h},39167:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(29747),f=s(97281),l=function(h){return h===d.ORTHOGONAL?f:x};r.exports=l},62e3:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(19951),f=s(14127),l=s(29747),h=s(97202),a=s(70326),u=function(v){return v===d.ORTHOGONAL?a:v===d.ISOMETRIC?f:v===d.HEXAGONAL?x:v===d.STAGGERED?h:l};r.exports=u},5984:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(29747),f=s(28054),l=s(29650),h=function(a){return a===d.ORTHOGONAL?l:a===d.STAGGERED?f:x};r.exports=h},7386:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=function(f,l,h,a,u,v){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=v.width),a===void 0&&(a=v.height),u||(u={});var o=d(u,"isNotEmpty",!1),c=d(u,"isColliding",!1),p=d(u,"hasInterestingFace",!1);f<0&&(h+=f,f=0),l<0&&(a+=l,l=0),f+h>v.width&&(h=Math.max(v.width-f,0)),l+a>v.height&&(a=Math.max(v.height-l,0));for(var g=[],m=l;m<l+a;m++)for(var C=f;C<f+h;C++){var E=v.data[m][C];if(E!==null){if(o&&E.index===-1||c&&!E.collides||p&&!E.hasInterestingFace)continue;g.push(E)}}return g};r.exports=x},91141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(55738),x=s(7386),f=s(91865),l=s(29747),h=s(26099),a=function(p,g){return f.RectangleToTriangle(g,p)},u=new h,v=new h,o=new h,c=function(p,g,m,C){if(p===void 0)return[];var E=l;p instanceof d.Circle?E=f.CircleToRectangle:p instanceof d.Rectangle?E=f.RectangleToRectangle:p instanceof d.Triangle?E=a:p instanceof d.Line&&(E=f.LineToRectangle),C.tilemapLayer.worldToTileXY(p.left,p.top,!0,v,m);var M=v.x,P=v.y;C.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,o,m);var w=Math.ceil(o.x),R=Math.ceil(o.y),A=Math.max(w-M,1),L=Math.max(R-P,1),F=x(M,P,A,L,g,C),O=C.tileWidth,D=C.tileHeight;C.tilemapLayer&&(O*=C.tilemapLayer.scaleX,D*=C.tilemapLayer.scaleY);for(var B=[],b=new d.Rectangle(0,0,O,D),G=0;G<F.length;G++){var V=F[G];C.tilemapLayer.tileToWorldXY(V.x,V.y,u,m),b.x=u.x,b.y=u.y,E(p,b)&&B.push(V)}return B};r.exports=c},96523:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(26099),f=new x,l=new x,h=function(a,u,v,o,c,p,g){var m=g.tilemapLayer.tilemap._convert.WorldToTileXY;m(a,u,!0,f,p,g);var C=f.x,E=f.y;m(a+v,u+o,!1,l,p,g);var M=Math.ceil(l.x),P=Math.ceil(l.y);return d(C,E,M-C,P-E,c,g)};r.exports=h},96113:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(20242),f=s(10095),l=function(h){return h===d.ORTHOGONAL?f:x};r.exports=l},16926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(86625),f=s(96897),l=s(29747),h=s(15108),a=s(85896),u=function(v){return v===d.ORTHOGONAL?a:v===d.ISOMETRIC?f:v===d.HEXAGONAL?x:v===d.STAGGERED?h:l};r.exports=u},55762:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=s(20242),f=s(51900),l=s(63288),h=function(a){return a===d.ORTHOGONAL?l:a===d.STAGGERED?f:x};r.exports=h},45091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62991),x=function(f,l,h){if(d(f,l,h)){var a=h.data[l][f];return a!==null&&a.index>-1}else return!1};r.exports=x},24152:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(45091),x=s(26099),f=new x,l=function(h,a,u,v){v.tilemapLayer.worldToTileXY(h,a,!0,f,u);var o=f.x,c=f.y;return d(o,c,v)};r.exports=l},90454:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(63448),x=s(56583),f=function(l,h){var a=l.tilemapLayer.tilemap,u=l.tilemapLayer,v=Math.floor(a.tileWidth*u.scaleX),o=Math.floor(a.tileHeight*u.scaleY),c=l.hexSideLength,p,g,m,C;if(l.staggerAxis==="y"){var E=(o-c)/2+c;p=x(h.worldView.x-u.x,v,0,!0)-u.cullPaddingX,g=d(h.worldView.right-u.x,v,0,!0)+u.cullPaddingX,m=x(h.worldView.y-u.y,E,0,!0)-u.cullPaddingY,C=d(h.worldView.bottom-u.y,E,0,!0)+u.cullPaddingY}else{var M=(v-c)/2+c;p=x(h.worldView.x-u.x,M,0,!0)-u.cullPaddingX,g=d(h.worldView.right-u.x,M,0,!0)+u.cullPaddingX,m=x(h.worldView.y-u.y,o,0,!0)-u.cullPaddingY,C=d(h.worldView.bottom-u.y,o,0,!0)+u.cullPaddingY}return{left:p,right:g,top:m,bottom:C}};r.exports=f},9474:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(90454),x=s(32483),f=function(l,h,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=l.tilemapLayer,o=d(l,h);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(o.left=0,o.right=l.width,o.top=0,o.bottom=l.height),x(l,o,u,a),a};r.exports=f},27229:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19951),x=s(26099),f=new x,l=function(h,a,u,v){var o=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(o*=p.scaleX,c*=p.scaleY);var g=d(h,a,f,u,v),m=[],C=.5773502691896257,E,M;v.staggerAxis==="y"?(E=C*o,M=c/2):(E=o/2,M=C*c);for(var P=0;P<6;P++){var w=2*Math.PI*(.5-P)/6;m.push(new x(g.x+E*Math.cos(w),g.y+M*Math.sin(w)))}return m};r.exports=l},19951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u){h||(h=new d);var v=u.baseTileWidth,o=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),g=c.y+a.scrollY*(1-c.scrollFactorY),v*=c.scaleX,o*=c.scaleY);var m=v/2,C=o/2,E,M;return u.staggerAxis==="y"?(E=p+v*f+v,M=g+1.5*l*C+C,l%2===0&&(this.staggerIndex==="odd"?E-=m:E+=m)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(E=p+1.5*f*m+m,M=g+o*f+o,f%2===0&&(this.staggerIndex==="odd"?M-=C:M+=C)),h.set(E,M)};r.exports=x},86625:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u,v){a||(a=new d);var o=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),f=f-(p.x+u.scrollX*(1-p.scrollFactorX)),l=l-(p.y+u.scrollY*(1-p.scrollFactorY)),o*=p.scaleX,c*=p.scaleY);var g=.5773502691896257,m=-.3333333333333333,C=0,E=.6666666666666666,M=o/2,P=c/2,w,R,A,L,F;v.staggerAxis==="y"?(w=(f-M)/(g*o),R=(l-P)/P,A=g*w+m*R,L=C*w+E*R):(w=(f-M)/M,R=(l-P)/(g*c),A=m*w+g*R,L=E*w+C*R),F=-A-L;var O=Math.round(A),D=Math.round(L),B=Math.round(F),b=Math.abs(O-A),G=Math.abs(D-L),V=Math.abs(B-F);b>G&&b>V?O=-D-B:G>V&&(D=-O-B);var W,H=D;return v.staggerIndex==="odd"?W=H%2===0?D/2+O:D/2+O-.5:W=H%2===0?D/2+O:D/2+O+.5,a.set(W,H)};r.exports=x},62991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s>=0&&s<x.width&&d>=0&&d<x.height};r.exports=T},14018:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33528),x=function(f,l,h,a){h===void 0&&(h=[]),a===void 0&&(a=0),h.length=0;var u=f.tilemapLayer,v=f.data,o=f.width,c=f.height,p=u.skipCull,g=0,m=o,C=0,E=c,M,P,w;if(a===0)for(P=C;P<E;P++)for(M=g;M<m;M++)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!d(M,P,f,l)||h.push(w));else if(a===1)for(P=C;P<E;P++)for(M=m;M>=g;M--)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!d(M,P,f,l)||h.push(w));else if(a===2)for(P=E;P>=C;P--)for(M=g;M<m;M++)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!d(M,P,f,l)||h.push(w));else if(a===3)for(P=E;P>=C;P--)for(M=m;M>=g;M--)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!d(M,P,f,l)||h.push(w));return u.tilesDrawn=h.length,u.tilesTotal=o*c,h};r.exports=x},14127:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u){h||(h=new d);var v=u.baseTileWidth,o=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+a.scrollY*(1-c.scrollFactorY),o*=c.scaleY);var m=p+(f-l)*(v/2),C=g+(f+l)*(o/2);return h.set(m,C)};r.exports=x},96897:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u,v,o){a||(a=new d);var c=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(u||(u=g.scene.cameras.main),l=l-(g.y+u.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,f=f-(g.x+u.scrollX*(1-g.scrollFactorX)),c*=g.scaleX);var m=c/2,C=p/2;f=f-m,o||(l=l-p);var E=.5*(f/m+l/C),M=.5*(-f/m+l/C);return h&&(E=Math.floor(E),M=Math.floor(M)),a.set(E,M)};r.exports=x},71558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23029),x=s(62991),f=s(72023),l=s(20576),h=function(a,u,v,o,c){if(o===void 0&&(o=!0),!x(u,v,c))return null;var p,g=c.data[v][u],m=g&&g.collides;a instanceof d?(c.data[v][u]===null&&(c.data[v][u]=new d(c,a.index,u,v,c.tileWidth,c.tileHeight)),c.data[v][u].copy(a)):(p=a,c.data[v][u]===null?c.data[v][u]=new d(c,p,u,v,c.tileWidth,c.tileHeight):c.data[v][u].index=p);var C=c.data[v][u],E=c.collideIndexes.indexOf(C.index)!==-1;if(p=a instanceof d?a.index:a,p===-1)C.width=c.tileWidth,C.height=c.tileHeight;else{var M=c.tilemapLayer.tilemap,P=M.tiles,w=P[p][2],R=M.tilesets[w];C.width=R.tileWidth,C.height=R.tileHeight}return l(C,E),o&&m!==C.collides&&f(u,v,c),C};r.exports=h},26303:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(71558),x=s(26099),f=new x,l=function(h,a,u,v,o,c){return c.tilemapLayer.worldToTileXY(a,u,!0,f,o,c),d(h,f.x,f.y,v,c)};r.exports=l},14051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(42573),x=s(71558),f=function(l,h,a,u,v){if(u===void 0&&(u=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var o=l.length,c=l[0].length,p=0;p<o;p++)for(var g=0;g<c;g++){var m=l[p][g];x(m,h+g,a+p,!1,v)}u&&d(h-1,a-1,c+2,o+2,v)};r.exports=f},77389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(26546),f=function(l,h,a,u,v,o){var c,p=d(l,h,a,u,{},o);if(!v)for(v=[],c=0;c<p.length;c++)v.indexOf(p[c].index)===-1&&v.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=x(v)};r.exports=f},63557:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(23029),x=s(62991),f=s(72023),l=function(h,a,u,v,o){if(u===void 0&&(u=!0),v===void 0&&(v=!0),!x(h,a,o))return null;var c=o.data[a][h];if(c)o.data[a][h]=u?null:new d(o,-1,h,a,o.tileWidth,o.tileHeight);else return null;return v&&c&&c.collides&&f(h,a,o),c};r.exports=l},94178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(63557),x=s(26099),f=new x,l=function(h,a,u,v,o,c){return c.tilemapLayer.worldToTileXY(h,a,!0,f,o,c),d(f.x,f.y,u,v,c)};r.exports=l},15533:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(3956),f=new x(105,210,231,150),l=new x(243,134,48,200),h=new x(40,39,37,150),a=function(u,v,o){v===void 0&&(v={});var c=v.tileColor!==void 0?v.tileColor:f,p=v.collidingTileColor!==void 0?v.collidingTileColor:l,g=v.faceColor!==void 0?v.faceColor:h,m=d(0,0,o.width,o.height,null,o);u.translateCanvas(o.tilemapLayer.x,o.tilemapLayer.y),u.scaleCanvas(o.tilemapLayer.scaleX,o.tilemapLayer.scaleY);for(var C=0;C<m.length;C++){var E=m[C],M=E.width,P=E.height,w=E.pixelX,R=E.pixelY,A=E.collides?p:c;A!==null&&(u.fillStyle(A.color,A.alpha/255),u.fillRect(w,R,M,P)),w+=1,R+=1,M-=2,P-=2,g!==null&&(u.lineStyle(1,g.color,g.alpha/255),E.faceTop&&u.lineBetween(w,R,w+M,R),E.faceRight&&u.lineBetween(w+M,R,w+M,R+P),E.faceBottom&&u.lineBetween(w,R+P,w+M,R+P),E.faceLeft&&u.lineBetween(w,R,w,R+P))}};r.exports=a},27987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o){for(var c=d(h,a,u,v,null,o),p=0;p<c.length;p++)c[p]&&c[p].index===f&&(c[p].index=l)};r.exports=x},32483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=s.data,h=s.width,a=s.height,u=s.tilemapLayer,v=Math.max(0,d.left),o=Math.min(h,d.right),c=Math.max(0,d.top),p=Math.min(a,d.bottom),g,m,C;if(x===0)for(m=c;m<p;m++)for(g=v;l[m]&&g<o;g++)C=l[m][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(x===1)for(m=c;m<p;m++)for(g=o;l[m]&&g>=v;g--)C=l[m][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(x===2)for(m=p;m>=c;m--)for(g=v;l[m]&&g<o;g++)C=l[m][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(x===3)for(m=p;m>=c;m--)for(g=o;l[m]&&g>=v;g--)C=l[m][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);return u.tilesDrawn=f.length,u.tilesTotal=h*a,f};r.exports=T},57068:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20576),x=s(42573),f=s(9589),l=function(h,a,u,v,o){a===void 0&&(a=!0),u===void 0&&(u=!0),o===void 0&&(o=!0),Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++)f(h[c],a,v);if(o)for(var p=0;p<v.height;p++)for(var g=0;g<v.width;g++){var m=v.data[p][g];m&&h.indexOf(m.index)!==-1&&d(m,a)}u&&x(0,0,v.width,v.height,v)};r.exports=l},37266:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20576),x=s(42573),f=s(9589),l=function(h,a,u,v,o,c){if(u===void 0&&(u=!0),v===void 0&&(v=!0),c===void 0&&(c=!0),!(h>a)){for(var p=h;p<=a;p++)f(p,u,o);if(c)for(var g=0;g<o.height;g++)for(var m=0;m<o.width;m++){var C=o.data[g][m];C&&C.index>=h&&C.index<=a&&d(C,u)}v&&x(0,0,o.width,o.height,o)}};r.exports=l},75661:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20576),x=s(42573),f=s(9589),l=function(h,a,u,v){a===void 0&&(a=!0),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);for(var o=0;o<v.height;o++)for(var c=0;c<v.width;c++){var p=v.data[o][c];p&&h.indexOf(p.index)===-1&&(d(p,a),f(p.index,a,v))}u&&x(0,0,v.width,v.height,v)};r.exports=l},64740:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20576),x=s(42573),f=s(97022),l=function(h,a,u,v){a===void 0&&(a=!0),u===void 0&&(u=!0);for(var o=0;o<v.height;o++)for(var c=0;c<v.width;c++){var p=v.data[o][c];if(p){for(var g in h)if(f(p.properties,g)){var m=h[g];Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++)p.properties[g]===m[C]&&d(p,a)}}}u&&x(0,0,v.width,v.height,v)};r.exports=l},63307:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(20576),x=s(42573),f=function(l,h,a){l===void 0&&(l=!0),h===void 0&&(h=!0);for(var u=0;u<a.height;u++)for(var v=0;v<a.width;v++){var o=a.data[u][v];if(o){var c=o.getCollisionGroup();c&&c.objects&&c.objects.length>0&&d(o,l)}}h&&x(0,0,a.width,a.height,a)};r.exports=f},9589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=x.collideIndexes.indexOf(s);d&&f===-1?x.collideIndexes.push(s):!d&&f!==-1&&x.collideIndexes.splice(f,1)};r.exports=T},20576:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};r.exports=T},79583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){if(typeof s=="number")f.callbacks[s]=d!==null?{callback:d,callbackContext:x}:void 0;else for(var l=0,h=s.length;l<h;l++)f.callbacks[s[l]]=d!==null?{callback:d,callbackContext:x}:void 0};r.exports=T},93254:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o){for(var c=d(f,l,h,a,null,o),p=0;p<c.length;p++)c[p].setCollisionCallback(u,v)};r.exports=x},32903:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(33680),f=function(l,h,a,u,v){var o=d(l,h,a,u,null,v),c=o.map(function(g){return g.index});x(c);for(var p=0;p<o.length;p++)o[p].index=c[p]};r.exports=f},61325:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(63448),x=s(56583),f=function(l,h){var a=l.tilemapLayer.tilemap,u=l.tilemapLayer,v=Math.floor(a.tileWidth*u.scaleX),o=Math.floor(a.tileHeight*u.scaleY),c=x(h.worldView.x-u.x,v,0,!0)-u.cullPaddingX,p=d(h.worldView.right-u.x,v,0,!0)+u.cullPaddingX,g=x(h.worldView.y-u.y,o/2,0,!0)-u.cullPaddingY,m=d(h.worldView.bottom-u.y,o/2,0,!0)+u.cullPaddingY;return{left:c,right:p,top:g,bottom:m}};r.exports=f},54503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(61325),x=s(32483),f=function(l,h,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=l.tilemapLayer,o=d(l,h);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(o.left=0,o.right=l.width,o.top=0,o.bottom=l.height),x(l,o,u,a),a};r.exports=f},97202:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u){h||(h=new d);var v=u.baseTileWidth,o=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+a.scrollY*(1-c.scrollFactorY),o*=c.scaleY);var m=p+f*v+l%2*(v/2),C=g+l*(o/2);return h.set(m,C)};r.exports=x},28054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=x.baseTileHeight,l=x.tilemapLayer,h=0;return l&&(d===void 0&&(d=l.scene.cameras.main),h=l.y+d.scrollY*(1-l.scrollFactorY),f*=l.scaleY),h+s*(f/2)+f};r.exports=T},15108:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u,v){a||(a=new d);var o=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),l=l-(p.y+u.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,f=f-(p.x+u.scrollX*(1-p.scrollFactorX)),o*=p.scaleX);var g=h?Math.floor(l/(c/2)):l/(c/2),m=h?Math.floor((f+g%2*.5*o)/o):(f+g%2*.5*o)/o;return a.set(m,g)};r.exports=x},51900:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=f.baseTileHeight,h=f.tilemapLayer;return h&&(x||(x=h.scene.cameras.main),s=s-(h.y+x.scrollY*(1-h.scrollFactorY)),l*=h.scaleY),d?Math.floor(s/(l/2)):s/(l/2)};r.exports=T},86560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=function(f,l,h,a,u,v,o){for(var c=d(h,a,u,v,null,o),p=0;p<c.length;p++)c[p]&&(c[p].index===f?c[p].index=l:c[p].index===l&&(c[p].index=f))};r.exports=x},97281:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=x.baseTileWidth,l=x.tilemapLayer,h=0;return l&&(d||(d=l.scene.cameras.main),h=l.x+d.scrollX*(1-l.scrollFactorX),f*=l.scaleX),h+s*f};r.exports=T},70326:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(97281),x=s(29650),f=s(26099),l=function(h,a,u,v,o){return u||(u=new f(0,0)),u.x=d(h,v,o),u.y=x(a,v,o),u};r.exports=l},29650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=x.baseTileHeight,l=x.tilemapLayer,h=0;return l&&(d||(d=l.scene.cameras.main),h=l.y+d.scrollY*(1-l.scrollFactorY),f*=l.scaleY),h+s*f};r.exports=T},77366:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(7386),x=s(75508),f=function(l,h,a,u,v,o){if(v){var c,p=d(l,h,a,u,null,o),g=0;for(c=0;c<v.length;c++)g+=v[c].weight;if(!(g<=0))for(c=0;c<p.length;c++){for(var m=x.RND.frac()*g,C=0,E=-1,M=0;M<v.length;M++)if(C+=v[M].weight,m<=C){var P=v[M].index;E=Array.isArray(P)?P[Math.floor(x.RND.frac()*P.length)]:P;break}p[c].index=E}}};r.exports=f},10095:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85896),x=s(26099),f=new x,l=function(h,a,u,v){return d(h,0,a,f,u,v),f.x};r.exports=l},85896:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(26099),x=function(f,l,h,a,u,v){h===void 0&&(h=!0),a||(a=new d);var o=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),f=f-(p.x+u.scrollX*(1-p.scrollFactorX)),l=l-(p.y+u.scrollY*(1-p.scrollFactorY)),o*=p.scaleX,c*=p.scaleY);var g=f/o,m=l/c;return h&&(g=Math.floor(g),m=Math.floor(m)),a.set(g,m)};r.exports=x},63288:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(85896),x=s(26099),f=new x,l=function(h,a,u,v){return d(0,h,a,f,u,v),f.y};r.exports=l},81086:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ORIENTATION:s(91907)};r.exports=d},62501:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=s(21829),f={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};f=d(!1,f,x.ORIENTATION),r.exports=f},14977:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(91907),f=s(95540),l=new d({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","layer"),this.id=f(a,"id",0),this.x=f(a,"x",0),this.y=f(a,"y",0),this.width=f(a,"width",0),this.height=f(a,"height",0),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.baseTileWidth=f(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(a,"baseTileHeight",this.tileHeight),this.orientation=f(a,"orientation",x.ORTHOGONAL),this.widthInPixels=f(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(a,"alpha",1),this.visible=f(a,"visible",!0),this.properties=f(a,"properties",[]),this.indexes=f(a,"indexes",[]),this.collideIndexes=f(a,"collideIndexes",[]),this.callbacks=f(a,"callbacks",[]),this.bodies=f(a,"bodies",[]),this.data=f(a,"data",[]),this.tilemapLayer=f(a,"tilemapLayer",null),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});r.exports=l},87010:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(91907),f=s(95540),l=new d({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","map"),this.width=f(a,"width",0),this.height=f(a,"height",0),this.infinite=f(a,"infinite",!1),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.widthInPixels=f(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.tileHeight),this.format=f(a,"format",null),this.orientation=f(a,"orientation",x.ORTHOGONAL),this.renderOrder=f(a,"renderOrder","right-down"),this.version=f(a,"version","1"),this.properties=f(a,"properties",{}),this.layers=f(a,"layers",[]),this.images=f(a,"images",[]),this.objects=f(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(a,"collision",{}),this.tilesets=f(a,"tilesets",[]),this.imageCollections=f(a,"imageCollections",[]),this.tiles=f(a,"tiles",[]),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});r.exports=l},48700:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=new d({initialize:function(h){h===void 0&&(h={}),this.name=x(h,"name","object layer"),this.id=x(h,"id",0),this.opacity=x(h,"opacity",1),this.properties=x(h,"properties",{}),this.propertyTypes=x(h,"propertytypes",{}),this.type=x(h,"type","objectgroup"),this.visible=x(h,"visible",!0),this.objects=x(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=f},6641:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(91907),x=function(f){return f=f.toLowerCase(),f==="isometric"?d.ISOMETRIC:f==="staggered"?d.STAGGERED:f==="hexagonal"?d.HEXAGONAL:d.ORTHOGONAL};r.exports=x},46177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80341),x=s(2342),f=s(82593),l=s(46594),h=s(87021),a=function(u,v,o,c,p,g){var m;switch(v){case d.ARRAY_2D:m=x(u,o,c,p,g);break;case d.CSV:m=f(u,o,c,p,g);break;case d.TILED_JSON:m=l(u,o,g);break;case d.WELTMEISTER:m=h(u,o,g);break;default:console.warn("Unrecognized tilemap data format: "+v),m=null}return m};r.exports=a},2342:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80341),x=s(14977),f=s(87010),l=s(23029),h=function(a,u,v,o,c){for(var p=new x({tileWidth:v,tileHeight:o}),g=new f({name:a,tileWidth:v,tileHeight:o,format:d.ARRAY_2D,layers:[p]}),m=[],C=u.length,E=0,M=0;M<u.length;M++){m[M]=[];for(var P=u[M],w=0;w<P.length;w++){var R=parseInt(P[w],10);isNaN(R)||R===-1?m[M][w]=c?null:new l(p,-1,w,M,v,o):m[M][w]=new l(p,R,w,M,v,o)}E===0&&(E=P.length)}return g.width=p.width=E,g.height=p.height=C,g.widthInPixels=p.widthInPixels=E*v,g.heightInPixels=p.heightInPixels=C*o,p.data=m,g};r.exports=h},82593:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80341),x=s(2342),f=function(l,h,a,u,v){var o=h.trim().split(`
`).map(function(p){return p.split(",")}),c=x(l,o,a,u,v);return c.format=d.CSV,c};r.exports=f},6656:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(14977),x=s(23029),f=function(l,h){for(var a=[],u=0;u<l.layer.length;u++){for(var v=l.layer[u],o=new d({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),c=[],p=[],g=0;g<v.data.length;g++){for(var m=0;m<v.data[g].length;m++){var C=v.data[g][m]-1,E;C>-1?E=new x(o,C,m,g,v.tilesize,v.tilesize):E=h?null:new x(o,-1,m,g,v.tilesize,v.tilesize),c.push(E)}p.push(c),c=[]}o.data=p,a.push(o)}return a};r.exports=f},96483:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33629),x=function(f){for(var l=[],h=[],a=0;a<f.layer.length;a++){var u=f.layer[a],v=u.tilesetName;v!==""&&h.indexOf(v)===-1&&(h.push(v),l.push(new d(v,0,u.tilesize,u.tilesize,0,0)))}return l};r.exports=x},87021:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(80341),x=s(87010),f=s(6656),l=s(96483),h=function(a,u,v){if(u.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var o=0,c=0,p=0;p<u.layer.length;p++)u.layer[p].width>o&&(o=u.layer[p].width),u.layer[p].height>c&&(c=u.layer[p].height);var g=new x({width:o,height:c,name:a,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:d.WELTMEISTER});return g.layers=f(u,v),g.tilesets=l(u),g};r.exports=h},52833:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(79291),x=function(f){for(var l,h,a,u,v,o=0;o<f.layers.length;o++){l=f.layers[o],u=null;for(var c=0;c<l.data.length;c++){v=l.data[c];for(var p=0;p<v.length;p++)h=v[p],!(h===null||h.index<0)&&(a=f.tiles[h.index][2],u=f.tilesets[a],h.width=u.tileWidth,h.height=u.tileHeight,u.tileProperties&&u.tileProperties[h.index-u.firstgid]&&(h.properties=d(h.properties,u.tileProperties[h.index-u.firstgid])))}}};r.exports=x},41868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=window.atob(s),x=d.length,f=new Array(x/4),l=0;l<x;l+=4)f[l/4]=(d.charCodeAt(l)|d.charCodeAt(l+1)<<8|d.charCodeAt(l+2)<<16|d.charCodeAt(l+3)<<24)>>>0;return f};r.exports=T},84101:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33629),x=function(f){var l,h,a=[];for(l=0;l<f.imageCollections.length;l++)for(var u=f.imageCollections[l],v=u.images,o=0;o<v.length;o++){var c=v[o];h=new d(c.image,c.gid,u.imageWidth,u.imageHeight,0,0),h.updateTileData(u.imageWidth,u.imageHeight),f.tilesets.push(h)}for(l=0;l<f.tilesets.length;l++){h=f.tilesets[l];for(var p=h.tileMargin,g=h.tileMargin,m=0,C=0,E=0,M=h.firstgid;M<h.firstgid+h.total&&(a[M]=[p,g,l],p+=h.tileWidth+h.tileSpacing,m++,!(m===h.total||(C++,C===h.columns&&(p=h.tileMargin,g+=h.tileHeight+h.tileSpacing,C=0,E++,E===h.rows))));M++);}return a};r.exports=x},79677:(r,T,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=function(f,l,h){if(!l)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=l.x+d(l,"startx",0)*f.tilewidth+d(l,"offsetx",0),u=l.y+d(l,"starty",0)*f.tileheight+d(l,"offsety",0);return{i:0,layers:l.layers,name:h.name+l.name+"/",opacity:h.opacity*l.opacity,visible:h.visible&&l.visible,x:h.x+a,y:h.y+u}};r.exports=x},29920:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,s=1073741824,d=536870912,x=function(f){var l=!!(f&T),h=!!(f&s),a=!!(f&d);f=f&~(T|s|d);var u=0,v=!1;return l&&h&&a?(u=Math.PI/2,v=!0):l&&h&&!a?(u=Math.PI,v=!1):l&&!h&&a?(u=Math.PI/2,v=!1):l&&!h&&!a?(u=0,v=!0):!l&&h&&a?(u=3*Math.PI/2,v=!1):!l&&h&&!a?(u=Math.PI,v=!0):!l&&!h&&a?(u=3*Math.PI/2,v=!0):!l&&!h&&!a&&(u=0,v=!1),{gid:f,flippedHorizontal:l,flippedVertical:h,flippedAntiDiagonal:a,rotation:u,flipped:v}};r.exports=x},12635:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=s(79677),f=function(l){for(var h=[],a=[],u=x(l);u.i<u.layers.length||a.length>0;){if(u.i>=u.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=a.pop();continue}var v=u.layers[u.i];if(u.i++,v.type!=="imagelayer"){if(v.type==="group"){var o=x(l,v,u);a.push(u),u=o}continue}var c=d(v,"offsetx",0)+d(v,"startx",0),p=d(v,"offsety",0)+d(v,"starty",0);h.push({name:u.name+v.name,image:v.image,x:u.x+c+v.x,y:u.y+p+v.y,alpha:u.opacity*v.opacity,visible:u.visible&&v.visible,properties:d(v,"properties",{})})}return h};r.exports=f},46594:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(51233),x=s(84101),f=s(91907),l=s(62644),h=s(80341),a=s(6641),u=s(87010),v=s(12635),o=s(22611),c=s(28200),p=s(24619),g=function(m,C,E){var M=l(C),P=new u({width:M.width,height:M.height,name:m,tileWidth:M.tilewidth,tileHeight:M.tileheight,orientation:a(M.orientation),format:h.TILED_JSON,version:M.version,properties:M.properties,renderOrder:M.renderorder,infinite:M.infinite});P.orientation===f.HEXAGONAL&&(P.hexSideLength=M.hexsidelength,P.staggerAxis=M.staggeraxis,P.staggerIndex=M.staggerindex),P.layers=c(M,E),P.images=v(M);var w=p(M);return P.tilesets=w.tilesets,P.imageCollections=w.imageCollections,P.objects=o(M),P.tiles=x(P),d(P),P};r.exports=g},52205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(18254),x=s(29920),f=function(a){return{x:a.x,y:a.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(a,u,v){u===void 0&&(u=0),v===void 0&&(v=0);var o=d(a,l);if(o.x+=u,o.y+=v,a.gid){var c=x(a.gid);o.gid=c.gid,o.flippedHorizontal=c.flippedHorizontal,o.flippedVertical=c.flippedVertical,o.flippedAntiDiagonal=c.flippedAntiDiagonal}else a.polyline?o.polyline=a.polyline.map(f):a.polygon?o.polygon=a.polygon.map(f):a.ellipse?o.ellipse=a.ellipse:a.text?o.text=a.text:a.point?o.point=!0:o.rectangle=!0;return o};r.exports=h},22611:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95540),x=s(52205),f=s(48700),l=s(79677),h=function(a){for(var u=[],v=[],o=l(a);o.i<o.layers.length||v.length>0;){if(o.i>=o.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=v.pop();continue}var c=o.layers[o.i];if(o.i++,c.opacity*=o.opacity,c.visible=o.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var p=l(a,c,o);v.push(o),o=p}continue}c.name=o.name+c.name;for(var g=o.x+d(c,"startx",0)+d(c,"offsetx",0),m=o.y+d(c,"starty",0)+d(c,"offsety",0),C=[],E=0;E<c.objects.length;E++){var M=x(c.objects[E],g,m);C.push(M)}var P=new f(c);P.objects=C,u.push(P)}return u};r.exports=h},28200:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41868),x=s(91907),f=s(79677),l=s(6641),h=s(95540),a=s(14977),u=s(29920),v=s(23029),o=function(c,p){for(var g=h(c,"infinite",!1),m=[],C=[],E=f(c);E.i<E.layers.length||C.length>0;){if(E.i>=E.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=C.pop();continue}var M=E.layers[E.i];if(E.i++,M.type!=="tilelayer"){if(M.type==="group"){var P=f(c,M,E);C.push(E),E=P}continue}if(M.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+M.name+"'");continue}else if(M.encoding&&M.encoding==="base64"){if(M.chunks)for(var w=0;w<M.chunks.length;w++)M.chunks[w].data=d(M.chunks[w].data);M.data&&(M.data=d(M.data)),delete M.encoding}var R,A,L,F,O=[],D=0;if(g){var B=h(M,"startx",0)+M.x,b=h(M,"starty",0)+M.y;R=new a({name:E.name+M.name,id:M.id,x:E.x+h(M,"offsetx",0)+B*c.tilewidth,y:E.y+h(M,"offsety",0)+b*c.tileheight,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:E.opacity*M.opacity,visible:E.visible&&M.visible,properties:h(M,"properties",[]),orientation:l(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var G=0;G<M.height;G++){O[G]=[null];for(var V=0;V<M.width;V++)O[G][V]=null}for(G=0,K=M.chunks.length;G<K;G++)for(var W=M.chunks[G],H=W.x-B,z=W.y-b,U=0,I=0,N=W.data.length;I<N;I++){var k=D+H,X=U+z;A=u(W.data[I]),A.gid>0?(L=new v(R,A.gid,k,X,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,O[X][k]=L):(F=p?null:new v(R,-1,k,X,c.tilewidth,c.tileheight),O[X][k]=F),D++,D===W.width&&(U++,D=0)}}else{R=new a({name:E.name+M.name,id:M.id,x:E.x+h(M,"offsetx",0)+M.x,y:E.y+h(M,"offsety",0)+M.y,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:E.opacity*M.opacity,visible:E.visible&&M.visible,properties:h(M,"properties",[]),orientation:l(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var Y=[],$=0,K=M.data.length;$<K;$++)A=u(M.data[$]),A.gid>0?(L=new v(R,A.gid,D,O.length,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,Y.push(L)):(F=p?null:new v(R,-1,D,O.length,c.tilewidth,c.tileheight),Y.push(F)),D++,D===M.width&&(O.push(Y),D=0,Y=[])}R.data=O,m.push(R)}return m};r.exports=o},24619:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(33629),x=s(16536),f=s(52205),l=s(57880),h=function(a){for(var u=[],v=[],o=null,c,p=0;p<a.tilesets.length;p++){var g=a.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var m=new d(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(a.version>1){var C=void 0,E=void 0;if(Array.isArray(g.tiles)){C=C||{},E=E||{};for(var M=0;M<g.tiles.length;M++){var P=g.tiles[M];if(P.properties){var w={};P.properties.forEach(function(G){w[G.name]=G.value}),E[P.id]=w}if(P.objectgroup&&((C[P.id]||(C[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var R=P.objectgroup.objects.map(function(G){return f(G)});C[P.id].objectgroup.objects=R}P.animation&&((C[P.id]||(C[P.id]={})).animation=P.animation),P.type&&((C[P.id]||(C[P.id]={})).type=P.type)}}Array.isArray(g.wangsets)&&(C=C||{},E=E||{},l(g.wangsets,C)),C&&(m.tileData=C,m.tileProperties=E)}else if(g.tileproperties&&(m.tileProperties=g.tileproperties),g.tiles){m.tileData=g.tiles;for(c in m.tileData){var A=m.tileData[c].objectgroup;if(A&&A.objects){var L=A.objects.map(function(G){return f(G)});m.tileData[c].objectgroup.objects=L}}}m.updateTileData(g.imagewidth,g.imageheight),u.push(m)}else{var F=new x(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),O=0;for(M=0;M<g.tiles.length;M++){P=g.tiles[M];var D=P.image,B=parseInt(P.id,10),b=g.firstgid+B;F.addImage(b,D),O=Math.max(B,O)}F.maxId=O,v.push(F)}o&&(o.lastgid=g.firstgid-1),o=g}return{tilesets:u,imageCollections:v}};r.exports=h},57880:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){for(var x=0;x<s.length;x++){var f=s[x],l=x;if(f.name&&f.name!==""&&(l=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var h={},a={},u,v,o;if(Array.isArray(f.edgecolors))for(u=0;u<f.edgecolors.length;u++)o=1+u,v=f.edgecolors[u],v.name!==""&&(h[o]=v.name);if(Array.isArray(f.cornercolors))for(u=0;u<f.cornercolors.length;u++)o=1+u,v=f.cornercolors[u],v.name!==""&&(a[o]=v.name);if(Array.isArray(f.colors))for(u=0;u<f.colors.length;u++)v=f.colors[u],o=1+u,v.name!==""&&(h[o]=a[o]=v.name);for(var c=[h,a,h,a,h,a,h,a],p=0;p<f.wangtiles.length;p++){var g=f.wangtiles[p],m=d[g.tileid]||(d[g.tileid]={});m=m.wangid||(m.wangid={});for(var C=[],E=0;E<Math.min(c.length,g.wangid.length);E++){if(v=g.wangid[E],v===0){C.push(void 0);continue}var M=c[E][v];if(M!==void 0){C.push(M);continue}C.push(v)}m[l]=C}}}};r.exports=T},96761:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(37277),f=s(44594),l=s(94880),h=s(72905),a=new d({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(f.PRE_UPDATE,this.preUpdate,this),u.on(f.UPDATE,this.update,this),u.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(u){var v;return u instanceof l?(v=u,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new l(u),this._pendingInsertion.push(v),v},delayedCall:function(u,v,o,c){return this.addEvent({delay:u,callback:v,args:o,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var o=u[v];h(this._pendingRemoval,o),h(this._pendingInsertion,o),h(this._active,o)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var u=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(u===0&&v===0)){var o,c;for(o=0;o<u;o++){c=this._pendingRemoval[o];var p=this._active.indexOf(c);p>-1&&this._active.splice(p,1),c.destroy()}for(o=0;o<v;o++)c=this._pendingInsertion[o],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(u,v){if(this.now=u,!this.paused){v*=this.timeScale;for(var o=0;o<this._active.length;o++){var c=this._active[o];if(!c.paused&&(c.elapsed+=v*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(f.PRE_UPDATE,this.preUpdate,this),v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",a,"time"),r.exports=a},96120:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(39429),l=s(95540),h=s(44594),a=s(89809),u=new d({Extends:x,initialize:function(o,c){x.call(this),this.scene=o,this.systems=o.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(h.PRE_UPDATE,this.preUpdate,this),p.on(h.UPDATE,this.update,this),p.once(h.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(v,o){this.paused||(this.elapsed+=o)},update:function(){if(!(this.paused||this.complete)){var v,o=this.events,c=!1,p=this.systems,g;for(v=0;v<o.length;v++){var m=o[v];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,g=m.target?m.target:this,m.if&&!m.if.call(g,m))continue;if(m.once&&(c=!0),m.set&&m.target)for(var C in m.set)m.target[C]=m.set[C];this.iteration&&m.repeat++,m.loop&&m.repeat&&m.loop.call(g),m.tween&&p.tweens.add(m.tween),m.sound&&(typeof m.sound=="string"?p.sound.play(m.sound):p.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,g),m.run&&m.run.call(g),m.stop&&this.stop()}}if(c)for(v=0;v<o.length;v++)o[v].complete&&o[v].once&&(o.splice(v,1),v--);this.totalComplete>=o.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var o=0;o<this.events.length;o++)this.events[o].complete=!1,v||(this.events[o].repeat=0);return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var o=this.events,c=0;o.length>0&&(c=o[o.length-1].time);for(var p=0;p<v.length;p++){var g=v[p],m=l(g,"at",0),C=l(g,"in",null);C!==null&&(m=this.elapsed+C);var E=l(g,"from",null);E!==null&&(m=c+E),o.push({complete:!1,time:m,repeat:0,if:l(g,"if",null),run:l(g,"run",null),loop:l(g,"loop",null),event:l(g,"event",null),target:l(g,"target",null),set:l(g,"set",null),tween:l(g,"tween",null),sound:l(g,"sound",null),once:l(g,"once",!1),stop:l(g,"stop",!1)}),c=m}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(h.PRE_UPDATE,this.preUpdate,this),v.off(h.UPDATE,this.update,this),v.off(h.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});f.register("timeline",function(v){return new u(this.scene,v)}),r.exports=u},94880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(95540),f=new d({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(l){if(this.delay=x(l,"delay",0),this.repeat=x(l,"repeat",0),this.loop=x(l,"loop",!1),this.callback=x(l,"callback",void 0),this.callbackScope=x(l,"callbackScope",this),this.args=x(l,"args",[]),this.timeScale=x(l,"timeScale",1),this.startAt=x(l,"startAt",0),this.paused=x(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=f},35945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},89809:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(35945)}},90291:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(72905),x=s(83419),f=s(43491),l=s(88032),h=s(37277),a=s(44594),u=s(93109),v=s(86081),o=s(8357),c=s(43960),p=s(26012),g=new x({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var C=[],E=0;E<m.length;E++){var M=m[E];M instanceof v||M instanceof c?C.push(M):Array.isArray(M.tweens)?C.push(p(this,M)):C.push(o(this,M))}return C.length===1?C[0]:C},add:function(m){var C=m,E=this.tweens;return C instanceof v||C instanceof c||(Array.isArray(C.tweens)?C=p(this,C):C=o(this,C)),E.push(C.reset()),C},addMultiple:function(m){for(var C,E=[],M=this.tweens,P=0;P<m.length;P++)C=m[P],C instanceof v||C instanceof c||(Array.isArray(C.tweens)?C=p(this,C):C=o(this,C)),M.push(C.reset()),E.push(C);return E},chain:function(m){var C=p(this,m);return this.tweens.push(C.init()),C},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var C=l(this,m);return this.tweens.push(C.reset()),C},stagger:function(m,C){return u(m,C)},setLagSmooth:function(m,C){return m===void 0&&(m=1/1e-8),C===void 0&&(C=0),this.maxLag=m,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var E=this.prevTime-this.startTime,M=E-this.nextTime,P=E-this.time*1e3;return M>0||m?(E/=1e3,this.time=E,this.nextTime+=M+(M>=this.gap?4:this.gap-M)):P=0,P},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var C=this.getDelta(m);if(!(C<=0)){this.processing=!0;var E,M,P=[],w=this.tweens;for(E=0;E<w.length;E++)M=w[E],M.update(C)&&P.push(M);var R=P.length;if(R&&w.length>0){for(E=0;E<R;E++){M=P[E];var A=w.indexOf(M);A>-1&&(M.isPendingRemove()||M.isDestroyed())&&(w.splice(A,1),M.destroy())}P.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(d(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,C){var E,M=[null];for(E=1;E<arguments.length;E++)M.push(arguments[E]);return this.tweens.forEach(function(P){M[0]=P,m.apply(C,M)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var C=[],E=this.tweens;Array.isArray(m)?m=f(m):m=[m];for(var M=m.length,P=0;P<E.length;P++)for(var w=E[P],R=0;R<M;R++)!w.isDestroyed()&&w.hasTarget(m[R])&&C.push(w);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var C=this.tweens,E,M=0;M<C.length;M++)if(E=C[M],E.isPlaying()&&E.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,C=0;C<m.length;C++)m[C].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var C=this.getTweensOf(m),E=0;E<C.length;E++)C[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",g,"tweens"),r.exports=g},57355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){return s&&s.hasOwnProperty(d)?s[d]:x};r.exports=T},6113:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(62640),x=s(35355),f=function(l,h){var a=d.Power0;if(typeof l=="string")if(d.hasOwnProperty(l))a=d[l];else{var u="";if(l.indexOf(".")){u=l.substring(l.indexOf(".")+1);var v=u.toLowerCase();v==="in"?u="easeIn":v==="out"?u="easeOut":v==="inout"&&(u="easeInOut")}l=x(l.substring(0,l.indexOf(".")+1)+u),d.hasOwnProperty(l)&&(a=d[l])}else typeof l=="function"&&(a=l);if(!h)return a;var o=h.slice(0);return o.unshift(0),function(c){return o[0]=c,a.apply(this,o)}};r.exports=f},91389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(89318),x=s(77259),f=s(28392),l={bezier:d,catmull:x,catmullrom:x,linear:f},h=function(a){if(a===null)return null;var u=l.linear;return typeof a=="string"?l.hasOwnProperty(a)&&(u=l[a]):typeof a=="function"&&(u=a),u};r.exports=h},55292:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f;if(s.hasOwnProperty(d)){var l=typeof s[d];l==="function"?f=function(h,a,u,v,o,c){return s[d](h,a,u,v,o,c)}:f=function(){return s[d]}}else typeof x=="function"?f=x:f=function(){return x};return f};r.exports=T},82985:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(81076),x=function(f){var l,h=[];if(f.hasOwnProperty("props"))for(l in f.props)l.substring(0,1)!=="_"&&h.push({key:l,value:f.props[l]});else for(l in f)d.indexOf(l)===-1&&l.substring(0,1)!=="_"&&h.push({key:l,value:f[l]});return h};r.exports=x},62329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35154),x=function(f){var l=d(f,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};r.exports=x},17777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(30976),x=s(99472);function f(v){return!!v.getActive&&typeof v.getActive=="function"}function l(v){return!!v.getStart&&typeof v.getStart=="function"}function h(v){return!!v.getEnd&&typeof v.getEnd=="function"}function a(v){return l(v)||h(v)||f(v)}var u=function(v,o){var c,p=function(W,H,z){return z},g=function(W,H,z){return z},m=null,C=typeof o;if(C==="number")p=function(){return o};else if(Array.isArray(o))g=function(){return o[0]},p=function(){return o[o.length-1]};else if(C==="string"){var E=o.toLowerCase(),M=E.substring(0,6)==="random",P=E.substring(0,3)==="int";if(M||P){var w=E.indexOf("("),R=E.indexOf(")"),A=E.indexOf(",");if(w&&R&&A){var L=parseFloat(E.substring(w+1,A)),F=parseFloat(E.substring(A+1,R));M?p=function(){return x(L,F)}:p=function(){return d(L,F)}}else throw new Error("invalid random() format")}else{E=E[0];var O=parseFloat(o.substr(2));switch(E){case"+":p=function(W,H,z){return z+O};break;case"-":p=function(W,H,z){return z-O};break;case"*":p=function(W,H,z){return z*O};break;case"/":p=function(W,H,z){return z/O};break;default:p=function(){return parseFloat(o)}}}}else if(C==="function")p=o;else if(C==="object")if(a(o))f(o)&&(m=o.getActive),h(o)&&(p=o.getEnd),l(o)&&(g=o.getStart);else if(o.hasOwnProperty("value"))c=u(v,o.value);else{var D=o.hasOwnProperty("to"),B=o.hasOwnProperty("from"),b=o.hasOwnProperty("start");if(D&&(B||b)){if(c=u(v,o.to),b){var G=u(v,o.start);c.getActive=G.getEnd}if(B){var V=u(v,o.from);c.getStart=V.getEnd}}}return c||(c={getActive:m,getEnd:p,getStart:g}),c};r.exports=u},88032:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70402),x=s(69902),f=s(23568),l=s(57355),h=s(6113),a=s(55292),u=s(35154),v=s(17777),o=s(269),c=s(86081),p=function(g,m,C){if(m instanceof c)return m.parent=g,m;C===void 0?C=x:C=o(x,C);var E=u(m,"from",0),M=u(m,"to",1),P=[{value:E}],w=u(m,"delay",C.delay),R=u(m,"easeParams",C.easeParams),A=u(m,"ease",C.ease),L=v("value",M),F=new c(g,P),O=F.add(0,"value",L.getEnd,L.getStart,L.getActive,h(u(m,"ease",A),u(m,"easeParams",R)),a(m,"delay",w),u(m,"duration",C.duration),l(m,"yoyo",C.yoyo),u(m,"hold",C.hold),u(m,"repeat",C.repeat),u(m,"repeatDelay",C.repeatDelay),!1,!1);O.start=E,O.current=E,F.completeDelay=f(m,"completeDelay",0),F.loop=Math.round(f(m,"loop",0)),F.loopDelay=Math.round(f(m,"loopDelay",0)),F.paused=l(m,"paused",!1),F.persist=l(m,"persist",!1),F.callbackScope=u(m,"callbackScope",F);for(var D=d.TYPES,B=0;B<D.length;B++){var b=D[B],G=u(m,b,!1);if(G){var V=u(m,b+"Params",[]);F.setCallback(b,G,V)}}return F};r.exports=p},93109:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(6113),x=s(35154),f=s(36383),l=function(h,a){a===void 0&&(a={});var u,v=x(a,"start",0),o=x(a,"ease",null),c=x(a,"grid",null),p=x(a,"from",0),g=p==="first",m=p==="center",C=p==="last",E=typeof p=="number",M=Array.isArray(h),P=parseFloat(M?h[0]:h),w=M?parseFloat(h[1]):0,R=Math.max(P,w);if(M&&(v+=P),c){var A=c[0],L=c[1],F=0,O=0,D=0,B=0,b=[];C?(F=A-1,O=L-1):E?(F=p%A,O=Math.floor(p/A)):m&&(F=(A-1)/2,O=(L-1)/2);for(var G=f.MIN_SAFE_INTEGER,V=0;V<L;V++){b[V]=[];for(var W=0;W<A;W++){D=F-W,B=O-V;var H=Math.sqrt(D*D+B*B);H>G&&(G=H),b[V][W]=H}}}var z=o?d(o):null;return c?u=function(U,I,N,k){var X=0,Y=k%A,$=Math.floor(k/A);Y>=0&&Y<A&&$>=0&&$<L&&(X=b[$][Y]);var K;if(M){var Z=w-P;z?K=X/G*Z*z(X/G):K=X/G*Z}else z?K=X*P*z(X/G):K=X*P;return K+v}:u=function(U,I,N,k,X){X--;var Y;g?Y=k:m?Y=Math.abs(X/2-k):C?Y=X-k:E&&(Y=Math.abs(p-k));var $;if(M){var K;m?K=(w-P)/X*(Y*2):K=(w-P)/X*Y,z?$=K*z(Y/X):$=K}else z?$=X*R*z(Y/X):$=Y*P;return $+v},u};r.exports=l},8357:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70402),x=s(69902),f=s(23568),l=s(57355),h=s(6113),a=s(91389),u=s(55292),v=s(82985),o=s(62329),c=s(35154),p=s(17777),g=s(269),m=s(86081),C=function(E,M,P){if(M instanceof m)return M.parent=E,M;P===void 0?P=x:P=g(x,P);var w=o(M);!w&&P.targets&&(w=P.targets);for(var R=v(M),A=c(M,"delay",P.delay),L=c(M,"duration",P.duration),F=c(M,"easeParams",P.easeParams),O=c(M,"ease",P.ease),D=c(M,"hold",P.hold),B=c(M,"repeat",P.repeat),b=c(M,"repeatDelay",P.repeatDelay),G=l(M,"yoyo",P.yoyo),V=l(M,"flipX",P.flipX),W=l(M,"flipY",P.flipY),H=c(M,"interpolation",P.interpolation),z=function(Q,j,_,q){if(_==="texture"){var it=q,ot=void 0;Array.isArray(q)?(it=q[0],ot=q[1]):q.hasOwnProperty("value")?(it=q.value,Array.isArray(q.value)?(it=q.value[0],ot=q.value[1]):typeof q.value=="string"&&(it=q.value)):typeof q=="string"&&(it=q),Q.addFrame(j,it,ot,u(q,"delay",A),c(q,"duration",L),c(q,"hold",D),c(q,"repeat",B),c(q,"repeatDelay",b),l(q,"flipX",V),l(q,"flipY",W))}else{var ut=p(_,q),ht=a(c(q,"interpolation",H));Q.add(j,_,ut.getEnd,ut.getStart,ut.getActive,h(c(q,"ease",O),c(q,"easeParams",F)),u(q,"delay",A),c(q,"duration",L),l(q,"yoyo",G),c(q,"hold",D),c(q,"repeat",B),c(q,"repeatDelay",b),l(q,"flipX",V),l(q,"flipY",W),ht,ht?q:null)}},U=new m(E,w),I=0;I<R.length;I++)for(var N=R[I].key,k=R[I].value,X=0;X<w.length;X++)N==="scale"&&!w[X].hasOwnProperty("scale")?(z(U,X,"scaleX",k),z(U,X,"scaleY",k)):z(U,X,N,k);U.completeDelay=f(M,"completeDelay",0),U.loop=Math.round(f(M,"loop",0)),U.loopDelay=Math.round(f(M,"loopDelay",0)),U.paused=l(M,"paused",!1),U.persist=l(M,"persist",!1),U.callbackScope=c(M,"callbackScope",U);for(var Y=d.TYPES,$=0;$<Y.length;$++){var K=Y[$],Z=c(M,K,!1);if(Z){var J=c(M,K+"Params",[]);U.setCallback(K,Z,J)}}return U};r.exports=C},26012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70402),x=s(23568),f=s(57355),l=s(62329),h=s(35154),a=s(8357),u=s(43960),v=function(o,c){if(c instanceof u)return c.parent=o,c;var p=new u(o);p.startDelay=h(c,"delay",0),p.completeDelay=x(c,"completeDelay",0),p.loop=Math.round(x(c,"loop",h(c,"repeat",0))),p.loopDelay=Math.round(x(c,"loopDelay",h(c,"repeatDelay",0))),p.paused=f(c,"paused",!1),p.persist=f(c,"persist",!1),p.callbackScope=h(c,"callbackScope",p);var g,m=d.TYPES;for(g=0;g<m.length;g++){var C=m[g],E=h(c,C,!1);if(E){var M=h(c,C+"Params",[]);p.setCallback(C,E,M)}}var P=h(c,"tweens",null);if(Array.isArray(P)){var w=[],R=l(c),A=void 0;for(R&&(A={targets:R}),g=0;g<P.length;g++)w.push(a(p,P[g],A));p.add(w)}return p};r.exports=v},30231:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"},98540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},67233:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},2859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},98336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"},25764:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},32193:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},84371:r=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},70766:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},55659:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"},842:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};r.exports=d},70402:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(50792),f=s(842),l=s(86353),h=new d({Extends:x,initialize:function(u){x.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,u,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:u,params:v}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=h},95042:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(83419),x=s(842),f=s(86353),l=new d({initialize:function(a,u,v,o,c,p,g,m,C,E){this.tween=a,this.targetIndex=u,this.duration=o,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=c,this.hold=p,this.repeat=g,this.repeatDelay=m,this.repeatCounter=0,this.flipX=C,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,a=h.totalTargets,u=this.targetIndex,v=h.targets[u],o=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,o,0,u,a,h),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=p*f.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,a,u){var v=this.tween,o=v.totalTargets,c=this.targetIndex,p=v.targets[c],g=this.key,m=g!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),m&&(a||u)&&(this.start=this.getStartValue(p,g,this.start,c,o,v)),u){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(p,g,this.start,c,o,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,m&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=l},69902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=T},81076:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(70402),x=s(83419),f=s(842),l=s(44603),h=s(39429),a=s(36383),u=s(86353),v=s(48177),o=s(42220),c=new x({Extends:d,initialize:function(g,m){d.call(this,g),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,g,m,C,E,M,P,w,R,A,L,F,O,D,B,b){var G=new v(this,p,g,m,C,E,M,P,w,R,A,L,F,O,D,B,b);return this.totalData=this.data.push(G),G},addFrame:function(p,g,m,C,E,M,P,w,R,A){var L=new o(this,p,g,m,C,E,M,P,w,R,A);return this.totalData=this.data.push(L),L},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,m){if(m===void 0&&(m=!1),p!=="texture")for(var C=0;C<this.totalData;C++){var E=this.data[C];E.key===p&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=g,m&&(E.start=E.current))}return this},restart:function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,d.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,m){if(p===void 0&&(p=0),g===void 0&&(g=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,p>0){for(var E=Math.floor(p/g),M=p-E*g,P=0;P<E;P++)this.update(g);M>0&&this.update(M)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var g=this.data,m=0;m<this.totalData;m++)g[m].reset(p);this.duration=Math.max(this.duration,.01);var C=this.duration,E=this.completeDelay,M=this.loopCounter,P=this.loopDelay;M>0?this.totalDuration=C+E+(C+P)*M:this.totalDuration=C+E},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=u.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var m=this.data,C=0;C<this.totalData;C++)m[C].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){this.emit(p,this,this.targets);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){d.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(p){return this.scene.sys.tweens.add(p)}),l.register("tween",function(p){return this.scene.sys.tweens.create(p)}),r.exports=c},43960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(72905),x=s(70402),f=s(83419),l=s(842),h=s(44603),a=s(39429),u=s(86353),v=new f({Extends:x,initialize:function(c){x.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive"),this},add:function(o){var c=this.parent.create(o);Array.isArray(c)||(c=[c]);for(var p=this.data,g=0;g<c.length;g++){var m=c[g];m.parent=this,p.push(m.reset())}return this.totalData=p.length,this},remove:function(o){return d(this.data,o),o.setRemovedState(),o===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(o){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(o))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(o){return o.seek(),o.setActiveState(),this},makeActive:function(o){return o.reset(),o.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var o=this.data,c=this.totalData,p=0;p<c;p++)o[p].reset(!1);this.currentIndex=0,this.currentTween=o[0]},update:function(o){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;o*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(o):this.isCompleteDelayed()?this.updateCompleteDelay(o):this.isStartDelayed()&&(o=this.updateStartCountdown(o));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(o)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(o){this.currentIndex=o,this.currentTween=this.data[o],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(o,c){this.emit(o,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(o){return this.scene.sys.tweens.chain(o)}),h.register("tweenchain",function(o){return this.scene.sys.tweens.create(o)}),r.exports=v},48177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95042),x=s(45319),f=s(83419),l=s(842),h=new f({Extends:d,initialize:function(u,v,o,c,p,g,m,C,E,M,P,w,R,A,L,F,O){d.call(this,u,v,C,E,M,P,w,R,A,L),this.key=o,this.getActiveValue=g,this.getEndValue=c,this.getStartValue=p,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=O},reset:function(a){d.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],v=this.key;a&&(u[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[v]=this.getActiveValue(u,v,0))},update:function(a){var u=this.tween,v=u.totalTargets,o=this.targetIndex,c=u.targets[o],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],o,v,u),this.end=this.getEndValue(c,p,this.start,o,v,u),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var C=this.elapsed,E=this.duration,M=0,P=!1;C+=a,C>=E?(M=C-E,C=E,P=!0):C<0&&(C=0);var w=x(C/E,0,1);if(this.elapsed=C,this.progress=w,this.previous=this.current,P)g?(this.current=this.end,c[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(M)):(this.current=this.start,c[p]=this.start,this.setStateFromStart(M));else{g||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,c[p]=this.current}this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,u){var v=this.tween;if(!v.isSeeking){var o=v.targets[this.targetIndex],c=this.key,p=this.current,g=this.previous;v.emit(a,v,c,o,p,g);var m=v.callbacks[u];m&&m.func.apply(v.callbackScope,[v,o,c,p,g].concat(m.params))}},destroy:function(){d.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=h},42220:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(95042),x=s(45319),f=s(83419),l=s(842),h=new f({Extends:d,initialize:function(u,v,o,c,p,g,m,C,E,M,P){d.call(this,u,v,p,g,!1,m,C,E,M,P),this.key="texture",this.startTexture=null,this.endTexture=o,this.startFrame=null,this.endFrame=c,this.yoyo=C!==0},reset:function(a){d.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),a&&u.setTexture(this.startTexture,this.startFrame)},update:function(a){var u=this.tween,v=this.targetIndex,o=u.targets[v];if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&o.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var g=this.elapsed,m=this.duration,C=0,E=!1;g+=a,g>=m?(C=g-m,g=m,E=!0):g<0&&(g=0);var M=x(g/m,0,1);this.elapsed=g,this.progress=M,E&&(c?(o.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(o.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,u){var v=this.tween;if(!v.isSeeking){var o=v.targets[this.targetIndex],c=this.key;v.emit(a,v,c,o);var p=v.callbacks[u];p&&p.func.apply(v.callbackScope,[v,o,c].concat(p.params))}},destroy:function(){d.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=h},86353:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=T},83419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function s(h,a,u){var v=u?h[a]:Object.getOwnPropertyDescriptor(h,a);return!u&&v.value&&typeof v.value=="object"&&(v=v.value),v&&T(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function d(h,a){var u=Object.getOwnPropertyDescriptor(h,a);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}function x(h,a,u,v){for(var o in a)if(a.hasOwnProperty(o)){var c=s(a,o,u);if(c!==!1){var p=v||h;if(d(p.prototype,o)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,o,c)}else h.prototype[o]=a[o]}}function f(h,a){if(a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++)x(h,a[u].prototype||a[u])}}function l(h){h||(h={});var a,u;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");a=h.initialize,delete h.initialize}else if(h.Extends){var v=h.Extends;a=function(){v.apply(this,arguments)}}else a=function(){};h.Extends?(a.prototype=Object.create(h.Extends.prototype),a.prototype.constructor=a,u=h.Extends,delete h.Extends):a.prototype.constructor=a;var o=null;return h.Mixins&&(o=h.Mixins,delete h.Mixins),f(a,o),x(a,h,!0,u),a}l.extend=x,l.mixin=f,l.ignoreFinals=!1,r.exports=l},29747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},20242:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};r.exports=T},71146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l){if(l===void 0&&(l=s),x>0){var h=x-s.length;if(h<=0)return null}if(!Array.isArray(d))return s.indexOf(d)===-1?(s.push(d),f&&f.call(l,d),d):null;for(var a=d.length-1;a>=0;)s.indexOf(d[a])!==-1&&d.splice(a,1),a--;if(a=d.length,a===0)return null;x>0&&a>h&&(d.splice(h),a=h);for(var u=0;u<a;u++){var v=d[u];s.push(v),f&&f.call(l,v)}return d};r.exports=T},51067:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f,l,h){if(x===void 0&&(x=0),h===void 0&&(h=s),f>0){var a=f-s.length;if(a<=0)return null}if(!Array.isArray(d))return s.indexOf(d)===-1?(s.splice(x,0,d),l&&l.call(h,d),d):null;for(var u=d.length-1;u>=0;)s.indexOf(d[u])!==-1&&d.pop(),u--;if(u=d.length,u===0)return null;f>0&&u>a&&(d.splice(a),u=a);for(var v=u-1;v>=0;v--){var o=d[v];s.splice(x,0,o),l&&l.call(h,o)}return d};r.exports=T},66905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.indexOf(d);return x!==-1&&x<s.length&&(s.splice(x,1),s.push(d)),d};r.exports=T},21612:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){a===void 0&&(a=0),u===void 0&&(u=f.length);var v=0;if(d(f,a,u))for(var o=a;o<u;o++){var c=f[o];c[l]===h&&v++}return v};r.exports=x},95428:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f,l=[null];for(f=3;f<arguments.length;f++)l.push(arguments[f]);for(f=0;f<s.length;f++)l[0]=s[f],d.apply(x,l);return s};r.exports=T},36914:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){if(a===void 0&&(a=0),u===void 0&&(u=f.length),d(f,a,u)){var v,o=[null];for(v=5;v<arguments.length;v++)o.push(arguments[v]);for(v=a;v<u;v++)o[0]=f[v],l.apply(h,o)}return f};r.exports=x},81957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d.length){if(d.length===1)return d[0]}else return NaN;var f=1,l,h;if(x){if(s<d[0][x])return d[0];for(;d[f][x]<s;)f++}else for(;d[f]<s;)f++;return f>d.length&&(f=d.length),x?(l=d[f-1][x],h=d[f][x],h-s<=s-l?d[f]:d[f-1]):(l=d[f-1],h=d[f],h-s<=s-l?h:l)};r.exports=T},43491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=[]);for(var x=0;x<s.length;x++)Array.isArray(s[x])?T(s[x],d):d.push(s[x]);return d};r.exports=T},46710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){a===void 0&&(a=0),u===void 0&&(u=f.length);var v=[];if(d(f,a,u))for(var o=a;o<u;o++){var c=f[o];(!l||l&&h===void 0&&c.hasOwnProperty(l)||l&&h!==void 0&&c[l]===h)&&v.push(c)}return v};r.exports=x},58731:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){if(a===void 0&&(a=0),u===void 0&&(u=f.length),d(f,a,u))for(var v=a;v<u;v++){var o=f[v];if(!l||l&&h===void 0&&o.hasOwnProperty(l)||l&&h!==void 0&&o[l]===h)return o}return null};r.exports=x},26546:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){d===void 0&&(d=0),x===void 0&&(x=s.length);var f=d+Math.floor(Math.random()*x);return s[f]===void 0?null:s[f]};r.exports=T},85835:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===x)return s;var f=s.indexOf(d),l=s.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f>l||(s.splice(f,1),l===s.length-1?s.push(d):s.splice(l,0,d)),s};r.exports=T},83371:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===x)return s;var f=s.indexOf(d),l=s.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f<l||(s.splice(f,1),l===0?s.unshift(d):s.splice(l,0,d)),s};r.exports=T},70864:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.indexOf(d);if(x>0){var f=s[x-1],l=s.indexOf(f);s[x]=f,s[l]=d}return s};r.exports=T},69693:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=s.indexOf(d);if(f===-1||x<0||x>=s.length)throw new Error("Supplied index out of bounds");return f!==x&&(s.splice(f,1),s.splice(x,0,d)),d};r.exports=T},40853:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.indexOf(d);if(x!==-1&&x<s.length-1){var f=s[x+1],l=s.indexOf(f);s[x]=f,s[l]=d}return s};r.exports=T},20283:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=[],h,a=!1;if((x||f)&&(a=!0,x||(x=""),f||(f="")),d<s)for(h=s;h>=d;h--)a?l.push(x+h.toString()+f):l.push(h);else for(h=s;h<=d;h++)a?l.push(x+h.toString()+f):l.push(h);return l};r.exports=T},593:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(2284),x=function(f,l,h){f===void 0&&(f=0),l===void 0&&(l=null),h===void 0&&(h=1),l===null&&(l=f,f=0);for(var a=[],u=Math.max(d((l-f)/(h||1)),0),v=0;v<u;v++)a.push(f),f+=h;return a};r.exports=x},43886:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,f,l){var h=x[f];x[f]=x[l],x[l]=h}function s(x,f){return x<f?-1:x>f?1:0}var d=function(x,f,l,h,a){for(l===void 0&&(l=0),h===void 0&&(h=x.length-1),a===void 0&&(a=s);h>l;){if(h-l>600){var u=h-l+1,v=f-l+1,o=Math.log(u),c=.5*Math.exp(2*o/3),p=.5*Math.sqrt(o*c*(u-c)/u)*(v-u/2<0?-1:1),g=Math.max(l,Math.floor(f-v*c/u+p)),m=Math.min(h,Math.floor(f+(u-v)*c/u+p));d(x,f,g,m,a)}var C=x[f],E=l,M=h;for(T(x,l,f),a(x[h],C)>0&&T(x,l,h);E<M;){for(T(x,E,M),E++,M--;a(x[E],C)<0;)E++;for(;a(x[M],C)>0;)M--}a(x[l],C)===0?T(x,l,M):(M++,T(x,M,h)),M<=f&&(l=M+1),f<=M&&(h=M-1)}};r.exports=d},88492:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35154),x=s(33680),f=function(h,a,u){for(var v=[],o=0;o<h.length;o++)for(var c=0;c<a.length;c++)for(var p=0;p<u;p++)v.push({a:h[o],b:a[c]});return v},l=function(h,a,u){var v=d(u,"max",0),o=d(u,"qty",1),c=d(u,"random",!1),p=d(u,"randomB",!1),g=d(u,"repeat",0),m=d(u,"yoyo",!1),C=[];if(p&&x(a),g===-1)if(v===0)g=0;else{var E=h.length*a.length*o;m&&(E*=2),g=Math.ceil(v/E)}for(var M=0;M<=g;M++){var P=f(h,a,o);c&&x(P),C=C.concat(P),m&&(P.reverse(),C=C.concat(P))}return v&&C.splice(v),C};r.exports=l},72905:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19133),x=function(f,l,h,a){a===void 0&&(a=f);var u;if(!Array.isArray(l))return u=f.indexOf(l),u!==-1?(d(f,u),h&&h.call(a,l),l):null;for(var v=l.length-1,o=[];v>=0;){var c=l[v];u=f.indexOf(c),u!==-1&&(d(f,u),o.push(c),h&&h.call(a,c)),v--}return o};r.exports=x},60248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19133),x=function(f,l,h,a){if(a===void 0&&(a=f),l<0||l>f.length-1)throw new Error("Index out of bounds");var u=d(f,l);return h&&h.call(a,u),u};r.exports=x},81409:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){if(l===void 0&&(l=0),h===void 0&&(h=f.length),u===void 0&&(u=f),d(f,l,h)){var v=h-l,o=f.splice(l,v);if(a)for(var c=0;c<o.length;c++){var p=o[c];a.call(u,p)}return o}else return[]};r.exports=x},31856:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(19133),x=function(f,l,h){l===void 0&&(l=0),h===void 0&&(h=f.length);var a=l+Math.floor(Math.random()*h);return d(f,a)};r.exports=x},42169:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=s.indexOf(d),l=s.indexOf(x);return f!==-1&&l===-1?(s[f]=x,!0):!1};r.exports=T},86003:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=1);for(var x=null,f=0;f<d;f++)x=s.shift(),s.push(x);return x};r.exports=T},49498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){d===void 0&&(d=1);for(var x=null,f=0;f<d;f++)x=s.pop(),s.unshift(x);return x};r.exports=T},82011:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){var l=s.length;if(d<0||d>l||d>=x||x>l){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=T},89545:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){var x=s.indexOf(d);return x!==-1&&x>0&&(s.splice(x,1),s.unshift(d)),d};r.exports=T},17810:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82011),x=function(f,l,h,a,u){if(a===void 0&&(a=0),u===void 0&&(u=f.length),d(f,a,u))for(var v=a;v<u;v++){var o=f[v];o.hasOwnProperty(l)&&(o[l]=h)}return f};r.exports=x},33680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=s.length-1;d>0;d--){var x=Math.floor(Math.random()*(d+1)),f=s[d];s[d]=s[x],s[x]=f}return s};r.exports=T},90126:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d=/\D/g;return s.sort(function(x,f){return parseInt(x.replace(d,""),10)-parseInt(f.replace(d,""),10)}),s};r.exports=T},19133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){if(!(d>=s.length)){for(var x=s.length-1,f=s[d],l=d;l<x;l++)s[l]=s[l+1];return s.length=x,f}};r.exports=T},19186:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(82264);function x(a,u){return String(a).localeCompare(u)}function f(a,u){var v=a.length;if(v<=1)return a;for(var o=new Array(v),c=1;c<v;c*=2){l(a,u,c,o);var p=a;a=o,o=p}return a}function l(a,u,v,o){var c=a.length,p=0,g=v*2,m,C,E,M,P;for(m=0;m<c;m+=g)for(C=m+v,E=C+v,C>c&&(C=c),E>c&&(E=c),M=m,P=C;;)if(M<C&&P<E)u(a[M],a[P])<=0?o[p++]=a[M++]:o[p++]=a[P++];else if(M<C)o[p++]=a[M++];else if(P<E)o[p++]=a[P++];else break}var h=function(a,u){if(u===void 0&&(u=x),!a||a.length<2)return a;if(d.features.stableSort)return a.sort(u);var v=f(a,u);return v!==a&&l(v,null,a.length,a),a};r.exports=h},25630:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(d===x)return s;var f=s.indexOf(d),l=s.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return s[f]=x,s[l]=d,s};r.exports=T},37105:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var d=s[0].length,x=1;x<s.length;x++)if(s[x].length!==d)return!1;return!0};r.exports=T},63362:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41836),x=s(86922),f=function(l){var h="";if(!x(l))return h;for(var a=0;a<l.length;a++){for(var u=0;u<l[a].length;u++){var v=l[a][u].toString();v!=="undefined"?h+=d(v,2):h+="?",u<l[a].length-1&&(h+=" |")}if(a<l.length-1){h+=`
`;for(var o=0;o<l[a].length;o++)h+="---",o<l[a].length-1&&(h+="+");h+=`
`}}return h};r.exports=f},92598:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.reverse()};r.exports=T},21224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=0;d<s.length;d++)s[d].reverse();return s};r.exports=T},98717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37829),x=function(f){return d(f,180)};r.exports=x},44657:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37829),x=function(f,l){l===void 0&&(l=1);for(var h=0;h<l;h++)f=d(f,90);return f};r.exports=x},37829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(86922),x=s(2429),f=function(l,h){if(h===void 0&&(h=90),!d(l))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")l=x(l),l.reverse();else if(h===-90||h===270||h==="rotateRight")l.reverse(),l=x(l);else if(Math.abs(h)===180||h==="rotate180"){for(var a=0;a<l.length;a++)l[a].reverse();l.reverse()}return l};r.exports=f},92632:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(37829),x=function(f,l){l===void 0&&(l=1);for(var h=0;h<l;h++)f=d(f,-90);return f};r.exports=x},69512:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(86003),x=s(49498),f=function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),a!==0&&(a<0?d(l,Math.abs(a)):x(l,a)),h!==0)for(var u=0;u<l.length;u++){var v=l[u];h<0?d(v,Math.abs(h)):x(v,h)}return l};r.exports=f},2429:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var d=s.length,x=s[0].length,f=new Array(x),l=0;l<x;l++){f[l]=new Array(d);for(var h=d-1;h>-1;h--)f[l][h]=s[h][l]}return f};r.exports=T},54915:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(d,x){for(var f=new Uint8Array(d),l=f.length,h=x?"data:"+x+";base64,":"",a=0;a<l;a+=3)h+=T[f[a]>>2],h+=T[(f[a]&3)<<4|f[a+1]>>4],h+=T[(f[a+1]&15)<<2|f[a+2]>>6],h+=T[f[a+2]&63];return l%3===2?h=h.substring(0,h.length-1)+"=":l%3===1&&(h=h.substring(0,h.length-2)+"=="),h};r.exports=s},53134:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),d=0;d<T.length;d++)s[T.charCodeAt(d)]=d;var x=function(f){f=f.substr(f.indexOf(",")+1);var l=f.length,h=l*.75,a=0,u,v,o,c;f[l-1]==="="&&(h--,f[l-2]==="="&&h--);for(var p=new ArrayBuffer(h),g=new Uint8Array(p),m=0;m<l;m+=4)u=s[f.charCodeAt(m)],v=s[f.charCodeAt(m+1)],o=s[f.charCodeAt(m+2)],c=s[f.charCodeAt(m+3)],g[a++]=u<<2|v>>4,g[a++]=(v&15)<<4|o>>2,g[a++]=(o&3)<<6|c&63;return p};r.exports=x},65839:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d={};for(var x in s)Array.isArray(s[x])?d[x]=s[x].slice(0):d[x]=s[x];return d};r.exports=T},62644:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var d,x,f;if(typeof s!="object"||s===null)return s;d=Array.isArray(s)?[]:{};for(f in s)x=s[f],d[f]=T(x);return d};r.exports=T},79291:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41212),x=function(){var f,l,h,a,u,v,o=arguments[0]||{},c=1,p=arguments.length,g=!1;for(typeof o=="boolean"&&(g=o,o=arguments[1]||{},c=2),p===c&&(o=this,--c);c<p;c++)if((f=arguments[c])!=null)for(l in f)h=o[l],a=f[l],o!==a&&(g&&a&&(d(a)||(u=Array.isArray(a)))?(u?(u=!1,v=h&&Array.isArray(h)?h:[]):v=h&&d(h)?h:{},o[l]=x(g,v,a)):a!==void 0&&(o[l]=a));return o};r.exports=x},23568:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(75508),x=s(35154),f=function(l,h,a){var u=x(l,h,null);if(u===null)return a;if(Array.isArray(u))return d.RND.pick(u);if(typeof u=="object"){if(u.hasOwnProperty("randInt"))return d.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return d.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if(typeof u=="function")return u(h);return u};r.exports=f},95540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){var f=typeof s;return!s||f==="number"||f==="string"?x:s.hasOwnProperty(d)&&s[d]!==void 0?s[d]:x};r.exports=T},82840:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(35154),x=s(45319),f=function(l,h,a,u,v){v===void 0&&(v=a);var o=d(l,h,v);return x(o,a,u)};r.exports=f},35154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){if(!s&&!f||typeof s=="number")return x;if(s&&s.hasOwnProperty(d))return s[d];if(f&&f.hasOwnProperty(d))return f[d];if(d.indexOf(".")!==-1){for(var l=d.split("."),h=s,a=f,u=x,v=x,o=!0,c=!0,p=0;p<l.length;p++)h&&h.hasOwnProperty(l[p])?(u=h[l[p]],h=h[l[p]]):o=!1,a&&a.hasOwnProperty(l[p])?(v=a[l[p]],a=a[l[p]]):c=!1;return o?u:c?v:x}else return x};r.exports=T},69036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){for(var x=0;x<d.length;x++)if(!s.hasOwnProperty(d[x]))return!1;return!0};r.exports=T},1985:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){for(var x=0;x<d.length;x++)if(s.hasOwnProperty(d[x]))return!0;return!1};r.exports=T},97022:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.hasOwnProperty(d)};r.exports=T},41212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=T},46975:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41786),x=function(f,l){var h=d(f);for(var a in l)h.hasOwnProperty(a)||(h[a]=l[a]);return h};r.exports=x},269:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(41786),x=function(f,l){var h=d(f);for(var a in l)h.hasOwnProperty(a)&&(h[a]=l[a]);return h};r.exports=x},18254:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=s(97022),x=function(f,l){for(var h={},a=0;a<l.length;a++){var u=l[a];d(f,u)&&(h[u]=f[u])}return h};r.exports=x},61622:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(d))return s[d]=x,!0;if(d.indexOf(".")!==-1){for(var f=d.split("."),l=s,h=s,a=0;a<f.length;a++)if(l.hasOwnProperty(f[a]))h=l,l=l[f[a]];else return!1;return h[f[f.length-1]]=x,!0}return!1};r.exports=T},1183:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return s.replace(/%([0-9]+)/g,function(x,f){return d[Number(f)-1]})};r.exports=T},41836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d,x,f){d===void 0&&(d=0),x===void 0&&(x=" "),f===void 0&&(f=3),s=s.toString();var l=0;if(d+1>=s.length)switch(f){case 1:s=new Array(d+1-s.length).join(x)+s;break;case 3:var h=Math.ceil((l=d-s.length)/2),a=l-h;s=new Array(a+1).join(x)+s+new Array(h+1).join(x);break;default:s=s+new Array(d+1-s.length).join(x);break}return s};r.exports=T},33628:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,d){return d===0?s.slice(1):s.slice(0,d-1)+s.slice(d)};r.exports=T},27671:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.split("").reverse().join("")};r.exports=T},45650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var d=Math.random()*16|0,x=s==="x"?d:d&3|8;return x.toString(16)})};r.exports=T},35355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s&&s[0].toUpperCase()+s.slice(1)};r.exports=T},31749:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},n={};function y(r){var T=n[r];if(T!==void 0)return T.exports;var s=n[r]={exports:{}};return i[r](s,s.exports,y),s.exports}y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=y(85454);return S})())})(jE);var cL=jE.exports;const Ut=jp(cL);class vL extends Ut.Scene{constructor(){super("preloader")}preload(){this.load.image("happy-ground","assets/happy/happy.png"),this.load.tilemapTiledJSON("happy-ground-tilemap","assets/happy/happy-ground.json"),this.load.image("background_1","assets/happy/background_layer_1.png"),this.load.image("background_2","assets/happy/background_layer_2.png"),this.load.image("platform","assets/happy/objects/platform.png"),this.load.image("paper","assets/happy/objects/paper.png"),this.load.image("star","assets/happy/objects/star3.png"),this.load.atlas("lizard","assets/lizard/lizard.png","assets/lizard/lizard.json"),this.load.atlas("bat","assets/branch/bat.png","assets/branch/bat.json"),this.load.atlas("ksenia","assets/happy/girls/Ksenia/ksenia_idle.png","assets/happy/girls/Ksenia/ksenia_idle.json"),this.load.atlas("ksenia_run","assets/happy/girls/Ksenia/ksenia_run.png","assets/happy/girls/Ksenia/ksenia_run.json"),this.load.atlas("ksenia_jump","assets/happy/girls/Ksenia/ksenia_jump.png","assets/happy/girls/Ksenia/ksenia_jump.json"),this.load.atlas("ksenia_down","assets/happy/girls/Ksenia/ksenia_down.png","assets/happy/girls/Ksenia/ksenia_down.json"),this.load.atlas("elena_idle","assets/happy/girls/Elena/elena_idle.png","assets/happy/girls/Elena/elena_idle.json"),this.load.atlas("chest","assets/happy/objects/Chests.png","assets/happy/objects/Chests.json"),this.load.image("flare","assets/happy/white-flare.png"),this.load.audio("music","assets/happy/scott-buckley-reverie(chosic.com).mp3")}create(){this.scene.start("Menu")}}class st{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,i){st.prototype[t]=i}}var pL=function(e){return e===void 0&&(e=gL),this.getFrameNameCallback=e,this},gL=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mL=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},mi=function(e){var t,i,n;if(e==null||typeof e!="object")return e;if(t=Array.isArray(e)?[]:{},mL(e))for(n in e)i=e[n],t[n]=mi(i);else t=e;return t},xL=function(e,t,i,n){Array.isArray(t)&&(n=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],n=[arguments[4],void 0,arguments[5]]):(i=mi(i),n=mi(n)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var y=this.scene.sys.textures.get(e);if(!y)return this.clear(),this;if(!i||!n)return this.clear(),this;for(var S=y.get(t),r=S.width,T=0,s=0,d=i.length;s<d;s++)i[s]===void 0?T++:typeof i[s]=="number"?r-=i[s]:r-=i[s].width;for(var x=r/T,f=S.height,l=0,s=0,d=n.length;s<d;s++)n[s]===void 0?l++:typeof n[s]=="number"?f-=n[s]:f-=n[s].width;for(var h=f/l,a,u,v,o,c,p=0,g=0,m=0,C=n.length;m<C;m++){n[m]===void 0&&(n[m]=h),typeof n[m]=="number"&&(n[m]={height:n[m],stretch:m%2}),a=n[m],v=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:v,p=0;for(var s=0,E=i.length;s<E;s++){if(i[s]===void 0&&(i[s]=x),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),u=i[s],o=u.width,m===0&&(this.columns.stretch+=u.stretch|0,this.columns.minWidth+=u.stretch>0?0:o),o>=1&&v>=1){c=this.getFrameNameCallback(s,m,t);var M=typeof c;(M==="string"||M==="number")&&y.add(c,0,p+S.cutX,g+S.cutY,o,v)}p+=o}g+=v}return this.updateTexture(),this},yL=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,n=this.width-t,y=this.height-i,S=n>=0?this.maxFixedPartScaleX:this.width/t,r=y>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var T=Math.min(S,r);if(S>T){var s=(S-T)*t;n>=0?n+=s:n=s,S=T}if(r>T){var d=(r-T)*i;y>=0?y+=d:y=d,r=T}}this.columns.scale=S,this.rows.scale=r;var x;n>0?x=this.columns.stretch>0?n/this.columns.stretch:0:x=0;var f;y>0?f=this.rows.stretch>0?y/this.rows.stretch:0:f=0;var l,h,a,u,v,o=0,c=0,p;this._beginDraw();for(var g=0,m=this.rows.count;g<m;g++){a=this.rows.data[g],v=a.stretch===0?a.height*r:f*a.stretch,o=0;for(var C=0,E=this.columns.count;C<E;C++)h=this.columns.data[C],u=h.stretch===0?h.width*S:x*h.stretch,l=this.getFrameNameCallback(C,g,this.baseFrameName),e.has(l)&&u>0&&v>0&&(a.stretch===0&&h.stretch===0||this.getStretchMode(C,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,l,o,c,u,v):this._drawTileSprite(this.textureKey,l,o,c,u,v)),o+=u;c+=v}this._endDraw()};const CL=Phaser.Utils.Objects.IsPlainObject,Yx=Phaser.Utils.Objects.GetValue;var TL=function(e){return CL(e)?(this.stretchMode.edge=ec(Yx(e,"edge",0)),this.stretchMode.internal=ec(Yx(e,"internal",0))):(e=ec(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},ec=function(e){return typeof e=="string"&&(e=SL[e]),e};const SL={scale:0,repeat:1};var EL=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},PL=function(e,t){return EL.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},ML=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},wL=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Le=function(){};const RL={_beginDraw:Le,_drawImage:Le,_drawTileSprite:Le,_endDraw:Le,setGetFrameNameCallback:pL,setBaseTexture:xL,updateTexture:yL,setStretchMode:TL,getStretchMode:PL,setPreserveRatio:ML,setMaxFixedPartScale:wL},vo=Phaser.Utils.Objects.IsPlainObject,Pt=Phaser.Utils.Objects.GetValue;var qE=function(e,t){class i extends e{constructor(y,S,r,T,s,d,x,f,l,h){if(vo(S)?(h=S,S=Pt(h,"x",0),r=Pt(h,"y",0),T=Pt(h,"width",1),s=Pt(h,"height",1),d=Pt(h,"key",void 0),x=Pt(h,"baseFrame",void 0),f=Pt(h,"columns",void 0),l=Pt(h,"rows",void 0)):vo(T)?(h=T,T=Pt(h,"width",1),s=Pt(h,"height",1),d=Pt(h,"key",void 0),x=Pt(h,"baseFrame",void 0),f=Pt(h,"columns",void 0),l=Pt(h,"rows",void 0)):vo(d)?(h=d,d=Pt(h,"key",void 0),x=Pt(h,"baseFrame",void 0),f=Pt(h,"columns",void 0),l=Pt(h,"rows",void 0)):vo(x)?(h=x,x=Pt(h,"baseFrame",void 0),f=Pt(h,"columns",void 0),l=Pt(h,"rows",void 0)):Array.isArray(x)?(h=l,l=f,f=x,x=Pt(h,"baseFrame",void 0)):vo(f)&&(h=f,f=Pt(h,"columns",void 0),l=Pt(h,"rows",void 0)),f===void 0){var a=Pt(h,"leftWidth",void 0),u=Pt(h,"rightWidth",void 0);a!==void 0&&u!==void 0&&(f=[a,void 0,u])}if(l===void 0){var v=Pt(h,"topHeight",void 0),o=Pt(h,"bottomHeight",void 0);v!==void 0&&o!==void 0&&(l=[v,void 0,o])}super(y),this.type=t,this.setPosition(S,r).setSize(T,s).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Pt(h,"getFrameNameCallback",void 0)),this.setStretchMode(Pt(h,"stretchMode",0)),this.setPreserveRatio(Pt(h,"preserveRatio",!0));var c=Pt(h,"maxFixedPartScale",1),p=Pt(h,"maxFixedPartScaleX",c),g=Pt(h,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(d,x,f,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(y,S){return this.width===y&&this.height===S?this:(super.resize?super.resize(y,S):super.setSize(y,S),this.updateTexture(),this)}}return Object.assign(i.prototype,RL),i};const AL=Phaser.Game;var Hx=function(e){return e instanceof AL};const LL=Phaser.Scene;var Er=function(e){return e instanceof LL},Lr=function(e){if(e==null||typeof e!="object")return null;if(Hx(e))return e;if(Hx(e.game))return e.game;if(Er(e))return e.sys.game;if(Er(e.scene))return e.scene.sys.game};const OL=Phaser.GameObjects;var rn=void 0,_E=function(e,t){if(rn||(rn={},Lr(e).events.once("destroy",function(){for(var n in rn)rn[n].destroy();rn=void 0})),!rn.hasOwnProperty(t)){var i=Lr(e).scene.systemScene,e=new OL[t](i);e.setOrigin(0),rn[t]=e}return rn[t]},FL=function(e,t,i,n,y,S){var r=_E(this,"Image").setTexture(e,t).setDisplaySize(y,S);this.draw(r,i,n)},DL=function(e,t,i,n,y,S){var r=_E(this,"TileSprite").setTexture(e,t).setSize(y,S);this.draw(r,i,n)};const IL=Phaser.GameObjects.RenderTexture;let Fd=class extends qE(IL,"rexNinePatch"){};var BL={_drawImage:FL,_drawTileSprite:DL};Object.assign(Fd.prototype,BL);var tP=function(e){return e==null||e===""||e.length===0},bL=function(e,t,i){var n=e;if(!tP(t)){typeof t=="string"&&(t=t.split("."));for(var y,S=0,r=t.length;S<r;S++){if(y=t[S],n[y]==null||typeof n[y]!="object"){var T;S===r-1?i===void 0?T={}:T=i:T={},n[y]=T}n=n[y]}}return n},et=function(e,t,i,n){if(n===void 0&&(n="."),typeof e=="object"){if(tP(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(n));var y=t.pop(),S=bL(e,t);S[y]=i}return e}};st.register("ninePatch",function(e,t,i,n,y,S,r,T){var s=new Fd(this.scene,e,t,i,n,y,S,r,T);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.NinePatch",Fd);const GL=Phaser.GameObjects.GetCalcMatrix;var NL=function(e,t,i,n){var y=t.getRenderList();if(y.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),r=t.frame.glTexture,T=S.setGameObject(t),s=i.roundPixels,d=GL(t,i,n),x=S.calcMatrix.copyFrom(d.calc),f=t._displayOriginX,l=t._displayOriginY,h=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,u=y.length;a<u;a++)y[a].webglRender(S,x,h,f,l,r,T,s);e.pipelines.postBatch(t)}};const zL=Phaser.Renderer.Canvas.SetTransform;var kL=function(e,t,i,n){var y=e.currentContext,S=t.getRenderList();if(!(S.length===0||!zL(e,y,t,i,n))){i.addToRenderList(t);var r=i.roundPixels,T=-t._displayOriginX,s=-t._displayOriginY;y.translate(T,s);for(var d=0,x=S.length;d<x;d++)S[d].canvasRender(y,T,s,r);y.restore()}};const VL={renderWebGL:NL,renderCanvas:kL};var UL=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},$x=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},WL=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const XL=Phaser.Utils.Array.Remove;var YL=function(e){return this.poolManager&&this.poolManager.free(e),XL(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},Kx=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},HL=function(){return this.lastAppendedChildren},$L=function(){return this.children.list};const KL={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var eP={setTexture:UL,resize:$x,setSize:$x,addChild:WL,removeChild:YL,removeChildren:Kx,clear:Kx,getLastAppendedChildren:HL,getChildren:$L};Object.assign(eP,KL);class Es{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const ZL=Phaser.Utils.Objects.GetValue;var JL={};let QL=class{constructor(t){this.pools=ZL(t,"pools",JL)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Es),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const jL=60;var Zx=!1,Dd=function(e){if(!Zx){e===void 0&&(e=jL);var t=parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1]);t<e&&console.error(`Minimum supported version : 3.${e}`),Zx=!0}};Dd();const qL=Phaser.GameObjects.GameObject,_L=Phaser.Utils.Objects.IsPlainObject,po=Phaser.Utils.Objects.GetValue,tO=Phaser.Structs.List,eO=Phaser.Utils.Array.StableSort;class iP extends qL{constructor(t,i,n,y,S,r){_L(i)&&(r=i,i=po(r,"x",0),n=po(r,"y",0),y=po(r,"texture"),S=po(r,"frame")),i===void 0&&(i=0),n===void 0&&(n=0),super(t,"rexBlitter"),this.children=new tO,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=po(r,"reuseBob",!0);this.poolManager=T?new QL(r):void 0,this.setTexture(y,S),this.setPosition(i,n),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,n=0,y=i.length;n<y;n++){var S=i[n];iO(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&eO(this.renderList,sO),this.displayListDirty=!1}return this.renderList}}var iO=function(e){return e.active&&e.visible&&e.alpha>0},sO=function(e,t){return e._depth-t._depth};const Pi=Phaser.GameObjects.Components;Phaser.Class.mixin(iP,[Pi.Alpha,Pi.BlendMode,Pi.ComputedSize,Pi.Depth,Pi.GetBounds,Pi.Mask,Pi.Origin,Pi.Pipeline,Pi.PostPipeline,Pi.ScrollFactor,Pi.Transform,Pi.Visible,VL,eP]);const sP="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ot=function(e,t,i){if(!e||typeof e=="number")return i;if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1){for(var n=t.split("."),y=e,S=i,r=0;r<n.length;r++)if(y.hasOwnProperty(n[r]))S=y[n[r]],y=y[n[r]];else{S=i;break}return S}else return i},Ws=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const Id={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Ot(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Ws(this.data),this}};let nP=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(nP.prototype,Id);const nO=Phaser.Math.DegToRad,rO=Phaser.Math.RadToDeg,Vr=Phaser.Utils.Objects.GetValue;let aO=class extends nP{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return rO(this.rotation)}set angle(t){this.rotation=nO(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Vr(t,"width",void 0),n=Vr(t,"height",void 0),y=Vr(t,"scale",void 0),S=Vr(t,"scaleX",y),r=Vr(t,"scaleY",y);i!==void 0?n===void 0&&r===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),n!==void 0?i===void 0&&S===void 0?this.setHeight(n,!0):this.setHeight(n):r!==void 0?this.setScaleY(r):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=Vr(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,n,y,S,r,T,s){}canvasRender(t,i,n,y){}};const oO=Phaser.GameObjects.Components.TransformMatrix,hO=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var xl=new oO,lO=function(e,t,i,n,y,S,r,T){var s=this._width,d=this._height,x=s*this.originX,f=d*this.originY,l=this.x-n,h=this.y-y,a=1,u=1;this.flipX&&(l+=s-x*2,a=-1),this.flipY&&(h+=d-f*2,u=-1),xl.applyITRS(l,h,this.rotation,this.scaleX*a,this.scaleY*u),t.multiply(xl,xl);var v=-x,o=-f,c=v+s,p=o+d,g=xl.setQuad(v,o,c,p,T),m=this.frame.u0,C=this.frame.v0,E=this.frame.u1,M=this.frame.v1,P=hO(this.tint,this.alpha*i);e.batchQuad(this.parent,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],m,C,E,M,P,P,P,P,this.tintFill,S,r)},uO=function(e,t,i,n){e.save();var y=this._width,S=this._height,r=y*this.originX,T=S*this.originY,s=this.x-r,d=this.y-T,x=1,f=1;this.flipX&&(s+=y,x=-1),this.flipY&&(d+=S,f=-1),n&&(s=Math.round(s),d=Math.round(d)),e.translate(s,d),e.rotate(this.rotation),e.scale(this.scaleX*x,this.scaleY*f);var l=this.frame;e.drawImage(l.source.image,l.cutX,l.cutY,y,S,0,0,y,S),e.restore()};const dO=Phaser.Utils.Objects.IsPlainObject;let rP=class extends aO{constructor(t,i){super(t,sP),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!dO(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var fO={webglRender:lO,canvasRender:uO};Object.assign(rP.prototype,fO);var aP=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(sP):null;return i===null?i=new rP(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},cO=function(e,t,i,n,y,S){aP(this,{frame:t,x:i,y:n,width:y,height:S})},vO=function(e,t,i,n,y,S){var r=this.texture.get(t),T=r.width,s=r.height,d=Math.floor(y/T),x=Math.floor(S/s);i+=(y-d*T)/2,n+=(S-x*s)/2;for(var f=0;f<d;f++)for(var l=0;l<x;l++)aP(this,{frame:t,x:i+f*T,y:n+l*s})};const pO={_drawImage:cO,_drawTileSprite:vO};class Kg extends qE(iP,"rexNinePatch2"){setBaseTexture(t,i,n,y){return this.setTexture(t,i),super.setBaseTexture(t,i,n,y),this}}Object.assign(Kg.prototype,pO);st.register("ninePatch2",function(e,t,i,n,y,S,r,T){var s=new Kg(this.scene,e,t,i,n,y,S,r,T);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.NinePatch2",Kg);const gn=Phaser.Utils.Objects.GetValue;let oP=class{constructor(t,i,n,y,S){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,n,y,S)}setTo(t,i,n,y,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(n,y),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,n;typeof t=="number"?(i=t,n=t):(i=gn(t,"x",0),n=gn(t,"y",0));var y=this.cornerRadius;y.tl=yl(gn(t,"tl",void 0),i,n),y.tr=yl(gn(t,"tr",void 0),i,n),y.bl=yl(gn(t,"bl",void 0),i,n),y.br=yl(gn(t,"br",void 0),i,n)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Cl(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Cl(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Cl(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Cl(this.cornerRadius.br,t)}};var yl=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),hP(e),e},Cl=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=gn(t,"x",0),e.y=gn(t,"y",0)),hP(e)},hP=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Ps=function(e,t,i){var n=i.length;if(n>=2){var y=i[n-2],S=i[n-1];if(e===y&&t===S)return i}return i.push(e,t),i};const Jx=Phaser.Math.DegToRad;var Te=function(e,t,i,n,y,S,r,T,s){r&&S>y?S-=360:!r&&S<y&&(S+=360);var d=S-y,x=Jx(d)/T;y=Jx(y);for(var f=0;f<=T;f++){var l=y+x*f,h=e+i*Math.cos(l),a=t+n*Math.sin(l);Ps(h,a,s)}return s},gO=Phaser.Renderer.WebGL.Utils,lP=function(e,t,i,n,y,S){for(var r=gO.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),T=i.pathData,s=i.pathIndexes,d=0;d<s.length;d+=3){var x=s[d]*2,f=s[d+1]*2,l=s[d+2]*2,h=T[x+0]-y,a=T[x+1]-S,u=T[f+0]-y,v=T[f+1]-S,o=T[l+0]-y,c=T[l+1]-S,p=t.getX(h,a),g=t.getY(h,a),m=t.getX(u,v),C=t.getY(u,v),E=t.getX(o,c),M=t.getY(o,c);e.batchTri(i,p,g,m,C,E,M,0,0,1,1,r,r,r,2)}},mO=Phaser.Renderer.WebGL.Utils,Bd=function(e,t,i,n,y){var S=e.strokeTint,r=mO.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=r,S.TR=r,S.BL=r,S.BR=r;var T=t.pathData,s=T.length-1,d=t.lineWidth,x=d/2,f=T[0]-n,l=T[1]-y;t.closePath||(s-=2);for(var h=2;h<s;h+=2){var a=T[h]-n,u=T[h+1]-y;e.batchLine(f,l,a,u,x,x,d,h-2,t.closePath?h===s-1:!1),f=a,l=u}};const xO=Phaser.GameObjects.GetCalcMatrix;var yO=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=xO(t,i,n),r=y.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,s=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&lP(y,r,t,d,T,s),t.isStroked&&Bd(y,t,d,T,s),e.pipelines.postBatch(t)},Dh=function(e,t,i,n){var y=i||t.fillColor,S=n||t.fillAlpha,r=(y&16711680)>>>16,T=(y&65280)>>>8,s=y&255;e.fillStyle="rgba("+r+","+T+","+s+","+S+")"},Ih=function(e,t,i,n){var y=i||t.strokeColor,S=n||t.strokeAlpha,r=(y&16711680)>>>16,T=(y&65280)>>>8,s=y&255;e.strokeStyle="rgba("+r+","+T+","+s+","+S+")",e.lineWidth=t.lineWidth};const CO=Phaser.Renderer.Canvas.SetTransform;var TO=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.currentContext;if(CO(e,y,t,i,n)){var S=t._displayOriginX,r=t._displayOriginY,T=t.pathData,s=T.length-1,d=T[0]-S,x=T[1]-r;y.beginPath(),y.moveTo(d,x),t.closePath||(s-=2);for(var f=2;f<s;f+=2){var l=T[f]-S,h=T[f+1]-r;y.lineTo(l,h)}y.closePath(),t.isFilled&&(Dh(y,t),y.fill()),t.isStroked&&(Ih(y,t),y.stroke()),y.restore()}};const SO={renderWebGL:yO,renderCanvas:TO},EO=Phaser.GameObjects.Shape,PO=Phaser.Utils.Objects.IsPlainObject,Qx=Phaser.Utils.Objects.GetValue,MO=Phaser.Geom.Polygon.Earcut;let $n=class extends EO{constructor(t,i,n,y,S,r,T,s){var d,x,f,l;if(PO(i)){var h=i;i=h.x,n=h.y,y=h.width,S=h.height,r=h.radius,T=h.color,s=h.alpha,d=h.strokeColor,x=h.strokeAlpha,f=h.strokeWidth,l=h.shape}i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),l===void 0&&(l=0);var a=new oP;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(l),this.shapeType===0){var u=Qx(r,"radius",r);a.setTo(0,0,y,S,u)}else{var u={x:y/2,y:S/2};a.setTo(0,0,y,S,u)}var v=Qx(r,"iteration",void 0);this.setIteration(v),this.setPosition(i,n),this.setFillStyle(T,s),d!==void 0&&f===void 0&&(f=2),this.setStrokeStyle(f,d,x),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=n,this}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,y=t.height,S=t.cornerRadius,r,T=this.iteration+1;if(r=S.tl,Tl(r))if(r.convex){var s=r.x,d=r.y;Te(s,d,r.x,r.y,180,270,!1,T,i)}else{var s=0,d=0;Te(s,d,r.x,r.y,90,0,!0,T,i)}else Ps(0,0,i);if(r=S.tr,Tl(r))if(r.convex){var s=n-r.x,d=r.y;Te(s,d,r.x,r.y,270,360,!1,T,i)}else{var s=n,d=0;Te(s,d,r.x,r.y,180,90,!0,T,i)}else Ps(n,0,i);if(r=S.br,Tl(r))if(r.convex){var s=n-r.x,d=y-r.y;Te(s,d,r.x,r.y,0,90,!1,T,i)}else{var s=n,d=y;Te(s,d,r.x,r.y,270,180,!0,T,i)}else Ps(n,y,i);if(r=S.bl,Tl(r))if(r.convex){var s=r.x,d=y-r.y;Te(s,d,r.x,r.y,90,180,!1,T,i)}else{var s=0,d=y;Te(s,d,r.x,r.y,360,270,!0,T,i)}else Ps(0,y,i);return i.push(i[0],i[1]),this.pathIndexes=MO(i),this}setShapeType(t){return typeof t=="string"&&(t=wO[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){if(i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i)return this;this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var Tl=function(e){return e.x>0&&e.y>0};const wO={rectangle:0,circle:1};Object.assign($n.prototype,SO);st.register("roundRectangle",function(e,t,i,n,y,S,r){var T=new $n(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.RoundRectangle",$n);const RO=Phaser.Renderer.WebGL.Utils;var AO=function(e,t,i,n){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,T=RO.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),d=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.resolution,r/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,d),e.pipelines.postBatch(t)}},LO=function(e,t,i,n){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const OO={renderWebGL:AO,renderCanvas:LO},FO=Phaser.Display.Color,DO={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,n,y,S,r,T,s,d){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var f=x.cutWidth,l=x.cutHeight;i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=f),S===void 0&&(S=l),r===void 0&&(r=0),T===void 0&&(T=0),s===void 0&&(s=f),d===void 0&&(d=l);var h=x.cutX+r,a=x.cutY+T;return this.context.drawImage(x.source.image,h,a,s,d,i,n,y,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new FO);var n=this.context.getImageData(e,t,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel(e,t,i,n,y,S){if(typeof i!="number"){var r=i;i=r.red,n=r.green,y=r.blue,S=r.alpha}S===void 0&&(S=i!==0||n!==0||y!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=i,T.data[1]=n,T.data[2]=y,T.data[3]=S,this.context.putImageData(T,e,t),this.dirty=!0,this}};var uP=function(e,t,i,n,y,S,r){var T=e.sys.textures,s=e.renderer;n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=t.width),r===void 0&&(r=t.height);var d;T.exists(i)?d=T.get(i):d=T.createCanvas(i,S,r);var x=d.getSourceImage();x.width!==S&&(x.width=S),x.height!==r&&(x.height=r);var f=x.getContext("2d",{willReadFrequently:!0});f.clearRect(0,0,S,r),f.drawImage(t,n,y,S,r),s.gl&&d&&s.canvasToTexture(x,d.source[0].glTexture,!0,0)};const IO={updateTexture(e,t){e&&(t?e.call(t,this.canvas,this.context):e(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture(e,t,i,n,y){var S=this.canvas;return n===void 0?n=S.width:n*=this.resolution,y===void 0?y=S.height:y*=this.resolution,uP(this.scene,S,e,t,i,n,y),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Dd();const jx=Phaser.Display.Canvas.CanvasPool,BO=Phaser.GameObjects.GameObject,bO=Phaser.Utils.String.UUID;let Kn=class extends BO{constructor(t,i,n,y,S){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=y,this._height=S,y=Math.max(Math.ceil(y*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=jx.create(this,y,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,n),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=bO(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){jx.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const Ze=Phaser.GameObjects.Components;Phaser.Class.mixin(Kn,[Ze.Alpha,Ze.BlendMode,Ze.Crop,Ze.Depth,Ze.Flip,Ze.GetBounds,Ze.Mask,Ze.Origin,Ze.Pipeline,Ze.PostPipeline,Ze.ScrollFactor,Ze.Tint,Ze.Transform,Ze.Visible,OO,DO,IO]);const GO=Phaser.Utils.String.Pad;var pt=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${GO(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const qx=Phaser.Math.DegToRad;var dP=function(e,t,i,n,y,S,r){var T=new oP(t,i,n,y,S),s=T.minWidth,d=T.minHeight,x=n>=s?1:n/s,f=y>=d?1:y/d,l=T.cornerRadius,h,a,u,v,o,c,p;e.save(),e.beginPath(),e.translate(t,i),h=l.tl,El(h)?(a=h.x*x,u=h.y*f,Sl(h)?(v=a,o=u,an(e,v,o,a,u,180,270,!1,r)):(v=0,o=0,an(e,v,o,a,u,90,0,!0,r)),c=0,p=u):(e.lineTo(0,0),c=0,p=0),h=l.tr,El(h)?(a=h.x*x,u=h.y*f,Sl(h)?(v=n-a,o=u,an(e,v,o,a,u,270,360,!1,r)):(v=n,o=0,an(e,v,o,a,u,180,90,!0,r))):e.lineTo(n,0),h=l.br,El(h)?(a=h.x*x,u=h.y*f,Sl(h)?(v=n-a,o=y-u,an(e,v,o,a,u,0,90,!1,r)):(v=n,o=y,an(e,v,o,a,u,270,180,!0,r))):e.lineTo(n,y),h=l.bl,El(h)?(a=h.x*x,u=h.y*f,Sl(h)?(v=a,o=y-u,an(e,v,o,a,u,90,180,!1,r)):(v=0,o=y,an(e,v,o,a,u,360,270,!0,r))):e.lineTo(0,y),e.lineTo(c,p),e.closePath(),e.restore()},Sl=function(e){return!e.hasOwnProperty("convex")||e.convex},El=function(e){return e.x>0&&e.y>0},an=function(e,t,i,n,y,S,r,T,s){if(T&&r>S?r-=360:!T&&r<S&&(r+=360),S=qx(S),r=qx(r),s==null)e.ellipse(t,i,n,y,0,S,r,T);else{s+=1;for(var d,x,f,l=(r-S)/s,h=0;h<=s;h++)f=S+l*h,d=t+n*Math.cos(f),x=i+y*Math.sin(f),e.lineTo(d,x)}},NO=function(e,t,i,n,y,S,r,T,s,d,x,f,l){if(dP(t,i,n,y,S,r,l),T!=null){if(x!=null){var h;f?h=t.createLinearGradient(0,0,y,0):h=t.createLinearGradient(0,0,0,S),h.addColorStop(0,T),h.addColorStop(1,x),T=h}t.fillStyle=T,t.fill()}s!=null&&d>0&&(t.strokeStyle=s,t.lineWidth=d,t.stroke())},Zg=function(e,t,i,n,y,S,r,T){if(!(t==null&&i==null)){var s=e.canvas.width,d=e.canvas.height;i==null&&(n=0);var x=n/2;s=Math.max(1,s-n),d=Math.max(1,d-n),NO(e.canvas,e.context,x,x,s,d,y,t,i,n,S,r,T)}},zO=function(){Zg(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const _x=Phaser.Utils.Objects.GetValue;let fP=class extends Kn{constructor(t,i,n,y,S,r,T,s,d,x,f){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),super(t,i,n,y,S),this.type="rexRoundRectangleCanvas";var l=_x(r,"radius",r),h=_x(r,"iteration",void 0);this.setRadius(l),this.setIteration(h),this.setFillStyle(T,x,f),this.setStrokeStyle(s,d)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=pt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=pt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,n){return n===void 0&&(n=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=n,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=pt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return this.clear(),zO.call(this),super.updateTexture(),this}};st.register("roundRectangleCanvas",function(e,t,i,n,y,S,r,T,s,d){var x=new fP(this.scene,e,t,i,n,y,S,r,T,s,d);return this.scene.add.existing(x),x});et(window,"RexPlugins.UI.RoundRectangleCanvas",fP);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kO=Phaser.Renderer.WebGL.Utils,VO=function(e,t,i,n){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,T=kO.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),d=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.style.resolution,r/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,d),e.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UO=function(e,t,i,n){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const WO={renderWebGL:VO,renderCanvas:UO},ic=Phaser.Display.Canvas.CanvasPool;var XO=function(e,t,i){i===void 0&&(i={});var n=ic.create(this),y=n.getContext("2d",{willReadFrequently:!0});e.syncFont(n,y);var S=y.measureText(t),r=Math.ceil(S.width*e.baselineX),T=r,s=2*T;if(T=T*e.baselineY|0,n.width=r,n.height=s,y.fillStyle="#f00",y.fillRect(0,0,r,s),y.font=e._font,y.textBaseline="alphabetic",y.fillStyle="#000",y.fillText(e.testString,0,T),i.left=0,r===0||s===0||!y.getImageData(0,0,r,s))return ic.remove(n),i;for(var d=y.getImageData(0,0,r,s).data,x=!1,f=0;f<r;f++){for(var l=0;l<s;l++){var h=(l*r+f)*4;if(d[h]!==255){i.left=f,x=!0;break}}if(x)break}return ic.remove(n),i};Dd();const YO=Phaser.GameObjects.GameObject;class cP extends YO{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,n){return this.style.setBackgroundColor(t,i,n)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,n,y,S,r){return this.style.setShadow(t,i,n,y,S,r)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.lineSpacing=t,this.updateText(!1),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return XO(this.style,t,i)}}const Ue=Phaser.GameObjects.Components;Phaser.Class.mixin(cP,[Ue.Alpha,Ue.BlendMode,Ue.ComputedSize,Ue.Crop,Ue.Depth,Ue.Flip,Ue.GetBounds,Ue.Mask,Ue.Origin,Ue.Pipeline,Ue.PostPipeline,Ue.ScrollFactor,Ue.Tint,Ue.Transform,Ue.Visible,WO]);var HO={backgroundColor:["backgroundColor",null,pt],backgroundColor2:["backgroundColor2",null,pt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,pt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",pt],stroke:["stroke","#fff",pt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",pt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",pt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",pt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Pl=Phaser.Display.Canvas.CanvasPool;var ty=function(e){var t=Pl.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var n=i.measureText(e.testString);if("actualBoundingBoxAscent"in n){var y=n.actualBoundingBoxAscent,S=n.actualBoundingBoxDescent,d={ascent:y,descent:S,fontSize:y+S};return Pl.remove(t),d}var r=Math.ceil(n.width*e.baselineX),T=r,s=2*T;T=T*e.baselineY|0,t.width=r,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,r,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,T);var d={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,s))return d.ascent=T,d.descent=T+6,d.fontSize=d.ascent+d.descent,Pl.remove(t),d;var x=i.getImageData(0,0,r,s).data,f=x.length,l=r*4,h,a,u=0,v=!1;for(h=0;h<T;h++){for(a=0;a<l;a+=4)if(x[u+a]!==255){v=!0;break}if(!v)u+=l;else break}for(d.ascent=T-h,u=f-l,v=!1,h=s;h>T;h--){for(a=0;a<l;a+=4)if(x[u+a]!==255){v=!0;break}if(!v)u-=l;else break}return d.descent=h-T,d.fontSize=d.ascent+d.descent,Pl.remove(t),d},de={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const $O=Phaser.Utils.Objects.GetAdvancedValue,ai=Phaser.Utils.Objects.GetValue;let Jg=class{constructor(t,i,n){this.parent=t,n===void 0&&(n=HO),this.propertyMap=n,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==de.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),t&&t.hasOwnProperty("wordWrap")){var y=t.wordWrap;y.hasOwnProperty("width")&&(t.wrap={mode:"word",width:y.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var r=S.mode;typeof r=="string"&&(S.mode=ey[r])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&n&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var s in T){var d=T[s],x=d[0],f=n?d[1]:this[s],l=d[2];if(s==="wrapCallback"||s==="wrapCallbackScope")this[s]=ai(t,x,f);else{var h=$O(t,x,f);l&&(h=l(h)),this[s]=h}}var a=ai(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var u=ai(t,"fill",null);u!==null&&(this.color=pt(u));var v=ai(t,"metrics",!1);return v?this.metrics={ascent:ai(v,"ascent",0),descent:ai(v,"descent",0),fontSize:ai(v,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=ty(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=ty(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=ai(t,"fontFamily","Courier"),this.fontSize=ai(t,"fontSize","16px"),this.fontStyle=ai(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,n){return n===void 0&&(n=!0),this.backgroundColor=pt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=pt(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=n,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=pt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=pt(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,n,y,S,r){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n="#000"),y===void 0&&(y=0),S===void 0&&(S=!1),r===void 0&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=pt(n,this.parent.canvas,this.parent.context),this.shadowBlur=y,this.shadowStroke=S,this.shadowFill=r,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.underlineColor=pt(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=n,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.strikethroughColor=pt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=n,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=ey[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=ai(i,"fontFamily",this.fontFamily),this.fontSize=ai(i,"fontSize",this.fontSize),this.fontStyle=ai(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var n in i)t[n]=this[n];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const ey={none:de.NO_WRAP,word:de.WORD_WRAP,char:de.CHAR_WRAP,character:de.CHAR_WRAP,mix:de.MIX_WRAP},KO={draw(e,t,i,n){var y=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var r=this.defaultStyle;this.clear(),Zg(this,r.backgroundColor,r.backgroundStrokeColor,r.backgroundStrokeLineWidth,r.backgroundCornerRadius,r.backgroundColor2,r.backgroundHorizontalGradient,r.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=r.halign,s=r.valign,d,x=r.lineHeight,f=y.lines,l=f.length,h=r.maxLines,a,u,v;h>0&&l>h?(a=h,s==="center"?u=Math.floor((l-a)/2):s==="bottom"?u=l-a:u=0):(a=l,u=0),v=u+a;var o,c,p=this.rtl,g=p?this.parent.width:void 0;s==="center"?c=Math.max((n-a*x)/2,0):s==="bottom"?c=Math.max(n-a*x-2,0):c=0,c+=t;for(var m=u;m<v;m++)if(d=y.getLineWidth(m),d!==0){for(var C=f[m],E=C.length,M=T,P=0;P<E;P++){var w=C[P].prop.align;if(w!==void 0){M=w;break}}M==="center"?o=(i-d)/2:M==="right"?o=p?0:i-d:o=p?i-d:0,o+=e;for(var P=0;P<E;P++)this.drawPen(C[P],o,c,g)}S.restore()},drawPen(e,t,i,n){t+=e.x,i+=e.y+(e.prop.y||0),n!==void 0&&(t=n-t);var y=this.canvas,S=this.context;S.save();var r=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(r.buildFont(),r.syncFont(y,S),r.syncStyle(y,S),r.underlineThickness>0&&e.width>0){var T=i+r.underlineOffset-r.underlineThickness/2;this.drawLine(t,T,e.width,r.underlineThickness,r.underlineColor,r)}if(e.isTextPen&&this.drawText(t,i,e.text,r),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,r),r.strikethroughThickness>0&&e.width>0){var T=i+r.strikethroughOffset-r.strikethroughThickness/2;this.drawLine(t,T,e.width,r.strikethroughThickness,r.strikethroughColor,r)}if(S.restore(),e.hasAreaMarker&&e.width>0){var s,d=e.prop.area;if(d)s={key:d};else{var x=e.prop.url;s={key:`url:${x}`,url:x}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,s)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawLine(e,t,i,n,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;S.syncShadow(r,S.shadowStroke);var T=r.lineCap;r.lineCap="butt",r.strokeStyle=y,r.lineWidth=n,r.beginPath(),r.moveTo(e,t),r.lineTo(e+i,t),r.stroke(),r.lineCap=T},drawText(e,t,i,n){this.autoRound&&(e=Math.round(e),t=Math.round(t));var y=this.context;n.stroke&&n.stroke!=="none"&&n.strokeThickness>0&&(n.syncShadow(y,n.shadowStroke),y.strokeText(i,e,t)),n.color&&n.color!=="none"&&(n.syncShadow(y,n.shadowFill),y.fillText(i,e,t))},drawImage(e,t,i,n,y){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,n,this.autoRound)}},er=Phaser.Utils.Objects.GetValue,ZO=de.NO_NEWLINE,iy=de.RAW_NEWLINE;class JO{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=er(t,"text",""),this.x=er(t,"x",0),this.y=er(t,"y",0),this.width=er(t,"width",0);var i=er(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=er(t,"newLineMode",0),this.startIndex=er(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===iy&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==ZO&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===iy&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Js=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Ws(t),i){t.length=e.length;for(var n=0,y=e.length;n<y;n++)t[n]=e[n]}else for(var S in e)t[S]=e[S];return t};const sy=Phaser.Utils.Objects.GetFastValue,ny=de.NO_NEWLINE,QO=de.WRAPPED_NEWLINE;class Qg{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=sy(t,"tagToText",Le),this.tagToTextScope=sy(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,n,y,S,r){var T=this.pensPool.pop();return T==null&&(T=new JO),ir.text=t,ir.x=i,ir.y=n,ir.width=y,ir.prop=S,ir.newLineMode=r,T.resetFromJSON(ir),this.addPen(T),this}addImagePen(t,i,n,y){return this.addTextPen("",t,i,n,y,ny),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,n=t?t.y:0,y=t?Js(t.prop):null;return this.addTextPen("",i,n,0,y,QO),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var n=this.lastLine;n==null&&(n=this.linesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==ny&&(n=this.linesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Qg),t.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var y=this.lines[i],S=0,r=y.length;S<r;S++){var T=y[S];t.addPen(T.text,T.x,T.y,T.width,Js(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,n=!1,y;for(i=t;i>=0&&(y=this.lines[i],n=y!=null&&y.length>0,!n);i--);if(!n)return 0;var S=y[y.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var n=i[i.length-1];if(n==null)return 0;var y=n.lastX;return y}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,n=0,y=this.lines.length;n<y;n++)t=this.getLineWidth(n),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,n=this.lines.length;i<n;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,n=0,y=i.length;n<y;n++)t+=i[n].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,n=0,y=this.pens.length;n<y;n++)t+=i[n].rawTextLength;return t}getSliceTagText(t,i,n){var y=this.lastPen;if(y==null)return"";var S=y.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),n===void 0&&(n=!1);for(var r="",T,s,d,x,f,l,h,a=0,u=this.pens.length;a<u&&(T=this.pens[a],x=T.endIndex,!(!(x<=t)&&(T=this.pens[a],s=n?T.wrapText:T.plainText,l=T.prop,d=T.startIndex,f=d>=t&&x<=i,f||(s=s.substring(t-d,i-d)),this.tagToTextScope?r+=this.tagToText.call(this.tagToTextScope,s,l,h):r+=this.tagToText(s,l,h),h=l,x>=i)));a++);return r}get length(){return this.lines.length}set length(t){this.clear()}}var ir={};const jO=Phaser.Geom.Rectangle;var ry=new Es;class qO{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)Ws(this.hitAreas[t].data);return ry.pushMultiple(this.hitAreas),this}add(t,i,n,y,S){var r=ry.pop();return r===null?r=new jO(t,i,n,y):r.setTo(t,i,n,y),r.data=S,this.hitAreas.push(r),this}getFirst(t,i){for(var n=0,y=this.hitAreas.length;n<y;n++){var S=this.hitAreas[n];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,n=this.hitAreas.length;i<n;i++){var y=this.hitAreas[i];if(y.data.key===t)return y}return null}drawBounds(t,i,n){i===void 0&&(i=16777215),n&&t.save().scaleCanvas(n.scaleX,n.scaleY).rotateCanvas(n.rotation).translateCanvas(n.x,n.y);for(var y=0,S=this.hitAreas.length;y<S;y++){var r=this.hitAreas[y];t.lineStyle(1,i).strokeRect(r.x,r.y,r.width,r.height)}return n&&t.restore(),this}}var _O=function(){this.parent.on("pointerdown",t3,this).on("pointerup",e3,this).on("pointermove",sc,this).on("pointerover",sc,this).on("pointerout",function(e,t){sc.call(this,e,null,null,t)},this)},t3=function(e,t,i,n){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data.key;Ba.call(this,"areadown",S,e,t,i,n),y.data.isDown=!0}},e3=function(e,t,i,n){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data,r=S.key;if(Ba.call(this,"areaup",r,e,t,i,n),S.isDown){Ba.call(this,"areaclick",r,e,t,i,n);var T=S.url;T&&window.open(T,"_blank")}S.isDown=!1}},sc=function(e,t,i,n){if(t===null){this.lastHitAreaKey!==null&&(Ba.call(this,"areaout",this.lastHitAreaKey,e,t,i,n),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var y=this.hitAreaManager.getFirst(t,i),S=y?y.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){Ba.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var r=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&r.data.url&&(this.scene.input.manager.canvas.style.cursor=""),r.isDown=!1}S!==null&&(Ba.call(this,"areaover",S,e,t,i,n),this.urlTagCursorStyle&&y.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=S}},Ba=function(e,t,i,n,y,S){this.parent.emit(`${e}-${t}`,i,n,y,S),this.parent.emit(e,t,i,n,y,S)},ay=function(e){return/^[\x00-\x7F]+$/.test(e)};const i3=de.NO_NEWLINE,s3=de.RAW_NEWLINE,nc=de.WRAPPED_NEWLINE,oy=de.NO_WRAP,n3=de.WORD_WRAP,vP=de.CHAR_WRAP,r3=de.SPLITREGEXP;var pP=function(e,t,i,n,y,S){n<=0&&(i=oy);var r=[];if(!e||!e.length)return r;for(var T=i===oy,s=e.split(r3),d,x,f,l=0,h=s.length;l<h;l++){if(d=s[l],f=l===h-1?i3:s3,T){var a=t(d);r.push(S.getLine(d,a,f));continue}if(x=l===0?n-y:n,d.length<=100){var a=t(d);if(a<=x){r.push(S.getLine(d,a,f));continue}}for(var u=a3(d,i),v,o,c="",p=0,g,m=0,C=u.length;m<C;m++){if(v=u[m],o=t(v),o>n&&o3(v)){c!==""?r.push(S.getLine(c,p,nc)):m===0&&y>0&&r.push(S.getLine("",0,nc)),r.push(...pP(v,t,vP,n,0,S));var E=r.pop();c=E.text,p=E.width,S.freeLine(E),c===" "&&(c="",p=0);continue}g=p+o,g>x?(r.push(S.getLine(c,p,nc)),c=v,p=o,x=n):(c+=v,p=g),m===C-1&&r.push(S.getLine(c,p,f))}}return r},a3=function(e,t){var i=[];switch(t){case n3:e=e.split(" ");for(var n=0,y=e.length;n<y;n++){var S=e[n];n<y-1?i.push(S+" "):S!==""&&i.push(S)}break;case vP:i.push(...e.split(""));break;default:e=e.split(" ");for(var n=0,y=e.length;n<y;n++){var S=e[n];n<y-1?ay(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(ay(S)?i.push(S):i.push(...S.split("")))}break}return i},o3=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const rc=Phaser.Utils.Objects.GetValue,h3=de.NO_WRAP,l3=de.NO_NEWLINE;class gP{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=rc(t,"context",null),this.canvas=this.context.canvas,this.parser=rc(t,"parser",null),this.defaultStyle=rc(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new qO,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var i=this.context;this.getTextWidth=function(n){return i.measureText(n).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,n,y,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var r=this.parent.style;if(r.isWrapFitMode){var T=this.parent.padding;n=r.fixedWidth-T.left-T.right}for(var s=this.canvas,d=this.context,x=function(O){return d.measureText(O).width},f=0,l=0,h=r.wrapCallback,a=r.wrapCallbackScope,u=!0,v,o,c,p=this.parser.splitText(t),g,m,C=this.wrapTextLinesPool,E=0,M=p.length;E<M;E++)if(g=this.parser.tagTextToProp(p[E],o),v=g.plainText,o=g.prop,o.img){var P=this.imageManager.getOuterWidth(o.img);n>0&&i!==h3&&n<f+P&&(S.addNewLinePen(),l+=y,f=0),S.addImagePen(f,l,P,Js(o)),f+=P}else if(v!==""){if(d.save(),c=this.parser.propToContextStyle(this.defaultStyle,o),c.buildFont(),c.syncFont(s,d),c.syncStyle(s,d),!h)m=pP(v,x,i,n,f,C);else{m=h.call(a,v,x,n,f),typeof m=="string"&&(m=m.split(`
`));for(var A,w=0,R=m.length;w<R;w++)A=m[w],typeof A=="string"?m[w]=C.getLine(A,x(A),w<R-1?2:0):u=!1}for(var A,w=0,R=m.length;w<R;w++)A=m[w],S.addTextPen(A.text,f,l,A.width,Js(o),A.newLineMode),A.newLineMode!==l3?(f=0,l+=y):f+=A.width;u&&C.freeLines(m),m=null,d.restore()}for(var E=0,M=this.lines.length;E<M;E++){var L=this.lines[E],F=L[L.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return S}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Qg({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,n){var y;if(t==null)y=this.penManager.plainText;else{var S=this.parser.splitText(t,1);y="";for(var r=0,T=S.length;r<T;r++)y+=S[r]}return(i!=null||n!=null)&&(i==null&&(i=0),n==null&&(n=y.length),y=y.substring(i,n)),y}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,i),i}getText(t,i,n,y){if(t==null)return this.penManager.getSliceTagText(i,n,y);var S=this.tmpPenManager,r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,S),S.getSliceTagText(i,n,y)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var u3={setInteractive:_O};Object.assign(gP.prototype,KO,u3);class hy extends Es{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,n){var y=this.pop();return y===null&&(y={}),y.text=t,y.width=i,y.newLineMode=n,y}}const d3=Phaser.Utils.Objects.IsPlainObject,Ur=Phaser.Utils.Objects.GetValue;var ac=function(e,t){d3(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,n=t.frame,y=t.width,S=t.height;if(y===void 0||S===void 0){var r=this.textureManager.getFrame(i,n),T=r?r.cutWidth:0,s=r?r.cutHeight:0;y===void 0&&S===void 0?(y=T,S=s):y===void 0?y=T*(S/s):S===void 0&&(S=s*(y/T))}this.images[e]={key:i,frame:n,width:y,height:S,y:Ur(t,"y",0),left:Ur(t,"left",0),right:Ur(t,"right",0),originX:Ur(t,"originX",0),originY:Ur(t,"originY",0),tintFill:Ur(t,"tintFill",!1)}};const ly=Phaser.Display.Canvas.CanvasPool;var mP=function(e,t,i,n,y,S,r,T){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=e.cutWidth),S===void 0&&(S=e.cutHeight),T===void 0&&(T=!1),T&&(i=Math.round(i),n=Math.round(n));var s=t.getContext("2d",{willReadFrequently:!0});if(r){var d=ly.create(null,y,S,Phaser.CANVAS,!0),x=d.getContext("2d",{willReadFrequently:!0});x.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,y,S),x.globalCompositeOperation="source-in",x.fillStyle=r,x.fillRect(0,0,y,S),s.drawImage(d,0,0,y,S,i,n,y,S),ly.remove(d)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,n,y,S)},f3=function(e,t,i,n,y,S){var r=this.get(e),T=this.textureManager.getFrame(r.key,r.frame),s=r.width,d=r.height;i+=r.left-r.originX*s,n+=r.y-r.originY*d,r.tintFill||(y=void 0),mP(T,t.canvas,i,n,s,d,y,S)};class jg{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")ac.call(this,t,i);else if(Array.isArray(t))for(var n=t,y=0,S=n.length;y<S;y++)ac.call(this,n[y]);else{var n=t;for(var t in n)ac.call(this,t,n[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var c3={draw:f3};Object.assign(jg.prototype,c3);var xP=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const v3=Phaser.Utils.Objects.IsPlainObject,uy=Phaser.DOM.AddToDOM,dy=Phaser.Display.Canvas.CanvasPool,p3=Phaser.GameObjects.GameObject,Je=Phaser.Utils.Objects.GetValue,g3=Phaser.DOM.RemoveFromDOM,m3=de.SPLITREGEXP,x3=Phaser.Utils.String.UUID;var Wr=null,oc=null,hc=null;class qg extends cP{constructor(t,i,n,y,S,r,T){if(v3(i)){var s=i;i=Je(s,"x",0),n=Je(s,"y",0),y=Je(s,"text",""),S=Je(s,"style")}if(i===void 0&&(i=0),n===void 0&&(n=0),super(t,r),this.renderer=t.sys.game.renderer,this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=dy.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var d=S.align;delete S.align,S.halign=d}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new Jg(this,S);var x=Je(S,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=x3(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var f=Je(S,"sharedPool",!0),l,h,a;f?(Wr||(Wr={},oc=new Es,hc=new hy,this.scene.game.events.once("destroy",function(){Wr=null,oc=null,hc=null})),Wr.hasOwnProperty(r)||(Wr[r]=new Es),l=Wr[r],h=oc,a=hc):(l=new Es,h=new Es,a=new hy),this.canvasText=new gP({parent:this,context:this.context,parser:T,style:this.style,pensPool:l,linesPool:h,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),this.setText(y),this.setUrlTagCursorStyle(Je(S,"urlTagCursorStyle","pointer")),Je(S,"interactive",!1)&&this.setInteractive()}preDestroy(){g3(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),dy.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",uy(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",uy(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var n=this._imageManager.images;for(var y in n)n[y].originX=1-n[y].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,n,y){if(typeof t=="object"){var S=t,r=Je(S,"x",null);r!==null?(t=r,n=r):(t=Je(S,"left",0),n=Je(S,"right",t));var T=Je(S,"y",null);T!==null?(i=T,y=T):(i=Je(S,"top",0),y=Je(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),y===void 0&&(y=i);return this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=y,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,n=this.style;t&&i.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var y=this.padding,S,r,T=Math.ceil(i.linesWidth);n.fixedWidth===0?(this.width=T+y.left+y.right,S=T):(this.width=n.fixedWidth,S=this.width-y.left-y.right,S<T&&(S=T)),n.fixedHeight===0?(this.height=i.linesHeight+y.top+y.bottom,r=i.linesHeight):(this.height=n.fixedHeight,r=this.height-y.top-y.bottom,r<i.linesHeight&&(r=i.linesHeight));var s=this.width,d=this.height;this.updateDisplayOrigin();var x=n.resolution;s*=x,d*=x,s=Math.max(Math.ceil(s),1),d=Math.max(Math.ceil(d),1);var f=this.canvas,l=this.context;f.width!==s||f.height!==d?(f.width=s,f.height=d,this.frame.setSize(s,d)):l.clearRect(0,0,s,d),l.save(),l.scale(x,x);var h=this.style.rtl?y.right:y.left,a=y.top;i.draw(h,a,S,r),l.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,n){var y=!!this.input;return p3.prototype.setInteractive.call(this,t,i,n),y||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),t=this.canvasText.getText(t,i,n,!0),t.split(m3)}getPlainText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,n)}getText(t,i,n,y){return typeof t=="number"&&(y=n,n=i,i=t,t=void 0),y===void 0&&(y=!1),this.canvasText.getText(t,i,n,y)}getSubString(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.getText(t,i,n)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new jg(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,n,y,S){var r=this.canvas;return y===void 0?y=r.width:y*=this.resolution,S===void 0?S=r.height:S*=this.resolution,uP(this.scene,r,t,i,n,y,S),this}}var y3={appendText:xP};Object.assign(qg.prototype,y3);var C3=function(e,t){for(var i=this.tagRegex,n=[],y=0,S=!1,r=!1;;){var T=i.RE_SPLITTEXT.exec(e);if(!T)break;var s=T[0];if(r)if(i.RE_ESC_CLOSE.test(s))r=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(s))S=!1;else continue;else i.RE_ESC_OPEN.test(s)?r=!0:i.RE_RAW_OPEN.test(s)&&(S=!0);var d=i.RE_SPLITTEXT.lastIndex,x=d-s.length;if(y<x){var f=e.substring(y,x);n.push(f)}t===void 0&&n.push(s),y=d}var l=e.length;return y<l&&n.push(e.substring(y,l)),n};const oe=!1,qt=!0;var T3={plainText:null,prevProp:null},S3=function(e,t){var i=this.tagRegex;t==null&&(t={});var n="";if(t.img&&xt(t,oe,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?xt(t,oe,"esc"):n=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?xt(t,oe,"raw"):n=e;else if(i.RE_ESC_OPEN.test(e))xt(t,qt,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))xt(t,oe,"esc");else if(i.RE_RAW_OPEN.test(e))xt(t,qt,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))xt(t,oe,"raw");else if(i.RE_BLOD_OPEN.test(e))xt(t,qt,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))xt(t,oe,"b");else if(i.RE_ITALICS_OPEN.test(e))xt(t,qt,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))xt(t,oe,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var y=e.match(i.RE_WEIGHT_OPEN);xt(t,qt,"weight",y[1])}else if(i.RE_WEIGHT_CLOSE.test(e))xt(t,oe,"weight");else if(i.RE_SIZE_OPEN.test(e)){var y=e.match(i.RE_SIZE_OPEN);xt(t,qt,"size",`${y[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))xt(t,oe,"size");else if(i.RE_COLOR_OPEN.test(e)){var y=e.match(i.RE_COLOR_OPEN);xt(t,qt,"color",y[1])}else if(i.RE_COLOR_CLOSE.test(e))xt(t,oe,"color");else if(i.RE_UNDERLINE_OPEN.test(e))xt(t,qt,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var y=e.match(i.RE_UNDERLINE_OPENC);xt(t,qt,"u",y[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))xt(t,oe,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))xt(t,qt,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var y=e.match(i.RE_STRIKETHROUGH_OPENC);xt(t,qt,"s",y[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))xt(t,oe,"s");else if(i.RE_SHADOW_OPEN.test(e))xt(t,qt,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var y=e.match(i.RE_SHADOW_OPENC);xt(t,qt,"shadow",y[1])}else if(i.RE_SHADOW_CLOSE.test(e))xt(t,oe,"shadow");else if(i.RE_STROKE_OPEN.test(e))xt(t,qt,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var y=e.match(i.RE_STROKE_OPENC);xt(t,qt,"stroke",y[1])}else if(i.RE_STROKE_CLOSE.test(e))xt(t,oe,"stroke");else if(i.RE_OFFSETY_OPEN.test(e)){var y=e.match(i.RE_OFFSETY_OPEN);xt(t,qt,"y",parseFloat(y[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))xt(t,oe,"y");else if(i.RE_IMAGE_OPEN.test(e)){var y=e.match(i.RE_IMAGE_OPEN);xt(t,qt,"img",y[1])}else if(i.RE_IMAGE_CLOSE.test(e))xt(t,oe,"img");else if(i.RE_AREA_OPEN.test(e)){var y=e.match(i.RE_AREA_OPEN);xt(t,qt,"area",y[1])}else if(i.RE_AREA_CLOSE.test(e))xt(t,oe,"area");else if(i.RE_URL_OPEN.test(e)){var y=e.match(i.RE_URL_OPEN);xt(t,qt,"url",y[1])}else if(i.RE_URL_CLOSE.test(e))xt(t,oe,"url");else if(i.RE_ALIGN_OPEN.test(e)){var y=e.match(i.RE_ALIGN_OPEN);xt(t,qt,"align",y[1])}else if(i.RE_ALIGN_CLOSE.test(e))xt(t,oe,"align");else if(i.RE_ID_OPEN.test(e)){var y=e.match(i.RE_ID_OPEN);xt(t,qt,"id",y[1])}else i.RE_ID_CLOSE.test(e)?xt(t,oe,"id"):n=e;var S=T3;return S.plainText=n,S.prop=t,S},xt=function(e,t,i,n){return t===qt?e[i]=n:e.hasOwnProperty(i)&&delete e[i],e},E3=function(e,t){var i=M3;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var n=t.size;typeof n=="number"&&(n=`${n}px`),i.fontSize=n}else i.fontSize=e.fontSize;i.fontStyle=P3(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),i},P3=function(e){var t=e.b,i=e.weight,n=e.i;return t||i||n?n?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},M3=new Jg,w3=function(e,t,i){i==null&&(i=R3);var n=this.delimiters[0],y=this.delimiters[1],S=[];for(var r in i)t.hasOwnProperty(r)||S.push(`${n}/${r}${y}`);for(var r in t){var T=t[r];if(i[r]!==T)switch(r){case"size":S.push(`${n}size=${T.replace("px","")}${y}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${n}${r}=${T}${y}`);break;case"u":case"s":T===!0?S.push(`${n}${r}${y}`):S.push(`${n}${r}=${T}${y}`);break;default:S.push(`${n}${r}${y}`);break}}return S.push(e),S.join("")},R3={},Xa=function(e){return e.replace(A3,"\\$&").replace(L3,"\\x2d")},A3=/[|\\{}()[\]^$+*?.]/g,L3=/-/g,fy,cy,Tt={},ie=function(e,t,i,n){return n===void 0?`${e}${i}${t}`:`${e}${i}=(${n})${t}`},Me=function(e,t,i){return`${e}/${i}${t}`},O3=function(e){return`[^${e}]+`},lc="[-.0-9]+",F3=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],go=F3.join("|"),yP=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(fy===e&&cy===t)return!1;fy=e,cy=t,e=Xa(e),t=Xa(t);var n=O3(t),y="esc",S=ie(e,t,y),r=Me(e,t,y),T="raw",s=ie(e,t,T),d=Me(e,t,T),x="b",f=ie(e,t,x),l=Me(e,t,x),h="i",a=ie(e,t,h),u=Me(e,t,h),v="weight",o=ie(e,t,v,lc),c=Me(e,t,v),p="size",g=ie(e,t,p,lc),m=Me(e,t,p),C="color",E=ie(e,t,C,go),M=Me(e,t,C),P="u",w=ie(e,t,P),R=ie(e,t,P,go),A=Me(e,t,P),L="s",F=ie(e,t,L),O=ie(e,t,L,go),D=Me(e,t,L),B="shadow",b=ie(e,t,B),G=ie(e,t,B,go),V=Me(e,t,B),W="stroke",H=ie(e,t,W),z=ie(e,t,W,go),U=Me(e,t,W),I="y",N=ie(e,t,I,lc),k=Me(e,t,I),X="img",Y=ie(e,t,X,n),$=Me(e,t,X),K="area",Z=ie(e,t,K,n),J=Me(e,t,K),Q="url",j=ie(e,t,Q,n),_=Me(e,t,Q),q="align",it=ie(e,t,q,n),ot=Me(e,t,q),ut="id",ht=ie(e,t,ut,n),tt=Me(e,t,ut);return Tt.RE_ESC_OPEN=new RegExp(S,"i"),Tt.RE_ESC_CLOSE=new RegExp(r,"i"),Tt.RE_RAW_OPEN=new RegExp(s,"i"),Tt.RE_RAW_CLOSE=new RegExp(d,"i"),Tt.RE_BLOD_OPEN=new RegExp(f,"i"),Tt.RE_BLOD_CLOSE=new RegExp(l,"i"),Tt.RE_ITALICS_OPEN=new RegExp(a,"i"),Tt.RE_ITALICS_CLOSE=new RegExp(u,"i"),Tt.RE_WEIGHT_OPEN=new RegExp(o,"i"),Tt.RE_WEIGHT_CLOSE=new RegExp(c,"i"),Tt.RE_SIZE_OPEN=new RegExp(g,"i"),Tt.RE_SIZE_CLOSE=new RegExp(m,"i"),Tt.RE_COLOR_OPEN=new RegExp(E,"i"),Tt.RE_COLOR_CLOSE=new RegExp(M,"i"),Tt.RE_UNDERLINE_OPEN=new RegExp(w,"i"),Tt.RE_UNDERLINE_OPENC=new RegExp(R,"i"),Tt.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),Tt.RE_STRIKETHROUGH_OPEN=new RegExp(F,"i"),Tt.RE_STRIKETHROUGH_OPENC=new RegExp(O,"i"),Tt.RE_STRIKETHROUGH_CLOSE=new RegExp(D,"i"),Tt.RE_SHADOW_OPEN=new RegExp(b,"i"),Tt.RE_SHADOW_OPENC=new RegExp(G,"i"),Tt.RE_SHADOW_CLOSE=new RegExp(V,"i"),Tt.RE_STROKE_OPEN=new RegExp(H,"i"),Tt.RE_STROKE_OPENC=new RegExp(z,"i"),Tt.RE_STROKE_CLOSE=new RegExp(U,"i"),Tt.RE_OFFSETY_OPEN=new RegExp(N,"i"),Tt.RE_OFFSETY_CLOSE=new RegExp(k,"i"),Tt.RE_IMAGE_OPEN=new RegExp(Y,"i"),Tt.RE_IMAGE_CLOSE=new RegExp($,"i"),Tt.RE_AREA_OPEN=new RegExp(Z,"i"),Tt.RE_AREA_CLOSE=new RegExp(J,"i"),Tt.RE_URL_OPEN=new RegExp(j,"i"),Tt.RE_URL_CLOSE=new RegExp(_,"i"),Tt.RE_ALIGN_OPEN=new RegExp(it,"i"),Tt.RE_ALIGN_CLOSE=new RegExp(ot,"i"),Tt.RE_ID_OPEN=new RegExp(ht,"i"),Tt.RE_ID_CLOSE=new RegExp(tt,"i"),Tt.RE_SPLITTEXT=new RegExp([s,d,S,r,f,l,a,u,o,c,g,m,E,M,w,R,A,F,O,D,b,G,V,H,z,U,N,k,Y,$,Z,J,j,_,it,ot,ht,tt].join("|"),"ig"),!0},vy=function(e,t){return e!==void 0&&yP(e,t),Object.assign({},Tt)};const D3=Phaser.Utils.Objects.GetValue;let CP=class{constructor(t){var i=D3(t,"delimiters","[]");this.tagRegex=vy(i),this.delimiters=i}getStrokeThinkness(t,i){var n;return i.hasOwnProperty("stroke")?n=t.strokeThickness:n=0,n}setDelimiters(t,i){return yP(t,i)&&(this.tagRegex=vy()),this}};var I3={splitText:C3,tagTextToProp:S3,propToContextStyle:E3,propToTagText:w3};Object.assign(CP.prototype,I3);class _g extends qg{constructor(t,i,n,y,S){var r=new CP(S);super(t,i,n,y,S,"rexBBCodeText",r)}setDelimiters(t,i){return this.parse.setDelimiters(t,i),this}}st.register("BBCodeText",function(e,t,i,n){var y=new _g(this.scene,e,t,i,n);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.BBCodeText",_g);var B3={plainText:null,prevProp:null},b3=new Jg;let G3=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var n=[],y=0;;){var S=uc.exec(t);if(!S)break;var r=S[0],T=uc.lastIndex-r.length;if(y<T&&n.push(t.substring(y,T)),i===void 0)n.push(r);else if(i===1){if(gy.test(r)){var s=r.match(my);n.push(s[2])}else if(xy.test(r)){var s=r.match(yy);n.push(s[2])}}y=uc.lastIndex}var d=t.length;return y<d&&n.push(t.substring(y,d)),n}tagTextToProp(t,i){var n,y;if(gy.test(t)){var S=t.match(my);if(S!=null){var r=S[1],T=this.tags;T.hasOwnProperty(r)?y=T[r]:y={},y._class=r,n=S[2]}}else if(xy.test(t)){var S=t.match(yy);if(S!=null){var s=S[1];y=N3(s),y._style=s,n=S[2]}}n==null&&(n=t),y==null&&(y={});var d=B3;return d.plainText=n,d.prop=y,d}propToContextStyle(t,i){var n=b3;if(i.hasOwnProperty("img"))n.image=i.img;else{if(n.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var y=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];n.fontFamily=y}else n.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),n.fontSize=S}else n.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var r=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];n.fontStyle=r}else n.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var T=i.hasOwnProperty("color")?i.color:i["font-color"];n.color=T}else n.color=t.color;if(i.hasOwnProperty("stroke")){var s=i.stroke;n.stroke=s.hasOwnProperty("color")?s.color:t.stroke,n.strokeThickness=s.hasOwnProperty("thickness")?s.thickness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var d=i.shadow;n.shadowColor=d.hasOwnProperty("color")?d.color:t.shadowColor,n.shadowOffsetX=d.hasOwnProperty("offsetX")?d.offsetX:t.shadowOffsetX,n.shadowOffsetY=d.hasOwnProperty("offsetY")?d.offsetY:t.shadowOffsetY,n.shadowBlur=d.hasOwnProperty("blur")?d.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var x=i.hasOwnProperty("u")?i.u:i.underline;n.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,n.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,n.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var f=i.hasOwnProperty("s")?i.s:i.strikethrough;n.strikethroughColor=f.hasOwnProperty("color")?f.color:t.strikethroughColor,n.strikethroughThickness=f.hasOwnProperty("thickness")?f.thickness:t.strikethroughThickness,n.strikethroughOffset=f.hasOwnProperty("offset")?f.offset:t.strikethroughOffset}else n.strikethroughColor=t.strikethroughColor,n.strikethroughThickness=t.strikethroughThickness,n.strikethroughOffset=t.strikethroughOffset;return n}getStrokeThinkness(t,i){var n;if(i.hasOwnProperty("stroke")){var y=i.stroke;n=y.hasOwnProperty("thickness")?y.thickness:t.strokeThickness}else n=t.strokeThickness;return n}propToTagText(t,i,n){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var N3=function(e){e=e.split(";");for(var t={},i,n,y,S=0,r=e.length;S<r;S++)if(i=e[S].split(":"),n=i[0],y=i[1],!(py(n)||py(y))){switch(n){case"stroke":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.offsetX=parseInt(T[1].replace("px",""))),s>=3&&(y.offsetY=parseInt(T[2].replace("px",""))),s>=4&&(y.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.thickness=parseInt(T[1].replace("px",""))),s>=3&&(y.offset=parseInt(T[2].replace("px",""))),n==="underline"?n="u":n==="strikethrough"&&(n="s");break;case"y":y=parseFloat(y);break}t[n]=y}return t},py=function(e){return e=e.replace(z3,""),e.length===0},uc=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,gy=/<\s*class=/i,my=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,xy=/<\s*style=/i,yy=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,z3=/^\s+|\s+$/;const k3=Phaser.Utils.Objects.GetValue;class TP extends qg{constructor(t,i,n,y,S){var r=k3(S,"tags",void 0),T=new G3(r);super(t,i,n,y,S,"rexTagText",T)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}st.register("tagText",function(e,t,i,n){var y=new TP(this.scene,e,t,i,n);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.TagText",TP);const Ml=Phaser.Utils.Objects.GetValue;var Du=function(e,t){return t===void 0?e:e[t]},bn=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var n=typeof t;return n==="string"?e[t]=i:n==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Ml(t,"left",0),e.right=Ml(t,"right",0),e.top=Ml(t,"top",0),e.bottom=Ml(t,"bottom",0)),e};let t0=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(t0.prototype,Id);const V3={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},U3=Phaser.Math.RotateAround;var W3=function(e,t,i,n){return n===void 0?n={}:n===!0&&(dc===void 0&&(dc={}),n=dc),n.x=(e-i.drawX)/i.scaleX,n.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&U3(n,0,0,-i.rotation),n},dc;const X3=Phaser.Geom.Rectangle;var Y3=function(e,t){if(this.width===0||this.height===0)return!1;var i=W3(e,t,this,!0);return H3(this).contains(i.x,i.y)},H3=function(e){wl===void 0&&(wl=new X3);var t=e.drawTLX,i=e.drawTLY;return wl.setTo(t,i,e.drawTRX-t,e.drawBLY-i),wl},wl;const $3=Phaser.Math.RotateAround;var SP=function(e,t,i,n){return n===void 0?n={}:n===!0&&(fc===void 0&&(fc={}),n=fc),n.x=t,n.y=i,e.rotation!==0&&$3(n,0,0,e.rotation),n.x=n.x*e.scaleX+e.drawX,n.y=n.y*e.scaleY+e.drawY,n},fc;const Cy=Phaser.GameObjects.Components.TransformMatrix;var K3=function(e,t,i,n){n===void 0?n={}:n===!0&&(n=Z3);var y=t-e.width*e.originX,S=i-e.height*e.originY;return mo===void 0&&(mo=new Cy,Ty=new Cy),e.parentContainer?e.getWorldTransformMatrix(mo,Ty):mo.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),mo.transformPoint(y,S,n),n},mo,Ty,Z3={},J3=function(e,t,i,n,y){var S=SP(t,i,n,!0),r=K3(e,S.x,S.y,y);return r},EP=function(e,t,i,n,y){typeof i!="number"&&(y=i,i=0,n=0);var S=t.drawCenterX+i,r=t.drawCenterY+n;return J3(e,t,S,r,y)},Q3=function(e,t,i){return EP(this.parent,this,e,t,i)},PP={contains:Y3,getWorldPosition:Q3};Object.assign(PP,V3);const j3=Phaser.Math.DegToRad,q3=Phaser.Math.RadToDeg,Rl=Phaser.Utils.Objects.GetValue;class Dr extends t0{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return q3(this._rotation)}set angle(t){this.rotation=j3(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Rl(t,"width",void 0),n=Rl(t,"height",void 0),y=Rl(t,"scaleX",void 0),S=Rl(t,"scaleY",void 0);return i!==void 0?n===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):y!==void 0&&this.setScaleX(y),n!==void 0?i===void 0&&y===void 0?this.setHeight(n,!0):this.setHeight(n):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Dr.prototype,PP);var wn=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const sr=Phaser.Utils.Objects.GetValue;class _3 extends Dr{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(sr(i,"color",null),sr(i,"color2",null),sr(i,"horizontalGradient",!0)),this.setStroke(sr(i,"stroke",null),sr(i,"strokeThickness",2)),this.setCornerRadius(sr(i,"cornerRadius",0),sr(i,"cornerIteration",null))}set color(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=pt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,wn("color2",t,this),wn("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,wn("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,wn("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){Zg(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const on=Phaser.Utils.Objects.GetValue;class tF extends Dr{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(on(i,"color",null),on(i,"color2",null),on(i,"horizontalGradient",!0)),this.setStroke(on(i,"stroke",null),on(i,"strokeThickness",2))}set color(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=pt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,on(t,"color2",null),on(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,on(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,n=t.top,y=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,r=this.context;if(this.color!=null){var T;if(this.color2!=null){var s;this.horizontalGradient?s=r.createLinearGradient(0,0,y,0):s=r.createLinearGradient(0,0,0,S),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),T=s}else T=this.color;r.fillStyle=T,r.fillRect(i,n,y,S)}this.stroke!=null&&this.strokeThickness>0&&(r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.strokeRect(i,n,y,S))}}const fe=Phaser.Utils.Objects.GetValue;class bd{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(fe(t,"bold",!1)),this.setItalic(fe(t,"italic",!1)),this.setFontSize(fe(t,"fontSize","16px")),this.setFontFamily(fe(t,"fontFamily","Courier")),this.setColor(fe(t,"color","#fff")),this.setStrokeStyle(fe(t,"stroke",null),fe(t,"strokeThickness",0)),this.setShadow(fe(t,"shadowColor",null),fe(t,"shadowOffsetX",0),fe(t,"shadowOffsetY",0),fe(t,"shadowBlur",0)),this.setOffset(fe(t,"offsetX",0),fe(t,"offsetY",0)),this.setSpace(fe(t,"leftSpace",0),fe(t,"rightSpace",0)),this.setAlign(fe(t,"align",void 0)),this.setBackgroundColor(fe(t,"backgroundColor",null)),this.setBackgroundHeight(fe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(fe(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(wn("stroke",t,this),wn("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(wn("shadowOffsetX",t,this),wn("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new bd(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=pt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=pt(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=pt(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,n,y){return this.setShadowColor(t).setShadowOffset(i,n).setShadowBlur(y),this}setBackgroundColor(t){return this.backgroundColor=pt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,n=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=n?this.stroke:"#000",t.lineWidth=n?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var eF=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},iF=function(e,t){var i=this.padding,n=i.left,y=i.right,S=i.top,r=i.bottom;return bn(i,e,t),this.dirty=this.dirty||n!=i.left||y!=i.right||S!=i.top||r!=i.bottom,this},sF=function(e){return Du(this.padding,e)},nF=function(e){return this.textStyle.modify(e),this},rF=function(e){return this.defaultTextStyle.modify(e),this},aF=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},oF=function(e){return this.testString=e,this};const hF=Phaser.Utils.Array.Remove;var lF=function(e){return this.poolManager.free(e),hF(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},uF=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const dF=Phaser.Utils.Array.Remove;var fF=function(e){return dF(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},cF=function(){return this.setText(),this},vF=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const Zn="text",MP="image",wP="drawer",RP="space",e0="command";var AP=function(e){return e.type===Zn&&e.text===`
`},LP=function(e){return e.type===Zn&&e.text==="\f"},pF=function(e){return e.type===Zn&&e.text===" "},Ya=function(e){return e.type===Zn},gF=function(e){return e.type===e0};class OP extends Dr{constructor(t,i,n){super(t,Zn),this.updateTextFlag=!1,this.style=new bd(this,n),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var n,y;"actualBoundingBoxAscent"in i?(n=i.actualBoundingBoxAscent,y=i.actualBoundingBoxDescent):(n=0,y=0),this.textHeight=n+y,this.ascent=n,this.descent=y}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var n=this.drawTLX,y=this.drawTRX-n,S=i.backgroundBottomY;S==null&&(S=this.drawBLY);var r=i.backgroundHeight;r==null&&(r=S-this.drawTLY);var T=S-r;t.fillRect(n,T,y,r)}var s=i.hasFill,d=i.hasStroke;!s&&!d||(i.syncFont(t).syncStyle(t),d&&(i.syncShadow(t),t.strokeText(this.text,0,0)),s&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var mF=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(Zn);return i===null?i=new OP(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},xF=function(e,t){t&&this.textStyle.modify(t);for(var i=[],n=0,y=e.length;n<y;n++){var S=e.charAt(n),r=this.poolManager.allocate(Zn);r===null?r=new OP(this,S,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(r)}return i},Bh=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},yF=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Bh.call(this,e,t),this.dirty=!0,this},CF=function(e,t,i){var n=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(n,e),this},TF=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var n=this.getCharChildIndex(e,!0);if(n===void 0)break;this.removeChild(this.children[n])}return this},SF=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class EF extends Dr{constructor(t,i,n){super(t,MP),this.setTexture(i,n),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){mP(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var PF=function(e,t,i){var n=this.poolManager.allocate(MP);return n===null?n=new EF(this,e,t):n.setParent(this).setActive().setTexture(e,t),n.modifyPorperties(i),n},FP=function(e,t,i){var n=this.createImageChild(e,t,i);return this.addChild(n),this};class MF extends Dr{constructor(t,i,n,y){super(t,wP),this.setRenderCallback(i),this.setDrawerSize(n,y)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var wF=function(e,t,i){var n=this.poolManager.allocate(wP);return n===null?n=new MF(this,e,t,i):n.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),n},RF=function(e,t,i){var n=this.createDrawerChild(e,t,i);return this.addChild(n),this};let AF=class extends Dr{constructor(t,i){super(t,RP),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var LF=function(e){var t=this.poolManager.allocate(RP);return t===null?t=new AF(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},DP=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class OF extends t0{constructor(t,i,n,y,S){super(t,e0),this.setName(i).setParameter(y).setCallback(n,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var FF=function(e,t,i,n){var y=this.poolManager.allocate(e0);return y===null?y=new OF(this,e,t,i,n):y.setParent(this).setActive().setName(e).setCallback(t,n).setParameter(i),y},ft=function(e,t,i,n){var y=this.createCommandChild(e,t,i,n);return this.addChild(y),this},DF=function(e){return e===void 0?e={}:typeof e=="object"&&(e=mi(e)),this.wrapConfig=e,this},IP=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)},IF=function(e,t,i,n){n===void 0&&(n={word:[],width:0}),n.word.length=0;for(var y=e.length,S=t,r=n.word,T=0;S<y;){var s=e[S];if(!s.renderable){r.push(s),S++;continue}var d=s.type===Zn?s.text:null;if(d!==null&&d!==" "&&d!==`
`&&d!=="\f")r.push(s),T+=s.outerWidth,S++;else{S===t&&(r.push(s),T+=s.outerWidth);break}if(i)break}return n.width=T,n},BP=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.align!==void 0)return n.align}},bP=function(e,t,i){if(!(t===0&&i===0))for(var n=0,y=e.length;n<y;n++){var S=e[n];S.renderable&&(S.x+=t,S.y+=i)}},BF=function(e,t,i){var n=e.hAlign,y=e.vAlign,S,r,T=e.linesHeight;switch(y){case 1:case"center":r=(i-T)/2;break;case 2:case"bottom":r=i-T;break;default:r=0;break}for(var s=e.lines,d=0,x=s.length;d<x;d++){var f=s[d],l=f.width,h=f.children,a=BP(h);switch(a===void 0&&(a=n),a){case 1:case"center":S=(t-l)/2;break;case 2:case"right":S=t-l;break;default:S=0;break}bP(h,S,r)}},Sy=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),Al.ascent=t,Al.descent=i,Al.height=t+i,Al},Al={};const oi=Phaser.Utils.Objects.GetValue;var bF=function(e){var t=oi(e,"start",0);bn(this.wrapPadding,oi(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=oi(e,"lineHeight"),S=oi(e,"ascent",y),r;if(y===void 0){var T=oi(e,"useDefaultTextHeight",!1);if(r=oi(e,"maxLines",0),this.fixedHeight>0&&!T){var X=this.fixedHeight-i;if(r>0)y=X/r;else{var s=Sy.call(this);y=s.height,S=s.ascent,r=Math.floor((X-S)/y)}}else{var s=Sy.call(this);y=s.height,S=s.ascent}}else if(this.fixedHeight>0){if(r=oi(e,"maxLines"),r===void 0){var X=this.fixedHeight-i;r=Math.floor(X/y)}}else r=oi(e,"maxLines",0);S===void 0&&(S=y);var d=r===0,x=oi(e,"wrapWidth",void 0);x===void 0&&(this.fixedWidth>0?x=this.fixedWidth-n:x=1/0);for(var f=oi(e,"letterSpacing",0),l=oi(e,"hAlign",0),h=oi(e,"vAlign",0),a=oi(e,"charWrap",!1),u=IP({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:f,maxLines:r,hAlign:l,vAlign:h,ascent:S,lineHeight:y,wrapWidth:x,charWrap:a}),v=this.children,o=0,c=v.length;o<c;o++)v[o].setActive(!1);x+=f;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top+S,m=p,C=g,E=x,M=t,P=v.length,w=u.children,R=u.lines,A=[],L=0,F=0,O,D=!1;M<P;){O=IF(v,M,a,O);var B=O.word,b=B.length,G=O.width+b*f;M+=b;var V=AP(B[0]);D=LP(B[0]);var W=V||D;if(E<G||W){if(W){var H=B[0];H.setActive().setPosition(m,C),w.push(H),A.push(H)}m=p,C+=y,E=x,R.push({children:A,width:L}),F=Math.max(F,L),L=0,A=[];var z=D||!d&&R.length===r;if(z)break;if(W)continue}E-=G,L+=G;for(var o=0,c=B.length;o<c;o++){var U=B[o];U.setActive(),w.push(U),A.push(U),U.renderable&&(U.setPosition(m,C),m+=U.outerWidth+f)}}A.length>0&&(R.push({children:A,width:L}),F=Math.max(F,L)),u.start+=w.length,u.isLastPage=!D&&u.start===P,u.maxLineWidth=F,u.linesHeight=R.length*y;var I=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+n,N=this.fixedHeight>0?this.fixedHeight:u.linesHeight+i,k=I-n,X=N-i;BF(u,k,X),this.setCanvasSize(I,N);for(var o=0,c=w.length;o<c;o++){var U=w[o];U.renderable&&(U.x0=U.x,U.y0=U.y)}return u};const GF=Phaser.Utils.Objects.Merge;var NF=function(e){return e===void 0&&(e={}),bF.call(this,GF(e,this.wrapConfig))},zF=function(e,t,i){var n=e.hAlign,y=e.vAlign,S,r,T=e.rtl,s=e.lines,d=e.lineWidth,x=e.linesWidth;switch(n){case 1:case"center":S=(t-x)/2;break;case 2:case"right":S=t-x;break;default:S=0;break}T&&(S+=d);for(var f=0,l=s.length;f<l;f++){var h=s[T?l-f-1:f],a=h.children,u=h.height,v=BP(a);switch(v===void 0&&(v=y),v){case 1:case"center":r=(i-u)/2;break;case 2:case"bottom":r=i-u;break;default:r=0;break}bP(a,S,r),S+=d}};const hi=Phaser.Utils.Objects.GetValue;var kF=function(e){var t=hi(e,"start",0);bn(this.wrapPadding,hi(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=hi(e,"lineWidth",void 0),S;if(y===void 0)if(S=hi(e,"maxLines",0),this.fixedWidth>0){var H=this.fixedWidth-n;y=H/S}else y=0;else if(this.fixedWidth>0){if(S=hi(e,"maxLines",void 0),S===void 0){var H=this.fixedWidth-n;S=Math.floor(H/y)+1}}else S=hi(e,"maxLines",0);var r=S===0,T=hi(e,"fixedCharacterHeight",void 0);if(T===void 0){var s=hi(e,"charPerLine",void 0);if(s!==void 0){var z=this.fixedHeight-i;T=Math.floor(z/s)}}var d=hi(e,"wrapHeight",void 0);d===void 0&&(this.fixedHeight>0?d=this.fixedHeight-i:d=1/0);for(var x=hi(e,"letterSpacing",0),f=hi(e,"rtl",!0),l=hi(e,"hAlign",f?2:0),h=hi(e,"vAlign",0),a=IP({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:S,hAlign:l,vAlign:h,lineWidth:y,fixedCharacterHeight:T,wrapHeight:d,rtl:f}),u=this.children,v=0,o=u.length;v<o;v++)u[v].setActive(!1);d+=x;for(var c=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=c,m=p,C=d,E=t,M=u.length,P=a.children,w=a.lines,R=[],A=0,L=0;E<M;){var F=u[E];if(E++,!F.renderable){F.setActive(),P.push(F),R.push(F);continue}var O=(T!==void 0?T:F.height)+x,D=AP(F),B=LP(F),b=D||B;if(C<O||b){D&&(F.setActive().setPosition(g,m).setOrigin(.5),P.push(F),R.push(F)),g=c,m=p,C=d,w.push({children:R,height:A}),L=Math.max(L,A),A=0,R=[];var G=B||!r&&w.length===S;if(G)break;if(b)continue}C-=O,A+=O,F.setActive().setPosition(g,m).setOrigin(.5),P.push(F),R.push(F),m+=O}R.length>0&&(w.push({children:R,height:A}),L=Math.max(L,A)),a.start+=P.length,a.isLastPage=a.start===M,a.maxLineHeight=L,a.linesWidth=w.length*y;var V=this.fixedWidth>0?this.fixedWidth:a.linesWidth+n,W=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,H=V-n,z=W-i;zF(a,H,z),this.setCanvasSize(V,W);for(var v=0,o=P.length;v<o;v++){var F=P[v];F.renderable&&(F.x0=F.x,F.y0=F.y)}return a};const VF=Phaser.Utils.Objects.Merge;var UF=function(e){return e===void 0&&(e={}),kF.call(this,VF(e,this.wrapConfig))};const Ey=Phaser.Utils.Objects.GetValue;var WF=function(e){var t=Ey(this.wrapConfig,"callback");return t||(t=Ey(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const XF={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},YF={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var HF=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},$F=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children,y=0,S=0,r=n.length;S<r;S++){var T=n[S];if(!(i&&!T.active)){var s;if(t?s=e.call(this,T,y,n):s=e(T,y,n),y++,s)break}}return this},KF=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children,y=0,S=0,r=n.length;S<r;S++){var T=n[S];if(!(i&&!T.active)&&T.renderable&&!T.removed){var s;if(t?s=e.call(this,T,y,n):s=e(T,y,n),y++,s)break}}return this},ZF=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children,y=0,S=0,r=n.length;S<r;S++){var T=n[S];if(!(i&&!T.active)&&Ya(T)&&!T.removed){var s;if(t?s=e.call(this,T,y,n):s=e(T,y,n),y++,s)break}}return this},JF=function(){return this.children};const QF=Phaser.Utils.Array.GetAll;var jF=function(){return QF(this.children,"active",!0)},qF=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},_F=function(){return this.lastAppendedChildren},t4=function(e,t,i,n){typeof t!="number"&&(n=t,t=0,i=0);var y=e.drawCenterX+t,S=e.drawCenterY+i;return SP(e,y,S,n)};const e4=Phaser.Math.Distance.BetweenPointsSquared;var i4=function(e,t){var i={x:e,y:t},n=1/0,y=null;return this.forEachRenderableChild(function(S){var r=e4(i,t4(S,!0));n>r&&(n=r,y=S)}),y},s4=function(e,t,i,n){return typeof e=="number"&&(e=this.getCharChild(e,!0)),EP(this,e,t,i,n)},n4=function(){for(var e=this.children,t=0,i=0,n=0,y=e.length;n<y;n++){var S=e[n];if(!(!S.renderable||!S.active||!S.visible)){var r=S.x0!==void 0?S.x0:S.x,T=S.y0!==void 0?S.y0:S.y;t=Math.max(t,r),i=Math.max(i,T)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,d=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==d)&&(this.dirty=!0,this.setCanvasSize(s,d)),this},r4=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,y=i.length;n<y;n++){var S=i[n];if(!(t&&!S.active)&&Ya(S)&&!S.removed){if(e===0)return n;e--}}},a4=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,y=i.length;n<y;n++){var S=i[n];if(!(t&&!S.active)&&Ya(S)&&!S.removed){if(e===0)return S;e--}}},o4=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var n=0,y=0;y<e;y++){var S=i[y];t&&!S.active||Ya(S)&&!S.removed&&n++}return n},h4=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},i0=function(n,t,i){for(var n=n,y=0,S=n.length;y<S;y++){var r=n[y];if(!(!r.active||!r.renderable)&&r.contains(t,i))return r}return null},l4=function(){return this.on("pointerdown",u4,this).on("pointerdown",d4,this).on("pointermove",cc,this).on("pointerover",cc,this).on("pointerout",function(e,t){cc.call(this,e,null,null,t)},this),this},u4=function(e,t,i,n){if(this.childrenInteractiveEnable){var y=i0(this.children,t,i);y&&this.emit("child.pointerdown",y,e,t,i,n)}},d4=function(e,t,i,n){if(this.childrenInteractiveEnable){var y=i0(this.children,t,i);y&&this.emit("child.pointerup",y,e,t,i,n)}},cc=function(e,t,i,n){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,n),this.lastOverChild=null);return}var y=i0(this.children,t,i);y!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,n),y!==null&&this.emit("child.pointerover",y,e,t,i,n),this.lastOverChild=y)}};const f4=Phaser.GameObjects.GameObject;var c4=function(e,t,i){var n=!!this.input;return f4.prototype.setInteractive.call(this,e,t,i),n||l4.call(this),this};const v4=Phaser.Utils.Array.BringToTop,p4=Phaser.Utils.Array.SendToBack,g4=Phaser.Utils.Array.MoveUp,m4=Phaser.Utils.Array.MoveDown,x4=Phaser.Utils.Array.MoveAbove,y4=Phaser.Utils.Array.MoveBelow,C4={moveChildToFist(e){return p4(this.children,e),this},moveChildToLast(e){return v4(this.children,e),this},movechildUp(e){return g4(this.children,e),this},movechildDown(e){return m4(this.children,e),this},movechildAbove(e,t){return x4(this.children,e,t),this},movechildBelow(e,t){return y4(this.children,e,t),this}},T4={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},S4={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var GP={setFixedSize:eF,setPadding:iF,getPadding:sF,modifyTextStyle:nF,modifyDefaultTextStyle:rF,resetTextStyle:aF,setTestString:oF,removeChild:lF,removeChildren:uF,popChild:fF,clearContent:cF,addChild:vF,createCharChild:mF,createCharChildren:xF,setText:yF,appendText:Bh,insertText:CF,removeText:TF,getText:SF,createImageChild:PF,appendImage:FP,createDrawerChild:wF,appendDrawer:RF,createSpaceChild:LF,appendSpace:DP,createCommandChild:FF,appendCommand:ft,setWrapConfig:DF,runWordWrap:NF,runVerticalWrap:UF,runWrap:WF,renderContent:HF,forEachChild:$F,forEachRenderableChild:KF,forEachCharChild:ZF,getChildren:JF,getActiveChildren:jF,getCharChildren:qF,getLastAppendedChildren:_F,getNearestChild:i4,getCharWorldPosition:s4,setToMinSize:n4,getCharChildIndex:r4,getCharChild:a4,getCharIndex:o4,setChildrenInteractiveEnable:h4,setInteractive:c4};Object.assign(GP,C4,T4,S4,XF,YF);const E4=Phaser.Utils.Objects.GetFastValue;var P4={};class M4{constructor(t){this.pools=E4(t,"pools",P4)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Es),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Py=Phaser.Utils.Objects.IsPlainObject,Qe=Phaser.Utils.Objects.GetValue;class ja extends Kn{constructor(t,i,n,y,S,r){Py(i)?(r=i,i=Qe(r,"x",0),n=Qe(r,"y",0),y=Qe(r,"width",0),S=Qe(r,"height",0)):Py(y)&&(r=y,y=Qe(r,"width",0),S=Qe(r,"height",0));var T=y===0?1:y,s=S===0?1:S;super(t,i,n,T,s),this.type="rexDynamicText",this.autoRound=!0,this.padding=bn(),this.wrapPadding=bn();var d=Qe(r,"style",void 0);this.defaultTextStyle=new bd(null,d),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Qe(r,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new _3(this,Qe(r,"background",void 0)),this.innerBounds=new tF(this,Qe(r,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new M4(r),this.setFixedSize(y,S),this.setPadding(Qe(r,"padding",0)),this.setWrapConfig(Qe(r,"wrap",void 0)),this.setChildrenInteractiveEnable(Qe(r,"childrenInteractive",!1));var x=Qe(r,"text",void 0);x&&this.setText(x)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(ja.prototype,GP);st.register("dynamicText",function(e,t,i,n,y){var S=new ja(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.DynamicText",ja);const qa={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},w4={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(e,t,i,n,y,S,r,T){T===void 0&&(T=this.gameObject);var s=this.tweens,d=s[e];d&&d.remove();var x={targets:T,duration:i,ease:n,repeat:y,yoyo:S,onComplete:function(){s[e].remove(),s[e]=null,r&&r(T,e)},onCompleteScope:this};return x[e]=t,d=this.scene.tweens.add(x),d.timeScale=this.timeScale,s[e]=d,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},R4={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return this;var i=this.gameObject;return i[e].apply(i,t),this}},A4={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class s0{constructor(t,i,n){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,n)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.setName(i),this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var n in i){var y=i[n];y&&(y.timeScale=t)}return this}}Object.assign(s0.prototype,w4,R4,A4);var n0=function(e){for(var t in e)return!1;return!0},Yt=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},Ve=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},te=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,n=0,y=i.length;n<y;n++)e[i[n]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},L4=function(e){if(Yt(e,"barrel"))return e;var t=Ve(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,te(e,"barrel"),e},Ie=function(e,t,i){if(Yt(e,t))return e;var n=Ve(e);if(!n)return e;var y=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(r){if(S!==r)if(S=r,S===null||S===!1)e[y]&&(n.remove(e[y]),e[y]=void 0);else{e[y]||(e[y]=n.addColorMatrix());var T=e[y];T[t](i===1?r:void 0)}}}),e[t]=null,te(e,t),e},O4=function(e){return Ie(e,"blackWhite"),e},F4=function(e){if(Yt(e,"bloomColor"))return e;var t=Ve(e);if(!t)return e;var i,n=1,y=1,S=1,r=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,n,y,S,r,T),t.setPadding(Math.max(n,y)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return n},set:function(s){if(n!==s&&(n=s,e._bloom)){var d=Math.max(n,y);t.setPadding(d+1),e._bloom.offsetX=n}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return y},set:function(s){if(y!==s&&(y=s,e._bloom)){var d=Math.max(n,y);t.setPadding(d+1),e._bloom.offsetY=y}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(s){S!==s&&(S=s,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._bloom&&(e._bloom.strength=r))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(s){T!==s&&(T=s,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,te(e,"bloomColor"),e},D4=function(e){if(Yt(e,"blurColor"))return e;var t=Ve(e);if(!t)return e;var i,n=0,y=1,S=1,r=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(n,y,S,r,i,T),t.setPadding(Math.max(y,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return n},set:function(s){n!==s&&(n=s,e._blur&&(e._blur.quality=n))}}),Object.defineProperty(e,"blurX",{get:function(){return y},set:function(s){if(y!==s&&(y=s,e._blur)){var d=Math.max(y,S);t.setPadding(d+1),e._blur.x=y}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(s){if(S!==s&&(S=s,e._blur)){var d=Math.max(y,S);t.setPadding(d+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._blur&&(e._blur.strength=r))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(s){T!==s&&(T=s,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,te(e,"blurColor"),e},I4=function(e){if(Yt(e,"bokehRadius"))return e;var t=Ve(e);if(!t)return e;var i,n=1,y=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,n,y)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return n},set:function(S){n!==S&&(n=S,e._bokeh&&(e._bokeh.amount=n))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return y},set:function(S){y!==S&&(y=S,e._bokeh&&(e._bokeh.contrast=y))}}),e.bokehRadius=null,te(e,"bokehRadius"),e},B4=function(e){return Ie(e,"brightness",1),e},b4=function(e){return Ie(e,"brown"),e},G4=function(e){if(Yt(e,"circleColor"))return e;var t=Ve(e);if(!t)return e;var i,n=8,y=0,S=.4,r=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(n,i,y,r,T),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return n},set:function(s){n!==s&&(n=s,e._circle&&(e._circle.thickness=n))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return y},set:function(s){y!==s&&(y=s,e._circle&&(e._circle.backgroundColor=y))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(s){S!==s&&(S=s,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return r},set:function(s){r!==s&&(r=s,e._circle&&(e._circle.scale=r))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(s){T!==s&&(T=s,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,te(e,"circleColor"),e},N4=function(e){return Ie(e,"contrast",1),e},z4=function(e){return Ie(e,"desaturate",1),e},k4=function(e){return Ie(e,"desaturateLuminance"),e},V4=function(e){if(Yt(e,"displacementKey"))return e;var t=Ve(e);if(!t)return e;var i,n=.005,y=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,n,y)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return n},set:function(S){n!==S&&(n=S,e._displacement&&(e._displacement.x=n))}}),Object.defineProperty(e,"displacementY",{get:function(){return y},set:function(S){y!==S&&(y=S,e._displacement&&(e._displacement.y=y))}}),e.displacementKey=null,te(e,"displacementKey"),e},U4=function(e){if(Yt(e,"glowColor"))return e;var t=Ve(e);if(!t)return e;var i,n=4,y=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,n,y),t.setPadding(n+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return n},set:function(S){n!==S&&(n=S,e._glow&&(t.setPadding(n+1),e._glow.outerStrength=n))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return y},set:function(S){y!==S&&(y=S,e._glow&&(e._glow.innerStrength=y))}}),e.glowColor=null,te(e,"glowColor"),e},W4=function(e){if(Yt(e,"gradientColor"))return e;var t=Ve(e);if(!t)return e;var i,n,y=.5,S=0,r=0,T=0,s=1,d=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,n]},set:function(x){var f,l;x===null||x===!1?(f=null,l=null):(f=x[0],l=x[1]),!(i===f&&n===l)&&(i=f,n=l,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,n,y,S,r,T,s,d)),e._gradient.color1=i,e._gradient.color2=n))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}i!==x&&(i=x,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return n},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}n!==x&&(n=x,e._gradient&&(e._gradient.color2=n))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return y},set:function(x){y!==x&&(y=x,e._gradient&&(e._gradient.alpha=y))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(x){S!==x&&(S=x,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return r},set:function(x){r!==x&&(r=x,e._gradient&&(e._gradient.fromY=r))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(x){T!==x&&(T=x,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return s},set:function(x){s!==x&&(s=x,e._gradient&&(e._gradient.toY=s))}}),Object.defineProperty(e,"gradientSize",{get:function(){return d},set:function(x){d!==x&&(d=x,e._gradient&&(e._gradient.size=d))}}),e.gradientColor=null,te(e,"gradientColor"),e},X4=function(e){return Ie(e,"grayscale",1),e},Y4=function(e){return Ie(e,"hue",1),e},H4=function(e){return Ie(e,"kodachrome"),e},$4=function(e){return Ie(e,"lsd"),e},K4=function(e){return Ie(e,"negative"),e},Z4=function(e){if(Yt(e,"pixelate"))return e;var t=Ve(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,te(e,"pixelate"),e},J4=function(e){return Ie(e,"polaroid"),e},Q4=function(e){if(Yt(e,"revealLeft"))return e;var t=Ve(e);if(!t)return e;var i,n,y,S,r=.1,T=function(){i=null,n=null,y=null,S=null},s=function(d){d._revealEffect&&(t.remove(d._revealEffect),d._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(d){i!==d&&(T(),i=d,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return n},set:function(d){n!==d&&(T(),n=d,n===null||n===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=n))}}),Object.defineProperty(e,"revealUp",{get:function(){return y},set:function(d){y!==d&&(T(),y=d,y===null||y===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=y))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(d){S!==d&&(T(),S=d,S===null||S===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return r},set:function(d){r!==d&&(r=d,e._revealEffect&&(e._revealEffect.wipeWidth=r))}}),e.revealLeft=null,te(e,"revealLeft"),te(e,"revealRight"),te(e,"revealUp"),te(e,"revealDown"),e},j4=function(e){return Ie(e,"saturate",1),e},q4=function(e){return Ie(e,"sepia"),e},_4=function(e){if(Yt(e,"shadowColor"))return e;var t=Ve(e);if(!t)return e;var i,n=0,y=0,S=.1,r=1,T=6,s=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(d){i!==d&&(i=d,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(n,y,S,r,i,T,s)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return n},set:function(d){n!==d&&(n=d,e._shadow&&(e._shadow.x=n))}}),Object.defineProperty(e,"shadowY",{get:function(){return y},set:function(d){y!==d&&(y=d,e._shadow&&(e._shadow.y=y))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(d){S!==d&&(S=d,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return r},set:function(d){r!==d&&(r=d,e._shadow&&(e._shadow.power=r))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(d){T!==d&&(T=d,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return s},set:function(d){s!==d&&(s=d,e._shadow&&(e._shadow.intensity=s))}}),e.shadowColor=null,te(e,"shadowColor"),e},t5=function(e){return Ie(e,"shiftToBGR"),e},e5=function(e){if(Yt(e,"shineSpeed"))return e;var t=Ve(e);if(!t)return e;var i,n=.5,y=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,n,y)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return n},set:function(S){n!==S&&(n=S,e._shine&&(e._shine.lineWidth=n))}}),Object.defineProperty(e,"shineGradient",{get:function(){return y},set:function(S){y!==S&&(y=S,e._shine&&(e._shine.gradient=y))}}),e.shineSpeed=null,te(e,"shineSpeed"),e},i5=function(e){return Ie(e,"technicolor"),e},s5=function(e){if(Yt(e,"tiltShiftRadius"))return e;var t=Ve(e);if(!t)return e;var i,n=1,y=.2,S=1,r=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,n,y,S,r,T)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return n},set:function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.amount=n))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return y},set:function(s){y!==s&&(y=s,e._tiltShift&&(e._tiltShift.contrast=y))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(s){S!==s&&(S=s,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return r},set:function(s){r!==s&&(r=s,e._tiltShift&&(e._tiltShift.blurY=r))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(s){T!==s&&(T=s,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,te(e,"tiltShiftRadius"),e},n5=function(e){if(Yt(e,"vignetteColor"))return e;var t=Ve(e);if(!t)return e;var i,n=.5,y=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(n,y,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return n},set:function(r){n!==r&&(n=r,e._vignette&&(e._vignette.x=n))}}),Object.defineProperty(e,"vignetteY",{get:function(){return y},set:function(r){y!==r&&(y=r,e._vignette&&(e._vignette.y=y))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(r){S!==r&&(S=r,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,te(e,"vignetteRadius"),e},r5=function(e){return Ie(e,"vintagePinhole"),e},a5=function(e){if(Yt(e,"wipeLeft"))return e;var t=Ve(e);if(!t)return e;var i,n,y,S,r=.1,T=function(){i=null,n=null,y=null,S=null},s=function(d){d._wipeEffect&&(t.remove(d._wipeEffect),d._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(d){i!==d&&(T(),i=d,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return n},set:function(d){n!==d&&(T(),n=d,n===null||n===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=n))}}),Object.defineProperty(e,"wipeUp",{get:function(){return y},set:function(d){y!==d&&(T(),y=d,y===null||y===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=y))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(d){S!==d&&(T(),S=d,S===null||S===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return r},set:function(d){r!==d&&(r=d,e._wipeEffect&&(e._wipeEffect.wipeWidth=r))}}),e.wipeLeft=null,te(e,"wipeLeft"),te(e,"wipeRight"),te(e,"wipeUp"),te(e,"wipeDown"),e};const Ll={barrel:L4,blackWhite:O4,bloom:F4,blur:D4,bokeh:I4,brightness:B4,brown:b4,circle:G4,contrast:N4,desaturate:z4,desaturateLuminance:k4,displacement:V4,glow:U4,gradient:W4,grayscale:X4,hue:Y4,kodachrome:H4,lsd:$4,negative:K4,pixelate:Z4,polaroid:J4,reveal:Q4,saturate:j4,sepia:q4,shadow:_4,shiftToBGR:t5,shine:e5,technicolor:i5,tiltShift:s5,vignette:n5,vintagePinhole:r5,wipe:a5};var Gd=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},n=0,y=i.length;n<y;n++)t[i[n]]=!0;if(t===!0)for(var S in Ll)Ll[S](e);else for(var S in t)t[S]&&Ll[S]&&Ll[S](e);return e};const NP=0,zP=1,Fp=2,kP=3,VP=4,Dp=5,o5={tint:NP,alpha:zP,revealUp:Fp,revealDown:kP,revealLeft:VP,revealRight:Dp},h5={setGOFadeMode(e){return typeof e=="string"&&(e=o5[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===NP)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===zP)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=Fp&&this.fadeMode<=Dp&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,n){var y=e.gameObject;if(this.useTintFadeEffect(y))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty("tintGray",Math.floor(255*i),this.fadeTime,"Linear",0,!1,n);else if(this.useAlphaFadeEffect(y))t!==void 0&&e.setProperty("alpha",t),e.easeProperty("alpha",i,this.fadeTime,"Linear",0,!1,n);else if(this.useRevealEffect(y)){Gd(y,"reveal");var S;switch(this.fadeMode){case Fp:S="revealUp";break;case kP:S="revealDown";break;case VP:S="revealLeft";break;case Dp:S="revealRight";break}t===void 0&&(t=0),y[S]=t,e.easeProperty(S,i,this.fadeTime,"Linear",0,!1,n),e.getTweenTask(S).once("complete",function(){y[S]=null})}else n&&n(y);return this}};var yh=function(e){return e>>16&255},Ch=function(e){return e>>8&255},Th=function(e){return e&255};const l5=~(255<<16)&16777215,u5=16711935,d5=16776960;var f5=function(e,t){return(t&255)<<16|e&l5},c5=function(e,t){return(t&255)<<8|e&u5},v5=function(e,t){return t&255|e&d5},p5=function(e,t,i,n){return(t&255)<<16|(i&255)<<8|n&255},g5=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=yh(t),n=Ch(t),y=Th(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=yh(t),n=Ch(t),y=Th(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=f5(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return n},set:function(S){S=Math.floor(S)&255,n!==S&&(n=S,e.tint=c5(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return y},set:function(S){S=Math.floor(S)&255,y!==S&&(y=S,e.tint=v5(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+n+y)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||n!==S||y!==S)&&(i=S,n=S,y=S,e.tint=p5(t,S,S,S))}}),e.tint=t,e};const m5=Phaser.Events.EventEmitter;var x5=function(e){if(e.events)return e;var t=new m5,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(r){i!==r&&(i=r,t.emit("update",e))}});var n=e.y;Object.defineProperty(e,"y",{get:function(){return n},set:function(r){n!==r&&(n=r,t.emit("update",e))}});var y=e.width;Object.defineProperty(e,"width",{get:function(){return y},set:function(r){y!==r&&(y=r,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(r){S!==r&&(S=r,t.emit("update",e))}}),e.events=t,e},y5=function(e,t,i,n,y,S){return S===void 0?S={}:S===!0&&(S=C5),typeof i!="number"&&(i=0,n=0),S.x=y.x+y.width*e+i,S.y=y.y+y.height*t+n,S},C5={},T5=function(e,t,i,n,y,S,r){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(r=i,i=void 0),typeof y=="function"&&(r=y,y=void 0),i===void 0&&(i=.5),n===void 0&&(n=.5),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=y5),x5(t);var T=t.events;e.vp=t;var s=function(){r(i,n,y,S,t,e)};T.on("update",s),e.once("destroy",function(){T.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(d){i!==d&&(i=d,s())}}),Object.defineProperty(e,"vpy",{get:function(){return n},set:function(d){n!==d&&(n=d,s())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return y},set:function(d){y!==d&&(y=d,s())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(d){S!==d&&(S=d,s())}}),s()};const S5=Phaser.Utils.Array.Remove,E5={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e){return this.bobs[e]},getGO(e){var t=this.get(e);return t?t.gameObject:null},addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&g5(t),this.viewportCoordinateEnable&&T5(t,this.viewport),this.effectPropertiesConfig&&Gd(t,this.effectPropertiesConfig),t.once("destroy",function(){S5(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,n=this.createGameObjectScope,y=i.call(n,this.scene,...t);this.addGO(e,y);var S=this.get(e);return this.fadeBob(S,0,1),this},forEachGO(e,t){for(var i in this.bobs){var n=this.bobs[i].gameObject,y;if(t?y=e.call(t,n,i,this):y=e(n,i,this),y)break}return this}},P5={remove(e,t){if(!this.has(e))return this;var i=this.get(e);return delete this.bobs[e],this.removedGOs.push(i.gameObject),t?i.destroy():this.fadeBob(i,void 0,0,function(){i.destroy()}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},M5={hasProperty(e,t){return this.has(e)?this.get(e).hasProperty(t):!1},getProperty(e,t){if(this.has(e))return this.get(e).getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){return this.has(e)?(this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),this.get(e).setProperty(t,i),this):this},easeProperty(e,t,i,n,y,S,r,T){return this.has(e)?(n===void 0&&(n=1e3),y===void 0&&(y="Linear"),S===void 0&&(S=0),r===void 0&&(r=!1),this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),this.get(e).easeProperty(t,i,n,y,S,r,T),this):this},hasTweenTask(e,t){if(!this.has(e))return!1;var i=this.get(e).tweens;return i.hasOwnProperty(t)},getTweenTask(e,t){if(!this.has(e))return null;var i=this.get(e).tweens,n=i[t];return n||null}},w5={hasMethod(e,t){return this.has(e)?this.get(e).hasMethod(t):!1},call(e,t,...i){return this.has(e)?(this.get(e).call(t,...i),this):this}},R5={hasData(e,t){return this.has(e)?this.get(e).hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){return this.has(e)?(this.get(e).setData(t,i),this):this}};var It=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},Bt=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const My=Phaser.Geom.Rectangle,Vn=Phaser.Math.Vector2,A5=Phaser.Math.RotateAround;var r0=function(e,t){if(t===void 0?t=new My:t===!0&&(vc===void 0&&(vc=new My),t=vc),e.getBounds)return e.getBounds(t);var i,n,y,S,r,T,s,d;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();Ip(e,t),x.transformPoint(t.x,t.y,t),i=t.x,n=t.y,Bp(e,t),x.transformPoint(t.x,t.y,t),y=t.x,S=t.y,bp(e,t),x.transformPoint(t.x,t.y,t),r=t.x,T=t.y,Gp(e,t),x.transformPoint(t.x,t.y,t),s=t.x,d=t.y}else Ip(e,t),i=t.x,n=t.y,Bp(e,t),y=t.x,S=t.y,bp(e,t),r=t.x,T=t.y,Gp(e,t),s=t.x,d=t.y;return t.x=Math.min(i,y,r,s),t.y=Math.min(n,S,T,d),t.width=Math.max(i,y,r,s)-t.x,t.height=Math.max(n,S,T,d)-t.y,t},vc=void 0,Ip=function(e,t,i){return t===void 0?t=new Vn:t===!0&&(Ni===void 0&&(Ni=new Vn),t=Ni),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-It(e)*e.originX,t.y=e.y-Bt(e)*e.originY,Nd(e,t,i))},Bp=function(e,t,i){return t===void 0?t=new Vn:t===!0&&(Ni===void 0&&(Ni=new Vn),t=Ni),e.getTopRight?e.getTopRight(t):(t.x=e.x-It(e)*e.originX+It(e),t.y=e.y-Bt(e)*e.originY,Nd(e,t,i))},bp=function(e,t,i){return t===void 0?t=new Vn:t===!0&&(Ni===void 0&&(Ni=new Vn),t=Ni),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-It(e)*e.originX,t.y=e.y-Bt(e)*e.originY+Bt(e),Nd(e,t,i))},Gp=function(e,t,i){return t===void 0?t=new Vn:t===!0&&(Ni===void 0&&(Ni=new Vn),t=Ni),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-It(e)*e.originX+It(e),t.y=e.y-Bt(e)*e.originY+Bt(e),Nd(e,t,i))},Ni=void 0,Nd=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&A5(t,e.x,e.y,e.rotation),i&&e.parentContainer){var n=e.parentContainer.getBoundsTransformMatrix();n.transformPoint(t.x,t.y,t)}return t};const xo=Phaser.Utils.Objects.GetValue;var UP=function(e,t,i){var n,y,S,r,T;if(typeof i=="number"?n=i:(n=xo(i,"color"),y=xo(i,"lineWidth"),S=xo(i,"fillColor"),r=xo(i,"fillAlpha",1),T=xo(i,"padding",0)),Array.isArray(e))for(var s=0,d=e.length;s<d;s++)wy(e[s],t,n,y,S,r,T);else wy(e,t,n,y,S,r,T)},wy=function(e,t,i,n,y,S,r){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){i===void 0&&(i=16777215),n===void 0&&(n=1),y===void 0&&(y=null),S===void 0&&(S=1),r===void 0&&(r=0);var s=Ip(e,Xr[0]);s.x-=r,s.y-=r;var d=Bp(e,Xr[1]);d.x+=r,d.y-=r;var x=Gp(e,Xr[2]);x.x+=r,x.y+=r;var f=bp(e,Xr[3]);f.x-=r,f.y+=r,y!==null&&t.fillStyle(y,S).fillPoints(Xr,!0,!0),i!==null&&t.lineStyle(n,i).strokePoints(Xr,!0,!0)}},Xr=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],L5=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):UP(i,e,t)}),this},WP={drawGameObjectsBounds:L5};Object.assign(WP,h5,E5,P5,M5,w5,R5);const O5=Phaser.Cameras.Scene2D.BaseCamera;var F5=function(e){return e instanceof O5};const XP=Phaser.Geom.Rectangle;var _a=function(e,t,i){return F5(t)||(i=t,t=void 0),i===void 0?i=new XP:i===!0&&(i=D5),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},D5=new XP;const Mi=Phaser.Utils.Objects.GetValue;class zd{constructor(t,i){this.scene=t,this.BobClass=Mi(i,"BobClass",s0),this.setCreateGameObjectCallback(Mi(i,"createGameObject"),Mi(i,"createGameObjectScope")),this.setEventEmitter(Mi(i,"eventEmitter",void 0));var n=Mi(i,"fade",500);typeof n=="number"?(this.setGOFadeMode(),this.setGOFadeTime(n)):(this.setGOFadeMode(Mi(n,"mode")),this.setGOFadeTime(Mi(n,"time",500)));var y=Mi(i,"viewportCoordinate",!1);y!==!1?(this.setViewportCoordinateEnable(Mi(i,"enable",!0)),this.setViewport(Mi(y,"viewport"))):this.setViewportCoordinateEnable(!1);var S=Mi(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(Mi(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var n in i)i[n].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=_a(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return n0(this.bobs)&&this.removedGOs.length===0}}Object.assign(zd.prototype,qa,WP);var _i=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,n=0,y=e.length;n<y;n++){var S=e[n];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(r,T){return i.indexOf(T)-i.indexOf(r)}):e.sort(function(r,T){return i.indexOf(r)-i.indexOf(T)}),e};const I5=Phaser.Utils.Objects.GetValue;class B5 extends zd{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var n=I5(i,"layers");if(n)for(var y=0,S=n.length;y<S;y++)this.add(n[y])}setCreateGameObjectCallback(t,i){return t||(t=b5),super.setCreateGameObjectCallback(t,i),this}addGO(t,i){return super.addGO(t,i),i.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(i){t.push(i)}),_i(t,!1),t}addToLayer(t,i){var n=this.getGO(t);if(!n){console.warn(`Can't get layer "${t}"`);return}return i.isRexContainerLite?i.addToLayer(n):n.add(i),this}removeFromLayer(t,i,n){var y=this.getGO(t);if(!y){console.warn(`Can't get layer "${t}"`);return}return n===void 0&&(n=!0),i.isRexContainerLite?i.removeFromLayer(y,n):(y.remove(i),n&&i.addToDisplayList()),this}clearLayer(t,i){i===void 0&&(i=!0);var n=this.getGO(t);if(!n){console.warn(`Can't get layer "${t}"`);return}if(i)for(var y=n.getAll(),S=0,r=y.length;S<r;S++)y.destroy();else n.removeAll();return this}}var b5=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i},G5=function(e){return Er(e)?e.sys.sound:e.sound},to=function(e){return e==null||typeof e!="object"?null:Er(e)?e:e.scene&&Er(e.scene)?e.scene:e.parent&&e.parent.scene&&Er(e.parent.scene)?e.parent.scene:null};const N5=Phaser.Utils.Objects.GetValue;class ae{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(N5(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=to(t),this.game=Lr(t),this}}Object.assign(ae.prototype,qa);const z5=Phaser.Utils.Objects.GetValue;class kd extends ae{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(z5(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=k5[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const k5={no:0,lazy:1,always:2},V5=Phaser.Utils.Objects.GetValue;class U5 extends kd{constructor(t,i){super(t,i);var n=this.scene?"update":"step";this.tickEventName=V5(i,"tickEventName",n),this.isSceneTicker=!W5(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var W5=function(e){return e==="step"||e==="poststep"};const Fs=Phaser.Utils.Objects.GetValue,Ry=Phaser.Math.Clamp;let YP=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Fs(t,"state",yo),this.timeScale=Fs(t,"timeScale",1),this.delay=Fs(t,"delay",0),this.repeat=Fs(t,"repeat",0),this.repeatCounter=Fs(t,"repeatCounter",0),this.repeatDelay=Fs(t,"repeatDelay",0),this.duration=Fs(t,"duration",0),this.nowTime=Fs(t,"nowTime",0),this.justRestart=Fs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Yr:Co,this.repeatCounter=0,this}stop(){return this.state=yo,this}update(t,i){this.state===yo||this.state===Ol||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Ay)):(this.nowTime=this.duration,this.state=Ol):this.nowTime>=0&&(this.state=Yr))}get t(){var t;switch(this.state){case yo:case Co:case Ay:t=0;break;case Yr:t=this.nowTime/this.duration;break;case Ol:t=1;break}return Ry(t,0,1)}set t(t){t=Ry(t,-1,1),t<0?(this.state=Co,this.nowTime=-this.delay*t):(this.state=Yr,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===yo}get isDelay(){return this.state===Co}get isCountDown(){return this.state===Yr}get isRunning(){return this.state===Co||this.state===Yr}get isDone(){return this.state===Ol}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const yo=0,Co=1,Yr=2,Ay=3,Ol=-1;class X5 extends U5{constructor(t,i){super(t,i),this.timer=new YP}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const To=Phaser.Utils.Objects.GetValue,Ly=Phaser.Utils.Objects.GetAdvancedValue,Y5=Phaser.Tweens.Builders.GetEaseFunction;class Ir extends X5{resetFromJSON(t){return this.timer.resetFromJSON(To(t,"timer")),this.setEnable(To(t,"enable",!0)),this.setTarget(To(t,"target",this.parent)),this.setDelay(Ly(t,"delay",0)),this.setDuration(Ly(t,"duration",1e3)),this.setEase(To(t,"ease","Linear")),this.setRepeat(To(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Y5(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||!this.parent.active)return this;var n=this.target,y=this.timer;return y.update(t,i),y.isDelay||this.updateGameObject(n,y),this.emit("update",n,this),y.isDone&&this.complete(),this}updateGameObject(t,i){}}const H5=Phaser.Sound.BaseSound;var a0=function(e){return e instanceof H5};const Oy=Phaser.Utils.Objects.GetValue,Fy=Phaser.Utils.Objects.GetAdvancedValue,$5=Phaser.Math.Linear;let HP=class extends Ir{constructor(t,i,n){a0(t)&&(n=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,n),this.volume={},this.resetFromJSON(n)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Oy(t,"mode",0)),this.setEnable(Oy(t,"enable",!0)),this.setVolumeRange(Fy(t,"volume.start",this.parent.volume),Fy(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=K5[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,i){t.volume=$5(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const K5={stop:1,destroy:2};var Vd=function(e,t,i,n,y){a0(e)&&(y=n,n=i,i=t,t=e,e=void 0),n===void 0&&(n=1),y===void 0&&(y=0);var S={mode:0,volume:{start:y,end:n},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var r;return t.hasOwnProperty("_fade")?(r=t._fade,r.stop().resetFromJSON(S)):(r=new HP(e,t,S),t._fade=r),r.start(),t.isPlaying||t.setVolume(y).play(),t},Ha=function(e,t,i,n){a0(e)&&(n=i,i=t,t=e,e=void 0),n===void 0&&(n=!0);var y={mode:n?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(y)):(S=new HP(e,t,y),t._fade=S),S.start(),t.isPlaying||t.play(),t};const So=Phaser.Utils.Objects.GetValue,Z5={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:So(t,"loop",this.backgroundMusicLoop),mute:So(t,"mute",this.backgroundMusicMute),volume:So(t,"volume",this.backgroundMusicVolume),detune:So(t,"detune",0),rate:So(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Vd(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Ha(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},Eo=Phaser.Utils.Objects.GetValue,J5={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Eo(t,"loop",this.backgroundMusicLoop),mute:Eo(t,"mute",this.backgroundMusic2Mute),volume:Eo(t,"volume",this.backgroundMusic2Volume),detune:Eo(t,"detune",0),rate:Eo(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Vd(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Ha(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},Dy=Phaser.Utils.Array.Remove,Fl=Phaser.Utils.Objects.GetValue,Q5={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){var i=this.sound.add(e,{mute:Fl(t,"mute",this.soundEffectsMute),volume:Fl(t,"volume",this.soundEffectsVolume),detune:Fl(t,"detune",0),rate:Fl(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&Dy(this.soundEffects,i)},this).once("destroy",function(){this.sound&&Dy(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Vd(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Ha(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Ha(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,y=i.length;n<y;n++)i[n].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,y=i.length;n<y;n++)i[n].setRate(e);return this}},Iy=Phaser.Utils.Array.Remove,Dl=Phaser.Utils.Objects.GetValue,j5={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){var i=this.sound.add(e,{mute:Dl(t,"mute",this.soundEffects2Mute),volume:Dl(t,"volume",this.soundEffects2Volume),detune:Dl(t,"detune",0),rate:Dl(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&Iy(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&Iy(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Vd(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Ha(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Ha(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,y=i.length;n<y;n++)i[n].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,y=i.length;n<y;n++)i[n].setRate(e);return this}};var $P={};Object.assign($P,Z5,J5,Q5,j5);const wi=Phaser.Utils.Objects.GetValue;class KP{constructor(t,i){this.sound=G5(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=wi(i,"bgm.volume",1),this._backgroundMusicMute=wi(i,"bgm.mute",!1),this.setBackgroundMusicLoop(wi(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(wi(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=wi(i,"bgm2.volume",1),this._backgroundMusic2Mute=wi(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(wi(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(wi(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=wi(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=wi(i,"soundEffect2.volume",1);var n=wi(i,"bgm.initial",void 0);n&&this.setCurrentBackgroundMusic(n);var y=wi(i,"bgm2.initial",void 0);y&&this.setCurrentBackgroundMusic2(y)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,n=0,y=i.length;n<y;n++)i[n].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,n=0,y=i.length;n<y;n++)i[n].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,n=0,y=soundEffects2.length;n<y;n++)i[n].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,n=0,y=i.length;n<y;n++)i[n].setVolume(t)}}Object.assign(KP.prototype,$P);const pc=Phaser.Utils.Objects.GetValue;class q5 extends kd{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=pc(t,"isRunning",!1),this.timeScale=pc(t,"timeScale",1),this.now=pc(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class ZP extends q5{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var xi=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const By=Phaser.Math.Clamp;class _5{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,n,y){return this.target=t,this.onStart=i,this.onProgress=n,this.onComplete=y,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=By(t,0,1),this.yoyo&&(t=xi(t)),t}setProgress(t){t=By(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var n=this.remainder<=0;return n&&this.runCallback(this.onComplete),n}}let tD=class extends Es{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}};const eD=Phaser.Utils.Objects.GetValue,iD=new tD;class sD extends ZP{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=eD(i,"pool",iD)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new _5(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,n,y){var S=this.addTimer({duration:t,onComplete:function(r,T,s){n===void 0&&(n=[]),n.push(s),i.apply(y,n)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var n=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){n.remove(),n=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],n=[this.addedTimers,this.timers],y=0,S=n.length;y<S;y++)for(var r=n[y],T=0,s=r.length;T<s;T++){var d=r[T];d.name===t&&i.push(d)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var n=[],y=0,S=this.timers.length;y<S;y++){var r=this.timers[y],T=r.update(this.now,this.delta);T?this.timerPool.free(r):n.push(r)}this.timers=n,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const nD="_wait.complete",rD="_remove.wait";var aD=function(e,t,i,n,y){var S=to(e),r=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(n,y)})});return r};let JP=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=nD,this.removeWaitEventsEventName=rD}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,n){var y=this.getWaitCompleteTriggerCallback(n);return t.once(i,y,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,y,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,n=this,y=function(){i<n.waitId||(n.waitId++,n.removeWaitEvents(),n.parent.emit(n.waitCompleteEventName))};if(t){var S=function(){aD(n.parent,0,y)};return S}else return y}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(JP.prototype,qa);const oD={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var hD=function(e,t){var i=`(?<!\\\\)\\${t}`,n=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(y){return y.replace(n,t)})};const lD={setClickTarget(e){this.clickTarget=e,e?Er(e)?this.clickEE=e.input:this.clickEE=e.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=hD(e,"|"),n=0,y=i.length;n<y;n++)this.waitEvent(t,`keydown-${e.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},uD={waitGameObjectTweenComplete(e,t,i){var n=this.parent.getGameObjectTweenTask(e,t,i);return n?this.waitEvent(n,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,n){var y=this.parent.getGameObject(e,t);if(!y)return this.waitTime(0);if(y.getData(i)===n)return this.waitTime(0);var S=`changedata-${i}`,r=function(T,s,d){s=!!s,s===n&&T.emit("_dataFlagMatch")};return y.on(S,r),this.parent.once(this.removeWaitEventsEventName,function(){y.off(S,r)}),this.waitEvent(y,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,n=!1;for(var y in i)n=!0,this.waitEvent(i[y],"empty");return n?this.parent:this.waitTime(0)}}},dD={setCameraTarget(e){return this.cameraTarget=e,this},waitCameraEffectComplete(e){var t=this.cameraTarget;if(!t)return this.waitTime(0);var i,n;switch(e){case"camera.fadein":i=t.fadeEffect,n="camerafadeincomplete";break;case"camera.fadeout":i=t.fadeEffect,n="camerafadeoutcomplete";break;case"camera.flash":i=t.flashEffect,n="cameraflashcomplete";break;case"camera.shake":i=t.shakeEffect,n="camerashakecomplete";break;case"camera.zoom":i=t.zoomEffect,n="camerazoomcomplete";break;case"camera.rotate":i=t.rotateToEffect,n="camerarotatecomplete";break;case"camera.scroll":i=t.panEffect,n="camerapancomplete";break}return i.isRunning?this.waitEvent(t,n):this.waitTime(0)}},fD={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var cD=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick(e.key);break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`);break;default:var n=i.split(".");if(n.length===2){var y=n[0],S=n[1],r=this.parent.getGameObjectManager(void 0,y);if(!r)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,y);var T=r.getProperty(y,S);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,y,S);continue}var s=S,d=s.startsWith("!");d&&(s=s.substring(1)),r.hasData(y,S)&&(t=!0,this.waitGameObjectDataFlag(void 0,y,s,!d))}break}return t||this.waitTime(0),this.parent};class QP extends JP{constructor(t,i){super(t),this.waitCompleteEventName=Ot(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Ot(i,"clickTarget",this.scene)),this.setCameraTarget(Ot(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.setClickTarget(),this.setCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}var vD={waitAny:cD};Object.assign(QP.prototype,oD,lD,uD,dD,fD,vD);const by=Phaser.Utils.Objects.GetValue;var pD=function(e,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=by(t,"layers",!1);i!==!1&&(this.gameObjectManagers.layer=new B5(e,i));var n=by(t,"sounds");return n!==!1&&(this.soundManager=new KP(e,n)),this.timeline=new sD(this),this.waitEventManager=new QP(this,t),this},gD=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},mD=function(){return this.timeline.timeScale},xD=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const jP={addGameObjectManager(e,t){e===void 0&&(e={}),t===void 0&&(t=zd),e.createGameObjectScope||(e.createGameObjectScope=this);var i=new t(this.managersScene,e);return this.gameObjectManagers[e.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(e))return t},hasGameObjectMananger(e){return e in this.gameObjectManagers}},yD={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...n){return this.getGameObjectManager(e,t).call(t,i,...n),this},setGameObjectProperty(e,t,i,n){return this.getGameObjectManager(e,t).setProperty(t,i,n),this},easeGameObjectProperty(e,t,i,n,y,S,r,T){return this.getGameObjectManager(e,t).easeProperty(t,i,n,y,S,r,T),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")return n.getGO(t);var y=t;y===void 0&&(y=n.bobs),i===void 0&&(i={});for(t in y)i[t]=n.getGO(t);return i},addGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")n.addGO(t,i);else{var y=t;for(t in y)n.addGO(t,y[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var n=0,y=e.length;n<y;n++)this.getGameObjectManager(e[n]).drawGameObjectsBounds(t,i);return this}};var CD=function(e){class t extends e{}var i={initManagers:pD,setTimeScale:gD,getTimeScale:mD,destroyManagers:xD};return Object.assign(t.prototype,i,jP,yD),t},TD=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,SD=/^0x[0-9A-F]+$/i,o0=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(TD.test(e))e=parseFloat(e);else if(SD.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let qP=class{constructor(t){this.setEventEmitter(Ot(t,"eventEmitter",void 0)),this.setValueConverter(Ot(t,"valueConvert",!0)),this.setLoopEnable(Ot(t,"loop",!1)),this.setMultipleLinesTagEnable(Ot(t,"multipleLinesTag",!1));var i=Ot(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Ot(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Xa(this.delimiterLeft),i=Xa(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,n),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=o0:t||(t=ED),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var n=this.reSplit.exec(t);if(!n){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var y=this.reSplit.lastIndex,S=y-n[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.onTag(n[1]),this.progressIndex=y,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const ED=function(e){return e};Object.assign(qP.prototype,qa);var PD=function(e,t,i){if(e==null)return[];t===void 0&&(t=o0),i===void 0&&(i=",");for(var n=e.split(i),y=0,S=n.length;y<S;y++)n[y]=t(n[y]);return n};class MD extends qP{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Ot(t,"regex.tag",void 0)),this.setValueExpression(Ot(t,"regex.value",void 0));var i=Ot(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=Il),this.tagExpression=t,this}setValueExpression(t){return t||(t=Il),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var n=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(n,"i"),this.tagExpression!==Il||this.valueExpression!==Il){var y=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=Xa(this.delimiterLeft),i=Xa(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${y})|(${S}))${i}`,r)}return this}onTag(t){var i=t.match(this.reTag),n=i[1],y=n.charAt(0)==="/";if(y&&(n=n.substring(1,n.length)),this.translateTagNameCallback&&(n=this.translateTagNameCallback(n)),this.skipEventFlag=!1,y)this.emit(`-${n}`),this.skipEventFlag||this.emit("-",n),this.lastTagEnd=n;else{var S=PD(i[3],this.valueConverter);this.emit(`+${n}`,...S),this.skipEventFlag||this.emit("+",n,...S),this.lastTagStart=n}}}const Il="[^=]+";var wD=function(e,t,i){var n="color",y;t.on("start",function(){y=e.textStyle.color}).on(`+${n}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setColor(y),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(y)})},RD=function(e,t,i){var n="stroke",y;t.on("start",function(){y=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(y)})},AD=function(e,t,i){var n="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${n}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},LD=function(e,t,i){var n="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${n}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},OD=function(e,t,i){var n="size",y;t.on("start",function(){y=e.textStyle.fontSize}).on(`+${n}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setFontSize(y),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(y)})},FD=function(e,t,i){var n="y",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},DD=function(e,t,i){var n="x",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},ID=function(e,t,i){var n="left",y;t.on("start",function(){y=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},BD=function(e,t,i){var n="right",y;t.on("start",function(){y=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},bD=function(e,t,i){var n="shadow",y;t.on("start",function(){y=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(y)})},GD=function(e,t,i){var n="align";t.on(`+${n}`,function(y){e.textStyle.setAlign(y),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},ND=function(e,t,i){var n="img";t.on(`+${n}`,function(y){var S=e.imageManager.get(y);FP.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},zD=function(e,t,i){var n="space";t.on(`+${n}`,function(y){DP.call(e,y),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},kD=function(e,t,i){var n="speed";t.on(`+${n}`,function(y){Gy(e,y),t.skipEvent()}).on(`-${n}`,function(){Gy(e,void 0),t.skipEvent()})},VD=function(e){this.typeWriter.setTypingSpeed(e)},Gy=function(e,t){ft.call(e,"speed",VD,t,e)},UD=function(e,t,i){var n="se";t.on(`+${n}`,function(y,S){ft.call(e,n,WD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2";t.on(`+${n}`,function(y,S){ft.call(e,n,XD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},WD=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},XD=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},YD=function(e,t,i){var n="se.fadein";t.on(`+${n}`,function(y){ft.call(e,n,HD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadein";t.on(`+${n}`,function(y){ft.call(e,n,$D,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},HD=function(e){this.soundManager.fadeInSoundEffect(e)},$D=function(e){this.soundManager.fadeInSoundEffect2(e)},KD=function(e,t,i){var n="se.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",ft.call(e,n,ZD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",ft.call(e,n,JD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},ZD=function(e){this.soundManager.fadeOutSoundEffect(...e)},JD=function(e){this.soundManager.fadeOutSoundEffect2(...e)},QD=function(e,t,i){var n="se.volume";t.on(`+${n}`,function(y){ft.call(e,n,jD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.volume";t.on(`+${n}`,function(y){ft.call(e,n,qD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},jD=function(e){this.soundManager.setSoundEffectVolume(e,!0)},qD=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},_D=function(e,t,i){var n="se.mute";t.on(`+${n}`,function(){ft.call(e,n,t9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.mute";t.on(`+${n}`,function(){ft.call(e,n,e9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se.unmute";t.on(`+${n}`,function(){ft.call(e,n,i9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.unmute";t.on(`+${n}`,function(){ft.call(e,n,s9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},t9=function(){this.soundManager.setSoundEffectMute(!0)},e9=function(){this.soundManager.setSoundEffect2Mute(!0)},i9=function(){this.soundManager.setSoundEffectMute(!1)},s9=function(){this.soundManager.setSoundEffect2Mute(!1)},n9=function(e,t,i){var n="bgm";t.on(`+${n}`,function(y,S){ft.call(e,n,r9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){ft.call(e,"bgm.stop",a9,void 0,e),t.skipEvent()});var n="bgm2";t.on(`+${n}`,function(y,S){ft.call(e,n,o9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){ft.call(e,"bgm2.stop",h9,void 0,e),t.skipEvent()})},r9=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},a9=function(){this.soundManager.stopBackgroundMusic()},o9=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},h9=function(){this.soundManager.stopBackgroundMusic2()},l9=function(e,t,i){var n="bgm.fadein";t.on(`+${n}`,function(y){ft.call(e,n,u9,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadein";t.on(`+${n}`,function(y){ft.call(e,n,d9,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},u9=function(e){this.soundManager.fadeInBackgroundMusic(e)},d9=function(e){this.soundManager.fadeInBackgroundMusic2(e)},f9=function(e,t,i){var n="bgm.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",ft.call(e,n,c9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",ft.call(e,n,v9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},c9=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},v9=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},p9=function(e,t,i){var n="bgm.cross";t.on(`+${n}`,function(y,S){ft.call(e,n,g9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.cross";t.on(`+${n}`,function(y,S){ft.call(e,n,m9,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},g9=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},m9=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},x9=function(e,t,i){var n="bgm.pause";t.on(`+${n}`,function(){ft.call(e,n,y9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){ft.call(e,"bgm.resume",C9,void 0,e),t.skipEvent()});var n="bgm2.pause";t.on(`+${n}`,function(){ft.call(e,n,T9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){ft.call(e,"bgm2.resume",S9,void 0,e),t.skipEvent()})},y9=function(){this.soundManager.pauseBackgroundMusic()},C9=function(){this.soundManager.resumeBackgroundMusic()},T9=function(){this.soundManager.pauseBackgroundMusic2()},S9=function(){this.soundManager.resumeBackgroundMusic2()},E9=function(e,t,i){var n="bgm.volume";t.on(`+${n}`,function(y){ft.call(e,n,P9,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.volume";t.on(`+${n}`,function(y){ft.call(e,n,M9,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},P9=function(e){this.soundManager.setBackgroundMusicVolume(e)},M9=function(e){this.soundManager.setBackgroundMusicVolume2(e)},w9=function(e,t,i){var n="bgm.mute";t.on(`+${n}`,function(){ft.call(e,n,R9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.mute";t.on(`+${n}`,function(){ft.call(e,n,A9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm.unmute";t.on(`+${n}`,function(){ft.call(e,n,L9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.unmute";t.on(`+${n}`,function(){ft.call(e,n,O9,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},R9=function(){this.soundManager.setBackgroundMusicMute(!0)},A9=function(){this.soundManager.setBackgroundMusic2Mute(!0)},L9=function(){this.soundManager.setBackgroundMusicMute(!1)},O9=function(){this.soundManager.setBackgroundMusic2Mute(!1)},F9=function(e,t,i){var n="camera.fadein";t.on(`+${n}`,function(y,S,r,T){ft.call(e,n,D9,[y,S,r,T],e),t.skipEvent()})},D9=function(e){this.cameraTarget.fadeIn(...e)},I9=function(e,t,i){var n="camera.fadeout";t.on(`+${n}`,function(y,S,r,T){ft.call(e,n,B9,[y,S,r,T],e),t.skipEvent()})},B9=function(e){this.cameraTarget.fadeOut(...e)},b9=function(e,t,i){var n="camera.shake";t.on(`+${n}`,function(y,S){ft.call(e,n,G9,[y,S],e),t.skipEvent()})},G9=function(e){this.cameraTarget.shake(...e)},N9=function(e,t,i){var n="camera.flash";t.on(`+${n}`,function(y,S,r,T){ft.call(e,n,z9,[y,S,r,T],e),t.skipEvent()})},z9=function(e){this.cameraTarget.flash(...e)},k9=function(e,t,i){var n="camera.zoom";t.on(`+${n}`,function(y){ft.call(e,n,V9,y,e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r){ft.call(e,"camera.zoom.to",U9,[y,S,r],e),t.skipEvent()})},V9=function(e){this.cameraTarget.setZoom(e)},U9=function(e){this.cameraTarget.zoomTo(...e)};const Ny=Phaser.Math.DegToRad;var W9=function(e,t,i){var n="camera.rotate";t.on(`+${n}`,function(y){y=Ny(y),ft.call(e,n,X9,y,e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r){y=Ny(y),ft.call(e,"camera.rotate.to",Y9,[y,S,r],e),t.skipEvent()})},X9=function(e){this.cameraTarget.setRotation(e)},Y9=function(e){var t=e[0],i=e[1],n=e[2];this.cameraTarget.rotateTo(t,!1,i,n)},H9=function(e,t,i){var n="camera.scroll";t.on(`+${n}`,function(y,S){ft.call(e,n,$9,[y,S],e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r,T){ft.call(e,"camera.scroll.to",K9,[y,S,r,T],e),t.skipEvent()})},$9=function(e){this.cameraTarget.setScroll(...e)},K9=function(e){var t=e[0],i=e[1],n=e[2],y=e[3],S=this.cameraTarget,r=S.scrollX,T=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(r,T),S.pan(t,i,n,y)},Z9=function(e,t,i){var n="wait",y="click";t.on(`+${n}`,function(S){zy(e,S),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()}).on(`+${y}`,function(){zy(e,"click"),t.skipEvent()}).on(`-${y}`,function(){t.skipEvent()})},J9=function(e){this.typeWriter.wait(e)},zy=function(e,t){ft.call(e,"wait",J9,t,e)},Q9=function(e,t,i){var n="r";t.on(`+${n}`,function(){Bh.call(e,`
`),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},j9=function(e,t,i){for(var n=["pagebreak","pb"],y=0,S=n.length;y<S;y++){var r=n[y];t.on(`+${r}`,function(){Bh.call(e,"\f"),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})}},q9=function(e,t,i){var n="content.off";t.on(`+${n}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},_9=function(e,t,i){var n="content.on";t.on(`+${n}`,function(){t.setContentOutputEnable(),t.skipEvent()})},tI=function(e,t,i){t.on("content",function(n){if(t.contentOutputEnable)Bh.call(e,n);else{var y=`+${t.lastTagStart}`;e.emit(`parser.${y}#content`,t,n)}})},eI=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(n,...y){if(!t.skipEventFlag){var S=`+${n}`,r=y;e.emit(`parser.${S}`,t,...y,r),ky(e,S,r)}}).on("-",function(n){if(!t.skipEventFlag){var y=`-${n}`,S=[];e.emit(`parser.${y}`,t,S),ky(e,y,S)}}).on("complete",function(){e.emit("parser.complete",t)})},iI=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},ky=function(e,t,i){ft.call(e,t,iI,i,e)};const Vy=[wD,RD,AD,LD,OD,bD,GD,FD,DD,ID,BD,ND,zD,kD,UD,YD,KD,QD,_D,n9,l9,f9,p9,x9,E9,w9,F9,I9,b9,N9,k9,W9,H9,Z9,Q9,j9,q9,_9,tI,eI];var sI=function(e,t,i){for(var n=0,y=Vy.length;n<y;n++)Vy[n](e,t,i)},nI=function(e,t){for(var i=e.commentLineStart,n=t.split(`
`),y=0,S=n.length;y<S;y++){var r=n[y];r===""||(r.trim().length===0||i&&r.startsWith(i))&&(n[y]="")}return n.join("")};const rI=Phaser.Utils.Objects.GetValue;class aI extends MD{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),sI(t,this,i),this.setCommentLineStartSymbol(rI(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(nI(this,t)),this}}const oI={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},mr="page.fadeout",Np="_remove.play",Uy=[mr,Np];var hI=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(mr),this;var e=this.children.filter(function(n){return n.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(mr);else if(t.once)t.once("complete",function(){this.emit(mr)},this);else if(t.then){var i=this;t.then(function(){i.emit(mr)})}else this.emit(mr);return this},Ud=function(e,t){return new Promise(function(i,n){e.once(t,function(){i()})})},Oe=function(e){return Ud(e,"complete")},lI=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Oe(this)};const uI="delay",_P="anim";var t2=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var n=this.animationConfig;if(n.duration>0){var y=this.timeline.addTimer({name:_P,target:i,duration:n.duration,yoyo:n.yoyo,onStart:n.onStart,onProgress:n.onProgress,onComplete:n.onComplete});this.skipTypingAnimation&&y.seek(1)}else n.onStart&&n.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&pF(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:uI,target:this,duration:t,onComplete:function(r,T,s){r.typingTimer=void 0,t2.call(r,s.remainder)}});break}}}else gF(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},dI=function(){return this.timeline.pause(),this},fI=function(){return this.timeline.resume(),this},cI=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},vI=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},pI=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},gI=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},mI=function(e,t,i,n){var y=e.waitEventManager,S=t.split("."),r=S[0],T=e.getGameObjectManager(r),s=`wait.${r}`;switch(S.length){case 1:y.waitGameObjectManagerEmpty(r),e.emit(s);return;case 2:var d=S[1];y.waitGameObjectDestroy(r,d),e.emit(s,d);return;case 3:var d=S[1],x=S[2],f=T.getProperty(d,x);if(typeof f=="number"){y.waitGameObjectTweenComplete(r,d,x),e.emit(s,d,x);return}var l=x,h=l.startsWith("!");if(h&&(l=l.substring(1)),T.hasData(d,l)){y.waitGameObjectDataFlag(r,d,l,!h),e.emit(s,d,l);return}else{y.waitTime(0);return}}};const xI=Phaser.Input.Keyboard.KeyCodes;var e2=function(e,t,i,n){var y=e.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,r=t.length;S<r;S++){var T=t[S];if(T==null||T==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof T=="number"||!isNaN(T)){var d=parseFloat(T);y.waitTime(d),e.emit("wait.time",d)}else if(T==="click")y.waitClick(),e.emit("wait.click");else if(T==="se"){y.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(T==="se2"){y.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(T==="bgm"){y.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(T==="bgm2"){y.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(xI.hasOwnProperty(T.toUpperCase()))y.waitKeyDown(T),e.emit("wait.keydown",T);else if(pI(T))y.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(gI(e,T))mI(e,T);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,s)}}},yI=function(e){return this.ignoreWait?this:(this.pauseTyping(),e2(this.textPlayer,e,this.resumeTyping,this),this)},CI=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},TI=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},SI=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(_P),i=0,n=t.length;i<n;i++)t[i].seek(1);return this},EI=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},PI=function(){return this.typingTimer&&this.typingTimer.seek(1),this},i2={fadeOutPage:hI,start:lI,typing:t2,pause:dI,resume:fI,pauseTyping:cI,resumeTyping:vI,wait:yI,setIgnoreWait:CI,setSkipSpaceEnable:TI,setSkipTypingAnimation:SI,setSkipSoundEffect:EI,skipCurrentTypingDelay:PI};Object.assign(i2,oI);const Hr=Phaser.Utils.Objects.GetValue;class s2{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Hr(i,"onTypingStart",wI)),this.setDefaultTypingSpeed(Hr(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Hr(i,"skipSpace",!1)),this.setAnimationConfig(Hr(i,"animation",void 0)),this.setMinSizeEnable(Hr(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(Hr(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=MI),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var MI=function(e){e.setVisible&&e.setVisible()},wI=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];n.setVisible&&n.setVisible(!1)}};Object.assign(s2.prototype,qa,i2);class RI extends s0{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const AI={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var n2={};Object.assign(n2,AI);class r2 extends zd{constructor(t,i){i===void 0&&(i={}),i.BobClass=RI,super(t,i)}setCreateGameObjectCallback(t,i){return!t||t==="sprite"?t=LI:t==="image"&&(t=OI),super.setCreateGameObjectCallback(t,i),this}}var LI=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},OI=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};Object.assign(r2.prototype,n2);var Wy=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},FI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},DI=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T;if(Wy(r,n))T=r[1];else return;ft.call(e,`${n}.play`,II,[n,T,S],e),t.skipEvent()}}).on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(FI(S,n))r=S[1];else return;ft.call(e,`${n}.stop`,Xy,[n,r],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(Wy(S,n))r=S[1];else return;ft.call(e,`${n}.stop`,Xy,[n,r],e),t.skipEvent()}})},II=function(e){var t,i,n;[t,i,n]=e;var y=n.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,y),n.length>0&&S.chainAnimation(i,n)},Xy=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.stopAnimation(...i)},BI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},bI=function(e,t,i){var n=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(BI(S,n))r=S[1];else return;ft.call(e,`${n}.pause`,GI,[n,r],e),t.skipEvent()}})},GI=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.pauseAnimation(...i)},NI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},zI=function(e,t,i){var n=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(NI(S,n))r=S[1];else return;var T=Array.prototype.slice.call(arguments,1);ft.call(e,`${n}.chain`,kI,[n,r,T],e),t.skipEvent()}})},kI=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.chainAnimation(...i)};const VI=[DI,bI,zI];var UI=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=VI,this.addGameObjectManager(e,r2)},Yy=function(e,t){return e.length===2&&e[0]===t},WI=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T;if(Yy(r,n))T=r[1];else return;ft.call(e,`${n}.add`,XI,[n,T,...S],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(Yy(S,n))r=S[1];else return;ft.call(e,`${n}.remove`,YI,[n,r],e),t.skipEvent()}})},XI=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.add(...i)},YI=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.remove(...i)},HI=function(e,t,i){var n=i.name;t.on("-",function(y){t.skipEventFlag||y===n&&(ft.call(e,`${n}.removeall`,$I,n,e),t.skipEvent())})},$I=function(e){var t=this.getGameObjectManager(e);t.removeAll()},KI=function(e,t){return e.length===3&&e[0]===t},ZI=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T,s;if(KI(r,n))T=r[1],s=r[2];else return;ft.call(e,`${n}.call`,JI,[n,T,s,...S],e),t.skipEvent()}})},JI=function(e){var t,i,n,y;[t,i,n,...y]=e;var S=`${t}.${n}`;if(this.emit(S,i,...y),!(this.listenerCount(S)>0)){var r=this.getGameObjectManager(t);r.hasMethod(i,n)?r.call(i,n,...y):r.setProperty(i,n,y[0])}},QI={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},jI=function(e,t){return e.length===4&&e[0]===t&&QI[e[3]]},qI=function(e,t,i){var n=i.name;e.getGameObjectManager(n),t.on("+",function(y,S,r,T,s){if(!t.skipEventFlag){var d=y.split("."),x,f,l;if(jI(d,n))x=d[1],f=d[2],l=d[3];else return;typeof T=="number"&&(s=T,T=void 0),ft.call(e,`${n}.ease`,_I,[n,x,f,S,r,T,s,l],e),t.skipEvent()}})},_I=function(e){var t,i,n,y,S,r,T,s;[t,i,n,y,S,r,T,s]=e;var d=this.getGameObjectManager(t),x=d.getProperty(i,n);if(typeof x=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?y=x-y:s.startsWith("from")&&(d.setProperty(i,n,x-y),y=x):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?y=x+y:s.startsWith("from")&&(d.setProperty(i,n,x+y),y=x):s==="from"&&(d.setProperty(i,n,y),y=x);var f=s.startsWith("yoyo");d.easeProperty(i,n,y,S,r,T,f)}};const Hy=[WI,HI,ZI,qI],tB=jP.addGameObjectManager,eB={addGameObjectManager(e,t){e===void 0&&(e={});var i=e.name;i||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),tB.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...Hy]:n=Hy;for(var y=0,S=n.length;y<S;y++)n[y](this,this.parser,e);return this}};var iB=function(e){return this.waitEventManager.setClickTarget(e),this},sB=function(e){return this.waitEventManager.setCameraTarget(e),this},nB=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,n){var y=t.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n);var S=y.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,n){e2(t,e,i,n)}:this.nextPageInput=null},rB=function(e,t){return this.imageManager.add(e,t),this};const aB={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Oe(this);return this.play(e),t}};var zp=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(mr,oB,this).fadeOutPage(),this)},oB=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(Np),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?zp.call(this):this.nextPageInput&&this.nextPageInput(zp,this))};this.once(Np,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const hB={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},lB={resume(){return this.timeline.resume(),this},resumeTyping(e){return this.typeWriter.resumeTyping(e),this}};var uB=function(e){return this.typeWriter.wait(e),this};const dB={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var fB=function(e){return this.typeWriter.setIgnoreWait(e),this},cB=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},vB=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,n=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(n)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const pB={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},gB={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var a2={setClickTarget:iB,setCameraTarget:sB,setNextPageInput:nB,addImage:rB,typingNextPage:zp,wait:uB,setIgnoreWait:fB,setIgnoreNextPageInput:cB,showPage:vB};Object.assign(a2,eB,aB,hB,lB,dB,pB,gB);var mB=function(e){for(var t=0,i=Uy.length;t<i;t++)e.emit(Uy[t])};const $y=Phaser.Utils.Objects.IsPlainObject,$r=Phaser.Utils.Objects.GetValue;class h0 extends CD(ja){constructor(t,i,n,y,S,r){$y(i)?r=i:$y(y)&&(r=y),r===void 0&&(r={});var T=r.text;delete r.text,super(t,i,n,y,S,r),this.type="rexTextPlayer",this.initManagers(t,r),this.parser=new aI(this,$r(r,"parser",void 0)),this.typeWriter=new s2(this,$r(r,"typing",void 0)),this._imageManager=void 0;var s=$r(r,"images",void 0);s&&this.addImage(s);var d=$r(r,"sprites");d!==!1&&d!==null&&UI.call(this,d),this.setIgnoreNextPageInput($r(r,"ignoreNextPageInput",!1)),this.setNextPageInput($r(r,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new jg(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(mB(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(h0.prototype,a2);st.register("textPlayer",function(e,t,i,n,y){var S=new h0(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TextPlayer",h0);const o2={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},h2={direction:["direction",void 0]};var Tn=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var n=i;if(Array.isArray(n))for(var y=0,S=n.length;y<S;y++)Tn(e,t,n[y]);else for(var i in n)Tn(e,t,i)}},xB=function(e){e===void 0&&(e={});var t={};return Tn(e,t,"inputType"),Tn(e,t,"type"),Tn(e,t,"style"),Tn(e,t,h2),Tn(e,t,o2),t},l0=function(e,t,i,n){if(t)return!(i&&!i(e,t)||!Ky(e,t)||n&&!n(e,t));for(var y=e.scene.input.manager,S=y.pointersTotal,r=y.pointers,t,T=0;T<S;T++)if(t=r[T],!(i&&!i(e,t))&&Ky(e,t)&&!(n&&!n(e,t)))return!0;return!1},Ky=function(e,t){for(var i=e.scene,n=i.input.cameras.getCamerasBelowPointer(t),y=i.input.manager,S=[e],r=0,T=n.length;r<T;r++)if(y.hitTest(t,S,n[r],Bl),Bl.length>0)return Bl.length=0,!0;return Bl.length=0,!1},Bl=[],wa=void 0,yB=function(e){e!==wa&&(wa!==void 0&&wa.close(),wa=e)},CB=function(e){e===wa&&(wa=void 0)};const TB=Phaser.Utils.Objects.GetValue;var ad=function(e,t,i){i===void 0&&(i={});var n,y;for(var S in e)n=e[S],y=TB(t,S,n[1]),y!==void 0&&(i[n[0]]=y);return i},l2=function(e){e.addEventListener("touchstart",Kr,!1),e.addEventListener("touchmove",Kr,!1),e.addEventListener("touchend",Kr,!1),e.addEventListener("mousedown",Kr,!1),e.addEventListener("mouseup",Kr,!1),e.addEventListener("mousemove",Kr,!1)},Kr=function(e){e.stopPropagation()},SB=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},EB=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",SB,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},PB=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},MB=function(){this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),PB(this.node),this.node=void 0,this.emit("close",this)};const gc=Phaser.Utils.Objects.GetValue;var wB=function(e,t){var i,n=gc(t,"inputType",void 0);n===void 0&&(n=gc(t,"type","text")),n==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=n);var y=gc(t,"style",void 0),S=i.style;ad(h2,y,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",ad(o2,t,i),l2(i);var r=e.scene.sys.scale,T=r.isFullscreen?r.fullscreenTarget:document.body;return T.appendChild(i),i.addEventListener("focus",function(s){EB.call(e)}),i.addEventListener("blur",function(s){MB.call(e)}),i},RB=function(){return this.isOpened?this:this.readOnly?this:(yB(this),this.node||(this.node=wB(this,this.nodeConfig)),this.setFocus(),this)},AB=function(){return this.isOpened?(CB(this),this.setBlur(),this):this},LB={open:RB,close:AB};const hn=Phaser.Utils.Objects.GetValue;class u0 extends ae{constructor(t,i){super(t);var n=hn(i,"inputType",void 0);n===void 0&&(n=hn(i,"type","text")),this.setEnterCloseEnable(hn(i,"enterClose",n!=="textarea"));var y=hn(i,"onOpen",void 0);y||(y=hn(i,"onFocus",void 0)),this.onOpenCallback=y;var S=hn(i,"onClose",void 0);S||(S=hn(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=hn(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=xB(i),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){l0(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(u0.prototype,LB);var u2=function(e,t,i){e=e.replace(" ","");var n=i.previousText;if(e===n)return e;if(isNaN(e)){i.emit("nan",e,i),e=n;var y=i.cursorPosition-1;i.setText(e),i.setCursorPosition(y)}else i.previousText=e;return e},OB=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,n=e.isOpened?e.selectionEnd:null,y=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(y===i&&S===n)){var r,T;y===null?(r=i,T=n):i===null?(r=y,T=S):(r=Math.min(y,i),T=Math.max(S,n));for(var s=r;s<T;s++){var d;y===null?d=!1:d=s>=y&&s<S;var x;if(i===null?x=!1:x=s>=i&&s<n,d!==x){var f=t.getCharChild(s);if(f){var l=d?"cursorout":"cursorin";t.emit(l,f,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=n}},FB=function(e){var t=e.parent,i=0,n=t.width,y=0,S=t.height,r=e.drawX,T=e.drawY,s=r+e.drawTLX,d=r+e.drawTRX,x=T+e.drawTLY,f=T+e.drawBLY,l;s<i?l=i-s:d>n?l=n-d:l=0;var h;x<y?h=y-x:f>S?h=S-f:h=0,t._textOX+=l,t._textOY+=h},DB=function(e){var t=e.parent,i=t.text,n=e.cursorPosition;if(e.prevCursorPosition!==n){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var y=t.getCharChild(e.prevCursorPosition);y&&(y.text===`
`&&y.clearTextSize(),t.emit("cursorout",y,e.prevCursorPosition,t))}if(n!=null){var y=t.getCharChild(n);y&&(y.text===`
`&&y.copyTextSize(t.lastInsertCursor),FB(y),t.emit("cursorin",y,n,t))}t.emit("movecursor",n,e.prevCursorPosition,t),e.prevCursorPosition=n}},Zy=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,n=e.parent,y=t;y<i;y++){var S=n.getCharChild(y);S&&n.emit("cursorout",S,y,n)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},Jy=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,n=i.getCharChild(t);n&&i.emit("cursorout",n,t,i),e.prevCursorPosition=null}};const IB=Phaser.Utils.Objects.GetValue;let BB=class extends u0{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(IB(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(n,y,S,r){var T=t.getNearestChild(y,S),s=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(s),this.cursorMoveStartIndex=s,this.firstClickAfterOpen=!1},this).on("pointermove",function(n,y,S,r){if(n.isDown){var T=t.getNearestChild(y,S),s=t.getCharIndex(T);this.cursorMoveStartIndex<s?this.selectText(this.cursorMoveStartIndex,s+1):this.selectText(s,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(Jy(this),OB(this)):(Zy(this),DB(this)):(Zy(this),Jy(this)),this}setNumberInput(){return this.onUpdateCallback=u2,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}};const bB=Phaser.Utils.Objects.GetValue,GB=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var NB=function(e,t){var i=bB(t,"edit");return i===void 0&&(i={}),Tn(t,i,GB),new BB(e,i)},Ss=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),n=e,y=0;y<i.length;y++)if(n.hasOwnProperty(i[y]))n=n[i[y]];else return!1;return!0}else return!1},zB=function(e){var t=!e.textArea;if(!Ss(e,"wrap.vAlign")){var i=t?"center":"top";et(e,"wrap.vAlign",i)}if(Ss(e,"wrap.charWrap")||et(e,"wrap.charWrap",!0),!Ss(e,"wrap.maxLines")){var i=t?1:void 0;et(e,"wrap.maxLines",i)}if(t&&et(e,"wrap.wrapWidth",1/0),Ss(e,"wrap.useDefaultTextHeight")||et(e,"wrap.useDefaultTextHeight",!0),e.edit||(e.edit={}),!Ss(e.edit,"inputType")){var i=t?"text":"textarea";et(e.edit,"inputType",i)}return e},kp=function(e,t,i,n){if(i===void 0&&(i="."),n===void 0&&(n={}),!e)return n;if(t in e)return Object.assign(n,e[t]);t+=i;for(var y in e)y.startsWith(t)&&(n[y.replace(t,"")]=e[y]);return n},d0=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var n,y=0,S=t.length;y<S;y++)n=t[y],i[n]=e[n];else for(var n in t)i[n]=e[n];return i},Wd=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},kB=function(e){n0(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,n=d0(t.style,i);Wd(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},VB=function(e){n0(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,n=d0(t,i);Wd(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},UB=function(e){var t=e.createCharChild("|");return t.text="",t};function qs(){}qs.prototype={diff(e,t,i={}){let n=i.callback;typeof i=="function"&&(n=i,i={}),this.options=i;let y=this;function S(h){return n?(setTimeout(function(){n(void 0,h)},0),!0):h}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let r=t.length,T=e.length,s=1,d=r+T;i.maxEditLength&&(d=Math.min(d,i.maxEditLength));let x=[{newPos:-1,components:[]}],f=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=r&&f+1>=T)return S([{value:this.join(t),count:t.length}]);function l(){for(let h=-1*s;h<=s;h+=2){let a,u=x[h-1],v=x[h+1],o=(v?v.newPos:0)-h;u&&(x[h-1]=void 0);let c=u&&u.newPos+1<r,p=v&&0<=o&&o<T;if(!c&&!p){x[h]=void 0;continue}if(!c||p&&u.newPos<v.newPos?(a=XB(v),y.pushComponent(a.components,void 0,!0)):(a=u,a.newPos++,y.pushComponent(a.components,!0,void 0)),o=y.extractCommon(a,t,e,h),a.newPos+1>=r&&o+1>=T)return S(WB(y,a.components,t,e,y.useLongestToken));x[h]=a}s++}if(n)(function h(){setTimeout(function(){if(s>d)return n();l()||h()},0)})();else for(;s<=d;){let h=l();if(h)return h}},pushComponent(e,t,i){let n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,n){let y=t.length,S=i.length,r=e.newPos,T=r-n,s=0;for(;r+1<y&&T+1<S&&this.equals(t[r+1],i[T+1]);)r++,T++,s++;return s&&e.components.push({count:s}),e.newPos=r,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function WB(e,t,i,n,y){let S=0,r=t.length,T=0,s=0;for(;S<r;S++){let x=t[S];if(x.removed){if(x.value=e.join(n.slice(s,s+x.count)),s+=x.count,S&&t[S-1].added){let f=t[S-1];t[S-1]=t[S],t[S]=f}}else{if(!x.added&&y){let f=i.slice(T,T+x.count);f=f.map(function(l,h){let a=n[s+h];return a.length>l.length?a:l}),x.value=e.join(f)}else x.value=e.join(i.slice(T,T+x.count));T+=x.count,x.added||(s+=x.count)}}let d=t[r-1];return r>1&&typeof d.value=="string"&&(d.added||d.removed)&&e.equals("",d.value)&&(t[r-2].value+=d.value,t.pop()),t}function XB(e){return{newPos:e.newPos,components:e.components.slice(0)}}const YB=new qs;function HB(e,t,i){return YB.diff(e,t,i)}const Qy=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,jy=/\S/,d2=new qs;d2.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!jy.test(e)&&!jy.test(t)};d2.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&Qy.test(t[i])&&Qy.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const f2=new qs;f2.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let y=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=y:(this.options.ignoreWhitespace&&(y=y.trim()),t.push(y))}return t};const $B=new qs;$B.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const KB=new qs;KB.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const ZB=Object.prototype.toString,Sh=new qs;Sh.useLongestToken=!0;Sh.tokenize=f2.tokenize;Sh.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(n,y)=>typeof y>"u"?t:y}=this.options;return typeof e=="string"?e:JSON.stringify(Vp(e,null,null,i),i,"  ")};Sh.equals=function(e,t){return qs.prototype.equals.call(Sh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Vp(e,t,i,n,y){t=t||[],i=i||[],n&&(e=n(y,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let r;if(ZB.call(e)==="[object Array]"){for(t.push(e),r=new Array(e.length),i.push(r),S=0;S<e.length;S+=1)r[S]=Vp(e[S],t,i,n,y);return t.pop(),i.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),r={},i.push(r);let T=[],s;for(s in e)e.hasOwnProperty(s)&&T.push(s);for(T.sort(),S=0;S<T.length;S+=1)s=T[S],r[s]=Vp(e[s],t,i,n,s);t.pop(),i.pop()}else r=e;return r}const Up=new qs;Up.tokenize=function(e){return e.slice()};Up.join=Up.removeEmpty=function(e){return e};const JB=Phaser.Utils.Array.Remove;var QB=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),JB(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var n=HB(i,t),y=0,S=0,r=n.length;S<r;S++){var T=n[S];T.removed?e.removeText(y,T.count):(T.added&&e.insertText(y,T.value),y+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.emit("textchange",t,e)}};const jB={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},qy=Phaser.Utils.Objects.IsPlainObject;class bh extends ja{constructor(t,i,n,y,S,r){qy(i)?r=i:qy(y)&&(r=y),r===void 0&&(r={}),zB(r);var T=r.text;T&&delete r.text;var s=kp(r.background,"focus"),d=kp(r.style,"cursor");super(t,i,n,y,S,r),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this._text,this.textEdit=NB(this,r),r.focusStyle&&Object.assign(s,r.focusStyle),VB.call(this,s),r.cursorStyle&&Object.assign(d,r.cursorStyle),kB.call(this,d);var x=r.onAddChar;x&&this.on("addchar",x);var f=r.onCursorOut;f&&this.on("cursorout",f);var l=r.onCursorIn;l&&this.on("cursorin",l);var h=r.onMoveCursor;h&&this.on("movecursor",h),this.setParseTextCallback(r.parseTextCallback),this.lastInsertCursor=UB(this),T||(T=""),this.setText(T)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var n=t,y=0,S=n.length;y<S;y++){var t=n[y];Ya(t)&&this.emit("addchar",t,i+y,this)}else Ya(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(QB(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);return this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=qB),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var qB=function(e){return e};Object.assign(bh.prototype,jB);st.register("canvasInput",function(e,t,i,n,y){var S=new bh(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CanvasInput",bh);var f0=function(e){return Lr(e).loop.delta};const _y=Phaser.Utils.Objects.GetValue,_B=Phaser.Math.Wrap;class c2 extends u0{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=u2),super(t,i),this.setCursor(_y(i,"cursor","|")),this.setCursorFlashDuration(_y(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}if(this.isOpened&&this.hasCursor){var y=this.cursorPosition;i=i.substring(0,y)+this.cursor+i.substring(y),this.prevCursorPosition!==y&&(this.prevCursorPosition=y)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+f0(this.scene);return this.cursorFlashTimer=_B(i,0,this.cursorFlashDuration),t}}st.register("hiddenEdit",function(e,t){var i=new c2(e,t);return i});et(window,"RexPlugins.UI.HiddenEdit",c2);const tb=Phaser.GameObjects.GetCalcMatrix;var eb=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=tb(t,i,n),r=y.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,s=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,f,l=0,h=x.length;l<h;l++)f=x[l],f.visible&&f.webglRender(y,r,d,T,s);e.pipelines.postBatch(t)};const ib=Phaser.Renderer.Canvas.SetTransform;var sb=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var y=e.currentContext;if(ib(e,y,t,i,n)){for(var S=t._displayOriginX,r=t._displayOriginY,T=t.geom,s,d=0,x=T.length;d<x;d++)s=T[d],s.visible&&s.canvasRender(y,S,r);y.restore()}};const nb={renderWebGL:eb,renderCanvas:sb},rb=Phaser.GameObjects.Shape,ab=Phaser.Utils.Array.Remove;class Br extends rb{constructor(t,i,n,y,S){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=y),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,n),this.setSize(y,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==n,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=n,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,n=t.length;i<n;i++){var y=t[i];y.dirty&&y.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Ws(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],ab(this.geom,i)),this}}Object.assign(Br.prototype,nb);const ob={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},hb={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var lb=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},ub=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const db={fillStyle:lb,lineStyle:ub};class Xd{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,n,y,S){}canvasRender(t,i,n){}updateData(){this.dirty=!1}}Object.assign(Xd.prototype,db,Id);const fb=Phaser.Geom.Polygon.Earcut;class Gh extends Xd{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=fb(this.pathData),super.updateData(),this}webglRender(t,i,n,y,S){this.isFilled&&lP(t,i,this,n,y,S),this.isStroked&&Bd(t,this,n,y,S)}canvasRender(t,i,n){var y=this.pathData,S=y.length-1,r=y[0]-i,T=y[1]-n;t.beginPath(),t.moveTo(r,T),this.closePath||(S-=2);for(var s=2;s<S;s+=2){var d=y[s]-i,x=y[s+1]-n;t.lineTo(d,x)}this.closePath&&t.closePath(),this.isFilled&&(Dh(t,this),t.fill()),this.isStroked&&(Ih(t,this),t.stroke())}}const t1=Phaser.Math.DegToRad;class c0 extends Gh{constructor(t,i,n,y,S,r,T,s){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=360),T===void 0&&(T=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(n,y),this.setAngle(S,r,T),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,n){return n===void 0&&(n=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=n,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),Te(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,n){t.beginPath();var y=this.x-i,S=this.y-n,r=t1(this.startAngle),T=t1(this.endAngle);this.pie&&(t.moveTo(y,S),t.lineTo(y+Math.cos(r)*this.radiusX,S+Math.sin(r)*this.radiusY)),t.ellipse(y,S,this.radiusX,this.radiusY,0,r,T,this.anticlockwise),this.pie&&t.lineTo(y,S),this.isFilled&&(Dh(t,this),t.fill()),this.isStroked&&(Ih(t,this),t.stroke())}}class v2 extends c0{constructor(t,i,n){super(t,i,n,n,0,360)}}class cb extends Gh{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,n=t.length;i<n;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class vb extends c0{constructor(t,i,n,y){super(t,i,n,y,0,360)}}class pb extends Gh{constructor(t,i,n,y){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),super(),this.setP0(t,i),this.setP1(n,y)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var gb=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const e1=Phaser.Math.Interpolation.QuadraticBezier;var mb=function(e,t,i,n,y,S){for(var r=S.length,T=S[r-2],s=S[r-1],d=1,x=y-1;d<=x;d++){var f=d/x;S.push(e1(f,T,e,i),e1(f,s,t,n))}return S};const i1=Phaser.Math.Interpolation.CubicBezier;var xb=function(e,t,i,n,y,S,r,T){for(var s=T.length,d=T[s-2],x=T[s-1],f=1,l=r-1;f<=l;f++){var h=f/l;T.push(i1(h,d,e,i,y),i1(h,x,t,n,S))}return T},p2=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],n=e[t-1];return e.push(i),e.push(n),e};const yb={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,gb(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Ps(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,n,y,S,r){return r===void 0&&(r=!1),Te(e,t,i,n,y,S,r,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,n,y,S){return this.ellipticalArc(e,t,i,i,n,y,S),this},quadraticBezierTo(e,t,i,n){return mb(e,t,i,n,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=n,this.lastCX=e,this.lastCY=t,this},smoothQuadraticBezierTo(e,t){var i=this.lastPointX*2-this.lastCX,n=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(i,n,e,t),this},cubicBezierCurveTo(e,t,i,n,y,S){return xb(e,t,i,n,y,S,this.iterations,this.pathData),this.lastPointX=y,this.lastPointY=S,this.lastCX=i,this.lastCY=n,this},smoothCubicBezierCurveTo(e,t,i,n){var y=this.lastPointX*2-this.lastCX,S=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(y,S,e,t,i,n),this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return p2(this.pathData),this}},Cb=Phaser.Math.RotateAround;var Tb=function(e,t,i,n){for(var y={x:0,y:0},S=0,r=n.length-1;S<r;S+=2)y.x=n[S],y.y=n[S+1],Cb(y,e,t,i),n[S]=y.x,n[S+1]=y.y;return n},Sb=function(e,t,i,n,y){for(var S=0,r=y.length-1;S<r;S+=2){var T=y[S]-e,s=y[S+1]-t;T*=i,s*=n,y[S]=T+e,y[S+1]=s+t}return y},g2=function(e,t,i){for(var n=0,y=i.length-1;n<y;n+=2)i[n]+=e,i[n+1]+=t;return i};const Eb=Phaser.Math.DegToRad,Pb=Phaser.Math.RotateAround,Mb={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Eb(i),Tb(e,t,i,this.pathData);var n=this.pathData.length;if(this.lastPointX=this.pathData[n-2],this.lastPointY=this.pathData[n-1],this.lastCX!==void 0){var y={x:this.lastCX,y:this.lastCY};Pb(y,e,t,i),this.lastCX=y.x,this.lastCY=y.y}return this},scale(e,t,i,n){if(this.pathData.length===0)return this;if(Sb(e,t,i,n,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var y=this.lastCX-e,S=this.lastCY-t;y*=i,S*=n,this.lastCX=y+e,this.lastCY=S+t}return this},offset(e,t){return g2(e,t,this.pathData),this}};var od=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=t.length),e.length=n-i;for(var y=0,S=e.length;y<S;y++)e[y]=t[y+i];return e};const wb={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(od(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},Rb=Phaser.Math.Distance.Between,Ab=Phaser.Math.Wrap,Lb=Phaser.Math.Linear;var s1=function(e,t,i,n,y){if(n===void 0&&(n=i,i=0),i=n1(i),n=n1(n),i!==n){var S=t[t.length-1],r=S*i,T=S*n;i<n?mc(e,t,r,T,y):(mc(e,t,r,S,y),mc(e,t,0,T,y)),p2(y)}},mc=function(e,t,i,n,y){for(var S=i>0,r=0,T=t.length;r<T;r++){var s=r*2,d=t[r];if(S){if(d<i)continue;if(d==i)S=!1;else{var x=d-t[r-1],f=1-(d-i)/x;y.push(bl(e,s-2,s,f)),y.push(bl(e,s-1,s+1,f)),S=!1}}if(d<=n){if(y.push(e[s]),y.push(e[s+1]),d===n)break}else{var x=d-t[r-1],f=1-(d-n)/x;y.push(bl(e,s-2,s,f)),y.push(bl(e,s-1,s+1,f));break}}},bl=function(e,t,i,n){var y=e[t],S=e[i];return Lb(y,S,n)},n1=function(e){return e===0?0:e%1===0?1:Ab(e,0,1)};const Ob={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,n,y,S,r,T=0,s=0,d=t.length;s<d;s+=2)y=t[s],S=t[s+1],r=i===void 0?0:Rb(i,n,y,S),T+=r,e.push(T),i=y,n=S;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,s1(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),s1(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Fb={draw(e,t,i){var n=this.toPoints();return t&&e.fillPoints(n,this.closePath,this.closePath),i&&e.strokePoints(n,this.closePath,this.closePath),this}};var Db=function(e,t){t===void 0&&(t=[]);for(var i=0,n=e.length-1;i<n;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Ib=Phaser.Geom.Polygon;var Bb=function(e,t){return t===void 0&&(t=new Ib),t.setTo(e),t};class m2{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Db(this.pathData)}toPolygon(t){return Bb(this.pathData,t)}}Object.assign(m2.prototype,yb,Mb,wb,Ob,Fb);class Gn extends Gh{constructor(){super(),this.builder=new m2(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,n){return this.builder.lineTo(t,i,n),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,n,y,S,r,T){return this.builder.ellipticalArc(t,i,n,y,S,r,T),this.dirty=!0,this}arc(t,i,n,y,S,r){return this.builder.arc(t,i,n,y,S,r),this.dirty=!0,this}quadraticBezierTo(t,i,n,y){return this.builder.quadraticBezierTo(t,i,n,y),this.dirty=!0,this}smoothQuadraticBezierTo(t,i){return this.builder.smoothQuadraticBezierTo(t,i),this.dirty=!0,this}cubicBezierCurveTo(t,i,n,y,S,r){return this.builder.cubicBezierCurveTo(t,i,n,y,S,r),this.dirty=!0,this}smoothCubicBezierCurveTo(t,i,n,y){return this.builder.smoothCubicBezierCurveTo(t,i,n,y),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,n){return this.builder.rotateAround(t,i,n),this.dirty=!0,this}scale(t,i,n,y){return this.builder.scale(t,i,n,y),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,n){return this.builder.appendFromPathSegment(t.builder,i,n),this}copyPathFrom(t,i,n){return this.builder.clear().appendFromPathSegment(t.builder,i,n),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const bb=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Gb=class extends Xd{constructor(t,i,n,y){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=n),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(n,y)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,n=this.y,y=n+this.height;return this.pathData.push(t,n),this.pathData.push(i,n),this.pathData.push(i,y),this.pathData.push(t,y),this.pathData.push(t,n),super.updateData(),this}webglRender(t,i,n,y,S){if(this.isFilled){var r=t.fillTint,T=bb(this.fillColor,this.fillAlpha*n);r.TL=T,r.TR=T,r.BL=T,r.BR=T,t.batchFillRect(-y+this.x,-S+this.y,this.width,this.height)}this.isStroked&&Bd(t,this,n,y,S)}canvasRender(t,i,n){this.isFilled&&(Dh(t,this),t.fillRect(-i,-n,this.width,this.height)),this.isStroked&&(Ih(t,this),t.beginPath(),t.rect(-i,-n,this.width,this.height),t.stroke())}};const Gl=Phaser.Utils.Objects.GetValue;class hd extends Gh{constructor(t,i,n,y,S,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=n),S===void 0&&(S=0),r===void 0&&(r=6),super(),this.setTopLeftPosition(t,i),this.setSize(n,y),this.setRadius(S),this.setIterations(r),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Gl(t,"tl",0),this.radiusTR=Gl(t,"tr",0),this.radiusBL=Gl(t,"bl",0),this.radiusBR=Gl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,n=this.height,y,S=this.iterations+1;if(y=this.radiusTL,y>0)if(this._convexTL){var r=y,T=y;Te(r,T,y,y,180,270,!1,S,t)}else{var r=0,T=0;Te(r,T,y,y,90,0,!0,S,t)}else Ps(0,0,t);if(y=this.radiusTR,y>0)if(this._convexTR){var r=i-y,T=y;Te(r,T,y,y,270,360,!1,S,t)}else{var r=i,T=0;Te(r,T,y,y,180,90,!0,S,t)}else Ps(i,0,t);if(y=this.radiusBR,y>0)if(this._convexBR){var r=i-y,T=n-y;Te(r,T,y,y,0,90,!1,S,t)}else{var r=i,T=n;Te(r,T,y,y,270,180,!0,S,t)}else Ps(i,n,t);if(y=this.radiusBL,y>0)if(this._convexBL){var r=y,T=n-y;Te(r,T,y,y,90,180,!1,S,t)}else{var r=0,T=n;Te(r,T,y,y,360,270,!0,S,t)}else Ps(0,n,t);return t.push(t[0],t[1]),g2(this.x,this.y,t),super.updateData(),this}}const Nb=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let zb=class extends Xd{constructor(t,i,n,y,S,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(n,y),this.setP2(S,r)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,n,y,S){if(this.isFilled){var r=Nb(this.fillColor,this.fillAlpha*n),T=this.x0-y,s=this.y0-S,d=this.x1-y,x=this.y1-S,f=this.x2-y,l=this.y2-S,h=i.getX(T,s),a=i.getY(T,s),u=i.getX(d,x),v=i.getY(d,x),o=i.getX(f,l),c=i.getY(f,l);t.batchTri(h,a,u,v,o,c,r,r,r)}this.isStroked&&Bd(t,this,n,y,S)}canvasRender(t,i,n){var y=this.x1-i,S=this.y1-n,r=this.x2-i,T=this.y2-n,s=this.x3-i,d=this.y3-n;t.beginPath(),t.moveTo(y,S),t.lineTo(r,T),t.lineTo(s,d),t.closePath(),this.isFilled&&(Dh(t,this),t.fill()),this.isStroked&&(Ih(t,this),t.stroke())}};const kb={buildShapes(){this.addShape(new hd().setName("box")).addShape(new Gn().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),n=i*2,y=e-i,S=t-i,r=this.boxLineWidth,T=Math.max(n/10,2),s=this.getShape("box"),d=this.getShape("checker");if(this.isSizeChanged){var l=n*(1-this.boxSize)/2,x=r/2,f=n*this.boxSize-r;s.setTopLeftPosition(y+x+l,S+x+l).setSize(f,f),this.isCircleShape?s.setRadius(f/2):s.setRadius(0);var l=n*(1-this.checkerSize)/2,h=n*this.checkerSize/4,a=h*1,u=h*2,v=h*3;d.startAt(a,u).lineTo(u,v).lineTo(v,a).offset(y+l,S+l).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(r,this.boxStrokeColor,this.boxStrokeAlpha),d.lineStyle(T,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(r,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),d.lineStyle()),this.checked&&d.setDisplayPathSegment(this.checkerAnimProgress)}},ln=Phaser.Utils.Objects.GetValue,Vb=Phaser.Math.Linear;class Jn extends Ir{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=ln(t,"key","value");var n=i[this.propertyKey];return this.fromValue=ln(t,"from",n),this.toValue=ln(t,"to",n),this.setEase(ln(t,"ease",this.ease)),this.setDuration(ln(t,"duration",this.duration)),this.setRepeat(ln(t,"repeat",0)),this.setDelay(ln(t,"delay",0)),this.setRepeatDelay(ln(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,i){var n=i.t;n=this.easeFn(n),t[this.propertyKey]=Vb(this.fromValue,this.toValue,n)}}const Ub={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Jn(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var x2={};Object.assign(x2,ob,hb,kb,Ub);const Jt=Phaser.Utils.Objects.GetValue,r1=Phaser.Utils.Objects.IsPlainObject,xc=23730,Wb=16777215;class y2 extends Br{constructor(t,i,n,y,S,r,T){r1(i)?(T=i,i=Jt(T,"x",0),n=Jt(T,"y",0),y=Jt(T,"width",2),S=Jt(T,"height",2),r=Jt(T,"color",xc)):r1(r)&&(T=r,r=Jt(T,"color",xc)),super(t,i,n,y,S),this.type="rexCheckbox",r===void 0&&(r=xc),this.setBoxShape(Jt(T,"circleBox",!1)),this.setBoxFillStyle(r,Jt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Jt(T,"uncheckedColor",null),Jt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Jt(T,"boxLineWidth",4),Jt(T,"boxStrokeColor",r),Jt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Jt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Jt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Jt(T,"checkerColor",Wb),Jt(T,"checkerAlpha",1)),this.setBoxSize(Jt(T,"boxSize",1)),this.setCheckerSize(Jt(T,"checkerSize",1)),this.setCheckerAnimationDuration(Jt(T,"animationDuration",150)),this.buildShapes();var s=Jt(T,"checked");s===void 0&&(s=Jt(T,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(y2.prototype,x2);const Po=Phaser.Utils.Objects.GetValue;class _s extends ae{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(Po(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(Po(t,"enable",!0)),this.setMode(Po(t,"mode",1)),this.setClickInterval(Po(t,"clickInterval",100)),this.setDragThreshold(Po(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Xb[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,n,y){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,y),this.mode===0&&this.click(t.downTime,t,y))}onRelease(t,i,n,y){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,y),this.mode===1&&this.click(t.upTime,t,y),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,n,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,n,y){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,y),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,n){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,n),this;this.pointer=void 0;var y=this.lastClickTime;return y!==void 0&&t-y<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,n),this)}cancel(){return this.pointer=void 0,this}}const Xb={press:0,pointerdown:0,release:1,pointerup:1},a1=Phaser.Utils.Objects.GetValue;class v0 extends y2{constructor(t,i,n,y,S,r,T){super(t,i,n,y,S,r,T),this._click=new _s(this,a1(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(a1(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("checkbox",function(e,t,i,n,y,S){var r=new v0(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Checkbox",v0);const Yb={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},Hb={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},$b={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yc=function(e,t,i){return(t-e)*i+e},Kb=function(e,t,i){var n=yc(yh(e),yh(t),i),y=yc(Ch(e),Ch(t),i),S=yc(Th(e),Th(t),i);return(n&255)<<16|(y&255)<<8|S&255};const o1=Phaser.Math.Linear,Zb={buildShapes(){this.addShape(new hd().setName("track")).addShape(new hd().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,n=this.getShape("track");if(this.isSizeChanged){var y=e*this.trackWidth,S=t*this.trackHeight,r=(e-y)/2,T=(t-S)/2,s=t*this.trackRadius;n.setTopLeftPosition(r,T).setSize(y,S).setRadius(s)}var d=Kb(this.falseValueTrackColor,this.trackFillColor,i),x=o1(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);n.fillStyle(d,x);var f=this.getShape("thumb");if(this.isSizeChanged){var l=e*this.thumbWidth,h=t*this.thumbHeight,a=t*this.thumbRadius;f.setSize(l,h).setRadius(a)}var u=o1(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(u=e-u);var v=t/2;f.setCenterPosition(u,v),f.fillStyle(this.thumbColor,this.thumbAlpha)}},Jb={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Jn(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var C2={};Object.assign(C2,Yb,Hb,$b,Zb,Jb);var Qb=function(e){var t=.3*yh(e)+.59*Ch(e)+.11*Th(e);return(t&255)<<16|(t&255)<<8|t&255};const Qt=Phaser.Utils.Objects.GetValue,h1=Phaser.Utils.Objects.IsPlainObject,Cc=23730,jb=16777215;class T2 extends Br{constructor(t,i,n,y,S,r,T){h1(i)?(T=i,i=Qt(T,"x",0),n=Qt(T,"y",0),y=Qt(T,"width",2),S=Qt(T,"height",2),r=Qt(T,"color",Cc)):h1(r)&&(T=r,r=Qt(T,"color",Cc)),super(t,i,n,y,S),this.type="rexToggleSwitch",r===void 0&&(r=Cc),this.setTrackFillStyle(r,Qt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Qt(T,"falseValueTrackColor",Qb(r)),Qt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Qt(T,"thumbColor",jb),Qt(T,"thumbAlpha",1)),this.setTrackSize(Qt(T,"trackWidth",.9),Qt(T,"trackHeight",.5)),this.setTrackRadius(Qt(T,"trackRadius",this.trackHeight*.5));var s=Qt(T,"thumbHeight",void 0),d=Qt(T,"thumbWidth",s);d===void 0&&(d=this.trackHeight*.9),this.setThumbSize(d,s),this.setThumbRadius(Qt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Qt(T,"thumbLeft",.3),Qt(T,"thumbRight",void 0)),this.setRTL(Qt(T,"rtl",!1)),this.setToggleAnimationDuration(Qt(T,"animationDuration",150)),this.buildShapes(),this.setValue(Qt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var n=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=n,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(T2.prototype,C2);const l1=Phaser.Utils.Objects.GetValue;class p0 extends T2{constructor(t,i,n,y,S,r,T){super(t,i,n,y,S,r,T),this._click=new _s(this,l1(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(l1(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("toggleSwitch",function(e,t,i,n,y,S){var r=new p0(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.ToggleSwitch",p0);const qb={loadFromURL(e,t){var i=this,n=new Image;return n.onload=function(){i.width!==n.width||i.height!==n.height?i.resize(n.width,n.height):i.clear(),i.context.drawImage(n,0,0),i.updateTexture(),t&&t(),n.onload=null,n.src="",n.remove()},n.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,n){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,n){t.loadFromFile(e,i)})}};class br extends Kn{}Object.assign(br.prototype,qb);st.register("canvas",function(e,t,i,n){var y=new br(this.scene,e,t,i,n);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.Canvas",br);const Zr=Phaser.Utils.Objects.GetValue;class S2 extends Kn{constructor(t,i,n,y,S,r){super(t,i,n),this.type="rexCircleMaskImage",this.setTexture(y,S,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={maskType:n});var y=Zr(n,"maskType",0),S=Zr(n,"backgroundColor",void 0),r=Zr(n,"strokeColor",void 0),T=r!=null?10:0,s=Zr(n,"strokeWidth",T);if(y===void 0?y=0:typeof y=="string"&&(y=_b[y]),this._textureKey=t,this._frameName=i,y===null)return this.loadTexture(t,i),this.dirty=!0,this;var d=this.scene.sys.textures.getFrame(t,i);if(!d)return this;d.cutWidth!==this.width||d.cutHeight!==this.height?this.setCanvasSize(d.cutWidth,d.cutHeight):this.clear();var x=this.canvas,f=this.context,l=x.width,h=x.height;S!=null&&(f.fillStyle=S,f.fillRect(0,0,l,h)),f.save(),f.beginPath();var a=s/2;switch(y){case 1:var p=Math.floor(l/2),g=Math.floor(h/2),u=p-a,v=g-a;f.ellipse(p,g,u,v,0,0,2*Math.PI);break;case 2:var o=Zr(n,"radius",0),c=Zr(n,"iteration",void 0);dP(f,a,a,l-s,h-s,o,c);break;default:var p=Math.floor(l/2),g=Math.floor(h/2),m=Math.min(p,g)-a;f.arc(p,g,m,0,2*Math.PI);break}return r!=null&&(f.strokeStyle=r,f.lineWidth=s,f.stroke()),f.clip(),this.loadTexture(t,i),f.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const _b={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(e,t,i,n,y){var S=new S2(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CircleMaskImage",S2);const Mo=Phaser.Utils.Objects.GetValue;class E2 extends Kn{constructor(t,i,n,y,S,r){super(t,i,n),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(y,S,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={mask:{key:n}});var y=Mo(n,"mask.key"),S=Mo(n,"mask.frame"),r=Mo(n,"mask.invertAlpha",!1),T=Mo(n,"mask.scale"),s=Mo(n,"backgroundColor");if(y){this._maskKey=y,this._maskFrame=S,this._maskScale=T;var d=y?this.scene.sys.textures.get(y):null;this.maskFrame=d?d.get(S):null}this._textureKey=t,this._frameName=i;var x=this.maskFrame;if(x===null)return this.loadTexture(t,i),this.dirty=!0,this;var f=s!=null;this.loadTexture(t,i);var l=this.canvas,h=this.context,a=l.width,u=l.height;h.save(),h.globalCompositeOperation=r?"destination-out":"destination-in";var v,o;this._maskScale!=null?(v=x.cutWidth*this._maskScale,o=x.cutHeight*this._maskScale):(v=a,o=u);var c=(a-v)/2,p=(u-o)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,p,v,o),h.restore(),f&&(h.save(),h.globalCompositeOperation="destination-over",h.fillStyle=s,h.fillRect(0,0,a,u),h.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}st.register("alphaMaskImage",function(e,t,i,n,y){var S=new E2(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.AlphaMaskImage",E2);const t8=Phaser.Math.Linear,u1=Phaser.Math.Percent,e8={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=u1(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=u1(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&(i=t8(e,t,i)),i}},i8=Phaser.Math.Percent;var s8=function(e){return this.easeValuePropName=e,this},n8=function(e){return this.easeValueDuration=e,this},r8=function(e){return this.easeFunction=e,this},a8=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},o8=function(e,t,i){return e==null?this:(t!==void 0&&(e=i8(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new Jn(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},h8=function(e,t,i,n){return i===void 0&&(i=-1),n===void 0&&(n=0),this.easeValueTask===void 0&&(this.easeValueTask=new Jn(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:n}),this};const l8={setEaseValuePropName:s8,setEaseValueDuration:n8,setEaseValueFunction:r8,stopEaseValue:a8,easeValueTo:o8,easeValueRepeat:h8},wo=Phaser.Utils.Objects.GetValue,u8=Phaser.Math.Clamp;function Gr(e){class t extends e{bootProgressBase(n){this.eventEmitter=wo(n,"eventEmitter",this);var y=wo(n,"valuechangeCallback",null);if(y!==null){var S=wo(n,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",y,S)}return this.setEaseValuePropName("value").setEaseValueDuration(wo(n,"easeValue.duration",0)).setEaseValueFunction(wo(n,"easeValue.ease","Linear")),this}get value(){return this._value}set value(n){n=u8(n,0,1);var y=this._value,S=y!=n;this.dirty=this.dirty||S,this._value=n,S&&this.eventEmitter.emit("valuechange",this._value,y,this.eventEmitter)}}return Object.assign(t.prototype,e8,l8),t}const d8=Phaser.Math.RadToDeg,d1=Phaser.Math.DegToRad;var f1=function(e,t,i,n,y,S,r,T){var s=Math.abs(r-S)===360,d=d1(S),x=d1(r),f=Math.cos(d),l=Math.sin(d),h=Math.cos(x),a=Math.sin(x);return e.startAt(t+f*n,i+l*n),e.arc(t,i,n,S,r,T),s&&y===0||(e.lineTo(t+h*y,i+a*y),y>0&&e.arc(t,i,y,r,S,!T)),e.close(),e};const f8={buildShapes(){this.addShape(new Gn().setName("track")).addShape(new Gn().setName("bar")).addShape(new v2().setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,n=i-t,y=this.getShape("track");this.trackColor!=null&&this.thickness>0?(y.fillStyle(this.trackColor),f1(y,e,e,i,n,0,360,!1)):y.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var r,T,s;if(this.value===1)r=!1,T=0,s=360;else{r=this.anticlockwise,T=d8(this.startAngle);var d=360*(r?1-this.value:this.value);s=d+T}S.fillStyle(this.barColor),f1(S,e,e,i,n,T,s,!1)}else S.reset();var x=this.getShape("center");this.centerColor&&n>0?x.setCenterPosition(e,e).setRadius(n).fillStyle(this.centerColor):x.reset()}},ls=Phaser.Utils.Objects.GetValue,c8=Phaser.Utils.Objects.IsPlainObject,v8=Phaser.Math.Clamp,p8=Phaser.Math.DegToRad(270);let Yd=class extends Gr(Br){constructor(t,i,n,y,S,r,T){c8(i)&&(T=i,i=ls(T,"x",0),n=ls(T,"y",0),y=ls(T,"radius",1),S=ls(T,"barColor",void 0),r=ls(T,"value",0)),y===void 0&&(y=1);var s=y*2;super(t,i,n,s,s),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(y),this.setTrackColor(ls(T,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(ls(T,"centerColor",void 0)),this.setThickness(ls(T,"thickness",.2)),this.setStartAngle(ls(T,"startAngle",p8)),this.setAnticlockwise(ls(T,"anticlockwise",!1)),this.buildShapes(),this.setValue(r)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=v8(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(Yd.prototype,f8);st.register("circularProgress",function(e,t,i,n,y,S){var r=new Yd(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.CircularProgress",Yd);var Tc=function(e,t,i,n,y,S,r,T,s,d,x,f){d===void 0&&(d=0),x===void 0&&(x=2*Math.PI),f===void 0&&(f=!1),t.beginPath(),t.ellipse(i,n,y,S,0,d,x,f),r!=null&&(t.fillStyle=r,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=s,t.stroke())},g8=function(e,t,i,n,y,S,r,T,s,d,x){s===void 0&&T!=null&&(s=2),d===void 0&&(d="start"),x===void 0&&(x="alphabetic"),t.font=S,t.textAlign=d,t.textBaseline=x,t.fillStyle=r,t.strokeStyle=T,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&s>0&&t.strokeText(y,i,n),r!=null&&r!=="none"&&t.fillText(y,i,n)};const Sc=Phaser.Math.PI2;var m8=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,n=this.radius-t,y=this.canvas,S=this.context,r=this.anticlockwise,T=this.startAngle,s=this.endAngle,d=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),Tc(y,S,e,e,i,i,void 0,this.trackColor,t,T,s,r),S.restore()),this.barColor&&i>0){var x;r?x=(T-d*this.value+Sc)%Sc:x=(T+d*this.value)%Sc,S.save();var f;if(this.barColor2){var l=e+i*Math.cos(T),h=e+i*Math.sin(T),a=e+i*Math.cos(x),u=e+i*Math.sin(x),v=S.createLinearGradient(l,h,a,u);v.addColorStop(0,this.barColor2),v.addColorStop(1,this.barColor),f=v}else f=this.barColor;Tc(y,S,e,e,i,i,void 0,f,t,T,x,r),S.restore()}if(this.centerColor&&n>0){var o;this.centerColor2?(o=this.context.createRadialGradient(e,e,0,e,e,n),o.addColorStop(0,this.centerColor),o.addColorStop(1,this.centerColor2)):o=this.centerColor,S.save(),Tc(y,S,e,e,n,n,o),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),g8(y,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const se=Phaser.Utils.Objects.GetValue,x8=Phaser.Utils.Objects.IsPlainObject,c1=Phaser.Math.Angle.Normalize,y8=Phaser.Math.Clamp,C8=Phaser.Math.DegToRad(270),Wp=Phaser.Math.PI2;class g0 extends Gr(Kn){constructor(t,i,n,y,S,r,T){x8(i)&&(T=i,i=se(T,"x",0),n=se(T,"y",0),y=se(T,"radius",1),S=se(T,"barColor",void 0),r=se(T,"value",0));var s=y*2;super(t,i,n,s,s),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(y),this.setTrackColor(se(T,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(se(T,"barColor2",void 0)),this.setCenterColor(se(T,"centerColor",void 0)),this.setThickness(se(T,"thickness",.2)),this.setStartAngle(se(T,"startAngle",C8)),this.setEndAngle(se(T,"endAngle",this.startAngle+Wp)),this.setAnticlockwise(se(T,"anticlockwise",!1)),this.setTextColor(se(T,"textColor",void 0)),this.setTextStrokeColor(se(T,"textStrokeColor",void 0),se(T,"textStrokeThickness",void 0));var d=se(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(se(T,"textSize","16px"),se(T,"textFamily","Courier"),se(T,"textStyle","")),this.setTextFormatCallback(se(T,"textFormatCallback",void 0),se(T,"textFormatCallbackScope",void 0)),this.setValue(r)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){t=c1(t),this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Ec(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){t=c1(t),this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Ec(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Ec(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=y8(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,n){var y;return i===void 0?y=t:y=n+" "+t+" "+i,this.textFont=y,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return this.clear(),m8.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var Ec=function(e,t,i){return i?e<=t?Wp+e-t:e-t:e>=t?Wp+t-e:t-e};st.register("circularProgressCanvas",function(e,t,i,n,y,S){var r=new g0(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.CircularProgressCanvas",g0);var T8=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.getShape("trackFill");n.fillStyle(this.trackColor),n.isFilled&&Pc(n,0,0,t,i,e).close();var y=this.getShape("bar");if(y.fillStyle(this.barColor),y.isFilled){var S,r;this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),Pc(y,S,0,r,i,e).close()}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Pc(T,0,0,t,i,e).end()},Pc=function(e,t,i,n,y,S){var r=(t+n)/2;return S>=0?e.startAt(r+S,i).lineTo(n+S,i).lineTo(n,y).lineTo(t,y).lineTo(t+S,i).lineTo(r+S,i):e.startAt(r,i).lineTo(n,i).lineTo(n-S,y).lineTo(t-S,y).lineTo(t,i).lineTo(r,i),e};const we=Phaser.Utils.Objects.GetValue,Mc=Phaser.Utils.Objects.IsPlainObject;let m0=class extends Gr(Br){constructor(t,i,n,y,S,r,T,s){Mc(i)?(s=i,i=we(s,"x",0),n=we(s,"y",0),y=we(s,"width",2),S=we(s,"height",2),r=we(s,"barColor",void 0),T=we(s,"value",0)):Mc(y)?(s=y,y=we(s,"width",2),S=we(s,"height",2),r=we(s,"barColor",void 0),T=we(s,"value",0)):Mc(r)&&(s=r,r=we(s,"barColor",void 0),T=we(s,"value",0)),super(t,i,n,y,S,s),this.type="rexLineProgress",this.bootProgressBase(s),this.addShape(new Gn().setName("trackFill")).addShape(new Gn().setName("bar")).addShape(new Gn().setName("trackStroke")),this.setTrackColor(we(s,"trackColor",void 0)),this.setBarColor(r),this.setTrackStroke(we(s,"trackStrokeThickness",2),we(s,"trackStrokeColor",void 0)),this.setSkewX(we(s,"skewX",0)),this.setRTL(we(s,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var S8={updateShapes:T8};Object.assign(m0.prototype,S8);st.register("lineProgress",function(e,t,i,n,y,S,r){var T=new m0(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.LineProgress",m0);var E8=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var n=1,y=t.length;n<y;n++)i=t[n],e.lineTo(i.x,i.y);e.closePath(),e.restore()},wc=function(e,t,i,n,y,S,r){r===void 0&&(r="round"),E8(t,i),t.lineJoin=r,n!=null&&(t.fillStyle=n,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=S,t.stroke())},P8=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.canvas,y=this.context;(this.trackColor||this.trackStrokeColor)&&v1(0,0,t,i,e,this.trackPoints);var S,r;if(this.barColor&&(this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),v1(S,0,r,i,e,this.barPoints)),this.trackColor&&(y.save(),wc(n,y,this.trackPoints,this.trackColor),y.restore()),this.barColor){y.save();var T;if(this.barColor2){var s;if(this.isHorizontalGradient){var d=i/2;s=y.createLinearGradient(S,d,r,d)}else{var x=t/2;s=y.createLinearGradient(x,0,x,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=s}else T=this.barColor;wc(n,y,this.barPoints,T),y.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(y.save(),wc(n,y,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),y.restore())},v1=function(e,t,i,n,y,S){S===void 0&&(S=[]),S.length=4;for(var r=0;r<4;r++)S[r]||(S[r]={});var T;return y>=0?(T=S[0],T.x=e+y,T.y=t,T=S[1],T.x=i+y,T.y=t,T=S[2],T.x=i,T.y=n,T=S[3],T.x=e,T.y=n):(T=S[0],T.x=e,T.y=t,T=S[1],T.x=i,T.y=t,T=S[2],T.x=i-y,T.y=n,T=S[3],T.x=e-y,T.y=n),S};const ce=Phaser.Utils.Objects.GetValue,Rc=Phaser.Utils.Objects.IsPlainObject;class x0 extends Gr(Kn){constructor(t,i,n,y,S,r,T,s){Rc(i)?(s=i,i=ce(s,"x",0),n=ce(s,"y",0),y=ce(s,"width",2),S=ce(s,"height",2),r=ce(s,"barColor",void 0),T=ce(s,"value",0)):Rc(y)?(s=y,y=ce(s,"width",2),S=ce(s,"height",2),r=ce(s,"barColor",void 0),T=ce(s,"value",0)):Rc(r)&&(s=r,r=ce(s,"barColor",void 0),T=ce(s,"value",0)),super(t,i,n,y,S),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(ce(s,"trackColor",void 0)),this.setBarColor(r,ce(s,"barColor2",void 0),ce(s,"isHorizontalGradient",void 0)),this.setTrackStroke(ce(s,"trackStrokeThickness",2),ce(s,"trackStrokeColor",void 0)),this.setSkewX(ce(s,"skewX",0)),this.setRTL(ce(s,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,n){return n===void 0&&(n=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=n,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),P8.call(this),super.updateTexture(),this}}st.register("circularProgressCanvas",function(e,t,i,n,y,S,r){var T=new x0(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.LineProgressCanvas",x0);Phaser.Math.Wrap;const Jr=Phaser.Math.Linear;var M8=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,n=0+t.left,y=this.height-t.bottom,S=0+t.top,r=(n+i)/2,T=(S+y)/2,s={0:{a:{x:n,y:S},b:{x:i,y:T},c:{x:n,y}},1:{a:{x:n,y:S},b:{x:r,y},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:n,y:T},c:{x:i,y}},3:{a:{x:n,y},b:{x:r,y:S},c:{x:i,y}}},d,x,f,l,h,a;if(this.previousDirection===void 0){var u=s[this.direction],v=u.a,o=u.b,c=u.c;d=v.x,x=v.y,f=o.x,l=o.y,h=c.x,a=c.y}else{var p=s[this.previousDirection],g=s[this.direction],m=this.easeDirectionProgress;d=Jr(p.a.x,g.a.x,m),x=Jr(p.a.y,g.a.y,m),f=Jr(p.b.x,g.b.x,m),l=Jr(p.b.y,g.b.y,m),h=Jr(p.c.x,g.c.x,m),a=Jr(p.c.y,g.c.y,m)}e.startAt(d,x).lineTo(f,l).lineTo(h,a),this.arrowOnly?e.end():e.close()};const w8=Phaser.Math.DegToRad,Nl=w8(120);var R8=function(t){var t=this.getShape("triangle"),i=this.width/2,n=this.height/2,y=Math.min(i,n)*this.radius,S=this.verticeRotation;t.startAt(i+y*Math.cos(S+Nl),n+y*Math.sin(S+Nl)).lineTo(i+y*Math.cos(S),n+y*Math.sin(S)).lineTo(i+y*Math.cos(S-Nl),n+y*Math.sin(S-Nl)),this.arrowOnly?t.end():t.close()};const A8={buildShapes(){this.addShape(new Gn().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?M8.call(this):R8.call(this)}},L8={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Jn(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Qr=Phaser.Utils.Objects.GetValue,O8=Phaser.Utils.Objects.IsPlainObject,F8=Phaser.Math.DegToRad,D8=Phaser.Math.RadToDeg;class Nh extends Br{constructor(t,i,n,y,S,r,T){var s,d,x,f,l,h,a,u;if(O8(i)){var v=i;i=v.x,n=v.y,y=v.width,S=v.height,r=v.color,T=v.alpha,s=v.strokeColor,d=v.strokeAlpha,x=v.strokeWidth,f=v.arrowOnly,l=v.direction,h=v.easeDuration,a=v.padding,u=v.radius}i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y),f===void 0&&(f=!1),l===void 0&&(l=0),h===void 0&&(h=0),a===void 0&&(a=0),u===void 0&&(u=void 0),super(t,i,n,y,S),this.type="rexTriangle",this.setFillStyle(r,T),s!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,s,d),this.setArrowOnly(f),this.setDirection(l,h),this.setPadding(a),this.setRadius(u),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=B8(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,n,y){if(typeof t=="object"){var S=t,r=Qr(S,"x",null);r!==null?(t=r,n=r):(t=Qr(S,"left",0),n=Qr(S,"right",t));var T=Qr(S,"y",null);T!==null?(i=T,y=T):(i=Qr(S,"top",0),y=Qr(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),y===void 0&&(y=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=n||this.padding.bottom!=y,this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=y,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return D8(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=F8(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const I8={right:0,down:1,left:2,up:3};var B8=function(e){return typeof e=="string"&&(e=I8[e]),e=e%4,e};Object.assign(Nh.prototype,A8,L8);st.register("triangle",function(e,t,i,n,y,S){var r=new Nh(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Triangle",Nh);Dd();const b8=Phaser.GameObjects.Zone,G8=Phaser.Utils.Array.Add,N8=Phaser.Utils.Array.Remove;let zh=class extends b8{constructor(t,i,n,y,S){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=1),super(t,i,n,y,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,n=this.children.length-1;n>=0;n--)i=this.children[n],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return G8(this.children,t,0,function(n){n.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var n=this;return N8(this.children,t,function(y){y.off("destroy",n.onChildDestroy,n),i&&y.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,n,y=0,S=this.children.length;y<S;y++)n=this.children[y],n.off("destroy",i.onChildDestroy,i),t&&n.destroy();return this.children.length=0,this}};const p1=Phaser.GameObjects.Components;Phaser.Class.mixin(zh,[p1.Alpha,p1.Flip]);var yi=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=yi(e);i&&i.name!==t;)i=yi(i);return i},P2=function(e){for(var t=yi(e);t;)e=t,t=yi(t);return e};const z8=Phaser.Math.DegToRad,k8=Phaser.Math.RadToDeg;var At=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return k8(this.rotation)},set:function(i){this.rotation=z8(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const V8={setParent(e,t){t===void 0&&(t=this);var i=At(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),yi(e,t)},getTopmostParent(e){return e===void 0&&(e=this),P2(e)}},Ro=Phaser.Utils.Objects.GetValue,M2=zh.prototype.add;var Ac=function(e,t){this.setParent(e);var i=At(e);return w2(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),M2.call(this,e),this.addToParentContainer(e),this.addToRenderLayer(e),this},Lc=function(e,t){this.setParent(e);var i=At(e);return w2(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),M2.call(this,e),this.addToRenderLayer(e),this},w2=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t):(e.syncPosition=Ro(t,"syncPosition",!0),e.syncRotation=Ro(t,"syncRotation",!0),e.syncScale=Ro(t,"syncScale",!0),e.syncAlpha=Ro(t,"syncAlpha",!0),e.syncScrollFactor=Ro(t,"syncScrollFactor",!0))};const U8={add(e){return Array.isArray(e)?this.addMultiple(e):Ac.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):Ac.call(this,e,t),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)Ac.call(this,e[t]);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):Lc.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):Lc.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)Lc.call(this,e[t]);return this}},g1=zh.prototype.remove,W8=zh.prototype.clear,X8={remove(e,t){return yi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),g1.call(this,e,t),this)},unpin(e,t){return yi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),g1.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,n=t.length;i<n;i++){var y=t[i];this.setParent(y,null),e||this.removeFromRenderLayer(y)}return W8.call(this,e),this}},Y8={getLocalState(e){return At(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},m1=Phaser.Math.RotateAround,H8={worldToLocal(e){return e.x-=this.x,e.y-=this.y,m1(e,0,0,-this.rotation),e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){return e.x*=this.scaleX,e.y*=this.scaleY,m1(e,0,0,this.rotation),e.x+=this.x,e.y+=this.y,e}};var Eh=function(e,t){return e===t?1:e/t};const $8={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=At(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=At(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Eh(e.scaleX,i.scaleX),t.scaleY=Eh(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var n=At(e);return n.x=t,n.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=At(this).parent;return e&&e.resetChildPositionState(this),this}},K8=Phaser.Math.DegToRad,Z8={updateChildRotation(e){var t=At(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=At(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=At(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=At(e);return i.rotation=K8(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=At(this).parent;return e&&e.resetChildRotationState(this),this}},J8={updateChildScale(e){var t=At(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=At(e),i=t.parent;return t.scaleX=Eh(e.scaleX,i.scaleX),t.scaleY=Eh(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var n=At(e);return n.scaleX=t,n.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=At(this).parent;return e&&e.resetChildScaleState(this),this}},Q8={updateChildVisible(e){var t=At(e),i=t.parent,n=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,y=i?i.visible:!0;return e.visible=y&&t.visible&&n,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=At(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=At(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=At(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=At(this).parent;return e&&e.resetChildVisibleState(this),this}},j8={updateChildAlpha(e){var t=At(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=At(e),i=t.parent;return t.alpha=Eh(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=At(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=At(this).parent;return e&&e.resetChildAlphaState(this),this}},q8={updateChildActive(e){var t=At(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=At(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=At(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=At(this).parent;return e&&e.resetChildActiveState(this),this}},_8={updateChildScrollFactor(e){var t=At(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},t6={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var zl=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const e6={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),n=0,y=i.length;n<y;n++)i[n].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,n=t.length;i<n;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList,t=this.getAllChildren([this]);_i(t,!1);for(var i=0,n=t.length;i<n;i++){var y=t[i];e.exists(y)&&e.bringToTop(y)}return this},moveDepthBelow(e){var t=this.displayList;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);_i(i,!1);for(var n=0,y=i.length;n<y;n++){var S=i[n];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveDepthAbove(e){var t=this.displayList;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);_i(i,!0);for(var n=0,y=i.length;n<y;n++){var S=i[n];if(t.exists(S)){t.moveAbove(e,S);break}}return this},bringChildToTop(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=zl(t),t=_i(t,!1)):t=[e];var i=this.getAllChildren([this]);i=zl(i),i=_i(i,!1);for(var n=i[i.length-1],y=0,S=t.length;y<S;y++){var r=t[y];n===r||n.displayList!==r.displayList||(n.displayList.moveAbove(r,n),n=r)}return this},sendChildToBack(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=zl(t),t=_i(t,!1)):t=[e];var i=this.getAllChildren([this]);i=zl(i),i=_i(i,!1);for(var n=i[0],y=t.length-1;y>=0;y--){var S=t[y];n===S||n.displayList!==S.displayList||(n.displayList.moveBelow(S,n),n=S)}return this}};var R2=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var n=e.children,y=0,S=n.length;y<S;y++)R2(n[y],t)},Oc=function(e,t){for(var i=[e];i.length>0;){var n=i.shift(),y=t(n);!y&&n.isRexContainerLite&&i.push(...n.children)}};const nr=Phaser.Utils.Array,i6={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Oc(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Oc(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Oc(t,e),this},dfs(e,t){return t===void 0&&(t=this),R2(t,e),this},contains(e){var t=yi(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],n,y;i.length;){n=i.shift();for(var S=0,r=n.children.length;S<r;S++){if(y=n.children[S],y.name===e)return y;y.isRexContainerLite&&i.push(y)}}return null}else return nr.GetFirst(this.children,"name",e)},getRandom(e,t){return nr.GetRandom(this.children,e,t)},getFirst(e,t,i,n){return nr.GetFirstElement(this.children,e,t,i,n)},getAll(e,t,i,n){return nr.GetAll(this.children,e,t,i,n)},count(e,t,i,n){return nr.CountAllMatching(this.children,e,t,i,n)},swap(e,t){return nr.Swap(this.children,e,t),this},setAll(e,t,i,n){return nr.SetAll(this.children,e,t,i,n),this}};var x1=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var y=e[i];y.hasOwnProperty("rexContainer")&&t.push(y.rexContainer)}return t},s6=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].scene;if(n)return n}return null},y1=function(e,t,i){if(!i.parent){e.remove();return}var n=i.parent,y=i.self;switch(t){case"x":case"y":n.updateChildPosition(y);break;case"angle":case"rotation":n.updateChildRotation(y);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":n.updateChildScale(y);break;case"alpha":n.updateChildAlpha(y);break;default:n.updateChildPosition(y),n.updateChildRotation(y),n.updateChildScale(y),n.updateChildAlpha(y);break}};const n6={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||s6(t);if(i){e.targets=x1(t);var n=i.tweens.add(e);return n.on("update",y1),n}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=x1(t));var i=e.onUpdate;return e.onUpdate=function(n,y){i&&i(n,y),y1(n,void 0,y)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},r6=Phaser.GameObjects.Container;var a6=function(e){return e instanceof r6};const o6=Phaser.GameObjects.Layer;var Xp=function(e){return e instanceof o6},A2=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},C1=function(e){var t=A2(this);_i(t),e.add(t)},T1=function(e,t,i){if(this.scene){var n=A2(this);_i(n,t),e.remove(n),i&&n.forEach(function(y){y.addToDisplayList()})}};const h6={addToContainer(e){return a6(e)?(this._setParentContainerFlag=!0,C1.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Xp(e)?(C1.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,T1.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Xp(this.displayList)?(T1.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this}},l6={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=At(e);return i.layer=t,this},removeFromRenderLayer(e){var t=At(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},S1=Phaser.Geom.Rectangle,u6=Phaser.Geom.Rectangle.Union;var d6=function(e,t){t===void 0?t=new S1:t===!0&&(Fc===void 0&&(Fc=new S1),t=Fc),t.setTo(0,0,0,0);for(var i,n=!0,y=0,S=e.length;y<S;y++)if(i=e[y],!!i.getBounds){var r=r0(i,!0);n?(t.setTo(r.x,r.y,r.width,r.height),n=!1):u6(r,t,t)}return t},Fc;const f6=Phaser.GameObjects.GameObject;var Ci=function(e){return e instanceof f6},rr=Phaser.Utils.Objects.GetValue,c6=Phaser.Textures.DynamicTexture,v6=Phaser.Utils.String.UUID,y0=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,n=rr(e,"x",void 0),y=rr(e,"y",void 0),S=rr(e,"width",void 0),r=rr(e,"height",void 0),T=rr(e,"originX",0),s=rr(e,"originY",0),d=rr(e,"padding",0),x,f;if(S===void 0||r===void 0||n===void 0||y===void 0){var l=d6(t,!0),h=n!==void 0&&y!==void 0;h?(S=Math.max(n-l.left,l.right-n)*2,r=Math.max(y-l.top,l.bottom-y)*2,T=.5,s=.5):(n=l.x,y=l.y,S=l.width,r=l.height,T=0,s=0),x=l.x,f=l.y}else x=n+(0-T)*S,f=y+(0-s)*r;x-=d,f-=d,S+=d*2,r+=d*2;var a=t[0].scene;u&&!i&&(i=new c6(a.sys.textures,v6(),S,r)),i||(i=a.add.renderTexture(0,0,S,r)),i.setPosition&&i.setPosition(n,y),(i.width!==S||i.height!==r)&&i.setSize(S,r),i.setOrigin&&i.setOrigin(T,s),i.camera.setScroll(x,f),t=_i(Js(t)),i.draw(t);var u=e.saveTexture;if(u)if(Ci(i))i.saveTexture(u);else{var v=i,o=v.manager;o.exists(v.key)?o.renameTexture(v.key,key):(v.key=key,o.list[key]=v,o.emit("addtexture",key,v),o.emit(`addtexture-${key}`,v))}return i}};const p6={snapshot(e){var t=this.scaleX,i=this.scaleY,n=t===1&&i===1;n||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var y=y0(e),S=!!y.scene;return n||(this.setScale(t,i),S&&y.setScale(t,i)),S?y:this}},E1=Phaser.Utils.Objects.GetValue;var g6=function(e,t){var i=E1(t,"drawContainer",!0),n=E1(t,"children");return n===void 0&&(n=this.getAllVisibleChildren([this])),i||(n=n.filter(function(y){return!y.isRexContainerLite})),UP(n,e,t),this};const m6=Phaser.Math.RotateAround;var x6=function(e,t,i){i===void 0&&(i=t);var n={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return m6(n,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+n.x,e.y=e.y+n.y,e},y6=function(e,t){this.syncChildrenEnable=!1,x6(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),n=0,y=i.length;n<y;n++)this.resetChildPositionState(i[n]);return this},L2={changeOrigin:y6,drawBounds:g6};Object.assign(L2,V8,U8,X8,Y8,H8,$8,Z8,J8,Q8,j8,q8,_8,t6,e6,i6,n6,h6,l6,p6);class Ei extends zh{constructor(t,i,n,y,S,r){Array.isArray(y)&&(r=y,y=void 0,S=void 0),super(t,i,n,y,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,r&&this.add(r)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return yi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=yi(this);return t?t.setParentContainerFlag:!1}}Object.assign(Ei.prototype,L2);var Hd=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function C6(e){return e===void 0&&(e=this),Hd(e)}var T6=function(e){var t=Hd(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},S6=function(e){return e===void 0&&(e=_a(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const jt=Phaser.Display.Align,eo={center:jt.CENTER,left:jt.LEFT_CENTER,right:jt.RIGHT_CENTER,top:jt.TOP_CENTER,bottom:jt.BOTTOM_CENTER,"left-top":jt.TOP_LEFT,"top-left":jt.TOP_LEFT,"left-center":jt.LEFT_CENTER,"center-left":jt.LEFT_CENTER,"left-bottom":jt.BOTTOM_LEFT,"bottom-left":jt.BOTTOM_LEFT,"center-top":jt.TOP_CENTER,"top-center":jt.TOP_CENTER,"center-center":jt.CENTER,"center-bottom":jt.BOTTOM_CENTER,"bottom-center":jt.BOTTOM_CENTER,"right-top":jt.TOP_RIGHT,"top-right":jt.TOP_RIGHT,"right-center":jt.RIGHT_CENTER,"center-right":jt.RIGHT_CENTER,"right-bottom":jt.BOTTOM_RIGHT,"bottom-right":jt.BOTTOM_RIGHT};var Yp=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Le,events:{once:Le}}},0,0,1,1);Yp.setOrigin(0);var tn={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},C0=function(e){var t=Bt(e);return e.y+t-t*e.originY},T0=function(e){var t=It(e);return e.x-t*e.originX+t*.5},S0=function(e,t){var i=Bt(e);return e.y=t-i+i*e.originY,e},E0=function(e,t){var i=It(e),n=i*e.originX;return e.x=t+n-i*.5,e},E6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),E0(e,T0(t)+i),S0(e,C0(t)+n),e},P0=function(e){var t=It(e);return e.x-t*e.originX},M0=function(e,t){var i=It(e);return e.x=t+i*e.originX,e},P6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),M0(e,P0(t)-i),S0(e,C0(t)+n),e},w0=function(e){var t=It(e);return e.x+t-t*e.originX},R0=function(e,t){var i=It(e);return e.x=t-i+i*e.originX,e},M6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),R0(e,w0(t)+i),S0(e,C0(t)+n),e},A0=function(e,t){var i=Bt(e),n=i*e.originY;return e.y=t+n-i*.5,e},w6=function(e,t,i){return E0(e,t),A0(e,i)},L0=function(e){var t=Bt(e);return e.y-t*e.originY+t*.5},R6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),w6(e,T0(t)+i,L0(t)+n),e},A6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),M0(e,P0(t)-i),A0(e,L0(t)+n),e},L6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),R0(e,w0(t)+i),A0(e,L0(t)+n),e},O0=function(e){var t=Bt(e);return e.y-t*e.originY},F0=function(e,t){var i=Bt(e);return e.y=t+i*e.originY,e},O6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),E0(e,T0(t)+i),F0(e,O0(t)-n),e},F6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),M0(e,P0(t)-i),F0(e,O0(t)-n),e},D6=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),R0(e,w0(t)+i),F0(e,O0(t)-n),e},Ls=[];Ls[tn.BOTTOM_CENTER]=E6;Ls[tn.BOTTOM_LEFT]=P6;Ls[tn.BOTTOM_RIGHT]=M6;Ls[tn.CENTER]=R6;Ls[tn.LEFT_CENTER]=A6;Ls[tn.RIGHT_CENTER]=L6;Ls[tn.TOP_CENTER]=O6;Ls[tn.TOP_LEFT]=F6;Ls[tn.TOP_RIGHT]=D6;var O2=function(e,t,i,n,y){return Ls[i](e,t,n,y)},kh=function(e,t,i,n,y,S){Yp.setPosition(t,i).setSize(n,y),O2(e,Yp,S)};const jr=Phaser.Utils.Objects.GetValue,I6=Phaser.GameObjects.Group;var B6=function(e,t){var i=e.scene,n,y,S,r,T;if(typeof t=="number")n=t;else{n=jr(t,"color"),y=jr(t,"lineWidth");var s=jr(t,"name",!1);s&&(S=jr(s,"createTextCallback",b6),r=jr(s,"createTextCallbackScope",void 0),T=jr(s,"align","left-top"),typeof T=="string"&&(T=eo[T]))}if(n===void 0&&(n=16777215),y===void 0&&(y=1),S&&!e.children){e.children=new I6(i),e.once("destroy",function(u,v){u.children.destroy(!v),u.children=void 0});var d=e.clear.bind(e);e.clear=function(){d(),e.children.clear(!1,!0)}}for(var x=this.getAllShownChildren([this]),f,l,h=0,a=x.length;h<a;h++){if(f=x[h],f.getBounds||f.width!==void 0&&f.height!==void 0)ar=r0(f,ar);else continue;n!=null&&e.lineStyle(y,n).strokeRectShape(ar),f.name&&S&&(r?l=S.call(r,i):l=S(i),l&&(l.setText(f.name),e.children.add(l),kh(l,ar.x,ar.y,ar.width,ar.height,T)))}return this},b6=function(e,t,i){return e.add.text(0,0,"")},ar=void 0;const kl=Phaser.Utils.Objects.GetValue;var Un=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=kl(e,"left",0),t.right=kl(e,"right",0),t.top=kl(e,"top",0),t.bottom=kl(e,"bottom",0)),t};const G6=Ei.prototype.add;var Vh=function(e){return G6.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const N6={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),Vh.call(this,e),this.backgroundChildren.push(e);var n=this.getSizerConfig(e);return n.padding=Un(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var Nn=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=Nn(i)):i=null);else for(i=Nn(e);i&&i.name!==t;)i=Nn(i);return i},z6=function(e){for(var t=Nn(e);t;)e=t,t=Nn(t);return e};const io={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Nn(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),z6(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=Nn(t);i;){if(i===e)return!0;i=Nn(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},k6=Phaser.Utils.Array.Remove,V6=Ei.prototype.remove,P1=io.getParentSizer;var Uh=function(e,t){for(var i=P1(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=P1(i);return this.isBackground(e)&&k6(this.backgroundChildren,e),V6.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const U6=Phaser.Utils.Array.Remove,W6=io.getParentSizer,X6={removeFromParentSizer(){var e=W6(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(U6(this.backgroundChildren,e),Uh.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var M1=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},Y6=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},H6=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var i=e.shift(),n=null;if(i.charAt(0)==="#")i=i.substring(1),n=this.getByName(i,t);else if(i.indexOf("[")===-1)this.childrenMap&&(n=this.childrenMap[i]);else{var y=i.match($6);if(y!=null&&this.childrenMap){var S=this.childrenMap[y[1]];S&&(n=S[y[2]])}}return e.length===0?n:n&&n.childrenMap?n.getElement(e):null}};const $6=/(\S+)\[(\d+)\]/i;var K6=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const Z6={getInnerPadding(e){return Du(this.space,e)},setInnerPadding(e,t){return bn(this.space,e,t),this},getOuterPadding(e){return Du(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return bn(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Du(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),bn(this.getSizerConfig(e).padding,t,i),this}};var D0=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},I0=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},J6=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},B0=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(n=t.resolveWidth(i),n===void 0&&(n=i)):n=i,t.runWidthWrap(n));return this},b0=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},G0=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},Q6=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},N0=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(n=t.resolveHeight(i),n===void 0&&(n=i)):n=i,t.runHeightWrap(n));return this},j6=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;t=Math.max(e.minWidth,i)}else e.minWidth!==void 0?t=e.minWidth:t=It(e);return t},q6=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;t=Math.max(e.minHeight,i)}else e.minHeight!==void 0?t=e.minHeight:t=Bt(e);return t},_6=function(e,t){return t},tG=function(e,t){return t},eG=function(){return 0},iG=function(){return 0},sG=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),n=e.length,y=t;y<n;y++)i[y].getAllChildrenSizers(e);return e},nG=function(e){return e===void 0&&(e=[]),e};const rG={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,n=0,y=t.length;n<y;n++)i=t[n],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var Wh=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,n=e.length;i<n;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},aG=function(){if(this.ignoreLayout)return this;var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;return i||this.setScale(1),this.runLayout(),i||this.setScale(e,t),this},oG=function(e,t,i){if(this.ignoreLayout)return this;var n=!e;n&&this.preLayout();var y,S,r,T=n&&this.hasWidthWrap(),s=n&&this.hasHeightWrap();return y=hG(this,t,i,T,s),y||console.error("Can't resolve size of ",this),S=y.width,r=y.height,this.resize(S,r),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(),n&&this._postLayout(),this},hG=function(e,t,i,n,y){var S=w1(e,t,n),r=lG(e,i,y);return S===void 0&&(S=w1(e,t,n)),S!==void 0&&r!==void 0?{width:S,height:r}:!1},w1=function(e,n,i){var n=e.resolveWidth(n);return n!==void 0&&i&&(e.resolveChildrenWidth(n),e.runWidthWrap(n)),n},lG=function(e,n,i){var n=e.resolveHeight(n);return n!==void 0&&i&&(e.resolveChildrenHeight(n),e.runHeightWrap(n)),n},uG=function(){},dG=function(e,t,i){return this._anchor&&this._anchor.updatePosition(),this},fG=function(e,t,i){return this},cG=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=R1.length;t<i;t++){var n=R1[t];if(n&&e instanceof n)return!1}return!0},R1=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],vG=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=A1.length;t<i;t++){var n=A1[t];if(n&&e instanceof n)return!1}return!0},A1=[Phaser.GameObjects.BitmapText],Ye=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(cG(e))t===void 0&&(t=e.width),i===void 0&&(i=e.height),e.resize?e.resize(t,i):e.setSize(t,i);else{var n=vG(e);t!==void 0&&(n?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(n?e.displayHeight=i:e.scaleY=i/e.height)}},pG=function(e,t,i,n){Ye(i,e,t)};const Vl=Phaser.Utils.Objects.GetValue;class z0 extends ae{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,n;t.x!==void 0?(i=null,n=t.x):t.left!==void 0?(i=0,n=t.left):t.right!==void 0?(i=1,n=t.right):t.centerX!==void 0&&(i=.5,n=t.centerX);var y,S;t.y!==void 0?(y=null,S=t.y):t.top!==void 0?(y=0,S=t.top):t.bottom!==void 0?(y=1,S=t.bottom):t.centerY!==void 0&&(y=.5,S=t.centerY);var r,T;n!==void 0&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),r=parseFloat(n[0])/100,T=n[1]===""?0:parseFloat(n[1]));var s,d;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(S[0])/100,d=S[1]===""?0:parseFloat(S[1]));var x=t.width,f,l;x!==void 0&&(x=x.split("%"),f=parseFloat(x[0])/100,l=x[1]===""?0:parseFloat(x[1]));var h=t.height,a,u;h!==void 0&&(h=h.split("%"),a=parseFloat(h[0])/100,u=h[1]===""?0:parseFloat(h[1])),this.setAlign(i,y),this.setPercentage(r,s),this.setOffset(T,d),this.setSizePercentage(f,a),this.setSizePadding(l,u);var v=Vl(t,"onResizeCallback",pG),o=Vl(t,"onResizeCallbackScope");this.setResizeCallback(v,o);var c=Vl(t,"onUpdateViewportCallback"),p=Vl(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(c,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,n=this.anchorWidth,y=this.anchorHeight;if(!(n===void 0&&y===void 0||!t)){var S=this.parent;n===void 0&&(n=S.width),y===void 0&&(y=S.height),i?t.call(i,n,y,S,this):t(n,y,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=_a(this.scene,t,this.viewport);var i=this.viewport,n=this.onUpdateViewportCallback,y=this.onUpdateViewportCallbackScope;n&&(y?n.call(y,i,this.parent,this):n(i,this.parent,this))}}var gG=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),n=e.hasOwnProperty("onResizeCallback");return(t||i)&&!n&&(e.onResizeCallback=function(y,S,r){t&&r.setMinWidth(y),i&&r.setMinHeight(S),r.layout()}),this._anchor===void 0?this._anchor=new z0(this,e):this._anchor.resetFromJSON(e),this};const mG=Phaser.Utils.Objects.GetValue,qr=Phaser.Utils.Objects.GetAdvancedValue,L1=Phaser.Math.Linear;class Ph extends Ir{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(mG(t,"mode",0)),this.setScaleRange(qr(t,"start",void 0),qr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=xG[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=qr(t,"x",this.parent.scaleX),this.startY=qr(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=qr(i,"x",void 0),this.endY=qr(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateGameObject(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasScaleX&&(t.scaleX=L1(this.startX,this.endX,n)),this.hasScaleY&&(t.scaleY=L1(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const xG={stop:0,destroy:1,yoyo:2};var k0=function(e,t,i,n,y){n===void 0&&(n="Cubic");var S,r;switch(i){case 0:case"x":S={x:0},r={x:e.scaleX};break;case 1:case"y":S={y:0},r={y:e.scaleY};break;default:S=0,r=e.scale;break}var T={mode:0,start:S,end:r,duration:t,ease:n};return y===void 0?y=new Ph(e,T):y.resetFromJSON(T),y.restart(),y},F2=function(e,t,i,n,y,S){n===void 0&&(n="Linear"),y instanceof Ph&&(S=y,y=void 0),y===void 0&&(y=!0);var r={};switch(r.mode=y?1:0,i){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0;break}return r.duration=t,r.ease=n,S===void 0?S=new Ph(e,r):S.resetFromJSON(r),S.restart(),S},yG=function(e,t,i,n,y,S,r){i===void 0&&(i=1.2),n===void 0&&(n=0),S===void 0&&(S="Cubic");var T,s;switch(y){case 0:case"x":T={x:e.scaleX},s={x:i};break;case 1:case"y":T={y:e.scaleX},s={y:i};break;default:T=e.scaleX,s=i;break}var d={mode:2,start:T,end:s,duration:t/2,ease:S,repeat:n};return r===void 0?r=new Ph(e,d):r.resetFromJSON(d),r.restart(),r};const Dc=Phaser.Utils.Objects.IsPlainObject;var Ic=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var i=io.getParentSizer(e);i&&i.resetChildPositionState(e)})};const V0={popUp(e,t,i){if(Dc(e)){var n=e;e=n.duration,t=n.orientation,i=n.ease}var y=this._scaleBehavior===void 0;return this._scaleBehavior=k0(this,e,t,i,this._scaleBehavior),y&&Ic(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),Oe(this._scaleBehavior)},scaleDownDestroy(e,t,i,n){if(Dc(e)){var y=e;e=y.duration,t=y.orientation,i=y.ease,n=y.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=F2(this,e,t,i,n,this._scaleBehavior),S&&Ic(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,n){return this.scaleDownDestroy(e,t,i,n),Oe(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),Oe(this._scaleBehavior)},scaleYoyo(e,t,i,n,y){if(Dc(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,n=S.orientation,y=S.ease}var r=this._scaleBehavior===void 0;return this._scaleBehavior=yG(this,e,t,i,n,y,this._scaleBehavior),r&&Ic(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,n,y){return this.scaleYoyo(e,t,i,n,y),Oe(this._scaleBehavior)}},CG=Phaser.Utils.Objects.GetValue,O1=Phaser.Utils.Objects.GetAdvancedValue,TG=Phaser.Math.Linear;let Hp=class extends Ir{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(CG(t,"mode",0)),this.setAlphaRange(O1(t,"start",this.parent.alpha),O1(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=SG[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,i){var n=i.t;i.isOddIteration&&(n=1-n),t.alpha=TG(this.alphaStart,this.alphaEnd,n)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const SG={stop:0,destroy:1,yoyo:2},EG=Phaser.Utils.Objects.IsPlainObject;var $d=function(e,t,i,n){var y,S;EG(i)?(y=i.start,S=i.end):S=i,y===void 0&&(y=0),S===void 0&&(S=1);var r={mode:0,start:y,end:S,duration:t};return n===void 0?n=new Hp(e,r):n.resetFromJSON(r),n.restart(),n},Kd=function(e,t,i,n){i instanceof Hp&&(n=i,i=void 0),i===void 0&&(i=!0);var y={mode:i?1:0,end:0,duration:t};return n===void 0?n=new Hp(e,y):n.resetFromJSON(y),n.restart(),n};const F1=Phaser.Utils.Objects.IsPlainObject;var D1=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var i=io.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const PG={fadeIn(e,t){if(F1(e)){var i=e;e=i.duration,t=i.alpha}var n=this._fade===void 0;return this._fade=$d(this,e,t,this._fade),n&&D1(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Oe(this._fade)},fadeOutDestroy(e,t){if(F1(e)){var i=e;e=i.duration,t=i.destroy}var n=this._fade===void 0;return this._fade=Kd(this,e,t,this._fade),n&&D1(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Oe(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Oe(this._fade)}},MG=Phaser.Utils.Objects.GetValue,_r=Phaser.Utils.Objects.GetAdvancedValue,I1=Phaser.Math.Linear;class ld extends Ir{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(MG(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=_r(t,"x",void 0),n=_r(t,"y",void 0);this.setTargetPosition(i,n)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=wG[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var n=t;this.startX=_r(n,"startX",void 0),this.startY=_r(n,"startY",void 0),this.endX=_r(n,"endX",void 0),this.endY=_r(n,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasMoveX&&(t.x=I1(this.startX,this.endX,n)),this.hasMoveY&&(t.y=I1(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const wG={stop:0,destroy:1,yoyo:2};var ud=function(e,t){if(typeof e=="number")return e;var i=e[0],n=parseFloat(e.substr(2));switch(i){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},D2=function(e,t,i,n,y,S,r){S instanceof ld&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,i!==void 0&&(T.startX=e.x,T.endX=ud(i,e.x)),n!==void 0&&(T.startY=e.y,T.endY=ud(n,e.y)),T.duration=t,T.ease=y===void 0?"Linear":y,r===void 0?r=new ld(e,T):r.resetFromJSON(T),r.restart(),r},I2=function(e,t,i,n,y,S,r){S instanceof ld&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,i!==void 0&&(T.startX=ud(i,e.x),T.endX=e.x),n!==void 0&&(T.startY=ud(n,e.y),T.endY=e.y),T.duration=t,T.ease=y===void 0?"Linear":y,r===void 0?r=new ld(e,T):r.resetFromJSON(T),r.restart(),r};const B1=Phaser.Utils.Objects.IsPlainObject,b1=Phaser.Math.Distance.Between;var G1=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var i=io.getParentSizer(e);i&&i.resetChildPositionState(e)})};const RG={moveFrom(e,t,i,n,y){if(B1(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=b1(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var r=this._easeMove===void 0;return this._easeMove=I2(this,e,t,i,n,y,this._easeMove),r&&G1(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,n,y){return this.moveFrom(e,t,i,n,y),Oe(this._easeMove)},moveFromDestroy(e,t,i,n){return this.moveFrom(e,t,i,n,!0),this},moveFromDestroyPromise(e,t,i,n){return this.moveFromDestroy(e,t,i,n),Oe(this._easeMove)},moveTo(e,t,i,n,y){if(B1(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=b1(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var r=this._easeMove===void 0;return this._easeMove=D2(this,e,t,i,n,y,this._easeMove),r&&G1(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(e,t,i,n,y){return this.moveTo(e,t,i,n,y),Oe(this._easeMove)},moveToDestroy(e,t,i,n){return this.moveTo(e,t,i,n,!0),this},moveToDestroyPromise(e,t,i,n){return this.moveToDestroy(e,t,i,n,!0),Oe(this._easeMove)},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}},Ri=Phaser.Utils.Objects.GetValue;class U0 extends kd{constructor(t,i){super(t,i),this.timer=new YP,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Ri(t,"timer")),this.setEnable(Ri(t,"enable",!0)),this.setMode(Ri(t,"mode",1)),this.isRunning=Ri(t,"isRunning",!1),this.setMagnitudeMode(Ri(t,"magnitudeMode",1)),this.setAxisMode(Ri(t,"axis",0)),this.setDuration(Ri(t,"duration",500)),this.setMagnitude(Ri(t,"magnitude",10)),this.ox=Ri(t,"ox",void 0),this.oy=Ri(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=AG[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=OG[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=LG[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var n=t;i=Ri(n,"magnitude",void 0),t=Ri(n,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(!n.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=n.x,this.oy=n.y);var y=this.magnitude;this.magnitudeMode===1&&(y*=1-this.timer.t);var S=Math.random()*Math.PI*2,r=this.ox+Math.cos(S)*y,T=this.oy+Math.sin(S)*y;switch(this.axisMode){case 1:n.x=r;break;case 2:n.y=T;break;default:n.x=r,n.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const AG={effect:0,behavior:1},LG={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},OG={constant:0,decay:1},FG=Phaser.Utils.Objects.IsPlainObject;var DG=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const IG={shake(e,t,i){if(FG(e)){var n=e;e=n.duration,t=n.magnitude,i=n.magnitudeMode}return this._shake===void 0&&(this._shake=new U0(this,{mode:0,magnitudeMode:1}),DG(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Oe(this._shake)}},N1=Phaser.Utils.Objects.IsPlainObject;class BG extends ae{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new Jn(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,n,y){if(N1(t)){var S=t;t=S.key,i=S.value,n=S.duration,y=S.ease;var r=S.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:i,duration:n,ease:y}),this}easeFrom(t,i,n,y){if(N1(t)){var S=t;t=S.key,i=S.value,n=S.duration,y=S.ease;var r=S.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:i,duration:n,ease:y}),this}stopEase(t,i){i===void 0&&(i=!0);var n=this.easeTasks[t];return n&&n.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var bG=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const GG={easeDataTo(e,t,i,n){return this._easeData||(this._easeData=new BG(this),bG(this,this._easeData)),this._easeData.easeTo(e,t,i,n),this},easeDataToPromise(e,t,i,n){return this.easeDataTo(e,t,i,n),Ud(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var Sn=function(e){B2(e,!1)},En=function(e){B2(e,!0)},W0=function(e){if(!e)return!1;var t=Hd(e);return!t.hidden},B2=function(e,t){if(e){var i=Hd(e);i.hidden=t;var n=yi(e);n?n.setChildVisible(e,!t):e.setVisible(!t)}};const NG={show(e){return e===void 0&&(e=this),Sn(e),this},hide(e){return e===void 0&&(e=this),En(e),this},isShow(e){return e===void 0&&(e=this),W0(e)}};var b2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function y(s,d,x){this.fn=s,this.context=d,this.once=x||!1}function S(s,d,x,f,l){if(typeof x!="function")throw new TypeError("The listener must be a function");var h=new y(x,f||s,l),a=i?i+d:d;return s._events[a]?s._events[a].fn?s._events[a]=[s._events[a],h]:s._events[a].push(h):(s._events[a]=h,s._eventsCount++),s}function r(s,d){--s._eventsCount===0?s._events=new n:delete s._events[d]}function T(){this._events=new n,this._eventsCount=0}T.prototype.eventNames=function(){var d=[],x,f;if(this._eventsCount===0)return d;for(f in x=this._events)t.call(x,f)&&d.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(x)):d},T.prototype.listeners=function(d){var x=i?i+d:d,f=this._events[x];if(!f)return[];if(f.fn)return[f.fn];for(var l=0,h=f.length,a=new Array(h);l<h;l++)a[l]=f[l].fn;return a},T.prototype.listenerCount=function(d){var x=i?i+d:d,f=this._events[x];return f?f.fn?1:f.length:0},T.prototype.emit=function(d,x,f,l,h,a){var u=i?i+d:d;if(!this._events[u])return!1;var v=this._events[u],o=arguments.length,c,p;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),o){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,x),!0;case 3:return v.fn.call(v.context,x,f),!0;case 4:return v.fn.call(v.context,x,f,l),!0;case 5:return v.fn.call(v.context,x,f,l,h),!0;case 6:return v.fn.call(v.context,x,f,l,h,a),!0}for(p=1,c=new Array(o-1);p<o;p++)c[p-1]=arguments[p];v.fn.apply(v.context,c)}else{var g=v.length,m;for(p=0;p<g;p++)switch(v[p].once&&this.removeListener(d,v[p].fn,void 0,!0),o){case 1:v[p].fn.call(v[p].context);break;case 2:v[p].fn.call(v[p].context,x);break;case 3:v[p].fn.call(v[p].context,x,f);break;case 4:v[p].fn.call(v[p].context,x,f,l);break;default:if(!c)for(m=1,c=new Array(o-1);m<o;m++)c[m-1]=arguments[m];v[p].fn.apply(v[p].context,c)}}return!0},T.prototype.on=function(d,x,f){return S(this,d,x,f,!1)},T.prototype.once=function(d,x,f){return S(this,d,x,f,!0)},T.prototype.removeListener=function(d,x,f,l){var h=i?i+d:d;if(!this._events[h])return this;if(!x)return r(this,h),this;var a=this._events[h];if(a.fn)a.fn===x&&(!l||a.once)&&(!f||a.context===f)&&r(this,h);else{for(var u=0,v=[],o=a.length;u<o;u++)(a[u].fn!==x||l&&!a[u].once||f&&a[u].context!==f)&&v.push(a[u]);v.length?this._events[h]=v.length===1?v[0]:v:r(this,h)}return this},T.prototype.removeAllListeners=function(d){var x;return d?(x=i?i+d:d,this._events[x]&&r(this,x)):(this._events=new n,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=i,T.EventEmitter=T,e.exports=T})(b2);var zG=b2.exports;const kG=jp(zG);class G2 extends kG{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const VG={setEventEmitter(e,t){return t===void 0&&(t=G2),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},UG=["next","exit","enter"];let N2=class{constructor(t){var i=Ot(t,"states",void 0);i&&this.addStates(i);var n=Ot(t,"extend",void 0);if(n)for(var y in n)(!this.hasOwnProperty(y)||this[y]===void 0)&&(this[y]=n[y]);var S=Ot(t,"eventEmitter",void 0),r=Ot(t,"EventEmitterClass",void 0);this.setEventEmitter(S,r),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Ot(t,"enable",!0)),this.start(Ot(t,"start",void 0));var i=Ot(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,n=this[i];n&&n.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var y="enter_"+this._state,S=this[y];S&&S.call(this),this.emit(y,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return UG}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var n=this.stateProperties,y=0,S=n.length;y<S;y++){var r=n[y],T=i[r];T&&(this[`${r}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)this.addState(t[i]);else for(var y in t)this.addState(y,t[y]);return this}runMethod(t,i,n,y,S,r){var T=this[t+"_"+this.state];if(T){var s=arguments.length;switch(s){case 1:return T.call(this);case 2:return T.call(this,i);case 3:return T.call(this,i,n);case 4:return T.call(this,i,n,y);case 5:return T.call(this,i,n,y,S);case 6:return T.call(this,i,n,y,S,r)}for(var d=new Array(s-1),x=1;x<s;x++)d[x-1]=arguments[x];return T.apply(this,d)}}};Object.assign(N2.prototype,VG);var Bc=function(e,t,i,n,y){y===void 0&&(y=!1);var S=e._events[t];if(!S)return!1;for(var r=0,T=S.length;r<T;r++){var s=S[r];if(s.fn===i&&s.context===n&&s.once===y)return!0}return!1};const WG=["next","exit","enter","update","preupdate","postupdate"];class en extends N2{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Ot(t,"scene",void 0),this}get stateProperties(){return WG}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Bc(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Bc(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Bc(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let XG=class extends en{constructor(t,i){super(i),this.parent=t;var n=i.initState||"IDLE";this.start(n)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var YG=function(e,t,i,n,y){var S=to(e),r=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(n,y)})});return r};const HG={delayCall(e,t,i){return this.delayCallTimer=YG(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},$G={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Le),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Le),this.transitOutCallback=e,this}},KG={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},ZG={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var z2={};Object.assign(z2,HG,$G,KG,ZG);const ta=Phaser.Utils.Objects.GetValue;class Zd extends ae{constructor(t,i){super(t,i),this.setTransitInTime(ta(i,"duration.in",200)),this.setTransitOutTime(ta(i,"duration.out",200)),this.setTransitInCallback(ta(i,"transitIn")),this.setTransitOutCallback(ta(i,"transitOut")),this.oneShotMode=ta(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new XG(this,{eventEmitter:!1,initState:ta(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Zd.prototype,z2);const JG=Phaser.GameObjects.Rectangle;class X0 extends JG{constructor(t,i,n){super(t,0,0,2,2,i,1),this.setAlpha(n),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,i=t.sys.scale.gameSize,n=t.sys.cameras.main,y=i.width,S=i.height,r=1/n.zoom,T=y/2,s=S/2,d=y*r,x=S*r;(this.x!==T||this.y!==s)&&this.setPosition(T,s),(this.width!==d||this.height!==x)&&this.setSize(d,x).setOrigin(.5)}}const bc=Phaser.Utils.Objects.GetValue;class Jd extends ae{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(bc(t,"hitAreaMode",0)),this.setEnable(bc(t,"enable",!0)),this.setStopMode(bc(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerup",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointermove",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerover",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=QG[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var QG={default:0,fullWindow:1};const z1=Phaser.Utils.Objects.GetValue;class Y0 extends X0{constructor(t,i){var n=z1(i,"color",0),y=z1(i,"alpha",.8);super(t,n,y),this.touchEventStop=new Jd(this,{hitAreaMode:1})}}var jG=function(e,t){var i=e.scene,n=new Y0(i,t);return i.add.existing(n),e.isRexContainerLite?(e.pin(n,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(n)):i.children.moveBelow(n,e),n};const Ul={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,k0(e,t)},scaleDown(e,t){F2(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,$d(e,t)},fadeOut(e,t){Kd(e,t,!1)}};var qG=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,$d(e,t,e.alpha)},_G=function(e,t){Kd(e,t,!1)},Mh=function(e,t,i,n,y){if(!e||n&&!n(e,t,i))return!1;var S=r0(e,!0);return!(!S.contains(t,i)||y&&!y(e,t,i))};const us=Phaser.Utils.Objects.GetValue;let t7=class extends Zd{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=un.popUp),i.transitOut==null&&(i.transitOut=un.scaleDown),i.destroy=us(i,"destroy",!0),super(t,i);var n=us(i,"cover");this.cover=n!==!1?jG(t,n):void 0,this.cover&&(this.setCoverTransitInCallback(us(n,"transitIn",qG)),this.setCoverTransitOutCallback(us(n,"transitOut",_G)));var y=us(i,"touchOutsideClose",!1),S=us(i,"duration.hold",-1),r=us(i,"timeOutClose",S>=0),T=us(i,"anyTouchClose",!1),s=us(i,"manualClose",!1);s&&(y=!1,T=!1,r=!1),T&&(y=!1),r?this.setDisplayTime(S):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):y&&this.once("open",this.touchOutsideClose,this),us(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Mh(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=un[t]),t){case un.popUp:t=Ul.popUp;break;case un.fadeIn:t=Ul.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=un[t]),t){case un.scaleDown:t=Ul.scaleDown;break;case un.fadeOut:t=Ul.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const un={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var H0=function(e,t){var i=new t7(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(n){e.emit("modal.close",n,i)}),e.on("modal.requestClose",i.requestClose,i),i},e7=function(e,t){var i=H0(e,t);return new Promise(function(n,y){i.once("close",function(S){n(S)})})},k2=function(e,t){e.emit("modal.requestClose",t)},Qs=function(e){return e&&typeof e=="function"};const $0={modal(e,t){return Qs(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=H0(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,n){t.modal(e,i)})},modalClose(e){return k2(this,e),this}};var Qd=function(e,t,i,n){if(t)return Mh(e,t.worldX,t.worldY,i,n);for(var y=e.scene.input.manager,S=y.pointersTotal,r=y.pointers,T=0;T<S;T++)if(t=r[T],Mh(e,t.worldX,t.worldY,i,n))return!0;return!1},i7=function(e,t){return(Ci(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Qd(t,e)},rs=function(e){return Object.prototype.toString.call(e)==="[object Array]"},dd=function(e,t,i,n,y){return Mh(e,t,i,s7(n),n7(y))},k1=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},s7=function(e){return e?function(t,i,n){return k1(t)?(e(t,i,n),!0):!1}:k1},n7=function(e){return e},r7=function(e,t,i,n,y){if(Qs(i)||(y=i,i=void 0,n=void 0),y===void 0&&(this.sizerChildren?y=this.sizerChildren:y=this.children),rs(y)){for(var S,r=0,T=y.length;r<T;r++)if(S=y[r],dd(S,e,t,i,n))return S}else{var S;for(var s in y)if(S=y[s],dd(S,e,t,i,n))return S}return null},a7=function(e,t){return t===void 0?t={}:t===!0&&(t=o7),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},o7={},Xh=function(e){this.sizerEventsEnable&&(a7(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},Yh=function(e,t,i,n,y,S,r,T){kh(e,t,i,n,y,S),r!==void 0&&(e.x+=r),T!==void 0&&(e.y+=T),this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const h7=Phaser.Display.Align.CENTER;var l7=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,n=this.width,y=this.height,S,r,T,s,d,x,f,l=0,h=e.length;l<h;l++)S=e[l],r=S.rexSizer,!r.hidden&&(T=r.padding,Xh.call(this,S),s=t+T.left,d=i+T.top,x=n-T.left-T.right,f=y-T.top-T.bottom,Ye(S,x,f),Yh.call(this,S,s,d,x,f,h7))};const u7=Phaser.Utils.Objects.IsPlainObject;var d7=function(e,t,i){if(u7(e)){var n=e;e=n.sensor,i=n.target,t=n.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var y=typeof e;if(y==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||y!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(r,T,s){var d=i===void 0?this.getTopmostSizer():i;d.x+=T-e.x,d.y+=s-e.y,d.emit("sizer.drag",r,T,s)},this).on("dragstart",function(r,T,s){var d=i===void 0?this.getTopmostSizer():i;d.emit("sizer.dragstart",r,T,s)},this).on("dragend",function(r,T,s,d){var x=i===void 0?this.getTopmostSizer():i;x.emit("sizer.dragend",r,T,s,d)},this).on("drop",function(r,T){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",r,T)}),e.input._rexUIDragSizer=!0),this};const V2={onClick(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new _s(e,n)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Ao=Phaser.Utils.Objects.GetValue;class K0 extends ae{constructor(t,i){super(t,i),this._enable=void 0;var n=Ao(i,"inputConfig",void 0);n&&t.setInteractive(n),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Ao(t,"enable",!0)),this.setMode(Ao(t,"mode",1)),this.setClickInterval(Ao(t,"clickInterval",100)),this.setDragThreshold(Ao(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=f7[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,n=i.input?l0:Qd;return n(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t)))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,n,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var n=this.lastClickTime;return n!==void 0&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const f7={press:0,pointerdown:0,release:1,pointerup:1},c7={onClickOutside(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new K0(e,n)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class v7 extends en{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Gc=Phaser.Utils.Objects.GetValue;class $a extends ae{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new v7,this.parent.setInteractive(Gc(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Gc(t,"enable",!0)),this.setCooldown(Gc(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const p7={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Qd(e):!1},onTouching(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new $a(e,n)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new $a(e,n)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}};var U2=function(e,t,i){for(var n,y=0,S=e.length;y<S;y++)if(n=e[y],!!dd(n,t,i))return n.pointToChild(t,i);return null},Rs=function(e,t,i,n,y,S,r,T){var s;if(S===void 0)s=y;else if(n==="parent")s=U2(i,y,S);else for(var d=0,x=i.length;d<x;d++){var f=i[d];if(dd(f,y,S)){s=f;break}}s&&e.emit(t,s,r,T)};const g7=Phaser.Utils.Objects.GetValue;var m7=function(e){var t=g7(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",x7,this))},x7=function(e,t,i,n){var y=this._childrenInteractive;Rs(y.eventEmitter,`${y.eventNamePrefix}down`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,n)};const y7=Phaser.Utils.Objects.GetValue;var C7=function(e){var t=y7(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",T7,this))},T7=function(e,t,i,n){var y=this._childrenInteractive;Rs(y.eventEmitter,`${y.eventNamePrefix}up`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,n)};const S7=Phaser.Utils.Objects.GetValue;var E7=function(e){var t=S7(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",V1,this).on("pointerover",V1,this).on("pointerout",P7,this))},V1=function(e,t,i,n){var y=this._childrenInteractive,S=U2(y.targetSizers,e.worldX,e.worldY),r=y.lastOverChild;S&&r&&S===r||(y.lastOverChild=S,Rs(y.eventEmitter,`${y.eventNamePrefix}out`,y.targetSizers,y.targetMode,r,void 0,e,n),Rs(y.eventEmitter,`${y.eventNamePrefix}over`,y.targetSizers,y.targetMode,S,void 0,e,n))},P7=function(e,t){var i=this._childrenInteractive,n=i.lastOverChild;i.lastOverChild=null,Rs(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,n,void 0,e,t)};const M7=Phaser.Utils.Objects.GetValue;var w7=function(e){var t=M7(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new _s(this,t),this._click.on("click",function(n,y,S,r){Rs(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,r)},this)}};const Nc=Phaser.Utils.Objects.GetValue;class jd extends kd{constructor(t,i){var n=to(t);n===t&&(t=void 0),super(n,i),this.gameObject=t,t&&t.setInteractive(Nc(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Nc(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Nc(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=zc,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=U1,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=zc,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointer===t;!n&&i||(n&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===U1&&this.onDragEnd(),this.pointer=void 0,this.tracerState=zc,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=R7,this}}const zc=0,U1=1,R7="IDLE",or=Phaser.Utils.Objects.GetValue,A7=Phaser.Math.Distance.Between;class qd extends jd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.stop(),n.tapsCount=0,n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start(),n.tapsCount=0,n.emit("tappingstart",n,n.gameObject,n.lastPointer)}},RECOGNIZED:{enter:function(){n.start(),n.emit("tap",n,n.gameObject,n.lastPointer),n.emit(`${n.tapsCount}tap`,n,n.gameObject,n.lastPointer)}}},init:function(){this.state=hr},eventEmitter:!1};this.setRecongizedStateObject(new en(y))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(or(t,"time",250)),this.setTapInterval(or(t,"tapInterval",200)),this.setDragThreshold(or(t,"threshold",9)),this.setTapOffset(or(t,"tapOffset",10));var i=or(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(or(t,"maxTaps",void 0)),this.setMinTaps(or(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case hr:this.state=ea;break;case ea:var t=this.lastPointer,i=A7(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=ia,this.state=ea);break;case ia:this.state=ea;break}}onDragEnd(){this.state===ea&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=ia))}onDrag(){this.state!==hr&&this.pointer.getDistance()>this.dragThreshold&&(this.state=hr)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===ea){var n=this.lastPointer;if(n.isDown){var y=t-n.downTime;y>this.holdTime&&(this.state=hr)}else{var S=t-n.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=ia:this.state=hr)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===ia&&(this.state=hr)}get isTapped(){return this.state===ia}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const hr="IDLE",ea="BEGIN",ia="RECOGNIZED",W1=Phaser.Utils.Objects.GetValue;class _d extends jd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start()},exit:function(){n.stop()}},RECOGNIZED:{enter:function(){n.emit("pressstart",n,n.gameObject,n.lastPointer)},exit:function(){n.emit("pressend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Wl},eventEmitter:!1};this.setRecongizedStateObject(new en(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(W1(t,"threshold",9)),this.setHoldTime(W1(t,"time",251)),this}onDragStart(){this.state=X1,this.holdTime===0&&(this.state=kc)}onDragEnd(){this.state=Wl}onDrag(){this.state!==Wl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Wl)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===X1){var n=t-this.pointer.downTime;n>=this.holdTime&&(this.state=kc)}}get isPressed(){return this.state===kc}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const Wl="IDLE",X1="BEGIN",kc="RECOGNIZED",L7=Phaser.Utils.Objects.GetValue;class W2 extends jd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{},BEGIN:{enter:function(){var S=n.pointer;n.startX=S.x,n.startY=S.y,n.startWorldX=S.worldX,n.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){n.emit("panstart",n,n.gameObject,n.lastPointer)},exit:function(){var S=n.lastPointer;n.endX=S.x,n.endY=S.y,n.endWorldX=S.worldX,n.endWorldY=S.worldY,n.emit("panend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Y1},eventEmitter:!1};this.setRecongizedStateObject(new en(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(L7(t,"threshold",10)),this}onDragStart(){this.state=H1,this.dragThreshold===0&&(this.state=Xl)}onDragEnd(){this.state=Y1}onDrag(){switch(this.state){case H1:this.pointer.getDistance()>=this.dragThreshold&&(this.state=Xl);break;case Xl:var t=this.pointer.position,i=this.pointer.prevPosition;this.dx=t.x-i.x,this.dy=t.y-i.y;var n=this.pointer;this.x=n.x,this.y=n.y,this.worldX=n.worldX,this.worldY=n.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===Xl}setDragThreshold(t){return this.dragThreshold=t,this}}const Y1="IDLE",H1="BEGIN",Xl="RECOGNIZED",O7=Phaser.Math.Distance.Between,F7=Phaser.Math.Angle.Between,D7={getDt:function(){var e=f0(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=O7(t.x,t.y,e.x,e.y),n=i/(this.getDt()*.001);return n},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),n=i/(this.getDt()*.001);return n},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),n=i/(this.getDt()*.001);return n},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=F7(t.x,t.y,e.x,e.y);return i}},I7={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var B7=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=b7),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},b7={};const Vc=Phaser.Utils.Objects.GetValue,G7=Phaser.Math.RadToDeg;class Hh extends jd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.validDrag=!1}},RECOGNIZED:{enter:function(){n.start(),n.updateDirectionStates(),n.emit("swipe",n,n.gameObject,n.lastPointer)},exit:function(){n.stop(),n.clearDirectionStates()}}},init:function(){this.state=Uc},eventEmitter:!1};this.setRecongizedStateObject(new en(y)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Vc(t,"threshold",10)),this.setVelocityThreshold(Vc(t,"velocityThreshold",1e3)),this.setDirectionMode(Vc(t,"dir","8dir")),this}onDragStart(){this.state=$1}onDragEnd(){this.state=Uc}onDrag(){this.state===$1&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Wc))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Wc&&(this.state=Uc)}get isSwiped(){return this.state===Wc}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=I7[t]),this.dirMode=t,this}updateDirectionStates(){var t=G7(this.getVelocityAngle());return B7(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Hh.prototype,D7);const Uc="IDLE",$1="BEGIN",Wc="RECOGNIZED",Yl=Phaser.Utils.Objects.GetValue,N7=Phaser.Utils.Array.SpliceOne,z7=Phaser.Math.Distance.Between,k7=Phaser.Math.Angle.Between;class Z0{constructor(t,i){var n=to(t);n===t&&(t=void 0);var y=n.input.manager.pointersTotal-1;y<2&&n.input.addPointer(2-y),this.scene=n,this.gameObject=t,t&&t.setInteractive(Yl(i,"inputConfig",void 0)),this.setEventEmitter(Yl(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Yl(t,"enable",!0)),this.bounds=Yl(t,"bounds",void 0),this.tracerState=Hl,this.pointers.length=0,Ws(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Ws(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case Hl:this.tracerState=Oo,this.onDrag1Start();break;case Oo:this.tracerState=ds,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n!==-1)switch(delete this.movedState[t.id],N7(this.pointers,n),this.tracerState){case Oo:this.tracerState=Hl,this.onDrag1End();break;case ds:this.tracerState=Oo,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointers.indexOf(t)!==-1;if(!(!n&&i)){if(n&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Oo:this.onDrag1();break;case ds:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ds&&this.onDrag2End(),this.pointers.length=0,Ws(this.movedState),this.tracerState=Hl,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ds)return 0;var t=this.pointers[0],i=this.pointers[1];return z7(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==ds)return 0;var t=this.pointers[0],i=this.pointers[1];return k7(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,n=t.prevPosition;Lo.x=i.x-n.x,Lo.y=i.y-n.y}else Lo.x=0,Lo.y=0;return Lo}get centerX(){if(this.tracerState!==ds)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==ds)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==ds)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==ds)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=V7,this}}Object.assign(Z0.prototype,qa);var Lo={};const Hl=0,Oo=1,ds=2,V7="IDLE",U7=Phaser.Utils.Objects.GetValue;class X2 extends Z0{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.prevDistance=void 0,n.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("pinchstart",n)},exit:function(){n.emit("pinchend",n)}}},init:function(){this.state=K1},eventEmitter:!1};this.setRecongizedStateObject(new en(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(U7(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=Z1,this.dragThreshold===0&&(this.state=$l)}onDrag2End(){this.state=K1}onDrag2(){switch(this.state){case Z1:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=$l}break;case $l:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===$l}setDragThreshold(t){return this.dragThreshold=t,this}}const K1="IDLE",Z1="BEGIN",$l="RECOGNIZED",W7=Phaser.Math.RotateAround;var J1=function(e,t,i,n){return W7(e,t,i,n),e.rotation+=n,e},X7=function(e,t,i,n){return n===void 0?n={}:n===!0&&(n=Y7),i.getWorldPoint(e,t,n),n},Y7={},H7=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY,y=X7(this.centerX,this.centerY,t,!0),S=y.x,r=y.y,T=this.rotation;if(Array.isArray(e))for(var s=e,d=0,x=s.length;d<x;d++)e=s[d],e.x+=i,e.y+=n,J1(e,S,r,T);else e.x+=i,e.y+=n,J1(e,S,r,T);return this};const $7=Phaser.Utils.Objects.GetValue,Xc=Phaser.Math.Angle.WrapDegrees,Q1=Phaser.Math.Angle.ShortestBetween,Yc=Phaser.Math.RadToDeg,K7=Phaser.Math.DegToRad;class J0 extends Z0{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.prevAngle=void 0,n.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("rotatestart",n)},exit:function(){n.emit("rotateend",n)}}},init:function(){this.state=j1},eventEmitter:!1};this.setRecongizedStateObject(new en(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold($7(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Xc(Yc(this.angleBetween)),this.state=q1,this.dragThreshold===0&&(this.state=Kl)}onDrag2End(){this.state=j1}onDrag2(){switch(this.state){case q1:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Xc(Yc(this.angleBetween));this.angle=Q1(this.prevAngle,t),this.prevAngle=t,this.state=Kl}break;case Kl:var t=Xc(Yc(this.angleBetween));this.angle=Q1(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Kl}get rotation(){return K7(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var Z7={spinObject:H7};Object.assign(J0.prototype,Z7);const j1="IDLE",q1="BEGIN",Kl="RECOGNIZED",J7=Phaser.Utils.Objects.GetValue;var Q7=function(e){var t=J7(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new qd(this,t),this._tap.on("tap",function(n,y,S){Rs(i.eventEmitter,`${i.eventNamePrefix}${n.tapsCount}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S)},this)}};const j7=Phaser.Utils.Objects.GetValue;var q7=function(e){var t=j7(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new _d(this,t),this._press.on("pressstart",function(n,y,S){Rs(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S)},this).on("pressend",function(n,y,S){Rs(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S)},this)}};const _7=Phaser.Utils.Objects.GetValue;var tN=function(e){var t=_7(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new Hh(this,t),this._swipe.on("swipe",function(n,y,S){var r=n.left?"left":n.right?"right":n.up?"up":"down";Rs(i.eventEmitter,`${i.eventNamePrefix}swipe${r}`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S)},this)}};const Fo=Phaser.Utils.Objects.GetValue;var Q0=function(e,t){return e.setInteractive(),Fo(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:Fo(t,"targets",[e]),targetMode:Fo(t,"targetMode","parent"),eventEmitter:Fo(t,"eventEmitter",e),eventNamePrefix:Fo(t,"inputEventPrefix","child.")},m7.call(e,t),C7.call(e,t),E7.call(e,t),w7.call(e,t),Q7.call(e,t),q7.call(e,t),tN.call(e,t),e},eN=function(e){return Q0(this,e),this},iN=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var n=e[t];n.emit.apply(n,arguments)}return this},Y2={getSizerConfig:C6,getChildPrevState:T6,pushIntoBounds:S6,drawBounds:B6,resolveWidth:D0,hasWidthWrap:I0,resolveChildrenWidth:J6,runWidthWrap:B0,resolveHeight:b0,hasHeightWrap:G0,resolveChildrenHeight:Q6,runHeightWrap:N0,getChildWidth:j6,getChildHeight:q6,getExpandedChildWidth:_6,getExpandedChildHeight:tG,getChildrenWidth:eG,getChildrenHeight:iG,addChildrenMap:M1,addElement:M1,removeChildrenMap:Y6,getElement:H6,getChildIndex:K6,getAllChildrenSizers:sG,getChildrenSizers:nG,preLayout:Wh,layout:aG,runLayout:oG,layoutChildren:uG,layoutBackgrounds:l7,postLayout:fG,_postLayout:dG,setAnchor:gG,isInTouching:i7,pointToChild:r7,setDraggable:d7,setChildrenInteractive:eN,broadcastEvent:iN};Object.assign(Y2,Z6,N6,X6,io,V0,PG,RG,IG,GG,V2,c7,p7,NG,$0,rG);const sa=Phaser.Utils.Objects.GetValue;class Nr extends Ei{constructor(t,i,n,y,S,r){super(t,i,n,1,1),this.isRexSizer=!0,this.setMinSize(y,S),this.setName(sa(r,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.enableLayoutWarn(!1);var T=sa(r,"anchor",void 0);T&&this.setAnchor(T),this.setInnerPadding(sa(r,"space",0));var s=sa(r,"draggable",!1);s&&this.setDraggable(s),this.setSizerEventsEnable(sa(r,"sizerEvents",!1)),this.setDirty(!0),sa(r,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),n=0,y=i.length;n<y;n++)i[n].sizerEventsEnable=!1;super.destroy(t),Ws(this.backgroundChildren),Ws(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-It(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+It(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+It(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Bt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Bt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Bt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}}Object.assign(Nr.prototype,Y2);var sN=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,y,S=!1;for(var r in t)i=t[r],y=this.getChildWidth(i),y===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,y+=n.left+n.right,e=Math.max(y,e));if(!S)return e+this.space.left+this.space.right},nN=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,y,S=!1;for(var r in t)i=t[r],y=this.getChildHeight(i),y===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,y+=n.top+n.bottom,e=Math.max(y,e));if(!S)return e+this.space.top+this.space.bottom},rN=function(e,t){t===void 0&&(t=this.width);var i,n=e.rexSizer;if(n.expandWidth){var y=this.space,S=t-y.left-y.right,r=n.padding;i=S-r.left-r.right}return i},aN=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(n.expandHeight){var y=this.space,S=t-y.top-y.bottom,r=n.padding;i=S-r.top-r.bottom}return i},oN=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var n in t)i=t[n],i.isRexSizer&&e.push(i);return e},H2=function(e,t,i,n){i===void 0&&(i=!0),n===void 0?n={}:n===!0&&(n=hN);var y=e.width,S=e.height,r=t.width,T=t.height;if(y<=r&&S<=T)if(i){var s=y/S,d=r/T;d<s?(n.width=r,n.height=r/s):d>s?(n.width=T*s,n.height=T):(n.width=r,n.height=T)}else n.width=y,n.height=S;else{var s=y/S;n.width=Math.min(y,r),n.height=Math.min(S,T);var x=n.width/n.height;x<s?n.height=n.width/s:x>s&&(n.width=n.height*s)}return n},hN={},j0=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},lN=function(){var e,t,i,n=this.innerLeft,y=this.innerTop,S=this.innerWidth,r=this.innerHeight,T,s,d,x,f,l,h,a=this.sizerChildren;for(var u in a)e=a[u],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,Xh.call(this,e),f=this.getExpandedChildWidth(e),l=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Hc.width=t.aspectRatio,Hc.height=1,$c.width=f,$c.height=l,h=H2(Hc,$c,!0,!0),f=h.width,l=h.height),e.isRexSizer?(e.runLayout(this,f,l),j0(e,this)):Ye(e,f,l),T=n+i.left,d=S-i.left-i.right,s=y+i.top,x=r-i.top-i.bottom,Yh.call(this,e,T,s,d,x,t.align,t.alignOffsetX,t.alignOffsetY))},Hc={},$c={};const _1=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,tC=Phaser.Display.Align.CENTER,uN=Phaser.Utils.String.UUID;var dN=function(e,t,i,n,y,S,r,T,s,d){if(Vh.call(this,e),_1(t)){var f=t;t=Wi(f,"key",void 0),i=Wi(f,"align",tC),n=Wi(f,"padding",0),y=Wi(f,"expand",!0),e.isRexSizer||(S=Wi(f,"minWidth",e._minWidth),r=Wi(f,"minHeight",e._minHeighted)),T=Wi(f,"offsetX",0),s=Wi(f,"offsetY",0),d=Wi(f,"aspectRatio",0)}var x=t!==void 0;x||(t=uN()),typeof i=="string"&&(i=eo[i]),i===void 0&&(i=tC),n===void 0&&(n=0),y===void 0&&(y=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),r===void 0&&(r=e._minHeight)),T===void 0&&(T=0),s===void 0&&(s=0),d===void 0?d=0:d===!0&&(d=It(e)/Bt(e)),d>0&&(y=!0,S===void 0&&(S=0),r===void 0&&(r=0));var f=this.getSizerConfig(e);return f.align=i,f.padding=Un(n),_1(y)?(f.expandWidth=Wi(y,"width",!1),f.expandHeight=Wi(y,"height",!1)):(f.expandWidth=y,f.expandHeight=y),e.isRexSizer||(f.expandWidth&&(e.minWidth=S===void 0?It(e):S),f.expandHeight&&(e.minHeight=r===void 0?Bt(e):r)),f.alignOffsetX=T,f.alignOffsetY=s,f.aspectRatio=d,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,x&&this.addChildrenMap(t,e),this};const fN={add:dN},cN=Ei.prototype.clear;var tf=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),cN.call(this,e),t)for(var n,y=0,S=i.length;y<S;y++)n=i[y],n.emit("sizer.remove",n,this),this.emit("remove",n,this);return this};const vN={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),Uh.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return tf.call(this,e),this}};var $2={getChildrenWidth:sN,getChildrenHeight:nN,getExpandedChildWidth:rN,getExpandedChildHeight:aN,getChildrenSizers:oN,layoutChildren:lN};Object.assign($2,fN,vN);var ef=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const eC=Phaser.Utils.Objects.IsPlainObject,na=Phaser.Utils.Objects.GetValue;class Vi extends Nr{constructor(t,i,n,y,S,r){eC(i)?(r=i,i=na(r,"x",0),n=na(r,"y",0),y=na(r,"width",void 0),S=na(r,"height",void 0)):eC(y)&&(r=y,y=na(r,"width",void 0),S=na(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return ef(this.sizerChildren,t);return null}}Object.assign(Vi.prototype,$2);var pN=Phaser.Math.Distance.Between,fd=function(e,t,i){var n=e.width/2;return pN(n,n,t,i)<=n};const gN=Phaser.Math.Angle.Between,mN=Phaser.Math.Angle.Normalize;var iC=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;if(fd(n,t,i)){var y=n.width/2,S=n.startAngle,r=gN(y,y,t,i),T=n.anticlockwise?S-r:r-S,s=mN(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},xN=function(){var e=this.sizerChildren.knob;e.on("pointerdown",iC,this).on("pointermove",iC,this).setInteractive()};const sC=Phaser.Math.Angle.Between,yN=Phaser.Math.Angle.Wrap;var CN=function(e,t,i){if(!(!this.enable||this.panPointer)){var n=this.sizerChildren.knob;fd(n,t,i)&&K2.call(this,e)}},TN=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;switch(this.panState){case q0:fd(n,t,i)&&K2.call(this,e);break;case J2:fd(n,t,i)?EN.call(this):Z2.call(this);break}}},SN=function(e,t,i){!this.enable||this.panPointer!==e||Z2.call(this)},K2=function(e){this.panPointer=e,this.panState=J2},Z2=function(){this.panPointer=void 0,this.panState=q0},EN=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,n=sC(i.x,i.y,e.x,e.y),y=sC(i.x,i.y,t.x,t.y),S=i.anticlockwise?n-y:y-n,r=yN(S)/(Math.PI*2);this.stopEaseValue(),this.value+=r};const q0=0,J2=1;var PN=function(){var e=this.sizerChildren.knob;e.on("pointerdown",CN,this).on("pointermove",TN,this).on("pointerup",SN,this).setInteractive(),this.panPointer=void 0,this.panState=q0},MN=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},Q2=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},wN=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Q2.call(this,e)),t.layout&&t.layout()),this};const RN={setTextFormatCallback:MN,getFormatText:Q2,updateText:wN},Xi=Phaser.Utils.Objects.GetValue,AN=Phaser.Math.Snap.To;class _0 extends Gr(Vi){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var n=Xi(i,"background",void 0),y=Xi(i,"text",void 0);n&&this.addBackground(n),y&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(Xi(i,"textFormatCallback",void 0),Xi(i,"textFormatCallbackScope",void 0)));var S=new Yd(t,i);S.setDepth(Xi(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),y&&(this.add(y,"text","center",0,!1),t.children.moveBelow(S,y)),this.addChildrenMap("background",n),this.addChildrenMap("knob",S),this.addChildrenMap("text",y),this.setEnable(Xi(i,"enable",void 0)),this.setGap(Xi(i,"gap",void 0)),this.setValue(Xi(i,"value",0),Xi(i,"min",void 0),Xi(i,"max",void 0));var r=Xi(i,"input",0);switch(typeof r=="string"&&(r=LN[r]),r){case 0:PN.call(this);break;case 1:xN.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=AN(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var n=this.value;i!==n&&(this.updateText(),this.eventEmitter.emit("valuechange",n,i,this.eventEmitter))}}const LN={pan:0,drag:0,click:1,none:-1};Object.assign(_0.prototype,RN);st.register("knob",function(e){var t=new _0(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Knob",_0);const ON={arc:c0,circle:v2,curve:cb,ellipse:vb,line:pb,lines:Gn,rectangle:Gb,roundRectangle:hd,triangle:zb},nC=Phaser.Utils.Objects.GetValue,FN=Phaser.Utils.Objects.IsPlainObject,DN=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},IN={createShape(e,t){var i=ON[e],n=new i;return t&&n.setName(t),n},buildShapes(e){var t=nC(e,"create",void 0);if(FN(t)){var i=t;for(var n in i){var y=i[n];switch(typeof y){case"number":for(var S=0;S<y;S++)this.addShape(this.createShape(n));break;case"string":this.addShape(this.createShape(n,y));break;default:for(var r=y,S=0,T=r.length;S<T;S++)this.addShape(this.createShape(n,r[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,T=i.length;S<T;S++){var s=i[S];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(nC(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=DN),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},rC=Phaser.GameObjects.Components.TransformMatrix,BN=Phaser.Math.TransformXY;var bN=function(e,t,i,n,y){n===void 0&&(n=e.scene.cameras.main),y===void 0?y={}:y===!0&&(y=GN);var S=n.scrollX,r=n.scrollY,T=t+S*e.scrollFactorX-S,s=i+r*e.scrollFactorY-r;return e.parentContainer?(Zl===void 0&&(Zl=new rC,aC=new rC),e.getWorldTransformMatrix(Zl,aC),Zl.applyInverse(T,s,y)):BN(T,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,y),y.x+=e.displayOriginX,y.y+=e.displayOriginY,y},Zl,aC,GN={};const Do=Phaser.Utils.Objects.GetValue,NN=Phaser.Utils.Objects.IsPlainObject;class sf extends Br{constructor(t,i,n,y,S,r){NN(i)&&(r=i,i=Do(r,"x",0),n=Do(r,"y",0),y=Do(r,"width",2),S=Do(r,"height",2)),super(t,i,n,y,S),this.type=Do(r,"type","rexCustomShapes"),this.buildShapes(r)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,n,y){return typeof n=="boolean"&&(y=n,n=void 0),bN(this,t,i,n,y)}}Object.assign(sf.prototype,IN);st.register("customShapes",function(e,t,i,n,y){var S=new sf(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomShapes",sf);const Io=Phaser.Utils.Objects.GetValue,zN=Phaser.Utils.Objects.IsPlainObject;class Os extends Gr(sf){constructor(t,i,n,y,S,r){zN(i)&&(r=i,i=Io(r,"x",0),n=Io(r,"y",0),y=Io(r,"width",2),S=Io(r,"height",2)),r===void 0&&(r={}),r.type||(r.type="rexCustomProgress"),super(t,i,n,y,S,r),this.bootProgressBase(r),this.setValue(Io(r,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}st.register("customProgress",function(e,t,i,n,y){var S=new Os(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomProgress",Os);const kN={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}},oC=Phaser.Utils.Objects.IsPlainObject,Kc=Phaser.Utils.Objects.GetValue,VN=Phaser.Utils.Array.GetRandom;var UN={out:0,in:1},fs=function(e,t,...i){for(var n=0,y=i.length;n<y;n++){var S=i[n];if(S&&S.hasOwnProperty(e))return S[e]}return t};const WN={setTransitionDirection(e){return typeof e=="string"&&(e=UN[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,oC(e)){var n=e;e=Kc(n,"key",void 0),t=Kc(n,"frame",void 0),i=Kc(n,"mode"),Array.isArray(i)&&(i=VN(i));var y;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(y=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(fs("duration",this.duration,n,y)).setEaseFunction(fs("ease",this.easeFunction,n,y)).setTransitionDirection(fs("dir",this.dir,n,y));var S=fs("mask",void 0,n,y);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var r=fs("onStart",void 0,n,y),T=fs("onProgress",void 0,n,y),s=fs("onComplete",void 0,n,y);(r!==void 0||T!==void 0||s!==void 0)&&this.setTransitionStartCallback(r,fs("onStartScope",void 0,n,y)).setTransitionProgressCallback(T,fs("onProgressScope",void 0,n,y)).setTransitionCompleteCallback(s,fs("onCompleteScope",void 0,n,y))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),oC(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Jn(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var hC=function(e,t,i,n,y){switch(this.clear().fillStyle(16777215),this.shapeType){case 1:i=i.left;var S=Math.min(e,t)/2;this.fillCircle(-e*(n-.5),-t*(y-.5),S+i);break;default:this.fillRect(-(e*n)-i.left,-(t*y)-i.top,e+i.left+i.right,t+i.top+i.bottom);break}};const XN=Phaser.GameObjects.Graphics;class $p extends XN{constructor(t,i,n){i===void 0&&(i=0),typeof i=="string"&&(i=YN[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=Un(n),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,i){var n=this.parent;return t===void 0&&(t=n.x),i===void 0&&(i=n.y),super.setPosition(t,i),this}resize(t,i,n){var y=this.parent;t===void 0&&(t=y.width),i===void 0&&(i=y.height),n===void 0?n=this.padding:typeof n=="number"&&(n=Un(n));var S=this.width!==t||this.height!==i,r=this.padding!==n&&!Wd(this.padding,n);return!S&&!r?this:(this.width=t,this.height=i,r&&Js(n,this.padding),this.originX=y.originX,this.originY=y.originY,hC.call(this,t,i,n,y.originX,y.originY),this)}setOrigin(t,i){i===void 0&&(i=t);var n=this.parent;return t===void 0&&(t=n.originX),i===void 0&&(i=n.originY),this.originX===t&&this.originY===i?this:(this.originX=t,this.originY=i,hC.call(this,this.width,this.height,this.padding,t,i),this)}}const YN={rectangle:0,circle:1},HN={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof $p)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new $p(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),n=0,y=i.length;n<y;n++)this.setImageMaskEnable(i[n],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var $N=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(n,y){return`${n}${t}${y}`}:i=function(n,y){return`${e}_${n}${t}${y}`},i},KN=function(e,t,i,n,y,S){i==null&&(i="__BASE"),S||(S=$N(i,S));for(var r=e.sys.textures.get(t),T=typeof i=="object"?i:r.get(i),s=T.width,d=T.height,x,f,l,h=s/n,a=d/y,u=T.cutX,v=T.cutY,o=0,c=0,p=0;p<y;p++){o=0;for(var g=0;g<n;g++)l=S(g,p),x=o+u,f=c+v,r.add(l,0,x,f,h,a),o+=h;c+=a}return{getFrameNameCallback:S,cellWidth:h,cellHeight:a,columns:n,rows:y}};const Ds=Phaser.Utils.Objects.GetValue,ZN=Phaser.GameObjects.Image,JN=Phaser.Utils.Objects.IsPlainObject,QN=Phaser.Math.RotateAround;var jN=function(e,t,i,n){JN(t)&&(n=t,t=Ds(n,"columns",1),i=Ds(n,"rows",1));var y=Ds(n,"createImageCallback");if(!y){var S=Ds(n,"ImageClass",ZN);y=function(B,b,G){return new S(B,0,0,b,G)}}for(var r=Ds(n,"originX",.5),T=Ds(n,"originY",.5),s=Ds(n,"add",!0),d=Ds(n,"align",s),x=Ds(n,"objectPool",void 0),f=e.scene,l=e.texture,h=e.frame,a=KN(f,l,h,t,i),u=a.getFrameNameCallback,v=e.scaleX,o=e.scaleY,c=e.rotation,p=e.getTopLeft(),g=p.x,m=p.y,C=[],E=a.cellWidth*v,M=a.cellHeight*o,P=0;P<i;P++)for(var w=0;w<t;w++){var R,A=u(w,P);if(x&&x.length>0?R=x.pop().setTexture(l,A):R=y(f,l,A),s&&f.add.existing(R),d){var L=g+E*w,F=m+M*P,O=L+r*E,D=F+T*M;R.setOrigin(r,T).setPosition(O,D).setScale(v,o).setRotation(c),QN(R,g,m,c)}C.push(R)}return C};const qN={gridCutImage(e,t,i,n){n===void 0&&(n={}),n.objectPool=this.imagesPool;for(var y=jN(e,t,i,n),S,r=0,T=y.length;r<T;r++)S=y[r],S.setVisible(!0),this.add(S);return this.cellImages=y,this.setChildLocalVisible(e,!1),y},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,n,y=0,S=t.length;y<S;y++)i=t[y],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),n=i.frame.name,i.setTexture(),e.remove(n);return this.imagesPool.push(...t),t.length=0,this}},j2={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var q2={};Object.assign(q2,kN,WN,HN,qN,j2);var _N=function(e,t,i,n){},tz=function(e,t,i,n){e.setChildLocalAlpha(t,1-n).setChildLocalAlpha(i,n)},ez=function(e,t,i,n){e.setChildLocalAlpha(t,1)};const lC=Phaser.Utils.Objects.IsPlainObject,me=Phaser.Utils.Objects.GetValue,iz=Phaser.Math.Clamp;class nf extends Ei{constructor(t,i,n,y,S,r){lC(i)?(r=i,i=me(r,"x",0),n=me(r,"y",0),y=me(r,"key",void 0),S=me(r,"frame",void 0)):lC(S)&&(r=S,S=void 0);var T=me(r,"back",void 0),s=me(r,"front",void 0);T||(T=t.add.image(i,n,y,S)),s||(s=t.add.image(i,n,y,S));var d=me(r,"width",s.width),x=me(r,"height",s.height);super(t,i,n,d,x),this.type="rexTransitionImage",T.setVisible(!1),this.addMultiple([T,s]),this.backImage=T,this.frontImage=s,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var f=me(r,"onStart",void 0),l=me(r,"onProgress",void 0),h=me(r,"onComplete",void 0),a=me(r,"dir",0);f===void 0&&l===void 0&&h===void 0&&(f=_N,l=tz,h=ez,a=0),this.setTransitionStartCallback(f,me(r,"onStartScope",void 0)).setTransitionProgressCallback(l,me(r,"onProgressScope",void 0)).setTransitionCompleteCallback(h,me(r,"onCompleteScope",void 0)).setTransitionDirection(a).setDuration(me(r,"duration",1e3)).setEaseFunction(me(r,"ease","Linear"));var u=me(r,"mask",void 0);u&&this.setMaskGameObject(u),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=iz(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,n=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Zc(this.onStartCallback,this.onStartCallbackScope,this,i,n,t)),Zc(this.onProgressCallback,this.onProgressCallbackScope,this,i,n,t),t===1){Zc(this.onCompleteCallback,this.onCompleteCallbackScope,this,i,n,t);var y=n.texture.key,S=n.frame.name;this.frontImage.setTexture(y,S),this.backImage.setTexture(y,S),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),this}}var Zc=function(e,t,i,n,y,S){e&&(t?e.call(t,i,n,y,S):e(i,n,y,S))};Object.assign(nf.prototype,q2);st.register("transitionImage",function(e,t,i,n,y){var S=new nf(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImage",nf);const sz="slideLeft",nz="slideRight",rz="slideUp",az="slideDown",oz="slideAwayLeft",hz="slideAwayRight",lz="slideAwayUp",uz="slideAwayDown",dz="pushLeft",fz="pushRight",cz="pushUp",vz="pushDown",pz="zoomOut",gz="zoomIn",mz="zoomInOut",xz="fade",yz="crossFade",Cz="wipeLeft",Tz="wipeRight",Sz="wipeUp",Ez="wipeDown",Pz="irisOut",Mz="irisIn",wz="irisInOut",Rz="pieOut",Az="pieIn",Lz="pieInOut",Oz="blinds",Fz="squares",Dz="diamonds",Iz="circles",Bz="curtain",bz="pixellate",Gz="dissolve",Nz="revealLeft",zz="revealRight",kz="revealUp",Vz="revealDown";var Uz=function(e){e.addTransitionMode(hz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*y;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(oz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(uz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*y;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(lz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}})},Wz=function(e){e.addTransitionMode(nz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.width*(y-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(sz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.width*(1-y);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(az,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.height*(y-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(rz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.height*(1-y);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}})},Xz=function(e){e.addTransitionMode(fz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*y;t.setChildLocalPosition(i,S,0);var S=n.width*(y-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(dz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0);var S=n.width*(1-y);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(vz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*y;t.setChildLocalPosition(i,0,S);var S=n.height*(y-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(cz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S);var S=n.height*(1-y);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}})},Yz=function(e){e.addTransitionMode(pz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=1-y;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,n,y){t.setChildLocalScale(i,1,1)}}).addTransitionMode(gz,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=y;t.setChildLocalScale(n,S,S)},onComplete:function(t,i,n,y){t.setChildLocalScale(n,1,1)}}).addTransitionMode(mz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){n.tint=0},onProgress:function(t,i,n,y){var S;y<.5?(S=1-xi(y),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-xi(y),t.setChildLocalScale(n,S,S))},onComplete:function(t,i,n,y){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(n,1,1),t.setChildVisible(n,!0),n.tint=16777215}})},Hz=function(e){e.addTransitionMode(xz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){n.tint=0},onProgress:function(t,i,n,y){var S;y<.5?(y=xi(y),S=Math.floor(255*(1-y)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),y=xi(y),S=Math.floor(255*(1-y)),n.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,n,y){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(n,!0),n.tint=16777215}}).addTransitionMode(yz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){t.setChildLocalAlpha(i,1-y),t.setChildLocalAlpha(n,y)},onComplete:function(t,i,n,y){t.setChildLocalAlpha(i,1)}})},$z=function(e){var t=new Os(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),n=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*n,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*n,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*n).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*n).setTopLeftPosition(0,0);break}}});return t},Kz=function(e){var t=$z(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Tz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Cz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Ez,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Sz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},Zz=function(e){var t=new Os(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Jz=function(e){var t=Zz(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Pz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Mz,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,y,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(wz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},Qz=function(e){var t=new Os(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,n=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-n,90+n).setPie()}});return t},jz=function(e){var t=Qz(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Rz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Az,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,y,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Lz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},qz=function(e,t){var i=new Os(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var n=this.getShapes(),y=this.width/t,S=0;S<t;S++)n[S].fillStyle(16777215).setSize(y*this.value,this.height).setTopLeftPosition(y*S,0)}});return i},_z=function(e){var t=qz(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Oz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},tk=function(e,t,i){var n=new Os(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var y=this.getShapes(),S=this.width/t,r=this.height/i,T=0;T<i;T++)for(var s=0;s<t;s++)y[s*i+T].fillStyle(16777215).setSize(S*this.value,r*this.value).setCenterPosition(S*(s+.5),r*(T+.5))}});return n},ek=function(e){var t=tk(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(Fz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},ik=function(e,t,i){var n=new Os(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/i,T=r*2,s=S*this.value,d=r*this.value,x=0;x<i;x++)for(var f=0;f<t;f++){var l=f*S,h=x*T+f%2*r;y[f*i+x].fillStyle(16777215).start(l+s,h).lineTo(l,h+d).lineTo(l-s,h).lineTo(l,h-d).lineTo(l+s,h).close()}}});return n},sk=function(e){var t=ik(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Dz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},nk=function(e,t,i){var n=new Os(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/i,T=r*2,s=Math.max(S,r)*this.value,d=0;d<i;d++)for(var x=0;x<t;x++){var f=x*S,l=d*T+x%2*r;y[x*i+d].fillStyle(16777215).setCenterPosition(f,l).setRadius(s)}}});return n},rk=function(e){var t=nk(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Iz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},ak=function(e,t){var i=new Os(e,{type:"Graphics",create:{lines:t},update:function(){for(var n=this.getShapes(),y=this.width/t,S=y/2,r=0;r<t;r++){var T=y*r,s=this.height*this.value,d=T+S;n[r].fillStyle(16777215).start(T,0).horizontalLineTo(s).arc(d,s,S,180,0,!0).horizontalLineTo(-s).lineTo(T,0).close()}}});return i},ok=function(e){var t=ak(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Bz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=xi(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},hk=function(e){e.addTransitionMode(bz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){t.setChildVisible(n,!1),i.effect=i.preFX.addPixelate(0),n.effect=n.preFX.addPixelate(0)},onProgress:function(t,i,n,y){if(y<.5){y=xi(y);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*y)}else{i.visible&&t.setChildVisible(i,!1),n.visible||t.setChildVisible(n,!0),y=xi(y);var S=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(S*y)}},onComplete:function(t,i,n,y){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),n.preFX.remove(n.effect),delete n.effect}})};const lk=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,uk=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${lk}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,dk=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Yi=Phaser.Utils.Objects.GetValue,fk=Phaser.Math.Clamp;class Jc extends dk{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:uk}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Yi(t,"progress",0)),this.setTransitionTargetTexture(Yi(t,"toTexture","__DEFAULT"),Yi(t,"toFrame",void 0),Yi(t,"resizeMode",1)),this.setNoise(Yi(t,"noiseX",void 0),Yi(t,"noiseY",void 0),Yi(t,"noiseZ",void 0)),this.setFromEdge(Yi(t,"fromEdgeStart",.01),Yi(t,"fromEdgeWidth",.05)),this.setToEdge(Yi(t,"toEdgeStart",.01),Yi(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=fk(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,n){t===void 0&&(t="__DEFAULT");var y=this.game.textures.getFrame(t,i);return y||(y=this.game.textures.getFrame("__DEFAULT")),this.toRatio=y.width/y.height,this.toFrame=y,this.targetTexture=y.glTexture,n!==void 0&&(this.resizeMode=n),this}setResizeMode(t){return typeof t=="string"&&(t=ck[t]),this.resizeMode=t,this}setNoise(t,i,n){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),n===void 0&&(n=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=n,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var ck={stretch:0,contain:1,cover:2},vk=function(e,t,i){Lr(e).renderer.pipelines.addPostPipeline(t,i)},pk=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var n=e.postPipelines[e.postPipelines.length-1];return n.resetFromJSON(i),i.name&&(n.name=i.name),n};const uC=Phaser.Utils.Array.SpliceOne;var gk=function(e,t,i){if(i===void 0)for(var n=e.postPipelines,y=n.length-1;y>=0;y--){var S=n[y];S instanceof t&&(S.destroy(),uC(n,y))}else for(var n=e.postPipelines,y=0,r=n.length;y<r;y++){var S=n[y];S instanceof t&&S.name===i&&(S.destroy(),uC(n,y))}},mk=function(e){vk(e.scene.game,"rexDissolvePostFx",Jc),e.addTransitionMode(Gz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){i.effect=pk(i,Jc)},onProgress:function(t,i,n,y){i.effect.setProgress(y)},onComplete:function(t,i,n,y){gk(i,Jc),delete i.effect}})};const Jl=.1,xk=0,yk=0,Ck=1,Tk=1,dC=0,fC=1;var Sk=function(e){e.addTransitionMode(zz,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Jl,xk,dC)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(Nz,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Jl,Ck,dC)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(Vz,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Jl,yk,fC)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(kz,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Jl,Tk,fC)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}})};const cC=[Uz,Wz,Xz,Yz,Hz,Jz,jz,Kz,_z,ek,sk,rk,ok,hk,mk,Sk];class _2 extends nf{constructor(t,i,n,y,S,r){super(t,i,n,y,S,r);for(var T=0,s=cC.length;T<s;T++)cC[T](this)}}st.register("transitionImagePack",function(e,t,i,n,y){var S=new _2(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImagePack",_2);var Ek=function(){var e=this.image,t=H2(e,{width:this.width,height:this.height},this.scaleUp,!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},tM={scaleImage:Ek};Object.assign(tM,j2);var Pk=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Ye(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const vC=Phaser.Utils.Objects.IsPlainObject,Is=Phaser.Utils.Objects.GetValue;class rf extends Ei{constructor(t,i,n,y,S,r){vC(i)?(r=i,i=Is(r,"x",0),n=Is(r,"y",0),y=Is(r,"key",void 0),S=Is(r,"frame",void 0)):vC(S)&&(r=S,S=void 0);var T=Is(r,"image");T?T.setPosition(i,n).setOrigin(.5):(T=t.add.image(i,n,y,S),y===void 0&&T.setVisible(!1)),super(t,i,n,1,1),this.type="rexImageBox";var s=Is(r,"background");s&&this.add(s),this.background=s,this.add(T),this.image=T,this.scaleUp=Is(r,"scaleUp",!1);var d=Is(r,"width",T.width),x=Is(r,"height",T.height);this.resize(d,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),Pk.call(this),this.scaleImage(),this}setTexture(t,i){var n=this.image;return n.setTexture(t,i),t!==null?(this.setChildVisible(n,!0),this.scaleImage()):this.setChildVisible(n,!1),this}}Object.assign(rf.prototype,tM);st.register("imageBox",function(e,t,i,n,y){var S=new rf(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.ImageBox",rf);st.register("fullWindowRectangle",function(e,t){var i=new X0(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.FullWindowRectangle",X0);st.register("cover",function(e){var t=new Y0(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Cover",Y0);var tm=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const pC={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},gC={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},Mk={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},mC=Phaser.Utils.Objects.GetValue;var eM=function(e,t,i,n){var y=mC(n,"preventDefault",!1),S=mC(n,"preTest");for(let r in i)t.addEventListener(r,function(T){(!S||S(e,r))&&e.emit(i[r],e,T),y&&T.preventDefault()})};const wk=Phaser.GameObjects.DOMElement,xC=Phaser.Utils.Objects.IsPlainObject,cs=Phaser.Utils.Objects.GetValue;class af extends wk{constructor(t,i,n,y,S,r){xC(i)?(r=i,i=cs(r,"x",0),n=cs(r,"y",0),y=cs(r,"width",0),S=cs(r,"height",0)):xC(y)&&(r=y,y=cs(r,"width",0),S=cs(r,"height",0)),r===void 0&&(r={});var T,s=cs(r,"inputType",void 0);s===void 0&&(s=cs(r,"type","text")),s==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=s),ad(pC,r,T);var d=cs(r,"style",void 0);d=ad(gC,r,d);var x=T.style;for(var f in r)f in pC||f in gC||f in x&&(d[f]=r[f]);d["box-sizing"]="border-box",super(t,i,n,T,d),this.type="rexInputText",this.resize(y,S),eM(this,T,Mk),l2(T),cs(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Rk={resize:tm};Object.assign(af.prototype,Rk);st.register("inputText",function(e){var t=new af(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.InputText",af);const yC=Phaser.Utils.Objects.GetValue;var Ak=function(e,t){var i=document.createElement("input");i.type="file";var n=yC(t,"accept",""),y=yC(t,"multiple",!1);return i.setAttribute("accept",n),y?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},iM=function(e,t){return e===void 0&&(e=0),new Promise(function(i,n){setTimeout(function(){i(t)},e)})},sM=function({game:e,fileInput:t,closeDelay:i}){return Ud(Lr(e).events,"focus").then(function(){return iM(i)}).then(function(){var n={files:t.files};return Promise.resolve(n)})};const Lk=Phaser.Utils.Objects.GetValue,Ok=Phaser.DOM.RemoveFromDOM;var nM=function(e,t){var i=Lk(t,"closeDelay",200),n=Ak(e,t);return n.click(),sM({game:e,fileInput:n,closeDelay:i}).then(function(y){return Ok(n),n.remove(),Promise.resolve(y)})},rM=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},Fk=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=Lr(e);var n;return i==="textures"?n=e.textures:n=e.cache[i],n},aM=function(e,t,i,n,y,S){if(!(y===null||y===!1))if(Qs(y))y();else{var r=Fk(e,i,y);r.exists(n)&&r.remove(n)}var T=e.load;if(S&&T.once(`filecomplete-${i}-${n}`,function(d,x,f){S(f)}),Qs(t))t();else{var s=window.URL.createObjectURL(t);T[i](n,s)}T.start()},Dk=function(e,t,i,n,y){var S=this.scene;return aM(S,e,t,i,n,y),this},Ik=function(e,t,i,n){var y=this.scene;return new Promise(function(S,r){var T=function(s){S(s)};aM(y,e,t,i,n,T)})};const oM={loadFile:Dk,loadFilePromise:Ik},Bk=Phaser.GameObjects.DOMElement,CC=Phaser.Utils.Objects.IsPlainObject,vs=Phaser.Utils.Objects.GetValue;class $h extends Bk{constructor(t,i,n,y,S,r){CC(i)?(r=i,i=vs(r,"x",0),n=vs(r,"y",0),y=vs(r,"width",0),S=vs(r,"height",0)):CC(y)&&(r=y,y=vs(r,"width",0),S=vs(r,"height",0));var T=document.createElement("input");T.type="file";var s=T.style;s.display="none";var d=document.createElement("label");d.appendChild(T);var x=vs(r,"style",void 0);super(t,i,n,d,x),this.type="rexFileChooser",this.resetFromJSON(r),this.resize(y,S);var f=this;T.onchange=function(){f.emit("change",f)},this.setCloseDelay(vs(r,"closeDelay",200)),T.onclick=function(){sM({game:t,fileInput:T,closeDelay:f.closeDelay}).then(function(){f.emit("select",f)})}}resetFromJSON(t){return this.setAccept(vs(t,"accept","")),this.setMultiple(vs(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var bk={resize:tm,syncTo:rM};Object.assign($h.prototype,bk,oM);st.register("fileChooser",function(e){var t=new $h(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileChooser",$h);const Gk={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Nk={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var hM={resize:tm,syncTo:rM};Object.assign(hM,Gk,Nk,oM);const zk={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},kk=Phaser.GameObjects.DOMElement,TC=Phaser.Utils.Objects.IsPlainObject,Bs=Phaser.Utils.Objects.GetValue;class em extends kk{constructor(t,i,n,y,S,r){TC(i)?(r=i,i=Bs(r,"x",0),n=Bs(r,"y",0),y=Bs(r,"width",0),S=Bs(r,"height",0)):TC(y)&&(r=y,y=Bs(r,"width",0),S=Bs(r,"height",0)),r===void 0&&(r={});var T=document.createElement("div"),s=Bs(r,"style",void 0);super(t,i,n,T,s),this.type="rexFileDropZone",this.resize(y,S),this._files=[],this.setDropEnable(Bs(r,"dropEnable",!0));var d=Bs(r,"filters");d&&this.addFilters(d),eM(this,T,zk,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,f){this._files=f.dataTransfer.files;var l=this._files;if(l&&this.filters)for(var h in this.filters){for(var a=this.filters[h],u=[],v=0,o=l.length;v<o;v++){var c=l[v];a(c,l)&&u.push(c)}u.length>0&&this.emit(`drop.${h}`,u)}},this)}get files(){return this._files}}Object.assign(em.prototype,hM);st.register("fileDropZone",function(e){var t=new em(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileDropZone",em);var Vk=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,y,S,r,T,s=!1;if(this.childrenProportion,this.orientation===0)for(var d=this.space.item,x=!0,f=0,l=i.length;f<l;f++)n=i[f],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(T=this.getChildWidth(n),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(S!==0&&!this.hasProportion0Child?T=0:s=!0)):T=0,!s&&(r=n.rexSizer.padding,T+=r.left+r.right,x?x=!1:T+=d,t+=T)));else for(var f=0,l=i.length;f<l;f++)n=i[f],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(T=this.getChildWidth(n),T===void 0&&(s=!0),!s&&(r=y.padding,T+=r.left+r.right,t=Math.max(T,t))));if(!s)return t+this.space.left+this.space.right},Uk=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,y,S,r,T,s=!1;if(this.childrenProportion,this.orientation===0)for(var d=0,x=i.length;d<x;d++)n=i[d],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(T=this.getChildHeight(n),T===void 0&&(s=!0),!s&&(r=y.padding,T+=r.top+r.bottom,t=Math.max(T,t))));else for(var f=this.space.item,l=!0,d=0,x=i.length;d<x;d++)n=i[d],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(T=this.getChildHeight(n),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(S!==0&&!this.hasProportion0Child?T=0:s=!0)):T=0,!s&&(r=y.padding,T+=r.top+r.bottom,l?l=!1:T+=f,t+=T)));if(!s)return t+this.space.top+this.space.bottom},Wk=function(e,t){t===void 0&&(t=this.width);var i,n=e.rexSizer;if(this.orientation===0)n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);else if(n.expand){var y=this.space,S=t-y.left-y.right,r=n.padding;i=S-r.left-r.right}return i},Xk=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(this.orientation===0){if(n.expand){var y=this.space,S=t-y.top-y.bottom,r=n.padding;i=S-r.top-r.bottom}}else n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);return i},Yk=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i.isRexSizer&&e.push(i);return e},Hk=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,n=0,y=i.length;n<y;n++)e=i[n],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Ye(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Wh.call(this),this};const $k=Phaser.Math.Wrap;var Kk=function(){for(var e=this.sizerChildren,t,i,n,y=this.innerLeft,S=this.innerTop,r=this.innerWidth,T=this.innerHeight,s=y,d=S,x,f,l,h,a,u,v,o=this.startChildIndex,c=0,p=e.length;c<p;c++)o===0?v=c:v=$k(c+o,0,p),this.rtl&&(v=p-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,n=i.padding,Xh.call(this,t),t.isRexSpace?(a=0,u=0):(a=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,a,u),j0(t,this)):Ye(t,a,u),a===void 0&&(a=It(t)),u===void 0&&(u=Bt(t)),this.orientation===0?(x=s+n.left,i.proportion===0||this.proportionLength===0?l=a:l=i.proportion*this.proportionLength,f=d+n.top,h=T-n.top-n.bottom):(x=s+n.left,l=r-n.left-n.right,f=d+n.top,i.proportion===0||this.proportionLength===0?h=u:h=i.proportion*this.proportionLength),Yh.call(this,t,x,f,l,h,i.align),this.orientation===0?s+=l+n.left+n.right+this.space.item:d+=h+n.top+n.bottom+this.space.item)},Zk=function(t){var t=D0.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Jk=function(t){var t=b0.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Qk=function(){return this.hasRatioFitChild&&this.orientation===1?!0:I0.call(this)},lM=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):e-this.getInnerPadding("left")-this.getInnerPadding("right");for(var n,y,S,r,T=this.sizerChildren,s=0,d=T.length;s<d;s++){var n=T[s],y=n.rexSizer;if(!y.hidden){var x=y.fitRatio;x&&(this.orientation===0?(r=i-this.getChildOuterPadding(n,"top")-this.getChildOuterPadding(n,"bottom"),S=r*x):(S=i-this.getChildOuterPadding(n,"top")-this.getChildOuterPadding(n,"bottom"),r=S/x),Ye(n,S,r),n.isRexSizer&&n.setMinSize(S,r),y.resolved=!0)}}}},jk=function(e){this.wrapResult||(this.orientation===1&&lM.call(this,e,void 0),B0.call(this,e))},qk=function(){return this.hasRatioFitChild&&this.orientation===0?!0:G0.call(this)},_k=function(e){this.wrapResult||(this.orientation===0&&lM.call(this,void 0,e),N0.call(this,e))};const tV=Phaser.GameObjects.Zone;class im extends tV{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var eV=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,y=1/0,S=0,r=i.length;S<r;S++){var T=i[S],s;this.orientation===0?s=Math.abs(T.left-e):s=Math.abs(T.top-t),y>s&&(y=s,n=S)}var T=i[i.length-1],s;return this.orientation===0?s=Math.abs(T.right-e):s=Math.abs(T.bottom-t),y>s&&(y=s,n=S+1),n};const uM=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue,SC=Phaser.Display.Align.CENTER,iV={min:0,full:-1};var Qc=function(e,t,i,n,y,S,r,T,s,d){Vh.call(this,e);var x=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=iV[t];else if(uM(t)){var l=t;t=bs(l,"proportion",void 0),i=bs(l,"align",SC),n=bs(l,"padding",0),y=bs(l,"expand",!1),S=bs(l,"key",void 0),r=bs(l,"index",void 0),e.isRexSizer||(T=bs(l,"minWidth",void 0),s=bs(l,"minHeight",void 0)),d=bs(l,"fitRatio",0)}}typeof i=="string"&&(i=eo[i]),t===void 0&&(t=x?1:0),i===void 0&&(i=SC),n===void 0&&(n=0),y===void 0&&(y=!1),T===void 0&&(x?T=0:e.isRexSizer||(T=e._minWidth)),s===void 0&&(x?s=0:e.isRexSizer||(s=e._minHeight)),d===void 0||d===!1?d=0:d===!0&&(d=It(e)/Bt(e));var l=this.getSizerConfig(e);return l.proportion=t,l.align=i,l.padding=Un(n),l.expand=y,l.fitRatio=t===0?d:0,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?It(e):T:e.minHeight=s===void 0?Bt(e):s),y&&(this.orientation===0?e.minHeight=s:e.minWidth=T)),S!==void 0&&this.addChildrenMap(S,e),this};const sV={add:Qc,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),Qc.call(this,new im(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,n,y,S,r,T){return uM(i)&&(i.index=e),Qc.call(this,t,i,n,y,S,r,e,T),this},insertAtPosition(e,t,i,n,y,S,r,T,s){var d=eV.call(this,e,t);return d===-1&&(d=void 0),this.insert(d,i,n,y,S,r,T,s),this}},nV=Phaser.Utils.Array.Remove,rV={remove(e,t){return this.getParentSizer(e)!==this?this:(nV(this.sizerChildren,e),Uh.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,tf.call(this,e),this}},aV={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=eo[t]),this.getSizerConfig(e).align=t,this}},oV={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},hV={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var lV=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],n=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?n||this.insertSpace(0):n&&this.remove(i,!0);var y=t.length-1,S=t[y],r=S&&S.isRexSpace;return e==="center"?r||this.insertSpace(y+1):r&&this.remove(S,!0),this},dM={getChildrenWidth:Vk,getChildrenHeight:Uk,getExpandedChildWidth:Wk,getExpandedChildHeight:Xk,getChildrenSizers:Yk,preLayout:Hk,layoutChildren:Kk,resolveWidth:Zk,resolveHeight:Jk,hasWidthWrap:Qk,runWidthWrap:jk,hasHeightWrap:qk,runHeightWrap:_k,setChildrenAlignMode:lV};Object.assign(dM,sV,rV,aV,oV,hV);var uV=function(){for(var e=0,t=this.sizerChildren,i,n,y=0,S=t.length;y<S;y++)i=t[y],!i.rexSizer.hidden&&(n=i.rexSizer.proportion,n>0?e+=n:n===0&&(this.hasProportion0Child=!0));return e},dV={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Kh=function(e){return typeof e=="string"&&(e=dV[e]),e};const jc=Phaser.Utils.Objects.IsPlainObject,Ai=Phaser.Utils.Objects.GetValue;class wt extends Nr{constructor(t,i,n,y,S,r,T){jc(i)?(T=i,i=Ai(T,"x",0),n=Ai(T,"y",0),y=Ai(T,"width",void 0),S=Ai(T,"height",void 0),r=Ai(T,"orientation",0)):jc(y)?(T=y,y=Ai(T,"width",void 0),S=Ai(T,"height",void 0),r=Ai(T,"orientation",0)):jc(r)&&(T=r,r=Ai(T,"orientation",0)),r===void 0&&(r=0),super(t,i,n,y,S,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(r),this.setItemSpacing(Ai(T,"space.item",0)),this.setStartChildIndex(Ai(T,"startChildIndex",0)),this.setRTL(Ai(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Kh(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=uV.call(this)),this._childrenProportion}}Object.assign(wt.prototype,dM);var Ql=function(e,t,i){if(e){var n=t==null,y=i==null;return n&&y||(n||(e.displayWidth=t),y||(e.displayHeight=i),n&&(e.scaleX=e.scaleY),y&&(e.scaleY=e.scaleX)),e}},fV=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var n=e.iconSize;n&&(this.setChildDisplaySize(i,n,n),this.iconWidth!==void 0&&this.setIconSize(n)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var y=this.childrenMap.action;if(y){e.action?this.show(y):this.hide(y);var S=e.actionSize;S&&(this.setChildDisplaySize(y,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},cV={appendText:xP,resetDisplayContent:fV};class sm extends wt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var n=this.childrenMap.icon;return n?(n.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Ql(n,this.iconWidth,this.iconHeight),this.resetChildScaleState(n)),this):this}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var n=this.childrenMap.action;return n===void 0?this:(n.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Ql(n,this.actionWidth,this.actionHeight),this.resetChildScaleState(n)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Ql(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Ql(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,n){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(sm.prototype,cV);var as=function(e,t,i,n){var y=new $p(t,i,n);if(e&&!e.isRexSizer){var S=y.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(y),y};const Lt=Phaser.Utils.Objects.GetValue;class sn extends sm{constructor(t,i){super(t,i),this.type="rexLabel";var n=Lt(i,"background",void 0),y=Lt(i,"icon",void 0),S=Lt(i,"iconMask",void 0),r=Lt(i,"text",void 0),T=Lt(i,"action",void 0),s=Lt(i,"actionMask",void 0),d=Lt(i,"align",void 0);if(n&&this.addBackground(n),y){var x;this.orientation===0?(r||T)&&(x={right:Lt(i,"space.icon",0),top:Lt(i,"space.iconTop",0),bottom:Lt(i,"space.iconBottom",0),left:Lt(i,"space.iconLeft",0)}):(r||T)&&(x={bottom:Lt(i,"space.icon",0),left:Lt(i,"space.iconLeft",0),right:Lt(i,"space.iconRight",0),top:Lt(i,"space.iconTop",0)});var f=Lt(i,"squareFitIcon",!1)?1:0;if(this.add(y,{proportion:0,padding:x,fitRatio:f}),S&&(S=as.call(this,y,y,1)),!f){var l=Lt(i,"iconSize",void 0);this.setIconSize(Lt(i,"iconWidth",l),Lt(i,"iconHeight",l))}}if(r){var h=Lt(i,"space.text",0),a=Lt(i,"expandTextWidth",!1),u=Lt(i,"expandTextHeight",!1),v,x,o;this.orientation===0?(v=a?1:0,T&&(x={right:h}),o=u):(v=u?1:0,T&&(x={bottom:h}),o=a),this.add(r,{proportion:v,expand:o,padding:x})}if(T){var x;this.orientation===0?x={top:Lt(i,"space.actionTop",0),bottom:Lt(i,"space.actionBottom",0),right:Lt(i,"space.actionRight",0)}:x={left:Lt(i,"space.actionLeft",0),right:Lt(i,"space.actionRight",0),bottom:Lt(i,"space.actionBottom",0)};var f=Lt(i,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:f}),s&&(s=as.call(this,T,T,1)),!f){var c=Lt(i,"actionSize");this.setActionSize(Lt(i,"actionWidth",c),Lt(i,"actionHeight",c))}}this.setChildrenAlignMode(d),this.addChildrenMap("background",n),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",r),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",s)}}const mn=Phaser.Utils.Objects.GetValue;var vV=function(e,t){var i=mn(t,"canvas"),n=mn(i,"width",128),y=mn(i,"height",128),S=new br(e,0,0,n,y);e.add.existing(S);var r=mn(i,"key"),T=mn(i,"frame"),s=mn(i,"fill");return s!==void 0?S.fill(s):r!==void 0&&S.loadTexture(r,T),S.setTexture=S.loadTexture.bind(S),S},pV=function(e,t){var i=new rf(e,{scaleUp:mn(t,"scaleUpIcon",!1),background:mn(t,"iconBackground"),image:vV(e,t)});return e.add.existing(i),i};const gV=Phaser.Utils.Objects.GetValue;var fM=function(e,t){var i=gV(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const mV=Phaser.Utils.Objects.GetValue;var xV=function(e,t){var i=fM(e,t);if(i){var n=mV(t,"click"),y=new _s(i,n);return y.on("click",e.open,e),y}};const cM={accept:"image/*",multiple:!1};var vM=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,n=i.image,y=t[0];return n.loadFromFilePromise(y).then(function(){return i.scaleImage(),e.emit("select",y,e),Promise.resolve(y)})}},yV=function(e,t){var i=e.scene,n=new $h(i,cM);return i.add.existing(n),e.pin(n),n.on("change",function(){vM(e,n.files)}),n};const CV={async openPromise(){var e=this;return nM(this.scene.game,cM).then(function(t){return vM(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var TV=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},SV=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},pM={getFileName:TV,saveTexture:SV};Object.assign(pM,CV);const EV=Phaser.Utils.Objects.GetValue;class nm extends sn{constructor(t,i){var n=pV(t,i);i.icon=n,super(t,i),this.type="rexImageFileInputLabel";var y=this.iconWidth,S=this.iconWidth;y!==void 0&&S!==void 0&&n.resize(y,S),this.clickTarget=fM(this,i),this.clickTarget&&(EV(i,"domButton",!0)?this.fileChooser=yV(this):this.clickBehavior=xV(this,i)),this.addChildrenMap("canvas",n.image),this.addChildrenMap("iconBackground",n.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser))}}Object.assign(nm.prototype,pM);st.register("imageInputLabel",function(e){var t=new nm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ImageInputLabel",nm);let PV=class extends ae{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Yt(t,i))return t[i];var n=t.parent;if(Yt(n,i))return n[i]}set(t,i,n){return Yt(t,i)?t[i]=n:Yt(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const qc=Phaser.Utils.Objects.GetValue;class MV extends ae{constructor(t,i){super(t,i),this.style=qc(i,"style",this);var n=qc(i,"propertiesMap");this.activeStyle=_c(i,"active",n),this.hoverStyle=_c(i,"hover",n),this.disableStyle=_c(i,"disable",n),this.onModifyStyle=qc(i,"onModifyStyle")}getStyle(t){return d0(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Wd(i,t))return this.modifyStyle(t),i}}setActiveState(t){return tv.call(this,"active",t),this}setHoverState(t){return tv.call(this,"hover",t),this}setDisableState(t){return tv.call(this,"disable",t),this}}var _c=function(e,t,i){var n=kp(e,t);if(i)for(var y in n)i.hasOwnProperty(y)&&(n[i[y]]=n[y],delete n[y]);return n},tv=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,n=`${e}Style`,y=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[y]=this.applyStyle(this[n]):(this.applyStyle(this[y]),this[y]=void 0))};const of={addStyleManager(e){return this.styleManager=new MV(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},wV=Phaser.GameObjects.Image,Bo=Phaser.Utils.Objects.GetValue;class Zh extends wV{constructor(t,i){i===void 0&&(i={});var n=Bo(i,"x",0),y=Bo(i,"y",0),S=Bo(i,"key",""),r=Bo(i,"frame",void 0);super(t,n,y,S,r),this.type="rexStatesImage";var T=Bo(i,"effects",!0);T&&Gd(this,T),this.style=new PV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Zh.prototype,of);st.register("statesImage",function(e){var t=new Zh(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesImage",Zh);class hf extends $n{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=RV,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const RV={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(hf.prototype,of);st.register("statesRoundRectangle",function(e){var t=new hf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesRoundRectangle",hf);class AV extends ae{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Yt(t,i))return t[i];var n=t.parent;if(Yt(n,i))return n[i]}set(t,i,n){return Yt(t,i)?t[i]=n:Yt(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get leftWidth(){return this.parent.leftWidth}set leftWidth(t){var i=this.parent;parent.setSlices(i.width,i.height,t,i.rightWidth,i.topHeight,i.bottomHeight)}get rightWidth(){return this.parent.rightWidth}set rightWidth(t){var i=this.parent;parent.setSlices(i.width,i.height,i.leftWidth,t,i.topHeight,i.bottomHeight)}get topHeight(){return this.parent.topHeight}set topHeight(t){var i=this.parent;parent.setSlices(i.width,i.height,i.leftWidth,i.rightWidth,t,i.bottomHeight)}get bottomHeight(){return this.parent.bottomHeight}set bottomHeight(t){var i=this.parent;parent.setSlices(i.width,i.height,i.leftWidth,i.rightWidth,i.topHeight,t)}}const LV=Phaser.GameObjects.NineSlice,Hi=Phaser.Utils.Objects.GetValue;class lf extends LV{constructor(t,i){i===void 0&&(i={});var n=Hi(i,"x",0),y=Hi(i,"y",0),S=Hi(i,"key",null),r=Hi(i,"frame",null),T=Hi(i,"width",0),s=Hi(i,"height",0),d=Hi(i,"leftWidth",0),x=Hi(i,"rightWidth",0),f=Hi(i,"topHeight",0),l=Hi(i,"bottomHeight",0);super(t,n,y,S,r,T,s,d,x,f,l),this.type="rexStatesNineSlice";var h=Hi(i,"effects",!0);h&&Gd(this,h),this.style=new AV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(lf.prototype,of);st.register("statesNineSlice",function(e){var t=new lf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNineSlice",lf);const OV=Phaser.GameObjects.Text,ev=Phaser.Utils.Objects.GetValue;class uf extends OV{constructor(t,i){i===void 0&&(i={});var n=ev(i,"x",0),y=ev(i,"y",0),S=ev(i,"text","");super(t,n,y,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(r,T){var s=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");r.style.update(s)},this.addStyleManager(i),delete i.style}}Object.assign(uf.prototype,of);st.register("statesText",function(e){var t=new uf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesText",uf);var FV=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,DV(this,e)),this},DV=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(n=!0,i.animation={});var y=i.animation;n&&(y.duration=0);var S=y.onProgress;y.onProgress=function(T){S&&S(T),e.needRedraw()};var r=y.onComplete;return y.onComplete=function(T){r&&r(T),e.needRedraw()},t},IV=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,n=0,y=t.length;n<y;n++)if(i=t[n],i.label===e)return i}else return this.chart.data.datasets[e]},BV=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var n=this.chart.data.labels;if(t=n.indexOf(t),t===-1)return}return i.data[t]}},bV=function(e,t,i){if(this.chart===void 0)return this;var n=this.getChartDataset(e);if(typeof t=="string"){var y=this.chart.data.labels;if(t=y.indexOf(t),t===-1)return this}return n.data[t]=i,this},GV=function(){return this.chart===void 0?this:(this.chart.update(),this)};let rm=class extends br{constructor(t,i,n,y,S,r){super(t,i,n,y,S),this.type="rexChart",this.chart=void 0,r!==void 0&&this.setChart(r)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}};var NV={setChart:FV,getChartDataset:IV,getChartData:BV,setChartData:bV,updateChart:GV};Object.assign(rm.prototype,NV);st.register("chart",function(e,t,i,n,y){var S=new rm(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Chart",rm);st.register("container",function(e,t,i,n,y){var S=new Ei(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Container",Ei);st.register("sizer",function(e,t,i,n,y,S){var r=new wt(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Sizer",wt);var gM=function(){return Array.prototype.reduce.call(arguments,zV,0)},zV=function(e,t){return e+t},kV=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,y,S,r,T,s=!1;this.totalColumnProportions;for(var d=0;d<this.columnCount;d++){if(T=this.columnProportions[d],i=0,T===0||e){for(var x=0;x<this.rowCount;x++)y=n[x*this.columnCount+d],y&&(y.rexSizer.hidden||(r=this.getChildWidth(y),r===void 0&&(T!==0&&!this.hasColumnProportion0Child?r=0:s=!0),!s&&(S=y.rexSizer.padding,r+=S.left+S.right,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.columnWidth[d]=i)}if(!s){var f=this.space,l=Math.max(f.indentLeftOdd,f.indentLeftEven);return t+gM(f.left,l,...f.column,f.right)}},VV=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,y,S,r,T,s=!1;this.totalRowProportions;for(var d=0;d<this.rowCount;d++){if(T=this.rowProportions[d],i=0,T===0||e){for(var x=0;x<this.columnCount;x++)y=n[d*this.columnCount+x],y&&(y.rexSizer.hidden||(r=this.getChildHeight(y),r===void 0&&(T!==0&&!this.hasRowProportion0Child?r=0:s=!0),!s&&(S=y.rexSizer.padding,r+=S.top+S.bottom,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.rowHeight[d]=i)}if(!s){var f=this.space,l=Math.max(f.indentTopOdd,f.indentTopEven);return t+gM(f.top,l,...f.row,f.bottom)}},UV=function(e,t){var i,n=e.rexSizer;if(n.expandWidth){var y=n.padding;i=t-y.left-y.right}return i},WV=function(e,t){var i,n=e.rexSizer;if(n.expandHeight){var y=n.padding;i=t-y.top-y.bottom}return i},XV=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i&&i.isRexSizer&&e.push(i);return e},YV=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Wh.call(this),this},HV=function(){for(var e,t,i,n=this.innerLeft,y=this.innerTop,S,r=y,T,s,d,x,f,l,h=this.space.column,a=this.space.row,u=this.space.indentLeftOdd,v=this.space.indentLeftEven,o=this.space.indentTopOdd,c=this.space.indentTopEven,p,g,m,C,E=0;E<this.rowCount;E++){g=this.getRowHeight(E),m=E%2?v:u,S=n+m;for(var M=0;M<this.columnCount;M++){if(p=this.getColumnWidth(M),e=this.getChildAt(M,E),!e||e.rexSizer.hidden){S+=p+h[M];continue}Xh.call(this,e),f=this.getExpandedChildWidth(e,p),l=this.getExpandedChildHeight(e,g),e.isRexSizer?(e.runLayout(this,f,l),j0(e,this)):Ye(e,f,l),t=e.rexSizer,i=t.padding,T=S+i.left,d=p-i.left-i.right,C=M%2?c:o,s=r+C+i.top,x=g-i.top-i.bottom,Yh.call(this,e,T,s,d,x,t.align),S+=p+h[M]}r+=g+a[E]}},$V=function(t){var t=D0.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var n=t-this.getChildrenWidth(!1);n>=0&&(this.proportionWidthLength=n/i)}else this.proportionWidthLength=0}return t},KV=function(t){var t=b0.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var n=t-this.getChildrenHeight(!1);n>=0&&(this.proportionHeightLength=n/i)}else this.proportionHeightLength=0}return t},ZV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},JV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},QV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),t.isRexSizer&&(n=t.resolveWidth(i),n===void 0&&(n=i)),t.runWidthWrap(n));return this},jV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),t.isRexSizer&&(n=t.resolveHeight(i),n===void 0&&(n=i)),t.runHeightWrap(n));return this};const EC=Phaser.Utils.Objects.IsPlainObject,dn=Phaser.Utils.Objects.GetValue,PC=Phaser.Display.Align.CENTER;var MC=function(e,t,i,n,y){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,r=0;r<n;r++)if(S=t*n+r,!i[S])return S}else if(t===void 0){for(var S,r=0;r<y;r++)if(S=r*n+e,!i[S])return S}else{var S=t*n+e;if(!i[S])return S}else if(t===!0){for(var S,r=0;r<n;r++)for(var T=0;T<y;T++)if(S=T*n+r,!i[S])return S}else for(var r=0,s=i.length;r<s;r++)if(!i[r])return r;return null},qV=function(e,t,i,n,y,S,r){if(Vh.call(this,e),EC(t)){var s=t;t=dn(s,"column",void 0),i=dn(s,"row",void 0),n=dn(s,"align",PC),y=dn(s,"padding",0),S=dn(s,"expand",!1),r=dn(s,"key",void 0)}var T=MC(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(T===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),T=MC(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof n=="string"&&(n=eo[n]),n===void 0&&(n=PC),y===void 0&&(y=0),S===void 0&&(S=!0);var s=this.getSizerConfig(e);return s.align=n,s.padding=Un(y),EC(S)?(s.expandWidth=dn(S,"width",!1),s.expandHeight=dn(S,"height",!1)):(s.expandWidth=S,s.expandHeight=S),this.sizerChildren[T]=e,r!==void 0&&this.addChildrenMap(r,e),this};const _V={add:qV};var ba=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=e.length-1);for(var y=i;y<=n;y++)e[y]=t;return e};const tU={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),Uh.call(this,e,t),this},removeAt(e,t,i){var n=this.getChildAt(e,t);return n&&this.remove(n,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return ba(this.sizerChildren,null),tf.call(this,e),this}},eU={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")ba(this.space.column,e);else for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0;return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")ba(this.space.row,e);else for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0;return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},wC=Phaser.Utils.Objects.GetValue;var iU=function(e,t,i,n,y){if(i===void 0&&(i=0),n===void 0&&(n=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,ba(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")ba(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof n=="number")ba(this.rowProportions,n);else for(var S=0;S<t;S++)this.rowProportions[S]=n[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(wC(y,"column",0)),this.setRowSpace(wC(y,"row",0));var r=this.scene,T=this.createCellContainerCallback;if(T)for(var s=0,d=this.rowCount;s<d;s++)for(var x=0,f=this.columnCount;x<f;x++){var l={column:x,row:s},h=T(r,x,s,l);h&&this.add(h,l)}return this},mM=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var n=[e*this.columnCount,0],y=0;y<this.columnCount;y++)n.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,n),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},sU=function(e,t){return mM.call(this,this.rowCount,e,t),this},xM=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var n=this.rowCount-1;n>=0;n--){var y=n*this.columnCount+e;this.sizerChildren.splice(y,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},nU=function(e,t){return xM.call(this,this.columnCount,e,t),this},yM={getChildrenWidth:kV,getChildrenHeight:VV,getExpandedChildWidth:UV,getExpandedChildHeight:WV,getChildrenSizers:XV,preLayout:YV,layoutChildren:HV,resolveWidth:$V,resolveHeight:KV,resolveChildrenWidth:ZV,resolveChildrenHeight:JV,runWidthWrap:QV,runHeightWrap:jV,resetGrid:iU,inseryEmptyRow:mM,addEmptyRow:sU,insertEmptyColumn:xM,addEmptyColumn:nU};Object.assign(yM,_V,tU,eU);var rU=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},aU=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const jl=Phaser.Utils.Objects.IsPlainObject,Nt=Phaser.Utils.Objects.GetValue;class os extends Nr{constructor(t,i,n,y,S,r,T,s,d,x){jl(i)?(x=i,i=Nt(x,"x",0),n=Nt(x,"y",0),y=Nt(x,"width",void 0),S=Nt(x,"height",void 0),r=Nt(x,"column",x.col||0),T=Nt(x,"row",0),s=Nt(x,"columnProportions",0),d=Nt(x,"rowProportions",0)):jl(y)?(x=y,y=Nt(x,"width",void 0),S=Nt(x,"height",void 0),r=Nt(x,"column",x.col||0),T=Nt(x,"row",0),s=Nt(x,"columnProportions",0),d=Nt(x,"rowProportions",0)):jl(r)?(x=r,r=Nt(x,"column",x.col||0),T=Nt(x,"row",0),s=Nt(x,"columnProportions",0),d=Nt(x,"rowProportions",0)):jl(s)&&(x=s,s=Nt(x,"columnProportions",0),d=Nt(x,"rowProportions",0)),super(t,i,n,y,S,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Nt(x,"createCellContainerCallback")),this.setIndentLeft(Nt(x,"space.indentLeftOdd",0),Nt(x,"space.indentLeftEven",0)),this.setIndentTop(Nt(x,"space.indentTopOdd",0),Nt(x,"space.indentTopEven",0)),this.resetGrid(r,T,s,d,Nt(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=rU.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=aU.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var n=this.sizerChildren.indexOf(t);return n===-1?null:(i===void 0&&(i={}),i.x=n%this.columnCount,i.y=Math.floor(n/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],n=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return n}getRowHeight(t){var i=this.rowProportions[t],n=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return n}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(os.prototype,yM);st.register("gridSizer",function(e,t,i,n,y,S,r,T,s){var d=new os(this.scene,e,t,i,n,y,S,r,T,s);return this.scene.add.existing(d),d});et(window,"RexPlugins.UI.GridSizer",os);var oU=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+this.space.left+this.space.right},hU=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+this.space.top+this.space.bottom},lU=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i!==`
`&&i.isRexSizer&&e.push(i);return e},uU=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Wh.call(this),this},dU=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i=this.justifyPercentage,n=this.space.item,y=this.space.line,S=this.space.indentLeftOdd,r=this.space.indentLeftEven,T=this.space.indentTopOdd,s=this.space.indentTopEven,d,x,f,l=0,h,a,u=this.innerLeft,v=this.innerTop,o,c,p,g,m=this.wrapResult.lines,C,E,M,P=u,w=v,R=0,A=m.length;R<A;R++){switch(C=m[R],E=C.children,this.rtl&&E.reverse(),e?(h=R%2?r:S,P=u+h):(a=R%2?s:T,w=v+a),M=t-(e?C.width:C.height),this.align){case 0:break;case 1:e?P+=M:w+=M;break;case 2:e?P+=M/2:w+=M/2;break;case 3:l=iv(t,M,i,E.length);break;case 4:l=iv(t,M,i,E.length),l===0&&(e?P+=M:w+=M);break;case 5:l=iv(t,M,i,E.length),l===0&&(e?P+=M/2:w+=M/2);break}for(var L=!0,F=0,O=E.length;F<O;F++)d=E[F],!d.rexSizer.hidden&&(x=d.rexSizer,f=x.padding,Xh.call(this,d),e?o=P+f.left:c=w+f.top,L?L=!1:e?o+=n:c+=n,p=It(d),g=Bt(d),e?(a=F%2?s:T,c=w+a+f.top,P=o+p+f.right+l):(h=F%2?r:S,o=P+h+f.left,w=c+g+f.top+l),Yh.call(this,d,o,c,p,g,x.align));e?w+=C.height+y:P+=C.width+y}},iv=function(e,t,i,n){return t/e<=i?t/(n-1):0},fU=function(){return this.orientation===0?!0:I0.call(this)},CM=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,n=this.space.item,y=this.space.line,S=this.space.indentLeftOdd,r=this.space.indentLeftEven,T=this.space.indentTopOdd,s=this.space.indentTopEven,d,x,f,l,h=0,a,u,v=t.lines,o=void 0,c;if(this.orientation===0){for(var p=0,g=i.length;p<g;p++){if(d=i[p],d===`
`)d=void 0,f=0,c=!0;else{if(d.rexSizer.hidden)continue;d.isRexSizer&&d.layout(),f=this.getChildWidth(d),x=d.rexSizer.padding,f+=x.left+x.right,c=h<f||o===void 0}c&&(o&&(o.width=e-(h+n),t.width=Math.max(t.width,o.width),t.height+=o.height+y),o={children:[],width:0,height:0},v.push(o),a=v.length%2?S:r,h=e-a),h-=f+n,d&&(o.children.push(d),l=this.getChildHeight(d),x=d.rexSizer.padding,l+=x.top+x.bottom,o.height=Math.max(o.height,l))}o&&(o.width=e-(h+n),t.width=Math.max(t.width,o.width),t.height+=o.height),t.height+=Math.max(T,s)}else{for(var m=e,p=0,g=i.length;p<g;p++){if(d=i[p],d===`
`)d=void 0,f=0,c=!0;else{if(d.rexSizer.hidden)continue;d.isRexSizer&&d.layout(),l=this.getChildHeight(d),x=d.rexSizer.padding,l+=x.top+x.bottom,c=h<l||o===void 0}c&&(o&&(o.height=m-(h+n),t.height=Math.max(t.height,o.height),t.width+=o.width+y),o={children:[],width:0,height:0},v.push(o),u=v.length%2?T:s,h=m-u),h-=l+n,d&&(o.children.push(d),f=this.getChildWidth(d),x=d.rexSizer.padding,f+=x.left+x.right,o.width=Math.max(o.width,f))}o&&(o.height=m-(h+n),t.height=Math.max(t.height,o.height),t.width+=o.width),t.width+=Math.max(S,r)}return t},cU=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-this.space.left-this.space.right;this.wrapResult=CM.call(this,t),this.rexSizer.resolved=!0,B0.call(this,e)}},vU=function(){return this.orientation===1?!0:G0.call(this)},pU=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-this.space.top-this.space.bottom;this.wrapResult=CM.call(this,t),this.rexSizer.resolved=!0,N0.call(this,e)}};const RC=Phaser.Math.Distance.Between;var gU=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,y=1/0,S=0,r=i.length;S<r;S++){var T=i[S];if(!(Math.abs(T.centerY-t)>T.height/2)){var d=RC(T.left,T.centerY,e,t);y>d&&(y=d,n=S);var s=i[S+1];if(!(s&&s.y===T.y)){var d=RC(T.right,T.centerY,e,t);y>d&&(y=d,n=S+1)}}}return n};const mU=Phaser.Utils.Objects.IsPlainObject,sv=Phaser.Utils.Objects.GetValue,xU=Phaser.Display.Align.CENTER;var nv=function(e,t,i,n){if(e===`
`)return this.addNewLine(),this;if(Vh.call(this,e),mU(t)){var y=t;t=sv(y,"padding",0),i=sv(y,"key",void 0),n=sv(y,"index",void 0)}t===void 0&&(t=0);var y=this.getSizerConfig(e);return y.align=xU,y.padding=Un(t),n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const yU={add(e,t,i){if(rs(e))for(var n=e,y=0,S=n.length;y<S;y++)nv.call(this,n[y],t);else nv.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,n){return nv.call(this,t,i,n,e),this},insertAtPosition(e,t,i,n,y){var S=gU.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,n,y),this}},CU=Phaser.Utils.Array.Remove,TU={remove(e,t){return this.getParentSizer(e)!==this?this:(CU(this.sizerChildren,e),Uh.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,tf.call(this,e),this}};var TM={getChildrenWidth:oU,getChildrenHeight:hU,getChildrenSizers:lU,preLayout:uU,layoutChildren:dU,hasWidthWrap:fU,runWidthWrap:cU,hasHeightWrap:vU,runHeightWrap:pU};Object.assign(TM,yU,TU);var SU=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,y=!1,S=0,r=e.length;S<r;S++)i=e[S],i!==`
`&&(n=this.getChildWidth(i),n===void 0&&(y=!0),!y&&(t=Math.max(n,t)));if(!y)return t},EU=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,y=!1,S=0,r=e.length;S<r;S++)i=e[S],i!==`
`&&(n=this.getChildHeight(i),n===void 0&&(y=!0),!y&&(t=Math.max(n,t)));if(!y)return t};const AC=Phaser.Utils.Objects.IsPlainObject,Ge=Phaser.Utils.Objects.GetValue;class zr extends Nr{constructor(t,i,n,y,S,r){AC(i)?(r=i,i=Ge(r,"x",0),n=Ge(r,"y",0),y=Ge(r,"width",void 0),S=Ge(r,"height",void 0)):AC(y)&&(r=y,y=Ge(r,"width",void 0),S=Ge(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(Ge(r,"orientation",0)),this.setItemSpacing(Ge(r,"space.item",0)),this.setLineSpacing(Ge(r,"space.line",0)),this.setIntentLeft(Ge(r,"space.indentLeftOdd",0),Ge(r,"space.indentLeftEven",0)),this.setIntentTop(Ge(r,"space.indentTopOdd",0),Ge(r,"space.indentTopEven",0)),this.setAlign(Ge(r,"align",0)),this.setJustifyPercentage(Ge(r,"justifyPercentage",.25)),this.setRTL(Ge(r,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Kh(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=PU[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=SU.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=EU.call(this)),this._maxChildHeight}}const PU={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(zr.prototype,TM);st.register("fixWidthSizer",function(e,t,i,n,y){var S=new zr(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.FixWidthSizer",zr);st.register("overlapSizer",function(e,t,i,n,y){var S=new Vi(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.OverlapSizer",Vi);st.register("space",function(){var e=new im(this.scene);return e});et(window,"RexPlugins.UI.Space",im);st.register("label",function(e){var t=new sn(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Label",sn);var Bi=function(e,t){var i;t&&(t.hasOwnProperty("type")?i=t.type:t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var n;switch(i){case"image":n=new Zh(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?n=new Fd(e,t):n=new lf(e,t);break;default:n=new hf(e,t);break}return e.add.existing(n),n};const ra=Phaser.Utils.Objects.GetValue,MU=Phaser.GameObjects.BitmapText;var SM=function(e,t){var i=ra(t,"$type");i===void 0&&ra(t,"key")&&(i="bitmaptext");var n;switch(i){case"bitmaptext":case"bitmap":var y=ra(t,"key"),S=ra(t,"size");S===void 0&&(S=ra(t,"fontSize")),n=new MU(e,0,0,y,"",S);var r=ra(t,"color");r!==void 0&&n.setTint(r);break;case"bbcodetext":case"bbcode":n=new _g(e,0,0,"",t);break;case"text":default:n=new uf(e,t);break}return e.add.existing(n),n};const wU=Phaser.GameObjects.BitmapText;var EM=function(e){return e instanceof wU};const RU=Phaser.GameObjects.Text;var am=function(e){return e instanceof RU},AU=function(e){var t=function(i){var n=e.padding,y=i-n.left-n.right,S=e.style;return am(e)?(S.wordWrapWidth=y,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=y,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},LU=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},OU=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},FU=function(e){return e instanceof ja},PM=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=FU(e)?LU(e):EM(e)?OU(e):AU(e),e},LC=function(e,t){var i=new Zh(e,t);return e.add.existing(i),i};const bo=Phaser.Utils.Objects.GetValue;var om=function(e,t,i){t=t?mi(t):{};var n=bo(i,"background",Bi),y=bo(i,"text",SM),S=bo(i,"icon",LC),r=bo(i,"action",LC);if(n?t.background=n(e,t.background):delete t.background,y){var T=bo(t,"wrapText",!1);T&&(T===!0&&(T="word"),et(t,"text.wrap.mode",T),t.expandTextWidth=!0),t.text=y(e,t.text),T&&(t.text=PM(t.text))}else delete t.text;return S&&t.icon!==null?t.icon=S(e,t.icon):delete t.icon,r&&t.action!==null?t.action=r(e,t.action):delete t.action,t};class df extends sn{constructor(t,i,n){i=om(t,i,n),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return rv(this.getChildren(),"setActiveState",t),this}setHoverState(t){return rv(this.getChildren(),"setHoverState",t),this}setDisableState(t){return rv(this.getChildren(),"setDisableState",t),this}}var rv=function(e,t,i){for(var n=0,y=e.length;n<y;n++){var S=e[n];S&&S[t]&&S[t](i)}};st.register("simpleLabel",function(e,t){var i=new df(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.SimpleLabel",df);const yt=Phaser.Utils.Objects.GetValue;var DU=function(e){var t=this.scene,i=yt(e,"orientation",0);this.setOrientation(i);var n=yt(e,"icon",void 0),y=yt(e,"iconMask",void 0),S=yt(e,"innerBackground",void 0),r=yt(e,"title",void 0),T=yt(e,"separator",void 0),s=yt(e,"text",void 0),d=yt(e,"action",void 0),x=yt(e,"actionMask",void 0);if(n){var v;this.orientation===0?v={right:yt(e,"space.icon",0),top:yt(e,"space.iconTop",0),bottom:yt(e,"space.iconBottom",0),left:yt(e,"space.iconLeft",0)}:v={bottom:yt(e,"space.icon",0),left:yt(e,"space.iconLeft",0),right:yt(e,"space.iconRight",0),top:yt(e,"space.iconTop",0)};var f=yt(e,"squareFitIcon",!1)?1:0;if(this.add(n,{proportion:0,padding:v,fitRatio:f}),y&&(y=as.call(this,n,n,1)),!f){var l=yt(e,"iconSize",void 0);this.setIconSize(yt(e,"iconWidth",l),yt(e,"iconHeight",l))}}var h=new wt(t,{orientation:1});S&&h.addBackground(S);var a=yt(e,"space.separator",0);if(r){var u=yt(e,"align.title","left"),v={bottom:!T&&s?a:0,left:yt(e,"space.titleLeft",0),right:yt(e,"space.titleRight",0)};h.add(r,{proportion:0,align:u,padding:v})}if(T){var v={top:r?a:0,bottom:s?a:0,left:yt(e,"space.separatorLeft",0),right:yt(e,"space.separatorRight",0)};h.add(T,{expand:!0,padding:v})}if(s){var u=yt(e,"align.text","left"),v={left:yt(e,"space.textLeft",0),right:yt(e,"space.textRight",0)};h.add(s,{proportion:0,align:u,padding:v})}var v=void 0;if(d&&(v={right:yt(e,"space.text",0)}),this.add(h,{proportion:1,padding:v}),d){var v;this.orientation===0?v={top:yt(e,"space.actionTop",0),bottom:yt(e,"space.actionBottom",0),right:yt(e,"space.actionRight",0)}:v={left:yt(e,"space.actionLeft",0),right:yt(e,"space.actionRight",0),bottom:yt(e,"space.actionBottom",0)};var f=yt(e,"squareFitAction",!1)?1:0;if(this.add(d,{proportion:0,padding:v,fitRatio:f}),x&&(x=as.call(this,d,d,1)),!f){var o=yt(e,"actionSize");this.setActionSize(yt(e,"actionWidth",o),yt(e,"actionHeight",o))}}this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",y),this.addChildrenMap("innerSizer",h),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",r),this.addChildrenMap("separator",T),this.addChildrenMap("text",s),this.addChildrenMap("action",d),this.addChildrenMap("actionMask",x)};const vt=Phaser.Utils.Objects.GetValue;var IU=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=vt(e,"title",void 0),n=vt(e,"separator",void 0),y=vt(e,"innerBackground",void 0),S=vt(e,"icon",void 0),r=vt(e,"iconMask",void 0),T=vt(e,"text",void 0),s=vt(e,"action",void 0),d=vt(e,"actionMask",void 0);if(i){var x=vt(e,"align.title","left"),f={bottom:vt(e,"space.title",0),left:vt(e,"space.titleLeft",0),right:vt(e,"space.titleRight",0)};this.add(i,{proportion:0,align:x,padding:f})}if(n){var l=vt(e,"space.separator",0),f={top:i?l:0,bottom:T?l:0,left:vt(e,"space.separatorLeft",0),right:vt(e,"space.separatorRight",0)};this.add(n,{proportion:0,expand:!0,padding:f})}var h=vt(e,"orientation",0),a=new wt(t,{orientation:h,rtl:vt(e,"rtl",!1),space:{left:vt(e,"space.innerLeft",0),right:vt(e,"space.innerRight",0),top:vt(e,"space.innerTop",0),bottom:vt(e,"space.innerBottom",0)}});if(y&&a.addBackground(y),this.add(a,{proportion:1,expand:!0}),S){var f=void 0;a.orientation===0?f={right:vt(e,"space.icon",0),top:vt(e,"space.iconTop",0),bottom:vt(e,"space.iconBottom",0),left:vt(e,"space.iconLeft",0)}:f={bottom:vt(e,"space.icon",0),left:vt(e,"space.iconLeft",0),right:vt(e,"space.iconRight",0),top:vt(e,"space.iconTop",0)};var u=vt(e,"squareFitIcon",!1)?1:0;if(a.add(S,{proportion:0,padding:f,fitRatio:u}),r&&(r=as.call(this,S,S,1)),!u){var v=vt(e,"iconSize",void 0);this.setIconSize(vt(e,"iconWidth",v),vt(e,"iconHeight",v))}}if(T){var x=vt(e,"align.text","left"),o=vt(e,"space.text",0),c=vt(e,"expandTextWidth",!1),p=vt(e,"expandTextHeight",!1),g,f,m;a.orientation===0?(g=c?1:0,s&&(f={right:o}),m=p):(g=p?1:0,s&&(f={bottom:o}),m=c),a.add(T,{proportion:g,expand:m,align:x,padding:f})}if(s){var f;a.orientation===0?f={top:vt(e,"space.actionTop",0),bottom:vt(e,"space.actionBottom",0),right:vt(e,"space.actionRight",0)}:f={left:vt(e,"space.actionLeft",0),right:vt(e,"space.actionRight",0),bottom:vt(e,"space.actionBottom",0)};var u=vt(e,"squareFitAction",!1)?1:0;if(a.add(s,{proportion:0,padding:f,fitRatio:u}),d&&(d=as.call(this,s,s,1)),!u){var C=vt(e,"actionSize");this.setActionSize(vt(e,"actionWidth",C),vt(e,"actionHeight",C))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",n),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",y),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",T),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",d)};const OC=Phaser.Utils.Objects.GetValue,FC=[DU,IU];class hm extends sm{constructor(t,i){super(t,i),this.type="rexTitleLabel";var n=OC(i,"background",void 0);n&&this.addBackground(n);var y=OC(i,"layoutMode",0),S=FC[y]||FC[0];S.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}st.register("titleLabel",function(e){var t=new hm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TitleLabel",hm);const Mt=Phaser.Utils.Objects.GetValue,BU=Phaser.Utils.Objects.IsPlainObject;var bU=function(e,t){var i=Mt(t,"background",void 0),n=Mt(t,"icon",void 0),y=Mt(t,"iconMask",void 0),S=Mt(t,"nameText",void 0),r=Mt(t,"valueText",void 0),T=Mt(t,"bar",void 0),s=Mt(t,"action",void 0),d=Mt(t,"actionMask",void 0),x=Mt(t,"barShape","line")==="line";if(BU(T)){var f=x?x0:g0;T=new f(e,T),e.add.existing(T),S&&e.children.moveBelow(T,S),r&&e.children.moveBelow(T,r)}var l=S||r||T;if(i&&this.addBackground(i),n){var h=void 0;this.orientation===0?(l||s)&&(h={right:Mt(t,"space.icon",0),top:Mt(t,"space.iconTop",0),bottom:Mt(t,"space.iconBottom",0)}):(l||s)&&(h={bottom:Mt(t,"space.icon",0),left:Mt(t,"space.iconLeft",0),right:Mt(t,"space.iconRight",0)}),this.add(n,{proportion:0,padding:h}),y&&(y=as.call(this,n,n,1))}if(l){var a=new wt(e,{orientation:1}),u;if(S||r){if(u=new wt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var h={left:Mt(t,"space.name",0)};u.add(S,{padding:h})}if(r){r.text===""&&r.setText(" "),r.setOrigin(1,r.originY),u.addSpace();var h={right:Mt(t,"space.value",0)};u.add(r,{padding:h}),this.setValueTextFormatCallback(Mt(t,"valueTextFormatCallback",GU),Mt(t,"valueTextFormatCallbackScope",void 0))}a.add(u,{expand:!0})}if(T)if(x){var v=u?Mt(t,"space.bar"):0;v===void 0&&(v=Mt(t,"space.barTop",0));var h={top:v,bottom:Mt(t,"space.barBottom",0),left:Mt(t,"space.barLeft",0),right:Mt(t,"space.barRight",0)};a.add(T,{expand:!0,padding:h})}else{var h={top:Mt(t,"space.barTop",0),bottom:Mt(t,"space.barBottom",0),left:Mt(t,"space.barLeft",0),right:Mt(t,"space.barRight",0)};this.addBackground(T,h)}var h=void 0;s&&(h={right:Mt(t,"space.text",0)});var o=Mt(t,"align.text","bottom");this.add(a,{proportion:1,align:o,padding:h})}if(s){var h;this.orientation===0?h={top:Mt(t,"space.actionTop",0),bottom:Mt(t,"space.actionBottom",0)}:h={left:Mt(t,"space.actionLeft",0),right:Mt(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:h}),d&&(d=as.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",y),this.addChildrenMap("name",S),this.addChildrenMap("value",r),this.addChildrenMap("bar",T),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",d)},GU=function(e,t,i){return e.toString()};const NU=Phaser.Math.Clamp,zU={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var n;return this.valueTextFormatCallbackScope?n=this.valueTextFormatCallback(e,t,i):n=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),n},updateValueText(e,t,i){var n=this.childrenMap.value;return n&&this.valueTextFormatCallback&&(n.setText(this.getFormatValueText(e,t,i)),n.layout&&n.layout()),this},setValue(e,t,i){return e=NU(e,t,i),this.value=e,this.minValue=t,this.maxValue=i,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return this.minValue=t,this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new Jn(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class ff extends wt{constructor(t,i){super(t,i),this.type="rexNameValueLabel",bU.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,n){var y=this.childrenMap.bar;return y===void 0?this:(y.setValue(t,i,n),this)}easeBarValueTo(t,i,n){var y=this.childrenMap.bar;return y===void 0?this:(y.easeValueTo(t,i,n),this)}setTexture(t,i){var n=this.childrenMap.icon;if(n!==void 0)return n.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,n){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(ff.prototype,zU);st.register("nameValueLabel",function(e){var t=new ff(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NameValueLabel",ff);class kU extends G2{constructor(t){super(),this.setTable(Ot(t,"table")),this.setMaxLevel(Ot(t,"maxLevel"));var i=Ot(t,"exp",0),n=Ot(t,"level",void 0);n!==void 0&&!this.checkLevel(n,i)&&(console.error(`Level ${n} and Exp ${i} are mismatch`),n=void 0),this.resetExp(i,n)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Qs(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),n=this._level,y=this._exp,S;;){var r=this.getExp(n),T=this.getExp(n+1);if(S=Math.min(T,t),this.emit("levelup",n,y,S,r,T),n===i&&S===t)break;n++,y=T}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var n=this.getExp(i+1);if(n>t||(i++,this.hasMaxLevel&&n===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,n){return i&&this.on("levelup",i,n),this.exp+=t,i&&this.off("levelup",i,n),this}setExp(t,i,n){return i&&this.on("levelup",i,n),this.exp=t,i&&this.off("levelup",i,n),this}setLevel(t,i,n){return i&&this.on("levelup",i,n),this.level=t,i&&this.off("levelup",i,n),this}}var Kp=function(e,t,i){var n=Ot(i,"reverse",!1),y;if(rs(e[0]))if(n)for(var r=e.length,S=r-1;S>=0;S--)y=Kp(e[S],t,i);else for(var S=0,r=e.length;S<r;S++)y=Kp(e[S],t,i);else y=VU(e,t,i);return y},VU=function(e,t,i){var n=Ot(i,"argsConvert",void 0),y=Ot(i,"argsConvertScope",void 0),S=e[0];if(fn=od(fn,e,1),n){n===!0&&(n=o0,y=void 0);for(var r=0,T=fn.length;r<T;r++)y?fn[r]=n.call(y,fn[r],e):fn[r]=n(fn[r],e)}var s;typeof S=="string"?(s=t[S],s==null&&(s=Ot(t,S,null))):s=S;var d=s.apply(t,fn);return d},fn=[];const $i=Phaser.Utils.Objects.GetValue;class MM extends ae{constructor(t,i){super(t,i);var n=$i(i,"clock",void 0);n||(n=new ZP(t)),this.clock=n,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON($i(t,"clock",void 0)),this.state=$i(t,"state",0),this.commands=$i(t,"commands",[]),this.scope=$i(t,"scope",void 0),this.setTimeUnit($i(t,"timeUnit",0)),this.setDtMode($i(t,"dtMode",0)),this.index=$i(t,"index",0),this.nextTime=$i(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,n){this.stop();var y=$i(n,"timeUnit",void 0);y!==void 0&&this.setTimeUnit(y);var S=$i(n,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(r){var T=r[0];return!isNaN(T)}).map(function(r){var T=r[0];return typeof T=="string"&&(r[0]=parseFloat(r[0])),r}),this.dtMode===0&&t.sort(function(r,T){var s=r[0],d=T[0];return s>d?1:s<d?-1:0}),od(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...n){var y;return Array.isArray(i)?y=i:y=[i,...n],this.commands.push([t,y]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var n=i[this.index],y=n[1];if(rs(y)||(y=od(UU,n,1)),Kp(y,this.scope),this.emit("runcommand",y,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=XU[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=WU[t]),this.timeUnit=t,this}}var UU=[];const WU={ms:0,s:1,sec:1},XU={abs:0,absolute:0,inc:1,increment:1};var YU=function(e,t,i,n,y){var S=(i-t)/(y-n)*this.totalEaseDuration,r=i===y?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,n,y).append(0,this.emit,"levelup.start",e,t,i,this).append(S,Le).append(0,this.emit,"levelup.end",r,t,i,this),this.player.isPlaying||this.player.start()};const HU={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},DC=Phaser.Utils.Objects.GetValue;class lm extends ff{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(DC(i,"easeDuration",1e3)),this.levelCounter=new kU(DC(i,"levelCounter")),this.player=new MM(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",YU,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(lm.prototype,HU);st.register("expBar",function(e){var t=new lm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ExpBar",lm);const ql=wt.prototype.add,IC=wt.prototype.addSpace;var av=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var n=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");n&&IC.call(this),ql.call(this,e,{proportion:i,expand:!0});var y=!this.buttonsExpand&&this.buttonsAlign==="center";y&&IC.call(this),this.hasTailSpace=y}else ql.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;ql.call(this,e,{index:S,proportion:i,expand:!0})}else ql.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const $U={addButton(e){if(rs(e))for(var t=e,i=0,n=t.length;i<n;i++)av.call(this,t[i]);else av.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)av.call(this,e[t]);return this}},KU=wt.prototype.remove,ZU=wt.prototype.clear;var ov=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),KU.call(this,e,t),this)};const JU={remove(e,t){if(rs(e))for(var i=e,n=0,y=i.length;n<y;n++)ov.call(this,i[n],t);else ov.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,ZU.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)ov.call(this,t[i],e);return this}};var QU=function(e,t,i){if(e){var n=this.setValueCallback,y=this.setValueCallbackScope;n&&(y?n.call(y,e,t,i):n(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},jU=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var n=e._selected;e._selected=i,QU.call(t,e,i,n)}},enumerable:!0,configurable:!0}),e.selected=!1};const qU={add(e){return this.buttons.push(e),e._click||(e._click=new _s(e,this.clickConfig),e._click.on("click",function(t,i,n,y){this.fireEvent("button.click",i,n,y)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,n,y){this.fireEvent("button.over",i,n,y)},this).on("out",function(t,i,n,y){this.fireEvent("button.out",i,n,y)},this).on("down",function(t,i,n,y){this.fireEvent("button.down",i,n,y)},this).on("up",function(t,i,n,y){this.fireEvent("button.up",i,n,y)},this)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),jU.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},_U=Phaser.Utils.Array.Remove,tW={remove(e){return this.buttonsType&&delete e.selected,_U(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var eW=function(e,t,...i){if(this.buttons){var n;if(typeof t=="number"){if(n=t,t=this.buttons[n],!t)return}else if(n=this.buttons.indexOf(t),n===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,n,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,n,...i):this.eventEmitter.emit(e,t,n,...i)}};const Go=Phaser.Utils.Objects.GetValue,iW={setButtonsType(e){e===void 0&&(e={});var t=Go(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,n;switch(i=Go(e,"setValueCallback",void 0),n=Go(e,"setValueCallbackScope",void 0),i===void 0&&(i=Go(e,"setButtonStateCallback",void 0),n=Go(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=n,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(n){if(e._value!==n){e._value=n;for(var y=0,S=t.length;y<S;y++){var r=t[y];r.rexSizer.hidden||(i===void 0?r.name===n?r.selected=!0:r.selected=!1:i===y?r.selected=!0:r.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(n){i=this.buttons.indexOf(n),e.value=n.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var n=e[t];n.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(e[y.name]=y.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,n=0,y=i.length;n<y;n++){var S=i[n];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,n=t.length;i<n;i++){var y=t[i];if(!y.rexSizer.hidden&&y.name===e)return y.selected}}};var sW=function(e,t){if(e)if(rs(e)){for(var i,n=0,y=e.length;n<y;n++)if(i=BC(e[n],t),i)return i}else{var i;for(var S in e)if(i=BC(e[S],t),i)return i}else return null},BC=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const cf={getButton(e){var t=this.buttons,i,n=typeof e;switch(n){case"number":i=t[e];break;case"string":i=sW(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var n=0,y=i.length;n<y;n++)i[n]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,n=t.length;i<n;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,n=0,y=i.length;n<y;n++){var S=i[n];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Sn(this.getButton(e)),this},hideButton(e){return En(this.getButton(e)),this},isButtonShown(e){return W0(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,n=0,y=i.length;n<y;n++)t?e.call(t,i[n],n,i):e(i[n],n,i);return this}};class vf{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var nW={fireEvent:eW};Object.assign(vf.prototype,qU,tW,iW,cf,nW);const um={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},lr=Phaser.Utils.Objects.GetValue;let Se=class extends wt{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n}),super(t,i),this.type="rexButtons",this.buttonGroup=new vf({parent:this,eventEmitter:lr(i,"eventEmitter",this),groupName:lr(i,"groupName",void 0),clickConfig:lr(i,"click",void 0)}).setButtonsType(i);var y=lr(i,"background",void 0),S=lr(i,"buttons",void 0);this.buttonsExpand=lr(i,"expand",!1),this.buttonsAlign=lr(i,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Se.prototype,$U,JU,cf,um);st.register("buttons",function(e){var t=new Se(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Buttons",Se);const rW=os.prototype.add,aW={addButton(e,t,i){return rW.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,n=e;i<n;i++)this.addButton(e[i],void 0,t);return this}},oW=os.prototype.remove,hW=os.prototype.clear;var hv=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),oW.call(this,i,t),this):this};const lW={remove(e,t){if(rs(e))for(var i=e,n=0,y=i.length;n<y;n++)hv.call(this,i[n],t);else hv.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,hW.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)hv.call(this,t[i],e);return this}},ps=Phaser.Utils.Objects.GetValue;class pf extends os{constructor(t,i){i===void 0&&(i={});var n=ps(i,"row",0),y=ps(i,"column",i.col||0),S=ps(i,"createCellContainerCallback"),r=ps(i,"buttons",void 0),T=ps(i,"expand",!0),s=T?1:0;if(S&&(i.createCellContainerCallback=void 0),r!==void 0){n=Math.max(n,r.length);for(var d=0,x=r.length;d<x;d++)y=Math.max(y,r[d].length)}i.row=n,i.column=y,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new vf({parent:this,eventEmitter:ps(i,"eventEmitter",this),groupName:ps(i,"groupName",void 0),clickConfig:ps(i,"click",void 0)}).setButtonsType(i);var f=ps(i,"background",void 0);if(this.buttonsExpand=T,ps(i,"space",void 0),f&&this.addBackground(f),r)for(var l,h,a=0,u=r.length;a<u;a++){l=r[a];for(var v=0,o=l.length;v<o;v++)h=l[v],h&&this.addButton(h,v,a)}else if(S)for(var c=0;c<n;c++)for(var p=0;p<y;p++){var h=S(t,p,c);h&&this.addButton(h,p,c)}this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(pf.prototype,aW,lW,cf,um);st.register("gridButtons",function(e){var t=new pf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridButtons",pf);const wM=zr.prototype.add;var _l=function(e){return wM.call(this,e),this.buttonGroup.add(e),this};const uW={addButton(e){if(rs(e))for(var t=e,i=0,n=t.length;i<n;i++)_l.call(this,t[i]);else _l.call(this,e);return this},addButtons(e){if(rs(e[0]))for(var t=e,i,n=0,y=t.length-1;n<=y;n++){i=t[n];for(var S=0,r=i.length;S<r;S++)_l.call(this,i[S]);n>y&&wM.addNewLine(this)}else for(var S=0,r=e.length;S<r;S++)_l.call(this,e[S]);return this}},dW=zr.prototype.remove,fW=zr.prototype.clear;var lv=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),dW.call(this,i,t),this):this};const cW={remove(e,t){if(rs(e))for(var i=e,n=0,y=i.length;n<y;n++)lv.call(this,i[n],t);else lv.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,fW.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)lv.call(this,t[i],e);return this}},aa=Phaser.Utils.Objects.GetValue;class Wn extends zr{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n,line:n}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new vf({parent:this,eventEmitter:aa(i,"eventEmitter",this),groupName:aa(i,"groupName",void 0),clickConfig:aa(i,"click",void 0)}).setButtonsType(i);var y=aa(i,"background",void 0),S=aa(i,"buttons",void 0);this.buttonsAlign=aa(i,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Wn.prototype,uW,cW,cf,um);st.register("fixWidthButtons",function(e){var t=new Wn(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FixWidthButtons",Wn);const vW={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,n,y){return this.childrenMap.fileChooser.loadFile(e,t,i,n,y),this},loadFilePromise(e,t,i,n){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,n)}},bC=Phaser.Utils.Objects.GetValue;class dm extends sn{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var n=new $h(t);t.add.existing(n),this.addBackground(n),this.addChildrenMap("fileChooser",n),this.setAccept(bC(i,"accept","")),this.setMultiple(bC(i,"multiple",!1)),n.on("change",function(y){var S=y.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(dm.prototype,vW);st.register("fileSelectorButton",function(e){var t=new dm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileSelectorButton",dm);const pW={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this}},gW={onCreateModalBehavior(e){e.on("button.click",function(t,i,n,y,S){if(i==="actions"){var r={index:n,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":r.value=e.getChoicesSelectedButtonName();break;case"checkboxes":r.value=e.getChoicesButtonStates();break;default:r.value=void 0}e.modalClose(r)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,$0.modal.call(this,e,t),this}};var RM={};Object.assign(RM,pW,gW);const dt=Phaser.Utils.Objects.GetValue;class gf extends wt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=dt(i,"eventEmitter",this);var n=dt(i,"background",void 0),y=dt(i,"title",void 0),S=dt(i,"toolbar",void 0),r=dt(i,"toolbarBackground",void 0),T=dt(i,"leftToolbar",void 0),s=dt(i,"leftToolbarBackground",void 0),d=dt(i,"content",void 0),x=dt(i,"description",void 0),f,l=dt(i,"choices",void 0),h=dt(i,"choicesBackground",void 0),a,u=dt(i,"actions",void 0),v=dt(i,"actionsBackground",void 0),o=dt(i,"click",void 0);n&&this.addBackground(n);var c;S&&(c=new Se(t,{groupName:"toolbar",background:r,buttons:S,orientation:0,space:{item:dt(i,"space.toolbarItem",0)},click:o,eventEmitter:this.eventEmitter}));var p;if(T&&(p=new Se(t,{groupName:"leftToolbar",background:s,buttons:T,orientation:0,space:{item:dt(i,"space.leftToolbarItem",0)},click:o,eventEmitter:this.eventEmitter})),y||S||T){var g=!!y&&dt(i,"expand.title",!0),m=dt(i,"align.title","center"),C=y&&!g&&m==="center"||!y&&(S||T),E=!C,M;E?M=new wt(t,{orientation:0}):M=new Vi(t);var P=E?!0:{height:!0};if(p&&M.add(p,{align:"left",expand:P}),y){E&&!g&&m==="right"&&M.addSpace();var w={left:dt(i,"space.titleLeft",0),right:dt(i,"space.titleRight",0)},R=g?1:0;M.add(y,{align:m,proportion:R,expand:P,padding:w}),E&&!g&&m==="left"&&M.addSpace()}c&&(E&&!y&&M.addSpace(),M.add(c,{align:"right",expand:P}));var w;(d||x||l||u)&&(w={bottom:dt(i,"space.title",0),top:dt(i,"space.titleTop",0)});var R=dt(i,"proportion.title",0);this.add(M,{padding:w,proportion:R,expand:!0})}if(d){var A=dt(i,"align.content","center"),L=dt(i,"space.content",0),w={left:dt(i,"space.contentLeft",0),right:dt(i,"space.contentRight",0),bottom:x||l||u?L:0},R=dt(i,"proportion.content",0),F=dt(i,"expand.content",!0);this.add(d,{align:A,padding:w,proportion:R,expand:F})}if(x){var A=dt(i,"align.description","center"),O=dt(i,"space.description",0),w={left:dt(i,"space.descriptionLeft",0),right:dt(i,"space.descriptionRight",0),bottom:l||u?O:0},R=dt(i,"proportion.description",0),F=dt(i,"expand.description",!0);this.add(x,{align:A,padding:w,proportion:R,expand:F})}if(l){var D=dt(i,"choicesType","").split("-"),B=No(D,"wrap")?Wn:No(D,"grid")?pf:Se,b=No(D,"radio")?"radio":No(D,"checkboxes")?"checkboxes":void 0,G={left:dt(i,"space.choicesBackgroundLeft",0),right:dt(i,"space.choicesBackgroundRight",0),top:dt(i,"space.choicesBackgroundTop",0),bottom:dt(i,"space.choicesBackgroundBottom",0)},V=dt(i,"space.choice",0);B===Se?G.item=V:B===Wn?(G.item=V,G.line=dt(i,"space.choiceLine",V)):(G.column=dt(i,"space.choiceColumn",V),G.row=dt(i,"space.choiceRow",V));var W={width:dt(i,"choicesWidth",void 0),height:dt(i,"choicesHeight",void 0),groupName:"choices",buttonsType:b,background:h,buttons:l,space:G,click:o,eventEmitter:this.eventEmitter,setValueCallback:dt(i,"choicesSetValueCallback",void 0),setValueCallbackScope:dt(i,"choicesSetValueCallbackScope",void 0)};B===Se&&(W.orientation=No(D,"x")?0:1),f=new B(t,W);var H=dt(i,"space.choices",0),w={left:dt(i,"space.choicesLeft",0),right:dt(i,"space.choicesRight",0),bottom:u?H:0},A=dt(i,"align.choices","center"),R=dt(i,"proportion.choices",0),F=dt(i,"expand.choices",!0);this.add(f,{align:A,padding:w,proportion:R,expand:F}),this.buttonsType=b}if(u){a=new Se(t,{groupName:"actions",background:v,buttons:u,orientation:0,space:{item:dt(i,"space.action",0)},expand:dt(i,"expand.actions",!1),align:dt(i,"align.actions","center"),click:o,eventEmitter:this.eventEmitter});var w={left:dt(i,"space.actionsLeft",0),right:dt(i,"space.actionsRight",0),bottom:dt(i,"space.actionsBottom",0)},R=dt(i,"proportion.action",0);this.add(a,{align:"center",padding:w,proportion:R,expand:!0})}zo(this,"click"),zo(this,"over"),zo(this,"out"),zo(this,"enable"),zo(this,"disable"),this.addChildrenMap("background",n),this.addChildrenMap("title",y),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",d),this.addChildrenMap("description",x),this.addChildrenMap("choices",f?f.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",f),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",p)}}var No=function(e,t){return e.indexOf(t)!==-1},GC={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},zo=function(e,t){e.on(`button.${t}`,function(i,n,y,S,r){GC.hasOwnProperty(n)&&e.emit(`${GC[n]}.${t}`,i,y,S,r)})};Object.assign(gf.prototype,RM);st.register("dialog",function(e){var t=new gf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Dialog",gf);var bi=function(e,t,i){var n=new df(e,t,i);return e.add.existing(n),n},mW=function(e){return e===void 0&&(e={}),xW.call(this,e),yW.call(this,e),CW.call(this,e),TW.call(this,e),this},xW=function(e){var t=this.childrenMap.title;t.resetDisplayContent(e.title)},yW=function(e){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(e.content);else{var i=e.content||"";t.setText(i)}},CW=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,r=this.defaultActionConfig,T=this.defaultActionButtonCreator,s=0,d=i.length;s<d;s++){var x=i[s],f=t[s];f||(f=bi(S,r,T),this.addAction(f)),f.show().resetDisplayContent(x)}this.buttonMode=i.length;for(var s=i.length,d=t.length;s<d;s++)t[s].hide()}else{var n=t[0];n&&n.resetDisplayContent(e.buttonA);var y=t[1];y&&y.resetDisplayContent(e.buttonB)}}},TW=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var n=this.scene,y=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,r=0,T=i.length;r<T;r++){var s=i[r];typeof s=="string"&&(s={text:s});var d=t[r];d||(d=bi(n,y,S),this.addChoice(d)),d.show().resetDisplayContent(s);var x;s.hasOwnProperty("value")?x=s.value:x=s.text,d.setName(x)}for(var r=i.length,T=t.length;r<T;r++)t[r].hide()}};Phaser.Utils.Objects.GetValue;var SW=function(e,t){Qs(e)&&(t=e,e=void 0),e===void 0&&(e={});var i=this.buttonMode===0;e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var n=this,y=function(S){var r=S.index;r===n.confirmButtonIndex?n.emit("confirm",S):r===n.cancelButtonIndex&&n.emit("cancel",S),t&&t(S)};return $0.modal.call(this,e,y),this};const EW={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var AM={resetDisplayContent:mW,modal:SW};Object.assign(AM,EW);var PW=function(e){e.setHoverState&&e.setHoverState(!0)},MW=function(e){e.setHoverState&&e.setHoverState(!1)},wW=function(e,t,i,n){e.setActiveState&&e.setActiveState(n)},RW=function(e){e.setDisableState&&e.setDisableState(!1)},AW=function(e){e.setDisableState&&e.setDisableState(!0)},LW=function(){this.on("button.over",PW).on("button.out",MW).on("button.enable",RW).on("button.disable",AW).on("button.statechange",wW)};const LM={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var fm=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=OW(e));var i=e[t];return typeof i=="string"&&(i=LM[i]),i},OW=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,n;return t&&i?n=2:t?n=0:i?n=1:n=0,n};const xe=Phaser.Utils.Objects.GetValue;var FW=function(e,t,i){var n=xe(i,"child"),y=xe(n,"gameObject",void 0);if(y){var S=xe(i,"space.child",0);e.childMargin={};var r=e.childMargin,T={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:r.top=0,r.bottom=0,r.left=0,r.right=0;break;default:r.top=S,r.bottom=S,r.left=S,r.right=S;break}else switch(e.scrollMode){case 0:r.top=xe(S,"top",0),r.bottom=xe(S,"bottom",0),T.left=xe(S,"left",0),T.right=xe(S,"right",0);break;case 1:r.top=xe(S,"left",0),r.bottom=xe(S,"right",0),T.top=xe(S,"top",0),T.bottom=xe(S,"bottom",0);break;default:r.top=xe(S,"top",0),r.bottom=xe(S,"bottom",0),r.left=xe(S,"left",0),r.right=xe(S,"right",0);break}t.add(y,{column:1,row:1,align:xe(n,"align","center"),padding:T,expand:{width:xe(n,"expandWidth",!0),height:xe(n,"expandHeight",!0)}})}e.addChildrenMap("child",y)};const NC=Phaser.Math.Percent;var OM=function(e,t,i){var n;return e.y===t.y?n=NC(i.x,e.x,t.x):e.x===t.x&&(n=NC(i.y,e.y,t.y)),n},DW=function(e,t,i){if(this.enable){uv.x=t,uv.y=i;var n,y;this.reverseAxis?(n=this.getEndPoint(),y=this.getStartPoint()):(n=this.getStartPoint(),y=this.getEndPoint()),this.value=OM(n,y,uv)}},uv={},zC=function(e,t,i){if(this.enable&&e.isDown){dv.x=e.worldX,dv.y=e.worldY;var n,y;this.reverseAxis?(n=this.getEndPoint(),y=this.getStartPoint()):(n=this.getStartPoint(),y=this.getEndPoint());var S=OM(n,y,dv);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-S)<.1?this.value=S:this.easeValueTo(S)}},dv={},FM=function(e,t){t===void 0&&(t=IW);var i=this.childrenMap.thumb,n=i.x,y=i.y;return kh(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=n,i.y=y,t},IW={};const BW=Phaser.Display.Align.LEFT_CENTER,bW=Phaser.Display.Align.TOP_CENTER;var GW=function(e){if(e===void 0&&(e=NW),this.childrenMap.thumb){var t=this.orientation===0?BW:bW;FM.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},NW={};const zW=Phaser.Display.Align.RIGHT_CENTER,kW=Phaser.Display.Align.BOTTOM_CENTER;var VW=function(e){if(e===void 0&&(e=UW),this.childrenMap.thumb){var t=this.orientation===0?zW:kW;FM.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},UW={};const kC=Phaser.Math.Linear;var WW=function(e,t,i,n){return n===void 0&&(n=XW),n.x=kC(t.x,i.x,e),n.y=kC(t.y,i.y,e),n},XW={},YW=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,n;return this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint()),WW(e,i,n,t),this.resetChildPositionState(t),this};const HW=Phaser.Display.Align.LEFT_CENTER,$W=Phaser.Display.Align.TOP_CENTER,KW=Phaser.Display.Align.RIGHT_CENTER,ZW=Phaser.Display.Align.BOTTOM_CENTER;var JW=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,n,y,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var r=It(S);if(i){var T=S.x-r*S.originX;n=this.right-T}else{var T=S.x-r*S.originX,s=T+r;n=s-this.left}}else{var d=Bt(S);if(i){var x=S.y-d*S.originY;y=this.bottom-x}else{var x=S.y-d*S.originY,f=x+d;y=f-this.top}}else this.orientation===0?n=this.width*e:y=this.height*e;Ye(t,n,y);var l;i?l=this.orientation===0?KW:ZW:l=this.orientation===0?HW:$W,O2(t,this,l),this.resetChildPositionState(t)};const Ki=Phaser.Utils.Objects.GetValue,tu=Phaser.Utils.Objects.IsPlainObject,QW=Phaser.Math.Clamp,jW=Phaser.Math.Snap.To;class so extends Gr(wt){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ki(i,"reverseAxis",!1);var n=Ki(i,"background",void 0),y=Ki(i,"track",void 0),S=Ki(i,"indicator",void 0),r=Ki(i,"thumb",void 0);n&&(tu(n)&&(n=Bi(t,n)),this.addBackground(n)),y&&(tu(y)&&(y=Bi(t,y)),this.add(y,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(tu(S)&&(S=Bi(t,S)),this.pin(S)),r&&(tu(r)&&(r=Bi(t,r)),this.pin(r));var T=Ki(i,"input",0);switch(typeof T=="string"&&(T=qW[T]),T){case 0:r&&(r.setInteractive(),this.scene.input.setDraggable(r),r.on("drag",DW,this).on("dragstart",function(s){this.eventEmitter.emit("inputstart",s)},this).on("dragend",function(s){this.eventEmitter.emit("inputend",s)},this));break;case 1:this.on("pointerdown",zC,this).on("pointermove",zC,this).on("pointerdown",function(s){this.eventEmitter.emit("inputstart",s)},this).on("pointerup",function(s){this.eventEmitter.emit("inputend",s)},this).on("pointerover",function(s){s.isDown&&this.eventEmitter.emit("inputstart",s)},this).on("pointerout",function(s){s.isDown&&this.eventEmitter.emit("inputend",s)},this).setInteractive();break}this.addChildrenMap("background",n),this.addChildrenMap("track",y),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",r),this.setEnable(Ki(i,"enable",void 0)),this.setGap(Ki(i,"gap",void 0)),this.setValue(Ki(i,"value",0),Ki(i,"min",void 0),Ki(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,n){return t&&i!==void 0&&(t=t/(n-i)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=jW(t,this.gap));var i=this._value;this._value=QW(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,n){return this.updateThumb(),this.updateIndicator(),this}}const qW={pan:0,drag:0,click:1,none:-1};var _W={getStartPoint:GW,getEndPoint:VW,updateThumb:YW,updateIndicator:JW};Object.assign(so.prototype,_W);const je=Phaser.Utils.Objects.GetValue;class cm extends wt{constructor(t,i){super(t,i),this.type="rexScrollBar";var n=je(i,"background",void 0),y=je(i,"buttons",void 0),S=je(y,"top",je(y,"left",void 0)),r=je(y,"bottom",je(y,"right",void 0)),T,s=je(i,"slider",void 0);if(n&&this.addBackground(n),S){this.add(S);var d=new $a(S);d.on("intouch",function(){if(this.enable){var v=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var x;if(this.orientation===0){var f=je(s,"width",void 0);x=f===void 0?1:0}else{var l=je(s,"height",void 0);x=l===void 0?1:0}T=new so(t,s),t.add.existing(T),this.add(T,{proportion:x})}if(r){this.add(r);var d=new $a(r);d.on("intouch",function(){if(this.enable){var o=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=o}},this)}var h=[S,r];this.addChildrenMap("background",n),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",h);var a=je(i,"valuechangeCallback",null);if(a!==null){var u=je(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,u)}this.setEnable(je(i,"enable",void 0)),this.setValue(je(i,"value",0)),this.setScrollStep(je(y,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}var tX=function(e,t){t===void 0&&(t={});var i=Js(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var n=new cm(e,t);e.add.existing(n);var y=n.childrenMap.slider;return n.addChildrenMap("track",y.childrenMap.track),n.addChildrenMap("indicator",y.childrenMap.indicator),n.addChildrenMap("thumb",y.childrenMap.thumb),n};class eX extends en{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,n=i.dragState;return n.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,n=i.dragState;return n.isDown?t=n.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,n=i.dragState;return n.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var n=this.parent,y=n.dragState;y.justMoved&&n.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,i){this.parent.sliding(t,i),this.next()}next_BACK(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,i){this.parent.pullBack(t,i),this.next()}}const eu=Phaser.Utils.Objects.GetValue,iX=Phaser.Math.Distance.Between;class sX extends ae{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(eu(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(eu(t,"enable",!0)),this.holdThreshold=eu(t,"holdThreshold",50),this.pointerOutReleaseEnable=eu(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=f0(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=iX(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=i,this.localY=n)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,n){!this.enable||!t.isDown||this.pointer!==t||(this.localX=i,this.localY=n)}preupdate(t,i){if(this.enable){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.worldX,this.y=n.worldY,this.preX=n.worldX,this.preY=n.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.worldX,this.y=n.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}}}const fv=Phaser.Utils.Objects.GetValue;class nX{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(fv(t,"value",0)),this.setSpeed(fv(t,"speed",0)),this.setAcceleration(fv(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class rX{constructor(){this.value,this.dir,this.movement=new nX}init(t,i,n,y,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,this.movement.setSpeed(n).setAcceleration(-y),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const he=Phaser.Utils.Objects.GetValue,aX=Phaser.Math.Clamp;class oX extends ae{constructor(t,i){super(t,i);var n=he(i,"enable",!0);this._state=new eX(this,{enable:n,eventEmitter:!1});var y={inputConfig:he(i,"inputConfig",void 0),enable:n,pointerOutRelease:he(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new sX(t,y),this._enable=void 0,this._value=void 0,this._slowDown=new rX;var S=he(i,"valuechangeCallback",null);if(S!==null){var r=he(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,r)}if(S=he(i,"overmaxCallback",null),S!==null){var r=he(i,"overmaxCallbackScope",void 0);this.on("overmax",S,r)}if(S=he(i,"overminCallback",null),S!==null){var r=he(i,"overminCallbackScope",void 0);this.on("overmin",S,r)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(he(t,"orientation",0)),this.setDragThreshold(he(t,"threshold",10)),this.setSlidingDeceleration(he(t,"slidingDeceleration",5e3)),this.setBackDeceleration(he(t,"backDeceleration",2e3));var i=he(t,"dragRate",1);i=i*(he(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var n=he(t,"bounds",void 0);return n?this.setBounds(n):this.setBounds(he(t,"max",0),he(t,"min",0)),this.setValue(he(t,"value",this.maxValue||0)),this.setEnable(he(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=hX[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var n=t;t=n[0],i=n[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,n=this.overMax(t),y=this.overMin(t);n&&this.emit("overmax",t,i),y&&this.emit("overmin",t,i),this.backEnable||(n&&(t=this.maxValue),y&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=aX(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,i=this.dragSpeed;if(i===0){this._slowDown.stop(),this._state.next();return}var n=this.slidingDeceleration;this._slowDown.init(t,i>0,Math.abs(i),n)}sliding(t,i){i*=.001;var n=this._slowDown.update(i).value;this.overMax(n)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(n)?(this.value=this.minValue,this._slowDown.stop()):this.value=n}onPullBack(){var t=this.value,i=this.outOfMinBound?this.minValue:this.maxValue,n=Math.abs(i-t),y=this.backDeceleration,S=Math.sqrt(2*y*n);this._slowDown.init(t,void 0,S,y,i)}pullBack(t,i){i*=.001,this.value=this._slowDown.update(i).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const hX={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},iu=Phaser.Utils.Objects.GetValue;class lX extends ae{constructor(t,i){if(super(t,i),this.parent!==this.scene?this.focusMode=iu(i,"focus",!0):this.focusMode=!1,this.setSpeed(iu(i,"speed",.1)),this.setEnable(iu(i,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(iu(i,"inputConfig",void 0)).on("wheel",function(y,S,r,T,s){this.enable&&this.scroll(r)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,i,n,y,S,r){this.enable&&this.scroll(y)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const ye=Phaser.Utils.Objects.GetValue;var su=function(e,t,i,n){i=i.toUpperCase();var y=i==="Y",S=e.scrollMode===2,r=e.childrenMap.child,T,s,d=`slider${i}`;if(S||n.hasOwnProperty(d)?T=ye(n,d,void 0):T=ye(n,"slider",void 0),T){T===!0&&(T={}),T.orientation=y?1:0,s=tX(e.scene,T);var x,f,l,h=ye(T,"position",0);typeof h=="string"&&(h=uX[h]);var a=ye(n,`space.slider${i}`,void 0),u;a===void 0&&(a=ye(n,"space.slider",void 0),a===void 0&&(S?a=0:u=ye(n,"space.child",0)));var v;u===void 0?v=typeof a=="number":v=typeof u=="number",y?h===0?(x=2,f=1,u===void 0?l=v?{left:a}:a:l={left:ye(u,"right",u)}):(x=0,f=1,u===void 0?l=v?{right:a}:a:l={right:ye(u,"left",u)}):h===0?(x=1,f=2,u===void 0?l=v?{top:a}:a:l={top:ye(u,"bottom",u)}):(x=1,f=0,u===void 0?l=v?{bottom:a}:a:l={bottom:ye(u,"top",u)}),t.add(s,{column:x,row:f,align:"center",padding:l,expand:!0}),e[`hideUnscrollableSlider${i}`]=ye(T,"hideUnscrollableSlider",!1),e[`adaptThumb${i}SizeMode`]=ye(T,"adaptThumbSize",!1),e[`minThumb${i}Size`]=ye(T,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var o,c,p=`scroller${i}`;S||n.hasOwnProperty(p)?o=ye(n,p,!0):o=ye(n,"scroller",!0),o&&r&&(o===!0&&(o={}),o.orientation=y?0:1,c=new oX(r,o));var g=ye(n,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),m;if(g&&r&&(m=new lX(r,g)),e.addChildrenMap(`slider${i}`,s),e.addChildrenMap(`scroller${i}`,c),e.addChildrenMap(`mouseWheelScroller${i}`,m),(!S||y)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",s),e.addChildrenMap("scroller",c),e.addChildrenMap("mouseWheelScroller",m)),s){var C,E;S?(C=y?"t":"s",E=`scroll${i}`):(C="t",E="scroll"),s.on("valuechange",function(w){e[C]=w,e.emit(E,e)})}if(c){var M,E;S?(M=`childO${i}`,E=`scroll${i}`):(M="childOY",E="scroll"),c.on("valuechange",function(R){e[M]=R,e.emit(E,e)})}if(m){var P;S?P=`addChildO${i}`:P="addChildOY",m.on("scroll",function(w){e[P](-w,!0)})}};const uX={right:0,left:1,bottom:0,top:1},nu=Phaser.Utils.Objects.GetValue;var dX=function(e,t){var i=e.scene,n=[0,1,0],y=[0,1,0],S=nu(t,"width"),r=nu(t,"height");if(!S){var T=nu(t,"child.expandWidth",!0);T||(n[1]=0)}if(!r){var s=nu(t,"child.expandHeight",!0);s||(y[1]=0)}var d=new os(i,{column:3,row:3,columnProportions:n,rowProportions:y});switch(FW(e,d,t),e.scrollMode){case 0:su(e,d,"y",t);break;case 1:su(e,d,"x",t);break;default:su(e,d,"y",t),su(e,d,"x",t);break}return d},fX=function(){switch(this.scrollMode){case 0:case 1:cv.call(this),this.updateController(),vv.call(this),pv.call(this);break;default:cv.call(this,"y"),cv.call(this,"x"),this.updateController(),vv.call(this,"y"),vv.call(this,"x"),pv.call(this,"y"),pv.call(this,"x");break}return this},cv=function(e){var t,i,n,y;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,n=this.childrenMap.scroller,y=this.childrenMap.slider;break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),n=this.childrenMap[`scroller${e}`],y=this.childrenMap[`slider${e}`]}n&&n.setBounds(t,i),y&&y.setEnable(t!==i)},vv=function(e){switch(this.scrollMode){case 0:case 1:var t=this.childrenMap.slider;t&&this.hideUnscrollableSlider&&this.setChildVisible(t,this.isOverflow);break;default:e=e.toUpperCase();var t=this.childrenMap[`slider${e}`],i=this[`hideUnscrollableSlider${e}`],n=this[`isOverflow${e}`];t&&i&&this.setChildVisible(t,n);break}},pv=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),r=S.childrenMap.track,T=S.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),Ye(T,void 0,i)}else{var n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),Ye(T,n,void 0)}VC(S);break;default:e=e.toUpperCase();var y=this[`adaptThumb${e}SizeMode`];if(!y)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var r=S.childrenMap.track,T=S.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),Ye(T,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),Ye(T,n,void 0)}VC(S);break}},VC=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},cX=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,n=this.childrenMap.sliderY,y=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),n&&n.setValue(this.t),y&&y.setValue(this.childOX),S&&S.setValue(this.s);break}};const gs=Phaser.Utils.Objects.GetValue,ru=Phaser.Math.Clamp;class Jh extends wt{constructor(t,i){i===void 0&&(i={});var n=fm(i),y=n===1;i.orientation=y?0:1,super(t,i),this.type=gs(i,"type","rexScrollable"),this.scrollMode=n;var S=gs(i,"background",void 0);S&&this.addBackground(S);var r=gs(i,"header",void 0);if(r){var T=gs(i,"align.header","center"),s=gs(i,"space.header",0),d;y?d={right:s}:d={bottom:s},this.add(r,{proportion:0,align:T,padding:d,expand:gs(i,"expand.header",!0)})}var x=dX(this,i);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var f=gs(i,"footer",void 0);if(f){var T=gs(i,"align.footer","center"),l=gs(i,"space.footer",0),d;y?d={left:l}:d={top:l},this.add(f,{proportion:0,align:T,padding:d,expand:gs(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",r),this.addChildrenMap("footer",f),this.runLayoutFlag=!1}postLayout(t,i,n){var y=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(y=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(y),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,y=n.topChildOY-n.bottomChildOY,S=y+i.top+i.bottom,r=S*t-i.top;t=y!==0?r/y:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,y=n.topChildOY-n.bottomChildOY,S=y+i.top+i.bottom,r=y*t+i.top;t=S!==0?r/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,y=n.leftChildOX-n.rightChildOX,S=y+i.left+i.right,r=S*t-i.left;t=y!==0?r/y:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,y=n.leftChildOX-n.rightChildOX,S=y+i.left+i.right,r=y*t+i.left;t=S!==0?r/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}setChildOY(t,i){return i===void 0&&(i=!1),i&&(t=ru(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,i){return this.setChildOY(this.childOY+t,i),this}setT(t,i){return i===void 0&&(i=!1),i&&(t=ru(t,0,1)),this.t=t,this}addT(t,i){return this.setT(this.t+t,i),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}setChildOX(t,i){return i===void 0&&(i=!1),i&&(t=ru(t,this.leftChildOX,this.rightChildOX)),this.childOX=t,this}addChildOX(t,i){return this.setChildOX(this.childOX+t,i),this}setS(t,i){return i===void 0&&(i=!1),i&&(t=ru(t,0,1)),this.s=t,this}addS(t,i){return this.setS(this.s+t,i),this}scrollToLeft(){return this.s=0,this}scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}}var vX={resizeController:fX,updateController:cX};Object.assign(Jh.prototype,vX);const ni=0,vi=1,pi=2;var no=function(e){var t;return EM(e)?t=pi:am(e)?t=ni:t=vi,t},vm=function(e,t,i){var n=no(e);switch(n){case ni:i=e.getWrappedText(t);break;case vi:i=e.getPenManager(t,i);break;case pi:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},pX=function(e){return e!==void 0&&(this.text=e),this.lines=vm(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},DM=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},IM=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},gX=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case ni:i=this.lines.slice(e,t).join(`
`);break;case vi:var n=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,y,!0);break;case pi:i=this.lines.slice(e,t).join(`
`);break}return i},pm=function(e,t){var i=no(e);switch(i){case ni:var S=e.style,n=S.wordWrapWidth,y=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=n,S.wordWrapCallback=y;break;case vi:var S=e.style,r=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=r;break;case pi:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},BM=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&mX.call(this)},mX=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},xX=function(){var e=Math.max(Math.floor(DM.call(this,-this.textOY)),0),t=IM.call(this,e)+this.textOY,i=gX.call(this,e);return pm(this.textObject,i),this.textObject.rexSizer.offsetY=t,BM.call(this),this},yX=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Wh.call(this),this},CX=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case ni:case vi:e.setFixedSize(t,i);var n=e.style,y=Math.max(t,0);this.textObjectType===ni?n.wordWrapWidth=y:(n.wrapMode===0&&(n.wrapMode=1),n.wrapWidth=y);break;case pi:e.setMaxWidth(t);break}this.setText()}},TX=function(){var e,t,i,n=this.left,y=this.top,S,r,T,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=n+i.left,r=y+i.top,T=this.width-i.left-i.right,s=this.height-i.top-i.bottom,CX.call(this,e,T,s),kh(e,S,r,T,s,t.align),t.preOffsetY=0,BM.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const SX={setText:pX,updateTextObject:xX,preLayout:yX,layoutChildren:TX},UC=Phaser.Utils.Objects.IsPlainObject,li=Phaser.Utils.Objects.GetValue,EX=Phaser.Display.Align.TOP_LEFT;class bM extends Nr{constructor(t,i,n,y,S,r){UC(i)?(r=i,i=li(r,"x",0),n=li(r,"y",0),y=li(r,"width",void 0),S=li(r,"height",void 0)):UC(y)&&(r=y,y=li(r,"width",void 0),S=li(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=li(r,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(li(r,"clamplTextOY",!0)),this.alwaysScrollable=li(r,"alwaysScrollable",!1);var T=li(r,"background",void 0),s=li(r,"text",void 0);s===void 0&&(s=PX(t)),this.textCropEnable=li(r,"textCrop",!!s.setCrop);var d=li(r,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(s),this.sizerChildren=[s];var x=this.getSizerConfig(s);x.align=EX,x.padding=Un(0),x.expand=!0,this.textObject=s,this.textObjectType=no(s),x.preOffsetY=0,x.offsetY=0,d&&(this.textMask=as.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case ni:this.lines.length=0;break;case vi:this.lines.destroy();break;case pi:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case ni:case vi:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case pi:var n=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*n;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case ni:case vi:t=this.textObject.lineSpacing;break;case pi:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(DM.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=IM.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,n=this.bottomTextOY,y=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:y?t=i:S&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var PX=function(e){return e.add.text(0,0,"")};Object.assign(bM.prototype,SX);var MX=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const wX={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},RX={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},ms=Phaser.Utils.Objects.GetValue;class Qh extends Jh{constructor(t,i){i===void 0&&(i={});var n=ms(i,"text",void 0),y=ms(i,"textWidth",void 0),S=ms(i,"textHeight",void 0),r=ms(i,"textCrop",!!n.setCrop),T=ms(i,"textMask",!r),s=ms(i,"content",""),d=new bM(t,{width:y,height:S,text:n,textMask:T,textCrop:r&&!T,content:s,clamplTextOY:ms(i,"clamplChildOY",!1),alwaysScrollable:ms(i,"alwaysScrollable",!1)});t.add.existing(d),MX(d),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:d,expandWidth:y===void 0,expandHeight:S===void 0};var x=ms(i,"space",void 0);x&&(x.child=ms(x,"text",0)),super(t,i),this.addChildrenMap("text",n)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Qh.prototype,wX,RX);const au=Phaser.Utils.Objects.GetValue;var AX=function(e,t,i){t=t?mi(t):{};var n=au(i,"background",Bi),y=au(i,"text",SM),S=au(i,"track",Bi),r=au(i,"thumb",Bi);n?t.background=n(e,t.background):delete t.background,y?t.text=y(e,t.text):delete t.text;var T=t.slider;T!==!1&&(T===void 0&&(T={}),S?T.track=S(e,T.track):delete T.track,r?T.thumb=r(e,T.thumb):delete T.thumb,t.slider=T);var s=new Qh(e,t);return e.add.existing(s),s};const LX=Phaser.Utils.Objects.GetValue;var OX=function(e,t,i){var n=LX(t,"$type");n===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(n="textarea");var y;switch(n){case"textarea":y=new AX(e,t,i);break;default:y=new bi(e,t,i);break}return e.add.existing(y),y};const gv=Phaser.Utils.Objects.GetValue;class mf extends gf{constructor(t,i,n){i=i?mi(i):{},n===void 0&&(n={});var y=gv(n,"background",Bi);y?i.background=y(t,i.background):delete i.background,i.title=bi(t,i.title,n.title),i.content=OX(t,i.content,n.content),i.content instanceof Qh&&Ss(i,"height")&&!Ss(i,"proportion.content")&&et(i,"proportion.content",1);var S=i.button,r=i.buttonA||S,T=i.buttonB||S,s=i.buttonMode;s===void 0&&(s=r&&T?2:r?1:0);var d=n.button,x=n.buttonA||d,f=n.buttonB||d;switch(s){case 2:i.actions=[bi(t,r,x),bi(t,T,f)];break;case 1:i.actions=[bi(t,r,x)];break;case 0:break;default:i.actions=[];break}var l=i.choice;l&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=S,this.defaultActionButtonCreator=d,this.defaultChoiceConfig=l,this.defaultChoiceCreator=n.choice;var h=this.childrenMap.actions;this.addChildrenMap("buttonA",h?h[0]:null),this.addChildrenMap("buttonB",h?h[1]:null),LW.call(this),this.setConfirmButtonIndex(gv(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(gv(i,"cancelButtonIndex",1))}}Object.assign(mf.prototype,AM);st.register("confirmDialog",function(e,t){var i=new mf(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.ConfirmDialog",mf);const WC=Phaser.Utils.Objects.GetValue;var GM=function(e,t){var i=t.dialog,n=!i;if(n){var y=t.style;y.buttonMode=2,i=new mf(e,y,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(WC(t,"confirmButtonIndex",0)).setCancelButtonIndex(WC(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),n&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=n);var r=t.confirm,T=t.cancel,s=t.confirmScope,d=t.cancelScope;r&&i.once("confirm",r,s),T&&i.once("cancel",T,d);var x=function(f){i.off("confirm",r,s),i.off("cancel",T,d)};return i.modal(S,x),i};class NM extends sn{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Js(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=GM(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}st.register("confirmActionButton",function(e){var t=new NM(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ConfirmActionButton",NM);var gr=function(e,t){if(e){var i=yi(e);i&&i.remove(e,t)}};const ou=Phaser.Utils.Objects.GetValue;var jh=function(e,t,i){var n=ou(e,`proportion.${t}`,i.proportion),y=ou(e,`align.${t}`,"center"),S=ou(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var r=S;S={},S[i.paddingKey]=r}var T=ou(e,`expand.${t}`,!0);return{proportion:n,align:y,padding:S,expand:T}},xf=function(e){return jh(e,"header",{proportion:0,paddingKey:"bottom"})},yf=function(e){return jh(e,"leftSide",{proportion:0,paddingKey:"right"})},Cf=function(e){return jh(e,"content",{proportion:1})},Tf=function(e){return jh(e,"rightSide",{proportion:0,paddingKey:"left"})},Sf=function(e){return jh(e,"footer",{proportion:0,paddingKey:"top"})},Xs=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},Ys=function(e,t){var i=new wt(e,{orientation:t});return e.add.existing(i),i},FX=function(e){var t=this.scene,i=e.header;i&&this.add(i,xf(e));var n=Ys(t,0);this.add(n,Xs());var y=e.leftSide;y&&n.add(y,yf(e));var S=e.content;S&&n.add(S,Cf(e));var r=e.rightSide;r&&n.add(r,Tf(e));var T=e.footer;T&&this.add(T,Sf(e))},DX=function(e){var t=this.scene,i=e.header;i&&this.add(i,xf(e));var n=Ys(t,0);this.add(n,Xs());var y=e.leftSide;y&&n.add(y,yf(e));var S=Ys(t,1);n.add(S,Xs());var r=Ys(t,0);S.add(r,Xs());var T=e.content;T&&r.add(T,Cf(e));var s=e.rightSide;s&&r.add(s,Tf(e));var d=e.footer;d&&S.add(d,Sf(e))},IX=function(e){var t=this.scene,i=e.header;i&&this.add(i,xf(e));var n=Ys(t,0);this.add(n,Xs());var y=Ys(t,1);n.add(y,Xs());var S=Ys(t,0);y.add(S,Xs());var r=e.leftSide;r&&S.add(r,yf(e));var T=e.content;T&&S.add(T,Cf(e));var s=e.footer;s&&y.add(s,Sf(e));var d=e.rightSide;d&&n.add(d,Tf(e))},BX=function(e){var t=this.scene,i=e.header;i&&this.add(i,xf(e));var n=Ys(t,0);this.add(n,Xs());var y=e.leftSide;y&&n.add(y,yf(e));var S=Ys(t,1);n.add(S,Xs());var r=e.content;r&&S.add(r,Cf(e));var T=e.footer;T&&S.add(T,Sf(e));var s=e.rightSide;s&&n.add(s,Tf(e))};const bX=Phaser.Utils.Objects.GetValue,XC=[FX,DX,IX,BX];var GX=function(e){e===void 0&&(e={});var t=e.background,i=e.header,n=e.leftSide,y=e.content,S=e.rightSide,r=e.footer;gr(t),gr(i),gr(n),gr(y),gr(S),gr(r),this.clear(!0),t&&this.addBackground(t);var T=bX(e,"layoutMode",0);typeof T=="string"&&(T=NX[T.toUpperCase()]);var s=XC[T]||XC[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",n),this.addChildrenMap("content",y),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",r),this};const NX={FFF:0,LFF:1,FFR:2,LFR:3};class gm extends wt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var zX={build:GX};Object.assign(gm.prototype,zX);st.register("holyGrail",function(e){var t=new gm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.HolyGrail",gm);const kX={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Sn(this.getButton(e,t)),this},showLeftButton(e){return Sn(this.getLeftButton(e)),this},showRightButton(e){return Sn(this.getRightButton(e)),this},showTopButton(e){return Sn(this.getTopButton(e)),this},showBottomButton(e){return Sn(this.getBottomButton(e)),this},hideButton(e,t){return En(this.getButton(e,t)),this},hideLeftButton(e){return En(this.getLeftButton(e)),this},hideRightButton(e){return En(this.getRightButton(e)),this},hideTopButton(e){return En(this.getTopButton(e)),this},hideBottomButton(e){return En(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ft=Phaser.Utils.Objects.GetValue;class mm extends os{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=Ft(i,"expand.panel",!1);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Ft(i,"eventEmitter",this);var y=Ft(i,"background",void 0),S=Ft(i,"panel",void 0),r=Ft(i,"leftButtons",void 0),T=Ft(i,"leftButtonsBackground",void 0),s,d=Ft(i,"rightButtons",void 0),x=Ft(i,"rightButtonsBackground",void 0),f,l=Ft(i,"topButtons",void 0),h=Ft(i,"topButtonsBackground",void 0),a,u=Ft(i,"bottomButtons",void 0),v=Ft(i,"bottomButtonsBackground",void 0),o,c=Ft(i,"click",void 0);if(y&&this.addBackground(y),S&&this.add(S,{column:1,row:1,expand:n}),r){var p=Ft(i,"space.leftButtonsOffset",0),g=Ft(i,"space.leftButton",0),m=Ft(i,"expand.leftButtons",!1),C=Ft(i,"align.leftButtons","top");s=new Se(t,{groupName:"left",background:T,buttons:r,orientation:"y",space:{item:g},expand:m,click:c,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:C,padding:{top:p},expand:m})}if(d){var E=Ft(i,"space.rightButtonsOffset",0),M=Ft(i,"space.rightButton",0),P=Ft(i,"expand.rightButtons",!1),w=Ft(i,"align.rightButtons","top");f=new Se(t,{groupName:"right",background:x,buttons:d,orientation:"y",space:{item:M},expand:P,click:c,eventEmitter:this.eventEmitter}),this.add(f,{column:2,row:1,align:w,padding:{top:E},expand:P})}if(l){var R=Ft(i,"space.topButtonsOffset",0),A=Ft(i,"space.topButton",0),L=Ft(i,"expand.topButtons",!1),F=Ft(i,"align.topButtons","left");a=new Se(t,{groupName:"top",background:h,buttons:l,orientation:"x",space:{item:A},expand:L,align:Ft(i,"align.topButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:F,padding:{left:R},expand:L})}if(u){var O=Ft(i,"space.bottomButtonsOffset",0),D=Ft(i,"space.bottomButton",0),B=Ft(i,"expand.bottomButtons",!1),b=Ft(i,"align.bottomButtons","left");o=new Se(t,{groupName:"bottom",background:v,buttons:u,orientation:"x",space:{item:D},expand:B,align:Ft(i,"align.bottomButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(o,{column:1,row:2,align:b,padding:{left:O},expand:B})}this.addChildrenMap("background",y),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",r),this.addChildrenMap("rightButtons",d),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",u),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",f),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",o)}}Object.assign(mm.prototype,kX);st.register("tabs",function(e){var t=new mm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tabs",mm);st.register("slider",function(e){var t=new so(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Slider",so);class zM{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=eo[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var n=this._deltaHeight!==t;if(this._deltaHeight=t,n){i.resetTotalRowsHeight();var y=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(y,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(zM.prototype,Id);const YC=Phaser.Utils.Objects.GetValue,VX=Phaser.Utils.Array.SpliceOne;class UX{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Es,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=30);var n=t.cellWidth;return n===void 0&&(n=30),this.setDefaultCellHeight(i),this.setDefaultCellWidth(n),this.initCells(YC(t,"cellsCount",0)),this.setColumnCount(YC(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var n=0;n<t;n++)i[n]=null;return this}insertNewCells(t,i){var n=this.cells;if(t===n.length){var y=t+i;n.legth=y;for(var S=t;S<y;S++)n[S]=null}else{var r=[];r.length=i;for(var S=0;S<i;S++)r[S]=null;this.cells.splice(t,0,...r)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var n=t+i,y=t;y<n;y++)this.freeCell(y);return n===this.cells.length?this.cells.length=t:(i===1?VX(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(i){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var n=this.rowCount,y=t,S,r,T=0;;)if(r=this.getRowHeight(T),y-=r,S=T>=0&&T<n,y>0&&S)T+=1;else{if(y===0)return i===2&&(T+=1),T;if(i===1){var s=T;T+=1,S=T>=0&&T<n,S||(T=s)}return T}}widthToColIndex(t,i){if(t===0)return 0;var n=t/this.defaultCellWidth;return i?n=Math.ceil(n):n=Math.floor(n),n}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var n,y=0,S=t;S<=i;S++)n=this.getRowHeight(S),y+=n;return y}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n=0,y,S=0;S<i;S++)y=this.getCellHeight(this.colRowToCellIndex(S,t)),n<y&&(n=y);return n}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var n=this.getCell(t,!1),y=n?n.deltaHeight:0;i=this.defaultCellHeight+y}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new zM(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,n,y=t,S=i.length;y<S;y++)n=i[y],n&&(n.index=y);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var WX=function(e){var t=this.table,i=this.topTableOY,n=this.bottomTableOY,y=e>this.topTableOY,S=e<this.bottomTableOY;if(this.clampTableOXY){var r=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);r<T?e=0:y?e=i:S&&(e=n)}return this._tableOY!==e&&(this._tableOY=e),y&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,n)),this.execeedBottomState=S,this},XX=function(e){var t=this.table,i=this.leftTableOX,n=this.rightTableOX,y=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var r=t.colCount,T=t.widthToColIndex(this.instWidth,!0);r<T?e=0:y?e=i:S&&(e=n)}return this._tableOX!==e&&(this._tableOX=e),y&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,e,n)),this.execeedRightState=S,this},xm=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const YX=Phaser.Geom.Intersects.RectangleToRectangle,HX=Phaser.Geom.Rectangle.Overlaps;var $X=function(e,t,i){if(t){i===void 0&&(i=e.getAllChildren());for(var n=e.getBounds(),y=xm(t),S,r,T,s=0,d=i.length;s<d;s++)if(S=i[s],S!==y&&KX(S))if(S.getBounds)switch(r=S.getBounds(r),T=ZX(n,r),T){case 4:JX(e,S);break;case 0:YX(n,r)||HX(n,r)?mv(e,S,t):QX(e,S);break;default:mv(e,S,t);break}else mv(e,S,t)}},KX=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},ZX=function(e,t){var i=t.top,n=t.bottom,y=t.left,S=t.right,r=0;return r+=e.contains(y,i)?1:0,r+=e.contains(y,n)?1:0,r+=e.contains(S,i)?1:0,r+=e.contains(S,n)?1:0,r},JX=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},mv=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},QX=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const xv=Phaser.Utils.Objects.GetValue,jX={update:0,everyTick:1},kM={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(xv(e,"updateMode",0)),this.enableChildrenMask(xv(e,"padding",0)),this.setMaskLayer(xv(e,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=jX[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=as.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):$X(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=xm(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var qX=function(){if(this.cellsCount!==0){var e=this.table;this.startRowIndex=Math.max(e.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,i=Math.max(e.widthToColIndex(-this.tableOX),0),n=i,y=e.colRowToCellIndex(n,t),S=this.bottomBound,r=this.rightBound,T=e.cellsCount-1,s=e.colCount-1,d=this.getCellTLX(n),x=d,f=this.getCellTLY(t);f<S&&y<=T;){if(this.table.isValidCellIdx(y)){var l=e.getCell(y,!0);this.visibleCells.set(l),this.preVisibleCells.contains(l)||this.showCell(l);var h,a;if(this.scrollMode===0?(h=x,a=f):(h=f,a=x),l.cellContainerAlign==null)l.setXY(h,a);else{var u=l.getContainer();kh(u,h,a,l.width,l.height,l.cellContainerAlign),l.setXY(u.x,u.y)}}x<r&&n<s?(x+=e.getColWidth(n),n+=1):(x=d,f+=e.getRowHeight(t),n=i,t+=1),y=e.colRowToCellIndex(n,t)}}},VM=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},_X=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},tY=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},eY=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},UM=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&this.cellContainersPool.killAndHide(t)}e.destroyContainer()},iY=function(e){return e===void 0&&(e=!1),e&&(HC.call(this),this.hideCells()),HC.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},HC=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},sY=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},WM=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),n=this.tableOX-(this.scrollMode===0?e:t),y=this.table,S=y.heightToRowIndex(-i,0),r=y.widthToColIndex(-n),T=y.colRowToCellIndex(r,S);return T===null||!this.isCellVisible(T)?null:T},nY=function(e,t){var i=WM.call(this,e,t);if(i!==null)return this.getCellContainer(i)},rY=function(e,t){return this.visibleCells.each(e,t),this},aY=function(e,t){return this.visibleCells.iterate(e,t),this},oY=function(e,t){return this.table.cells.slice().forEach(e,t),this},hY=function(e,t){return this.table.cells.forEach(e,t),this},lY=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const uY=Phaser.Math.Clamp;var dY=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=uY(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},fY=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,n=e,y=e+t;n<y;n++)i=this.getCell(n,!1),i&&(this.visibleCells.contains(i)&&(UM.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},cY=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},vY=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},pY=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(VM.call(this,t),this)},XM={setTableOY:WX,setTableOX:XX,showCells:qX,showCell:VM,getCellTLX:_X,getCellTLY:tY,hideCells:eY,hideCell:UM,updateTable:iY,isCellVisible:sY,pointToCellIndex:WM,pointToCellContainer:nY,eachVisibleCell:rY,iterateVisibleCell:aY,eachCell:oY,iterateCell:hY,setCellsCount:lY,insertNewCells:dY,removeCells:fY,setColumnCount:cY,setGridSize:vY,updateVisibleCell:pY};Object.assign(XM,kM);const gY=Phaser.GameObjects.Group,$C=Phaser.Structs.Set,xs=Phaser.Utils.Objects.GetValue;let YM=class extends Ei{constructor(t,i,n,y,S,r){r===void 0&&(r={}),super(t,i,n,y,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new $C,this.preVisibleCells=new $C,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=xs(r,"reuseCellContainer",!1);T&&(this.cellContainersPool=new gY(t));var s=xs(r,"cellVisibleCallback",null);if(s!==null){var d=xs(r,"cellVisibleCallbackScope",void 0);this.on("cellvisible",s,d)}if(s=xs(r,"cellInvisibleCallback",null),s!==null){var d=xs(r,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",s,d)}xs(r,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(xs(r,"mask",void 0)),this.setScrollMode(xs(r,"scrollMode",0)),this.setClampMode(xs(r,"clamplTableOXY",!0));var x,f,l,h=this.scrollMode===0;if(h?(x=r.cellWidth,f=r.cellHeight,l=r.columns):(x=r.cellHeight,f=r.cellWidth,l=xs(r,"rows",r.columns)),l||(l=1),this.expandCellSize=x===void 0,this.expandCellSize){var y=h?this.width:this.height;x=y/l}r.cellWidth=x,r.cellHeight=f,r.columns=l,this.table=new UX(this,r),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=mY[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),n;return i&&(n=i.getContainer()),n}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.height=i,this}setCellWidth(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.width=i,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){return this.width===t&&this.height===i?this:(super.resize(t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(YM.prototype,XM);const mY={v:0,vertical:0,h:1,horizontal:1};var xY=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},yY=function(e){e.on("cellvisible",function(t,r,n){var y=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var r;S?r=y.call(S,t,r,n):r=y(t,r,n),r&&(t.cellContainerAlign==null&&r.setOrigin&&r.setOrigin(0),r.isRexSizer&&r.layout()),t.item=void 0,t.items=void 0,t.setContainer(r)},this)},As=function(e,t,i,n,y,S,r){var T;if(y===void 0?T=n:T=i.pointToCellIndex(n,y),T!=null){var s=i.getCellContainer(T);s&&e.emit(t,s,T,S,r)}},CY=function(e,t){e.on("pointerdown",function(i,n,y,S){As(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,n,y,S){As(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},TY=function(e,t){e.on("pointermove",KC,this).on("pointerover",KC,this).on("pointerout",SY,this)},KC=function(e,t,i,n){var y=this.childrenMap.child,S=y.pointToCellIndex(e.worldX,e.worldY);if(S!==y.input.lastOverCellIndex){var r=y.input.lastOverCellIndex;y.input.lastOverCellIndex=S,As(this.eventEmitter,"cell.out",y,r,void 0,e,n),As(this.eventEmitter,"cell.over",y,S,void 0,e,n)}},SY=function(e,t){var i=this.childrenMap.child,n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,As(this.eventEmitter,"cell.out",i,n,void 0,e,t)};const EY=Phaser.Utils.Objects.GetValue;var PY=function(e,t){var i=EY(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new _s(e,i),e._click.on("click",function(n,y,S,r){As(this.eventEmitter,"cell.click",y,S.worldX,S.worldY,S,r)},this))};const MY=Phaser.Utils.Objects.GetValue;var wY=function(e,t){var i=MY(t,"tap",void 0);i!==!1&&(e._tap=new qd(e,i),e._tap.on("tap",function(n,y,S){var r=`cell.${n.tapsCount}tap`;As(this.eventEmitter,r,n.gameObject,n.worldX,n.worldY,S)},this))};const RY=Phaser.Utils.Objects.GetValue;var AY=function(e,t){var i=RY(t,"press",void 0);i!==!1&&(e._press=new _d(e,i),e._press.on("pressstart",function(n,y,S){As(this.eventEmitter,"cell.pressstart",e,n.worldX,n.worldY,S)},this).on("pressend",function(n,y,S){As(this.eventEmitter,"cell.pressend",e,n.worldX,n.worldY,S)},this))};const LY=Phaser.Utils.Objects.GetValue;var OY=function(e,t){var i=LY(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new Hh(e,i),e._swipe.on("swipe",function(n,y,S){var r=n.left?"left":n.right?"right":n.up?"up":"down";As(this.eventEmitter,`cell.swipe${r}`,e,n.worldX,n.worldY,S)},this))},FY=function(e,t){e.setInteractive(),CY.call(this,e,t),TY.call(this,e,t),PY.call(this,e,t),wY.call(this,e,t),AY.call(this,e,t),OY.call(this,e,t)},DY=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const IY={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},Zi=Phaser.Utils.Objects.GetValue;class ym extends Jh{constructor(t,i){i===void 0&&(i={});var n=fm(i),y=Zi(i,"table",void 0);y===void 0&&(y={}),y.scrollMode=n===2?0:n,y.clamplTableOXY=Zi(i,"clamplChildOY",!1);var S=Zi(y,"width",void 0),r=Zi(y,"height",void 0),T=new YM(t,0,0,S,r,y);t.add.existing(T);var s,d;y.scrollMode===0?(s=S===void 0,d=r===void 0):(s=r===void 0,d=S===void 0),xY(T),T._minWidth=S===void 0?0:void 0,T._minHeight=r===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:T,expandWidth:s,expandHeight:d};var x=Zi(i,"space",void 0);x&&(x.child=Zi(x,"table",0)),super(t,i),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=Zi(i,"eventEmitter",this);var f=Zi(i,"createCellContainerCallback",Le),l=Zi(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(f,l),yY.call(this,T),this.resizeControllerFlag=!1;var h=n===0?"cellheightchange":"cellwidthchange";T.on(h,function(){this.resizeControllerFlag=!0},this),Zi(y,"interactive",!0)&&FY.call(this,T,y),this.setItems(Zi(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var BY={setItems:DY};Object.assign(ym.prototype,IY,BY);st.register("gridTable",function(e){var t=new ym(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridTable",ym);var Cm=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},bY=function(e,t){e.popUp(Cm(e.root.easeIn,e))},GY=function(e,t){e.scaleDown(Cm(e.root.easeOut,e))};const NY={setTransitInCallback(e){return e===void 0&&(e=bY),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=GY),this.transitOutCallback=e,this}};var zY=function(e,t,i,n,y){var S=to(e),r=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(n,y)})});return r};const kY={delayCall(e,t,i){return this.timer=zY(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var VY=function(e,t){var n=this.childrenMap.subMenu;if(n&&n.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var n=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(n),this.childrenMap.subMenu=n,this.root.emit("expand",n,e,this),this},UY=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},WY=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},HM={expandSubMenu:VY,collapse:UY,collapseSubMenu:WY};Object.assign(HM,NY,kY);var XY=function(e,t,i,n){var y;return i&&(t.scene=e,n?y=i.call(n,t):y=i(t),t.scene=void 0),y},YY=function(e,t,i,n){var y,S=[],r;if(t&&i)for(var T=0,s=t.length;T<s;T++)y=t[T],y.scene=e,n?r=i.call(n,y,T,t):r=i(y,T,t),y.scene=void 0,S.push(r);return S},HY=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var n=this.root.childrenKey,y=this.items[i][n];y&&this.expandSubMenu(t,y)}},e).on("button.click",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,n,y),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,n,y),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,n,y),this.root._isPassedEvent=!1)},e)},ZC=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Kh(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},$Y=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const We=Phaser.Utils.Objects.GetValue;let Tm=class extends Se{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var n=i._rootMenu,y=i._parentMenu,S=i._parentButton,r=We(i,"popup",!0),T=We(i,"items",void 0),s=We(i,"createBackgroundCallback",void 0),d=We(i,"createBackgroundCallbackScope",void 0);i.background=XY(t,T,s,d);var x=We(i,"createButtonCallback",void 0),f=We(i,"createButtonCallbackScope",void 0);if(i.buttons=YY(t,T,x,f),super(t,i),this.type="rexMenu",this.items=T,this.root=n===void 0?this:n,this.isRoot=this.root===this,this.parentMenu=y,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=r;var l=i.bounds;l===void 0&&(l=_a(t)),this.bounds=l,this.subMenuSide=[this.y<l.centerY?Jp:Bu,this.x<l.centerX?Zp:Iu];var h=We(i,"subMenuSide",void 0);h!==void 0&&(typeof h=="string"&&(h=KY[h]),this.subMenuSide[this.orientation]=h),this.toggleOrientation=We(i,"toggleOrientation",!1),this.expandEventName=We(i,"expandEvent","button.click"),this.easeIn=ZC(this,We(i,"easeIn",0)),this.easeOut=ZC(this,We(i,"easeOut",0)),this.setTransitInCallback(We(i,"transitIn")),this.setTransitOutCallback(We(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=d,this.createButtonCallback=x,this.createButtonCallbackScope=f,this.childrenKey=We(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=We(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,u=0;if(!this.root.easeIn.sameOrientation){var v=Cm(this.root.easeIn,this).orientation,o=y?y.orientation:this.orientation,h=this.root.subMenuSide[o];v===0&&h===Iu&&(a=1),v===1&&h===Bu&&(u=1)}if(r&&this.setOrigin(a,u).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var h=this.root.subMenuSide[y.orientation];switch(h){case Iu:this.alignTop(S.top).alignRight(S.left);break;case Zp:this.alignTop(S.top).alignLeft(S.right);break;case Bu:this.alignLeft(S.left).alignBottom(S.top);break;case Jp:this.alignLeft(S.left).alignTop(S.bottom);break}}HY(this),r&&(this.pushIntoBounds(this.root.bounds),$Y.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}};const Iu=2,Zp=0,Bu=3,Jp=1,KY={up:Bu,down:Jp,left:Iu,right:Zp};Object.assign(Tm.prototype,HM);st.register("menu",function(e){var t=new Tm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Menu",Tm);var ZY={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=JY[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const JY={down:0,up:1};var QY=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var n=[],y=this.listCreateButtonCallback;if(y)for(var S=this.options,r=0,T=S.length;r<T;r++){var s=y.call(this,e,S[r],r,S);s&&(e.add.existing(s),n.push(s))}var d=this.listWidth;d===void 0&&(this.listAlignMode==="text"?d=this.getElement("text").width:d=this.width);var x=this.listHeight,f;return this.listWrapEnable?f=new Wn(e,{width:d,height:x,background:t,buttons:n,space:this.listSpace,draggable:this.listDraggable}):f=new Se(e,{width:d,height:x,orientation:"y",background:t,buttons:n,space:this.listSpace,draggable:this.listDraggable}),e.add.existing(f),f},jY=function(e,t,i,n,y){n===void 0&&(n="Linear");var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=n,y===void 0?y=new Ph(e,S):y.resetFromJSON(S),y.restart(),y},qY=function(e,t,i,n,y){return Ss(e,t)?Ot(e,t):i&&Ss(e,i)?Ot(e,i):n&&Ss(e,n)?Ot(e,n):y};const oa=Phaser.Utils.Objects.GetValue;var _Y=function(e,t){var i=oa(t,"expandDirection",void 0);typeof i=="string"&&(i=tH[i]);var n=qY(t,"alignTarget","alignTargetX"),y=oa(t,"alignTargetY",n),S=oa(t,"alignOffsetX",0),r=oa(t,"alignOffsetY",0),T=oa(t,"alignSide",""),s=T.includes("right"),d=oa(t,"bounds"),x=i===0,f=i===1,l=!x&&!f,h=s?1:0,a=x||l?0:1;e.setOrigin(h,a);var u,v;s?u=n.getTopRight().x:u=n.getTopLeft().x,v=y.getBottomLeft().y,e.setPosition(u+S,v+r);var o=d;o||(o=_a(e.scene)),l&&e.getBottomLeft().y>o.bottom&&(v=y.getTopLeft().y,e.setOrigin(0,1).setPosition(u+S,v+r))};const tH={down:0,up:1},JC=Phaser.Utils.Objects.GetValue;class $M extends Zd{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,r){k0(S,r,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,r){jY(S,r,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),_Y(t,i),t.isRexSizer&&t.layout();var n=JC(i,"touchOutsideClose",!1),y=JC(i,"anyTouchClose",!1);y&&(n=!1),y?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Mh(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var eH=function(){if(this.listPanel)return this;var e=QY.call(this);e.on("button.over",function(n,y,S,r){this.currentOverIndex=y,this.listOnButtonOver&&this.listOnButtonOver.call(this,n,y,S,r),this.emit("button.over",this,e,n,y,S,r)},this).on("button.out",function(n,y,S,r){this.currentOverIndex===y&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,n,y,S,r),this.emit("button.out",this,e,n,y,S,r)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new $M(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){e.on("button.click",function(n,y,S,r){this.listOnButtonClick&&this.listOnButtonClick.call(this,n,y,S,r),this.emit("button.click",this,e,n,y,S,r)},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},iH=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},sH=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},nH=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},rH=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const aH={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var KM={openListPanel:eH,closeListPanel:iH,toggleListPanel:sH,emitButtonClick:nH,emitButtonOver:rH};Object.assign(KM,ZY,aH);const Ht=Phaser.Utils.Objects.GetValue;class qh extends sn{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Ht(i,"options"));var n=Ht(i,"list");this.setWrapEnable(Ht(n,"wrap",!1)),this.setCreateButtonCallback(Ht(n,"createButtonCallback")),this.setCreateListBackgroundCallback(Ht(n,"createBackgroundCallback")),this.setButtonClickCallback(Ht(n,"onButtonClick")),this.setButtonOverCallback(Ht(n,"onButtonOver")),this.setButtonOutCallback(Ht(n,"onButtonOut")),this.setListExpandDirection(Ht(n,"expandDirection")),this.setListEaseInDuration(Ht(n,"easeIn",500)),this.setListEaseOutDuration(Ht(n,"easeOut",100)),this.setListTransitInCallback(Ht(n,"transitIn")),this.settListTransitOutCallback(Ht(n,"transitOut")),this.setListSize(Ht(n,"width"),Ht(n,"height")),this.setListAlignmentMode(Ht(n,"alignParent","text")),this.setListAlignmentSide(Ht(n,"alignSide","")),this.setListBounds(Ht(n,"bounds")),this.setListSpace(Ht(n,"space")),this.setListDraggable(Ht(n,"draggable",!1)),this.setValueChangeCallback(Ht(i,"setValueCallback"),Ht(i,"setValueCallbackScope")),this.setValue(Ht(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var n=this.valueChangeCallback,y=this.valueChangeCallbackScope;n&&(y?n.call(y,this,t,i):n(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(qh.prototype,KM);st.register("dropDownList",function(e){var t=new qh(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.DropDownList",qh);var ZM=function(e,t,i){t=t?mi(t):{},i===void 0&&(i={});var n=t.label||t.button,y=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,r=i.button||i.label||i,T=om(e,n,S);return T.list=t.list||{},T.list.createButtonCallback=function(s,d){var x=bi(s,y,r).resetDisplayContent(d);return d.hasOwnProperty("value")&&(x.value=d.value),x},T.list.onButtonOver=function(s,d,x,f){s.setHoverState&&s.setHoverState(!0)},T.list.onButtonOut=function(s,d,x,f){s.setHoverState&&s.setHoverState(!1)},T};class JM extends qh{constructor(t,i,n){i=ZM(t,i,n),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,n=t.length;i<n;i++){var y=t[i];typeof y=="string"&&(t[i]={text:y,value:y})}return super.setOptions(t),this}}st.register("simpleDropDownList",function(e,t){var i=new JM(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.SimpleDropDownList",JM);var oH=function(e){var t=no(e),i,n,y;switch(t){case ni:case vi:i=e.height-e.padding.top-e.padding.bottom,n=e.lineSpacing,y=e.style.metrics.fontSize+e.style.strokeThickness;break;case pi:i=e.height,n=0;var S=e.fontSize/e.fontData.size;y=e.fontData.lineHeight*S;break}return(i-n)/(y+n)},hH=function(e,t){e===void 0&&(e=this.startLineIndex),t===void 0&&(t=e+this.pageLinesCount);var i;switch(this.textObjectType){case ni:case pi:i=this.lines.slice(e,t).join(`
`);break;case vi:var n=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,y,!0);break}return i},yv=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const lH={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(yv(i));var i=this.sections.join(`
`);this.lines=vm(this.parent,i,this.lines);for(var n=this.totalLinesCount-t,y=Math.ceil(n/this.pageLinesCount),S=0;S<y;S++)this.pageStartIndexes.push(t+S*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var i=yv(e).split(this.pageBreak),n=0,y=i.length;n<y;n++)this.appendPage(i[n]);return this},appendText(e){var t=this.content+yv(e);return this.setText(t,!1),this}},uH=Phaser.Math.Clamp,dH={getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(e){return e=uH(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this}},fH={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(e){pm(this.parent,e)}};var QM={getLines:hH};Object.assign(QM,lH,dH,fH);const ko=Phaser.Utils.Objects.GetValue,cH=Phaser.Math.Clamp;class Ef extends ae{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=no(this.parent),this.pageStartIndexes=[],this.lines=vm(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){return this.setMaxLines(ko(t,"maxLines",void 0)),this.setPageBreak(ko(t,"pageBreak",`\f
`)),this.setText(ko(t,"text","")),this.setStartLineIndex(ko(t,"start",0)),this.setPageIndex(ko(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case ni:this.lines.length=0;break;case vi:this.lines.destroy();break;case pi:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=cH(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case ni:case vi:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(oH(this.parent));break;case pi:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Ef.prototype,QM);var vH=function(e,t){var i=no(e);switch(i){case ni:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case vi:t=e.getText(t,void 0,void 0,!0);break;case pi:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Vo=Phaser.Utils.Objects.GetFastValue,Cv=Phaser.Utils.Objects.GetValue;class Sm extends ae{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(Cv(t,"wrap",!1)),this.setTypeMode(Cv(t,"typeMode",0)),this.setTypingSpeed(Cv(t,"speed",333)),this.setTextCallback=Vo(t,"setTextCallback",null),this.setTextCallbackScope=Vo(t,"setTextCallbackScope",null),this.setTypingContent(Vo(t,"text","")),this.typingIdx=Vo(t,"typingIdx",0),this.insertIdx=null,this.insertChar=null;var i=Vo(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIdx,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=pH[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=QC(t);this.textWrapEnable&&(i=vH(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,i,n,y){return t!==void 0&&this.setTypingContent(t),i!==void 0&&(this.speed=i),n===void 0&&(n=0),this.typingIdx=n+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(y)),this}appendText(t){var i=this.text.concat(QC(t));return this.isTyping?this.setTypingContent(i):this.start(i,void 0,this.textLen),this}stop(t){var i=this.getTimer();if(i&&this.freeTimer(),t){for(;!this.isLastChar;)this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode),this.emit("typechar",this.insertChar),this.typingIdx++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,i,n,y){var S;if(y===0){var r=0,T=i;this.insertIdx=T,S=this.getSubString(t,r,T)}else if(y===1){var T=n,r=T-i;this.insertIdx=0,S=this.getSubString(t,r,T)}else if(y===2){var s=n/2,r=Math.floor(s-i/2),T=r+i;this.insertIdx=i%2?i:0,S=this.getSubString(t,r,T)}else if(y===3){var d=Math.floor(i/2),x;if(d>0){var T=n,r=T-d;x=this.getSubString(t,r,T)}else x="";var f=i-d,l;if(f>0){var r=0,T=r+f;this.insertIdx=T,l=this.getSubString(t,r,T)}else l="",this.insertIdx=0;S=l+x}return this.insertChar=S.charAt(this.insertIdx-1),S}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?pm(this.parent,t):this.parent.setText(t)}getTextLength(t){var i=this.parent,n;return i.getPlainText?n=i.getPlainText(t).length:n=t.length,n}getSubString(t,i,n){var y=this.parent,S;return y.getSubString?S=y.getSubString(t,i,n):S=t.slice(i,n),S}}var QC=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const pH={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},jC=Phaser.Utils.Objects.GetValue;var gH=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(y,S){super(y,S),this.type=t;var r=this.childrenMap.text;this.page=new Ef(r,jC(S,"page",void 0)),this.typing=new Sm(r,jC(S,"typing",S.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidth=r.width,this.textHeight=r.height}start(y,S){return this.page.setText(y),S!==void 0&&this.setTypingSpeed(S),this.emit("start"),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var y=this.page.getNextPage();this.typing.start(y)}return this}pause(){return this.isTyping&&(this.typing.pause(),this.emit("pause")),this}resume(){return this.isTyping||(this.emit("resume"),this.typing.resume()),this}stop(y){return this.typing.stop(y),this}showLastPage(){return this.typing.stop(),this.page.showLastPage(),this.emit("type"),this.onPageEnd(),this}setTypeSpeed(y){return this.typing.setTypingSpeed(y),this}setTypingSpeed(y){return this.typing.setTypingSpeed(y),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get typingSpeed(){return this.typing.speed}onType(){var y=this.childrenMap.text;(this.textWidth!==y.width||this.textHeight!==y.height)&&(this.textWidth=y.width,this.textHeight=y.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(y){this.emit("typechar",y)}onPageEnd(){var y=this.isLastPage;this.emit("pageend"),y&&this.emit("complete")}}return i};let jM=class extends gH(hm){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}};st.register("textBox",function(e){var t=new jM(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextBox",jM);const ui=Phaser.Utils.Objects.GetValue;class qM extends wt{constructor(t,i){super(t,i),this.type="rexNumberBar";var n=ui(i,"background",void 0),y=ui(i,"icon",void 0),S=ui(i,"iconMask",void 0),r=ui(i,"slider",void 0),T=ui(i,"text",void 0),s=ui(i,"space.icon",0),d=ui(i,"space.slider",0);if(n&&this.addBackground(n),y){var x;this.orientation===0?(r||T)&&(x={right:s}):(r||T)&&(x={bottom:s}),this.add(y,{proportion:0,align:"center",padding:x}),S&&(S=as.call(this,y,y,1))}var f;if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null,r.hasOwnProperty("input")||(r.input=-1),f=new so(t,r),t.add.existing(f);var x;this.orientation===0?T&&(x={right:d}):T&&(x={bottom:d});var l;if(this.orientation===0){var h=ui(r,"width",void 0);l=h===void 0?1:0}else{var a=ui(r,"height",void 0);l=a===void 0?1:0}this.add(f,{proportion:l,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",n),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",f),this.addChildrenMap("text",T);var u=ui(i,"valuechangeCallback",null);if(u!==null){var v=ui(i,"valuechangeCallbackScope",void 0);this.on("valuechange",u,v)}this.setEnable(ui(i,"enable",void 0)),this.setValue(ui(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}st.register("numberBar",function(e){var t=new qM(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NumberBar",qM);st.register("scrollBar",function(e){var t=new cm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollBar",cm);const Tv=Phaser.Utils.Objects.GetValue,qC={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class _M extends Vi{constructor(t,i){super(t,i),this.type="rexBadge";var n=Tv(i,"background",void 0);n&&this.addBackground(n),this.addChildrenMap("background",n);var y=Tv(i,"main",void 0);y&&this.add(y,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",y);for(var S in qC){var r=Tv(i,S,void 0);r&&(this.add(r,{key:S,align:qC[S],expand:!1}),this.addChildrenMap(S,r))}}}st.register("badgeLabel",function(e){var t=new _M(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.BadgeLabel",_M);const mH=Vi.prototype.add;var _C=function(e,t,i,n,y,S,r,T,s){return e.setVisible(!1),mH.call(this,e,t,i,n,y,S,r,T,s),this};const xH={add:_C,addPage:_C};var yH=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const tT=Ei.prototype.setChildVisible;var CH=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(tT.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var n=this.currentPage;return n&&(tT.call(this,n,!0),this.emit("pagevisible",n,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&n.setAlpha(0).fadeIn(t,1)),this},TH=function(e){return this.sizerChildren.hasOwnProperty(e)},tw={getPage:yH,swapPage:CH,hasPage:TH};Object.assign(tw,xH);const eT=Phaser.Utils.Objects.GetValue;class Pf extends Vi{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(eT(i,"swapMode",0)),this.setFadeInDuration(eT(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=SH[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Pf.prototype,tw);const SH={invisible:0,destroy:1};st.register("pages",function(e){var t=new Pf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Pages",Pf);const EH=Phaser.GameObjects.Mesh;class ew extends EH{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const iw=Phaser.Math.Vector3,PH=Phaser.Math.Matrix4;var iT=new iw,sT=new iw,nT=new PH,MH=function(e,t,i,n,y,S,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),iT.set(t,i,n),sT.set(y,S,r),nT.fromRotationXYTranslation(sT,iT,!0);for(var T=0,s=e.vertices.length;T<s;T++)e.vertices[T].transformMat4(nT)};const wH=Phaser.Utils.Objects.IsPlainObject,ur=Phaser.Utils.Objects.GetValue,RH=Phaser.Geom.Mesh.GenerateGridVerts,Sv=Phaser.Math.RadToDeg,bu=Phaser.Math.DegToRad,sw=45,AH=1+1/Math.sin(bu(sw));let nw=class extends ew{constructor(t,i,n,y,S,r){wH(i)&&(r=i,i=ur(r,"x",0),n=ur(r,"y",0),y=ur(r,"key",null),S=ur(r,"frame",null)),super(t,i,n,y,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(AH),this.hideCCW=ur(r,"hideCCW",!0);var T=ur(r,"gridWidth",0),s=ur(r,"gridHeight",T);this.resetVerts(T,s),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,sw),this}resetVerts(S,r){if(S!==void 0&&(this.gridWidth=S),r!==void 0&&(this.gridHeight=r),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var n=this.frame.cutWidth,y=this.frame.cutHeight,S,r;this.gridWidth===0?S=Math.max(n/8,32):r=this.gridWidth,this.gridHeight===0?r=Math.max(y/8,32):r=this.gridHeight,RH({mesh:this,width:n/this.height,height:y/this.height,widthSegments:Math.ceil(n/S),heightSegments:Math.ceil(y/r)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Sv(this.rotationX)}set angleX(t){this.rotationX=bu(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Sv(this.rotationY)}set angleY(t){this.rotationY=bu(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Sv(this.rotationZ)}set angleZ(t){this.rotationZ=bu(t)}transformVerts(t,i,n,y,S,r){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=y,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=r,MH(this,t,i,n,y,S,r),this}};const LH=Phaser.Textures.DynamicTexture;var rw=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var n=new LH(e.sys.textures,null,t,i);return n};const OH=Phaser.Utils.Objects.IsPlainObject,hu=Phaser.Utils.Objects.GetValue;class aw extends nw{constructor(t,i,n,y,S,r){OH(i)&&(r=i,i=hu(r,"x",0),n=hu(r,"y",0),y=hu(r,"width",32),S=hu(r,"height",32));var T=rw(t,y,S);super(t,i,n,T,null,r),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,y0(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ts=function(e,t,i,n){if(Array.isArray(e))for(var y=!1,S=0,r=e.length;S<r;S++){var T=e[S];if(!(n&&!T)&&(i?y=t.call(i,T,S,e):y=t(T,S,e),y))return}else{var y=!1;for(var s in e){var T=e[s];if(!(n&&!T)&&(i?y=t.call(i,T,s,e):y=t(T,s,e),y))return}}};const ha=Phaser.Math.RadToDeg,la=Phaser.Math.DegToRad;class FH extends Ei{constructor(t,i,n,y,S,r){super(t,i,n,y,S),this.faces=r,ts(r,function(T){T.setPosition(i,n),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return ha(this.rotationX)}set angleX(t){this.rotationX=la(t)}get rotateX(){return ha(this.rotationX)}set rotateX(t){this.rotationX=la(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return ha(this.rotationY)}set angleY(t){this.rotationY=la(t)}get rotateY(){return ha(this.rotationY)}set rotateY(t){this.rotationY=la(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return ha(this.rotationZ)}set angleZ(t){this.rotationZ=la(t)}get rotateZ(){return ha(this.rotationZ)}set rotateZ(t){this.rotationZ=la(t)}setDebug(t,i){return ts(this.faces,function(n){n.setDebug(t,i)},null,!0),this}panX(t){return ts(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return ts(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return ts(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,n,y,S,r){return ts(this.faces,function(T){T.transformVerts(t,i,n,y,S,r)},null,!0),this}forEachFace(t,i,n){return ts(this.faces,t,i,n),this}}const DH=Phaser.Utils.Objects.IsPlainObject,IH={key:"__WHITE"},BH={image:nw,rendertexture:aw};var rT=function(e,t){t===void 0&&(t=IH);var i;return DH(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new BH[t.type](e,t),e.add.existing(i)):i=t,i},bH=function(e,t,i){var n;if(i===void 0){n=[];for(var y,S,r=0,T=t.length;r<T;r++)S=t[r],S?y=rT(e,S):y=null,n.push(y)}else{n={};for(var y,s,r=0,T=i.length;r<T;r++)s=i[r],t.hasOwnProperty(s)?y=rT(e,t[s]):y=null,n[s]=y}return n};const GH=Phaser.Math.DegToRad,aT=GH(180);var NH=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,aT,0):i.transformVerts(0,0,0,aT,0,0))};const Ev=Phaser.Utils.Objects.GetValue,zH=Phaser.Math.Linear;let kH=class extends Ir{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Ev(t,"ease","Cubic")),this.setFrontToBackDirection(Ev(t,"frontToBack",0)),this.setBackToFrontDirection(Ev(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=oT[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=oT[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var n=i+1,y=this.parent;return y.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*n):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*n),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateGameObject(t,i){var n=this.easeFn(i.t),y=zH(this.startAngle,this.endAngle,n);t.orientation===0?t.angleY=y:t.angleX=y}};const oT={right:0,"left-to-right":0,left:1,"right-to-left":1},VH=Phaser.Utils.Objects.IsPlainObject,dr=Phaser.Utils.Objects.GetValue,UH=["back","front"];class WH extends FH{constructor(t,i,n,y){VH(i)&&(y=i,i=dr(y,"x",0),n=dr(y,"y",0));var S=bH(t,y,UH),r=S.back,T=S.front,s=dr(y,"width"),d=dr(y,"height");if(s===void 0||d===void 0){if(s===void 0){var x=T?T.width:0,f=r?r.width:0;s=Math.max(x,f)}if(d===void 0){var l=T?T.height:0,h=r?r.height:0;d=Math.max(l,h)}}super(t,i,n,s,d,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ts(S,function(u,v){this[`${v}Face`]=u},this);var a=dr(y,"flip",void 0);a!==!1&&(this.flip=new kH(this,a)),this.setOrientation(dr(y,"orientation",0)),NH(this,S),this.setFace(dr(y,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ts(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ts(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ts(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=XH[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=YH[t]),this.currentFaceIndex=t;var i=t===1,n=i?180:0;this.orientation===0?this.angleY=n:this.angleX=n}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const XH={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},YH={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const HH=Phaser.Utils.Objects.GetValue;var $H=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=HH(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},ow=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,n=0,y=i.length;n<y;n++)e.setChildVisible(i[n],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},KH=function(e,t){if(!e)return!1;ow(e,t);var i=t.useParentBounds;y0({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var n=t.visibleSibling,y=e.children,S=0,r=y.length;S<r;S++){var T=y[S];T.visible&&T!==t&&(e.setChildVisible(T,!1),n.push(T))}return t.isRunning=!0,!0},hw=function(e){return class extends e{constructor(i,n){var y=i.scene;super(y,0,0,1,1,n),y.add.existing(this),$H(i,this,n)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=KH(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return ow(this.rexContainer.parent,this),this}}};class lw extends hw(aw){get perspectiveState(){return this.isRunning}}const ZH=Phaser.Utils.Objects.GetValue;var JH=function(e){var t=this.scene;this.setSnapshotPadding(ZH(e,"snapshotPadding",0)),e=Js(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new WH(t,e);t.add.existing(i);var n=i.flip;if(n){var y=this;n.on("start",function(){y.enterPerspectiveMode()}).on("complete",function(){y.exitPerspectiveMode()})}return i};const QH=["front","back"],jH={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=QH[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var n=i.visible;i.visible=!0;var y=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(y,{padding:this.snapshotPadding}),i.visible=n,this}},hT=Phaser.Utils.Objects.GetValue;class Em extends Vi{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var n=i.back,y=hT(i,"expand.back",!0);this.add(n,{key:"back",expand:y});var S=i.front,r=hT(i,"expand.front",!0);this.add(S,{key:"front",expand:r}),this.perspectiveCard=JH.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,n=this.childrenMap.front,y=this.childrenMap.back;this.setChildVisible(n,i),this.setChildVisible(y,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,n,y,S,r){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,n,y,S,r),this}forEachFace(t,i,n){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,n),this}}Object.assign(Em.prototype,jH);st.register("perspectiveCard",function(e){var t=new Em(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.PerspectiveCard",Em);var qH=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},_H=function(e){for(var t=this.getElement("tabs.buttons"),i=0,n=t.length;i<n;i++)if(t[i].name===e)return i};const t$=Phaser.Utils.Objects.IsPlainObject,Pv=Phaser.Utils.Objects.GetValue,e$=Phaser.Utils.String.UUID;var i$=function(e,t,i){if(t$(e)){var n=e;e=Pv(n,"key"),t=Pv(n,"tab"),i=Pv(n,"page")}return e||(e=e$()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},s$=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var n;t!==void 0&&(n=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),n!==void 0&&(this.childrenMap.pages.fadeInDuration=n)}return this},n$=function(e){return this.swapPage(0,e),this},r$=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const a$={swapPage:s$,swapFirstPage:n$,swapLastPage:r$},o$={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,n=i.getByName(e),y=this.childrenMap.pages,S=y.getElement(e);return!n||!S?this:(y.removeChildrenMap(e),i.removeButton(n,t),y.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var h$=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},l$=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},u$={top:1,left:3,right:5,bottom:7},lT={top:"bottom",left:"right",right:"left",bottom:"top"},d$=function(e){var t=u$[e];if(t===void 0)return this;var i=this.childrenMap.tabs,n=this.sizerChildren.indexOf(i);if(n===t)return this;this.sizerChildren[n]=null,this.sizerChildren[t]=i;var y=this.getSizerConfig(i).padding,S=lT[this.tabsPosition],r=lT[e];return y[r]=y[S],y[S]=0,this.tabsPosition=e,this},uw={getPageKey:qH,getPageIndex:_H,addPage:i$,getPage:h$,getTab:l$,setTabPosition:d$};Object.assign(uw,a$,o$);const Ji=Phaser.Utils.Objects.GetValue,uT=os.prototype.add;let Mf=class extends os{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=Ji(i,"expand.pages",!0);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var y=Ji(i,"background",void 0);y&&this.addBackground(y);var S=Ji(i,"pages"),r=new Pf(t,S);t.add.existing(r);var T=Ji(i,"tabsPosition",void 0);T===void 0&&(T=Ji(i,"tabPosition","top"));var s=Ji(i,"wrapTabs",!1),d=s?Wn:Se,x=Ji(i,"tabs",void 0);x===void 0&&(x={}),x.orientation=T==="top"||T==="bottom"?"x":"y",x.buttonsType="radio",!s&&!x.hasOwnProperty("expand")&&(x.expand=Ji(i,"expand.tabs",!1));var f=new d(t,x);t.add.existing(f),uT.call(this,r,{column:1,row:1,expand:n});var l,h,a=Ji(i,"space.item",0);switch(T){case"top":l=1,h=0,a={bottom:a};break;case"bottom":l=1,h=2,a={top:a};break;case"left":l=0,h=1,a={right:a};break;case"right":l=2,h=1,a={left:a};break}uT.call(this,f,{column:l,row:h,padding:a,expand:s?!0:Ji(i,"expand.tabs",!1),align:Ji(i,"align.tabs","left")}),this.addChildrenMap("background",y),this.addChildrenMap("tabs",f),this.addChildrenMap("pages",r),this.tabsPosition=T,f.on("button.click",function(u){var v=u.name;r.hasPage(v)&&r.swapPage(v)}),f.on("button.statechange",function(u,v,o,c){var p=o?"tab.focus":"tab.blur";this.emit(p,u,u.name)},this),r.on("pagevisible",function(u,v,o){this.emit("page.focus",u,v)}),r.on("pageinvisible",function(u,v,o){this.emit("page.blur",u,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Mf.prototype,uw);st.register("tabPages",function(e){var t=new Mf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TabPages",Mf);class f$ extends Zd{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const c$={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var v$=function(e,t){V0.popUp.call(e,t,this.expandDirection)},p$=function(e,t){V0.scaleDown.call(e,t,this.expandDirection)};const g$={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=v$.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=p$.bind(this)),this.childTransition.setTransitOutCallback(e),this}},ne=Phaser.Utils.Objects.GetValue;let _h=class extends wt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var n=i.background,y=i.title,S=i.child;n&&this.addBackground(n);var r=ne(i,"space"),T=this.orientation===1?"left":"top",l=ne(i,"align.title",T),h=ne(i,"expand.title",!0);this.add(y,{proportion:0,align:l,expand:h,padding:{left:ne(r,"titleLeft",0),right:ne(r,"titleRight",0),top:ne(r,"titleTop",0),bottom:ne(r,"titleBottom",0)}});var s=ne(i,"toggleByTarget",void 0),d=ne(i,"toggleClickConfig");s===void 0&&(s=y),s&&V2.onClick.call(s,function(){this.toggle()},this,d),this.childTransition=new f$(S);var x=ne(i,"customChildOrigin",!1);if(!x){var f=this.rtl?1:0;S.setOrigin(f)}var l=ne(i,"align.child","left"),h=ne(i,"expand.child",!0),a=h?1:0;this.add(S,{proportion:a,align:l,expand:h,padding:{left:ne(r,"childLeft",0),right:ne(r,"childRight",0),top:ne(r,"childTop",0),bottom:ne(r,"childBottom",0)}}),this.addChildrenMap("title",y),this.addChildrenMap("child",S),this.addChildrenMap("background",n);var u=i.transition;this.setTransitionDuration(ne(u,"duration",200)),this.setExpandCallback(ne(u,"expandCallback",void 0)),this.setCollapseCallback(ne(u,"collapseCallback",void 0)),this.reLayoutTarget=ne(i,"reLayoutTarget",void 0);var v=i.onExpandStart;v&&this.on("expand.start",v);var o=i.onExpandComplete;o&&this.on("expand.complete",o);var c=i.onCollapseStart;c&&this.on("collapse.start",c);var p=i.onCollapseComplete;p&&this.on("collapse.complete",p);var g=ne(i,"expanded",void 0);g!==void 0&&this.setExpandedState(g)}};Object.assign(_h.prototype,c$,g$);st.register("folder",function(e){var t=new _h(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Folder",_h);var dw=function(e){return class extends e{setText(i){return this.text=i,this}get text(){var i=this.childrenMap.nodeBody;return i.text}set text(i){var n=this.childrenMap.nodeBody;n.setText&&n.setText(i)}setTexture(i,n){var y=this.childrenMap.nodeBody;return y.setTexture&&y.setTexture(i,n),this}get texture(){var i=this.childrenMap.nodeBody;if(i)return i.texture}get frame(){var i=this.childrenMap.nodeBody;if(i)return i.frame}}};const m$={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}},x$=Phaser.Utils.Objects.GetValue;var wh=function(e,t,i,n,y){var S=x$(t,i),r;return Ci(S)?(r=S,delete t[i]):Qs(S)?(r=S(e,n),e.add.existing(r)):y&&(r=y(e,S,n),e.add.existing(r)),r};const lu=Phaser.Utils.Objects.GetValue;class fw extends dw(wt){constructor(t,i,n){var y=i.space;super(t,{orientation:"x",space:{left:lu(y,"nodeLeft",0),right:lu(y,"nodeRight",0),top:lu(y,"nodeTop",0),bottom:lu(y,"nodeBottom",0)}}),this.type="rexTreeNode";var S=wh(t,i,"nodeBackground",n),r=wh(t,i,"nodeBody",n,y$);S&&this.addBackground(S),this.add(r,{proportion:1,key:"nodeBody"})}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}}var y$=function(e,t,i){var n=new df(e,t);return n.resetDisplayContent(""),n},cw=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var n=e.displayList;if(Xp(n)){t.isRexContainerLite?t.addToLayer(n):n.add(t);return}e.scene.add.existing(t)};const dT=Phaser.Utils.String.UUID,C$={addTree(e,t){if(Ci(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=dT());var n=this.createTree(t);return cw(this,n),this.insertNode(e,n,{expand:!0}),n},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var n;Ci(t)||(i=t,t=new fw(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(n=i,i=void 0):i&&(n=i.nodeKey,delete i.nodeKey),n===void 0&&(n=dT()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(n)&&(console.error(`[Trees] Duplicate nodeKey '${n}'`),this.removeNode(this.nodesMap[n],!0)),t.nodeKey=n,this.nodesMap[n]=t;var y=this.childrenMap.child;return y.insert(e,t,i),t}},T$={removeNode(e,t){if(!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var n=i.childrenMap.child;return n.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},S$={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTree(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var vw={};Object.assign(vw,m$,C$,T$,S$);const E$=Phaser.Utils.Objects.GetValue;var P$=function(e,t){var i=new fw(e,t,{isLeaf:!1});e.add.existing(i);var n=wh(e,t,"toggleButton",{isLeaf:!1},M$);return i.insert(0,n,{padding:{right:E$(t,"space.toggleButton",0)},fitRatio:1,key:"toggleButton"}),i},M$=function(e,t,i){var n=new Nh(e,t);return n.on("expand.start",function(y){y.setDirection("down")}).on("collapse.complete",function(y){y.setDirection("right")}),n};const w$=Phaser.Utils.Objects.GetValue;var R$=function(e,t){var i=new wt(e,{orientation:w$(t,"childrenOrientation","y")});e.add.existing(i);var n=wh(e,t,"childrenBackground",{isLeaf:!1});return n&&i.addBackground(n),i};const A$=Phaser.Utils.Objects.Clone;var L$=function(e,t){var i=e?A$(e):{};if(!t)return i;for(var n in t)i[n]=t[n];return i};const fr=Phaser.Utils.Objects.GetValue;class Ka extends dw(_h){constructor(t,i){i===void 0&&(i={});var n=wh(t,i,"background",{isLeaf:!1}),y=R$(t,i),S=y.childrenMap.items,r=P$(t,i),T=r.childrenMap.toggleButton,s=r.childrenMap.nodeBody,d=Kh(fr(i,"orientation","y")),x=i.space;if(x){var f=fr(x,"indent",0);x.childLeft=fr(x,"indentLeft",d===1?f:0),x.childRight=fr(x,"indentRight",0),x.childTop=fr(x,"indentTop",d===0?f:0),x.childBottom=fr(x,"indentBottom",0)}var l={background:n,title:r,child:y,toggleByTarget:T,transition:i.transition,orientation:d,space:x,align:i.align,expand:i.expand};super(t,l),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){T.emit("expand.start",T)}).on("expand.complete",function(){T.emit("expand.complete",T)}).on("collapse.start",function(){T.emit("collapse.start",T)}).on("collapse.complete",function(){T.emit("collapse.complete",T)});var h=fr(i,"expanded",!0);h!==void 0&&this.setExpandedState(h)}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}createTree(t){return Ka.CreateTree(this.scene,this.configSave,t)}isTree(t){return!!t&&t instanceof TreeNode}}Ka.CreateTree=function(e,t,i){return new Ka(e,L$(t,i))};Object.assign(Ka.prototype,vw);const O$=Phaser.Utils.String.UUID,F$={addTree(e){if(Ci(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=O$());var n=Ka.CreateTree(this.scene,this.treeConfig,t);return cw(this,n),n.nodeKey=i,this.treesMap[i]=n,this.insert(e,n,{expand:!0}),n}},D$={removeTree(e,t){return e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},I$={getTree(e){return this.treesMap[e]},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var pw={};Object.assign(pw,F$,D$,I$);const B$=Phaser.Utils.Objects.GetValue;class Pm extends wt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=B$(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(Pm.prototype,pw);st.register("trees",function(e){var t=new Pm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Trees",Pm);st.register("textArea",function(e){var t=new Qh(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextArea",Qh);var b$=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const G$={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},N$={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},uu=Phaser.Utils.Objects.GetValue;class wf extends Jh{constructor(t,i){i===void 0&&(i={});var n=uu(i,"text"),y;Ci(n)?y=n:(n===void 0&&(n={}),n.textArea=!0,y=new bh(t,n),t.add.existing(y)),b$(y);var S=n.width===void 0,r=n.height===void 0;S&&(y.minWidth=0),r&&(y.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:y,expandWidth:S,expandHeight:r};var T=uu(i,"space",void 0);T&&(T.child=uu(T,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",y);var s,d;y.on("cursorin",function(){var f=y.textOY,l=y.contentHeight,h=s!==f,a=d!==l;s=f,d=l,a&&this.resizeController(),(h||a)&&(this.t=y.t)},this),y.on("textchange",function(f){this.emit("textchange",f,this)},this);var x=uu(i,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}}Object.assign(wf.prototype,G$,N$);st.register("textAreaInput",function(e){var t=new wf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextAreaInput",wf);var z$=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(n=!0);break;case 1:e=0;break;default:e=0;break}if(!n)return e},k$=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(n=!0);break;default:e=0;break}if(!n)return e},V$=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},U$=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},W$=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width;break;case 1:i=this.height;break}e.isRexSizer?e.runLayout(this,t,i):Ye(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},X$=function(e,t){t||e.clearMask&&e.clearMask(!1)},gw={getChildrenWidth:z$,getChildrenHeight:k$,getChildrenSizers:V$,resetChildPosition:U$,layoutChildren:W$,removeChildCallback:X$};Object.assign(gw,kM);const fT=Phaser.Utils.Objects.IsPlainObject,Li=Phaser.Utils.Objects.GetValue,Y$=Phaser.Display.Align.TOP_LEFT;class mw extends Nr{constructor(t,i,n,y,S,r){fT(i)?(r=i,i=Li(r,"x",0),n=Li(r,"y",0),y=Li(r,"width",void 0),S=Li(r,"height",void 0)):fT(y)&&(r=y,y=Li(r,"width",void 0),S=Li(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Li(r,"scrollMode",0));var T=Li(r,"clamplChildOY",!0),s=Li(r,"clamplChildOX",T);this.setClampMode(T,s);var d=Li(r,"child",void 0),x=Li(r,"expand",!0);d.setOrigin&&d.setOrigin(0),this.add(d),this.sizerChildren=[d];var f=this.getSizerConfig(d);f.align=Y$,f.expand=x,this.child=d,this.setupChildrenMask(Li(r,"mask",void 0)),this.childrenMask&&(this.maskGameObject=xm(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=LM[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.height:this.width}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.width:this.height}get childHeight(){return this.scrollMode===0||this.scrollMode===2?Bt(this.child):It(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?It(this.child):Bt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,n=this.bottomChildOY,y=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:y?t=i:S&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,n=this.rightChildOX,y=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:y?t=i:S&&(t=n)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),y&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(mw.prototype,gw);var H$=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:du.call(this,e,"y",t);break;case 1:du.call(this,e,"x",t);break;default:du.call(this,e,"y",t),du.call(this,e,"x",t);break}return this};const cT=["top","bottom","centerY","center"],vT=["left","right","centerX","center"];var du=function(e,t,i){t=t.toUpperCase();var n=t==="Y",y=this.childrenMap.child,S;if(n){if(i)for(var r=0,T=cT.length;r<T;r++){var s=cT[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":S=y.top-e.getTopLeft().y;break;case"bottom":S=y.bottom-e.getBottomLeft().y;break;case"centerY":case"center":S=y.centerY-e.getCenter().y;break;default:var d=y.top-e.getTopLeft().y,x=y.bottom-e.getBottomLeft().y;d<=0&&x>=0?S=0:S=Math.abs(d)<=Math.abs(x)?d:x;break}}else{if(i)for(var r=0,T=vT.length;r<T;r++){var s=vT[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":S=y.left-e.getTopLeft().x;break;case"right":S=y.right-e.getTopRight().x;break;case"centerX":case"center":S=y.centerX-e.getCenter().x;break;default:var f=y.left-e.getTopLeft().x,l=y.right-e.getTopRight().x;f<=0&&l>=0?S=0:S=Math.abs(f)<=Math.abs(l)?f:l;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=S;break;default:this[`childO${t}`]+=S;break}};const cn=Phaser.Utils.Objects.GetValue;class Mm extends Jh{constructor(t,i){i===void 0&&(i={});var n=fm(i),y=cn(i,"panel",void 0);y===void 0&&(y={}),y.scrollMode=n,y.clamplChildOY=cn(i,"clamplChildOY",!1),y.clamplChildOX=cn(i,"clamplChildOX",!1);var S=new mw(t,y);t.add.existing(S);var r,T;switch(n){case 0:r=cn(i,"expand.panel",!0),T=!0;break;case 1:r=!0,T=cn(i,"expand.panel",!0);break;default:r=!0,T=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:r,expandHeight:T,align:cn(i,"align.panel","center")};var s=cn(i,"space",void 0);s&&(s.child=cn(s,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),Q0(this.childrenMap.child,t),this}}var $$={scrollToChild:H$};Object.assign(Mm.prototype,$$);st.register("scrollablePanel",function(e){var t=new Mm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollablePanel",Mm);const fu={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},xn={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},K$={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=xn[e]),e){case xn.popUp:e=fu.popUp;break;case xn.fadeIn:e=fu.fadeIn;break}return e||(e=Le),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=xn[e]),e){case xn.scaleDown:e=fu.scaleDown;break;case xn.fadeOut:e=fu.fadeOut;break}return e||(e=Le),this.transitOutCallback=e,this}},Z$={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Le]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Le]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Uo=Phaser.Utils.Objects.GetValue;class wm extends sn{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Uo(i,"duration.in",200)),this.setDisplayTime(Uo(i,"duration.hold",1200)),this.setTransitOutTime(Uo(i,"duration.out",200)),this.setTransitInCallback(Uo(i,"transitIn",xn.popUp)),this.setTransitOutCallback(Uo(i,"transitOut",xn.scaleDown)),this.player=new MM(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}}Object.assign(wm.prototype,K$,Z$);st.register("toast",function(e){var t=new wm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Toast",wm);var J$=function(e,t){if(t===!1)return null;if(Ci(t))return t;var i=new $n(e,t);return e.add.existing(i),i},tl=function(e,t,i){i===void 0&&(i=!0),i?t=t?mi(t):{}:t||(t={});var n=new bh(e,t);return e.add.existing(n),n};const pT=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],Q$=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Qp={},gT;for(var cu=0,j$=pT.length;cu<j$;cu++)gT=pT[cu].toLowerCase(),Qp[gT]=Q$[cu];var q$=function(e){return e=e.toLowerCase(),Qp.hasOwnProperty(e)?Qp[e]:null},_$=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=q$(e)),e};const tK=Phaser.Utils.String.Pad;var mT=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=tK(i,6,0,1),i=t+i,i},eK=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Oi=Phaser.Utils.Objects.GetValue,iK=Phaser.Utils.Objects.IsPlainObject,sK=Phaser.Math.Clamp;let Rm=class extends wt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var n=Oi(i,"background",void 0),y=Oi(i,"swatch"),S;iK(y)&&(S=Oi(y,"size"));var r=J$(t,Oi(i,"swatch")),T=Oi(i,"inputText",{}),s;if(T&&(s=tl(t,T)),n&&this.addBackground(n),r){S=Oi(i,"swatchSize",S);var d;S!==void 0?(Ye(r,S,S),d=!1):d=Oi(i,"squareExpandSwatch",!0);var x=d?1:0;this.add(r,{proportion:0,expand:!1,fitRatio:x})}if(s){var f=Oi(T,"width")===void 0?1:0,l=Oi(T,"height")===void 0;this.add(s,{proportion:f,expand:l})}this.addChildrenMap("background",n),this.addChildrenMap("swatch",r),this.addChildrenMap("inputText",s),s&&s.on("close",function(){this.setValue(s.value)},this);var h=Oi(i,"valuechangeCallback",null);if(h!==null){var a=Oi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",h,a)}this.setValue(Oi(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=_$(t),t==null){var n=this.childrenMap.inputText;n&&n.setText(mT(this._value));return}}else t=sK(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&eK(i,t);var n=this.childrenMap.inputText;n&&n.setText(mT(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var nK={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=rK[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const rK={down:0,up:1},xw=Phaser.Display.Color,cd=Phaser.Math.Percent;var aK=function(e,t,i){i===void 0&&(i=!1);var n=e.width,y=e.height,S=new xw;if(i)for(var r=0;r<y;r++){var T=cd(r,0,y);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(0,r,n,1)}else for(var s=0;s<n;s++){var T=cd(s,0,n);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(s,0,1,y)}},oK=function(e,t,i){for(var n=e.width,y=e.height,S=t.getImageData(0,0,n,y),r=S.data,T=new xw,s=0;s<y;s++)for(var d=0;d<n;d++){var x=cd(d,0,n),f=1-cd(s,0,y);T.setFromHSV(i,x,f);var l=(s*n+d)*4;r[l]=T.red,r[l+1]=T.green,r[l+2]=T.blue,r[l+3]=255}t.putImageData(S,0,0)};const hK=Phaser.Display.Color,xT=Phaser.Math.Percent,lK=Phaser.Display.Color.ColorToRGBA,uK=Phaser.Display.Color.HSVToRGB;class dK extends br{constructor(t,i,n,y,S,r){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,n,y,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new hK,this.setOrientation(r),this.setSize(y,S)}setOrientation(t){return this.orientation=Kh(t),this}updateTexture(){return aK(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=xT(t,0,this.width):this.hue=xT(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var n=this.getHue(t,i);return this.colorObject.setFromRGB(uK(n,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Mv===void 0&&(Mv={}),i=Mv),this.colorObject.setFromRGB(lK(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var Mv=void 0,fK=Phaser.Math.RotateAround,yw=function(e,t,i,n){n===void 0?n={}:n===!0&&(wv===void 0&&(wv={}),n=wv),t-=e.width*e.originX,i-=e.height*e.originY;var y={x:t*e.scaleX,y:i*e.scaleY};return fK(y,0,0,-e.rotation),n.x=e.x+t,n.y=e.y+i,n},wv;class cK extends Vi{constructor(t,i){i===void 0&&(i={}),super(t,i);var n=i.width!=null?1:0,y=new dK(t).setOrientation(n);t.add.existing(y),this.type="rexColorPicker.HPalette",y.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new $n(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(y,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var n=Math.min(t,i);return this.childrenMap.marker.setSize(n,n),this}onPaletteCanvasPointerDown(t,i,n,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return yw(i,y.x,y.y,n),this.resetChildPositionState(n),this}getHue(t,i){var n=this.childrenMap.paletteCanvas;return n.getHue(t,i)}}const vK=Phaser.Display.Color,yT=Phaser.Math.Percent,CT=Phaser.Display.Color.ColorToRGBA,pK=Phaser.Display.Color.HSVToRGB;class gK extends br{constructor(t,i,n,y,S,r){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,n,y,S),this.type="rexColorPicker.SVPaletteCanvas",r===void 0&&(r=1),this.colorObject=new vK,this.setHue(r),this.setSize(y,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return oK(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var n=yT(t,0,this.width),y=1-yT(i,0,this.height);return this.colorObject.setFromRGB(pK(this.hue,n,y)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(CT(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Rv===void 0&&(Rv={}),i=Rv),this.colorObject.setFromRGB(CT(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var Rv=void 0;class mK extends Vi{constructor(t,i){super(t,i);var n=new gK(t);t.add.existing(n),this.type="rexColorPicker.SVPalette",n.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var y=new $n(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(y),this.add(n,{key:"paletteCanvas",expand:!0}).add(y,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,n,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return yw(i,y.x,y.y,n),this.resetChildPositionState(n),this}}const Qi=Phaser.Utils.Objects.GetValue;class Am extends wt{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var n=Qi(i,"hPalette.position",0);typeof n=="string"&&(n=xK[n]);var y=n===0||n===2?1:0;this.setOrientation(y);var S=Qi(i,"background",void 0),r,T;if(this.orientation===0){var r=Qi(i,"hPalette.width",void 0);r===void 0&&(r=Qi(i,"hPalette.size",10))}else T=Qi(i,"hPalette.height",void 0),T===void 0&&(T=Qi(i,"hPalette.size",10));var s=new cK(t,{width:r,height:T});t.add.existing(s);var d=Qi(i,"svPalette.width",void 0),x=Qi(i,"svPalette.height",void 0),f=new mK(t,{width:d,height:x});t.add.existing(f),S&&this.addBackground(S);var l={proportion:0,expand:!0},h,a;this.orientation===0?(h=d===void 0?1:0,a=x===void 0):(h=x===void 0?1:0,a=d===void 0);var u={proportion:h,expand:a};n===0||n===3?this.add(f,u).add(s,l):this.add(s,l).add(f,u),s.on("input",function(){f.setHue(s.getHue()),this.setValue(f.color,!0)},this),f.on("input",function(){this.setValue(f.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",f);var v=Qi(i,"valuechangeCallback",null);if(v!==null){var o=Qi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",v,o)}this.setValue(Qi(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,n){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this}}var xK={bottom:0,left:1,top:2,right:3};const ys=Phaser.Utils.Objects.GetValue,yK=Phaser.Display.Color,CK=Phaser.Display.Color.ColorToRGBA,TK=Phaser.Display.Color.HSVToRGB,cr=Phaser.Math.Clamp;class Lm extends wt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new yK;var n=ys(i,"background",void 0),y=ys(i,"formatLabel",void 0);Ci(y)||(y=bi(t,y).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var r=ys(i,"inputText"),T=0;T<3;T++){var s=tl(t,r).setMaxLength(3).setNumberInput();S.push(s)}n&&this.addBackground(n);var x=ys(i,"proportion.formatLabel",0),d=!!y.isRexContainerLite,f=ys(i,"expand.formatLabel",d);this.add(y,{proportion:x,expand:f});for(var x=ys(r,"width")===void 0?1:0,f=ys(r,"height")===void 0,T=0,l=S.length;T<l;T++)this.add(S[T],{proportion:x,expand:f});this.addChildrenMap("background",n),this.addChildrenMap("formatLabel",y),this.addChildrenMap("components",S),this.onClick(y,this.toggleColorFormat,this);for(var T=0,l=S.length;T<l;T++)S[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var h=ys(i,"valuechangeCallback",null);if(h!==null){var a=ys(i,"valuechangeCallbackScope",void 0);this.on("valuechange",h,a)}y.setText("RGB"),this.setValue(ys(i,"value",16777215))}get value(){return this._value}set value(t){t=cr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(CK(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,n,y;return this.colorFormat==="RGB"?(i=this.colorObject.red,n=this.colorObject.green,y=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),n=Math.floor(this.colorObject.s*100),y=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(n),t[2].setValue(y),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=cr(t[0].value,0,255),n=cr(t[1].value,0,255),y=cr(t[2].value,0,255);this.colorObject.setTo(i,n,y)}else{var S=cr(t[0].value,0,359)/360,r=cr(t[1].value,0,100)/100,T=cr(t[2].value,0,100)/100;this.colorObject.setFromRGB(TK(S,r,T))}return this}}const Av=Phaser.Utils.Objects.GetValue;class SK extends wt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var n=Av(i,"background",void 0),y=new Am(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:Av(i,"space.hPalette",8)}});t.add.existing(y);var S;i.colorComponents&&(S=new Lm(t,i.colorComponents),t.add.existing(S)),n&&(this.addBackground(n),new Jd(n,{stopAllLevels:!1})),this.add(y,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",n),this.addChildrenMap("colorPicker",y),this.addChildrenMap("colorComponents",S),y.on("valuechange",function(r){this.setValue(r)},this),S&&S.on("valuechange",function(r){this.setValue(r)},this),this.setValue(Av(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var n=this.childrenMap.colorComponents;n&&n.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var EK=function(t){var t=this.scene,i,n=this.colorPickerCreateBackgroundCallback;n&&(i=n.call(this,t),t.add.existing(i));var y=this.colorPickerWidth;y===void 0&&(y=this.width);var S=this.colorPickerHeight;S===void 0&&(S=y);var r;this.colorComponentsHeight>0?r={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:r=!1;var T=new SK(t,{width:y,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:r,value:this.value});return t.add.existing(T),T},PK=function(){if(!this.colorPicker){var e=EK.call(this).layout(),t=new $M(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},Cw={openColorPicker:PK};Object.assign(Cw,nK);const Re=Phaser.Utils.Objects.GetValue;class Rf extends Rm{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var n=i.colorPicker,y=n!==!1&&n!==null;if(y){this.setColorPickerSize(Re(n,"width",160),Re(n,"height",170));var S,r=Re(n,"background");r?S=function(h){return Bi(h,r)}:S=Re(n,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(Re(n,"hPalettePosition",0)),this.setColorPickerExpandDirection(Re(n,"expandDirection")),this.setColorPickerEaseInDuration(Re(n,"easeIn",200)),this.setColorPickerEaseOutDuration(Re(n,"easeOut",200)),this.setColorPickerTransitInCallback(Re(n,"transitIn")),this.setColorPickerTransitOutCallback(Re(n,"transitOut")),this.setColorPickerBounds(Re(n,"bounds"));var T=Re(n,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var s=i.colorComponents,d=s!==!1&&s!==null;if(y&&d){this.setColorComponentsHeight(Re(s,"height",30)),this.setColorComponentsFormatLabelConfig(Re(s,"formatLabel"));var x=Re(s,"inputText");x||(x=Re(i,"inputText")),this.setColorComponentsInputTextConfig(x);var f=Re(s,"space");f===void 0&&(f={item:8}),this.setColorComponentsSpace(f)}var l=this.childrenMap.swatch;l&&y&&this.onClick(l,this.openColorPicker,this)}}Object.assign(Rf.prototype,Cw);st.register("colorInput",function(e){var t=new Rf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInput",Rf);st.register("colorInputLite",function(e){var t=new Rm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInputBase",Rm);st.register("colorPicker",function(e){var t=new Am(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorPicker",Am);st.register("colorComponents",function(e){var t=new Lm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorComponents",Lm);var Tw=function(e){for(var t=e.scene.input,i=t.manager,n=i.pointersTotal,y=i.pointers,S,r=0;r<n;r++)if(S=y[r],!(!S.primaryDown||t.getDragState(S)!==0||!l0(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const vu=Phaser.Utils.Objects.GetValue,TT=Phaser.Math.Distance.Between,ST=Phaser.Math.RotateAroundDistance;class Om extends ae{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(vu(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(vu(t,"enable",!0)),this.setAxisMode(vu(t,"axis",0)),this.setAxisRotation(vu(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=MK[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return Tw(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,n){this.isDragging||(this.pointer=t)}onDrag(t,i,n){if(this.pointer===t){var y=this.parent;if(this.axisMode===0)y.x=i,y.y=n;else if(this.axisRotation===0)this.axisMode===1?y.x=i:this.axisMode===2&&(y.y=n);else{var S,r={x:i,y:n};S=TT(r.x,r.y,y.x,y.y),r=ST(r,y.x,y.y,-this.axisRotation,S),this.axisMode===1?r.y=y.y:this.axisMode===2&&(r.x=y.x),S=TT(r.x,r.y,y.x,y.y),r=ST(r,y.x,y.y,this.axisRotation,S),y.x=r.x,y.y=r.y}}}onDragEnd(t,i,n,y){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const MK={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var wK=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],n=this.getSizerConfig(e).padding,y=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var r=this.innerLeft+n.left,T=this.innerRight-S.right,s=It(t),d=t.x+s*(0-t.originX),x=t.x+s*(1-t.originX),f=d-y.left-this.space.item-n.right,l=x+y.right+this.space.item+S.left,h=f-r,a=T-l,u=h+a;this.minFirstChildSize>0&&h<this.minFirstChildSize&&(h=this.minFirstChildSize,a=u-h),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,h=u-a),this.setSplitRatio(h/u)}else{var v=this.innerTop+n.top,o=this.innerBottom-S.bottom,c=Bt(t),p=t.y+c*(0-t.originY),g=t.y+c*(1-t.originY),m=p-y.top-this.space.item-n.bottom,C=g+y.bottom+this.space.item+S.top,E=m-v,M=o-C,P=E+M;this.minFirstChildSize>0&&E<this.minFirstChildSize&&(E=this.minFirstChildSize,M=P-E),this.minSecondChildSize>0&&M<this.minSecondChildSize&&(M=this.minSecondChildSize,E=P-M),this.setSplitRatio(E/P)}var w=this.minWidth,R=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(w,R)};const le=Phaser.Utils.Objects.GetValue,RK=Phaser.Math.Clamp;class Sw extends wt{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var n=le(i,"background",void 0),y,S,r,T;this.orientation===0?(y="leftPanel",S="rightPanel",r="minLeftPanelWidth",T="minRightPanelWidth"):(y="topPanel",S="bottomPanel",r="minTopPanelHeight",T="minBottomPanelHeight");var s=le(i,y,void 0),d=le(i,"splitter",void 0),x=le(i,S,void 0);n&&this.addBackground(n);var f=le(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:le(f,`${y}Left`,0),right:le(f,`${y}Right`,0),top:le(f,`${y}Top`,0),bottom:le(f,`${y}Bottom`,0)}}),this.add(d,{proportion:0,expand:!0,padding:{left:le(f,"splitterLeft",0),right:le(f,"splitterRight",0),top:le(f,"splitterTop",0),bottom:le(f,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:le(f,`${S}Left`,0),right:le(f,`${S}Right`,0),top:le(f,`${S}Top`,0),bottom:le(f,`${S}Bottom`,0)}}),this.addChildrenMap("background",n),this.addChildrenMap(y,s),this.addChildrenMap("splitter",d),this.addChildrenMap(S,x),this.minFirstChildSize=le(i,r,0),this.minSecondChildSize=le(i,T,0),this.setSplitRatio(le(i,"splitRatio",.5)),this.splitterDragBehavior=new Om(d,{axis:this.orientation===0?1:2}),d.on("dragstart",function(){this.emit("splitter.dragstart",d,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",d,this.splitRatio)},this).on("drag",function(){wK.call(this),this.emit("splitter.drag",d,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",d,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",d,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=RK(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}st.register("splitPanels",function(e){var t=new Sw(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SplitPanels",Sw);var AK=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!0)}},LK=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!1)}};const OK={show:AK,hide:LK};var FK=function(e,t){return t===void 0&&(t=1),function(i,n,y,S){n!=="panel"&&y.fadeChild(i,S?0:e,t)}},DK=function(e,t){return t===void 0&&(t=0),function(i,n,y,S){n!=="panel"&&y.fadeChild(i,S?0:e,t)}};const IK={show:FK,hide:DK};var ET=function(e,t){return function(i,n,y,S){n!=="panel"&&y.moveChild(i,S?0:e,t)}};const BK={show:ET,hide:ET};var PT=function(e,t){return function(i,n,y,S){n==="panel"&&y.moveChild(i,S?0:e,t)}};const bK={show:PT,hide:PT},Lv={visible:OK,fade:IK,move:BK,"move-panel":bK};var GK=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var n,y;return Lv.hasOwnProperty(t)?(n=Lv[t].show.apply(null,i),y=Lv[t].hide.apply(null,i)):(n=Le,y=Le),{show:n,hide:y}};const NK={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},zK=Ei.prototype.setChildVisible,kK={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=ef(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),zK.call(this,e,t),this}},VK={fadeChild(e,t,i){var n;return typeof e=="string"?(n=e,e=this.sizerChildren[n]):n=ef(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===n?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?Oe(e._fade):Promise.resolve()}},UK={moveChild(e,t,i,n){var y;typeof e=="string"?(y=e,e=this.sizerChildren[y]):y=ef(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===y;if(n===void 0)switch(y){case"leftSide":case"rightSide":n=It(e);break;case"topSide":case"bottomSide":n=Bt(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":n=It(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":n=Bt(this.sizerChildren[this.previousChildKey]);break;default:n=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":n=It(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":n=Bt(this.sizerChildren[this.currentChildKey]);break;default:n=0;break}break}var r,T,s,d;if(S)switch(y){case"panel":switch(this.previousChildKey){case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":s=!0;break;case"bottomSide":d=!0;break}break;case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":d=!0;break;case"bottomSide":s=!0;break}else switch(y){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":d=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":s=!0;break;case"bottomSide":d=!0;break}return r?e.moveTo(t,`-=${n}`,void 0,i):T?e.moveTo(t,`+=${n}`,void 0,i):s?e.moveTo(t,void 0,`-=${n}`,i):d?e.moveTo(t,void 0,`+=${n}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,n){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,n),e._easeMove?Oe(e._easeMove):Promise.resolve()}};var Ew={};Object.assign(Ew,kK,VK,UK);const qe=Phaser.Utils.Objects.GetValue;class Fm extends Vi{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var n=qe(i,"showChildCallback",void 0);if(n)if(Qs(n)){var y=qe(i,"showChildCallbackScope",void 0);this.on("showchild",n,y);var S=qe(i,"hideChildCallback",void 0),r=qe(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,r)}else{var T=GK(n);this.on("showchild",T.show),this.on("hidechild",T.hide)}var s=qe(i,"background",void 0),d=qe(i,"panel",void 0),x=qe(i,"leftSide",void 0),f=qe(i,"rightSide",void 0),l=qe(i,"topSide",void 0),h=qe(i,"bottomSide",void 0);if(s&&this.addBackground(s),d&&this.add(d,"panel","center",0,!0),x){var a=qe(i,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:a})}if(f){var a=qe(i,"expand.right",!0);this.add(f,"rightSide","right-top",0,{height:a})}if(l){var a=qe(i,"expand.top",!0);this.add(l,"topSide","left-top",0,{width:a})}if(h){var a=qe(i,"expand.bottom",!0);this.add(h,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Fm.prototype,NK,Ew);st.register("sides",function(e){var t=new Fm(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Sides",Fm);var WK=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const XK=Phaser.Utils.Array.GetFirst,YK=Phaser.Utils.Array.Remove;var HK=function(e){var t=XK(this.inputHandlers,"name",e);return t&&YK(this.inputHandlers,t),this};class Pw extends sn{constructor(t,i){i=om(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?mi(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class $K extends Pw{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var n=new Nh(t,i.expandedIcon);t.add.existing(n),this.addSpace().add(n,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",n)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",n=this.childrenMap.expandedIcon;return n.setDirection(i),this}}var Mw=function(e,t){var i=new Bm(e,t);return e.add.existing(i),i},Dm=function(e,t,i){return Bi(e,i)};const KK={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},ZK={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class ww extends _h{constructor(t,i){super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(ww.prototype,KK,ZK);const ua=Phaser.Utils.Objects.GetValue;var JK=function(e,t,i){var n=ua(i,"title")||{},y=new $K(e,n);e.add.existing(y),y.on("folder.expand",function(){y.setExpandedState(!0)}).on("folder.collapse",function(){y.setExpandedState(!1)});var S={root:ua(i,"root"),styles:ua(i,"tweaker"),space:ua(i,"space")||{}},r=Mw(e,S),T=ua(i,"background"),s=Dm(e,t,T),d=new ww(e,{orientation:1,title:y,child:r,background:s,transition:{duration:ua(i,"transition.duration",200)}});return e.add.existing(d),d};const MT=Phaser.Utils.Objects.GetValue;var QK=function(e){var t=this.scene,i=MT(this.styles,"folder")||{};i.tweaker=this.styles,i.root=this.root;var n=JK(t,e,i);delete i.tweaker,delete i.root,this.add(n,{expand:!0}),n.setTitle(e);var y=MT(e,"expanded",!0);y!==void 0&&n.setExpandedState(y);var S=n.getElement("child");return e.key&&this.root.addChildrenMap(e.key,S),S};const jK={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},qK={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};class Rw extends Mf{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(Rw.prototype,jK,qK);const pu=Phaser.Utils.Objects.GetValue;var _K=function(e,t,i){var n=new Rw(e,i);e.add.existing(n);for(var y=pu(i,"tab"),S={root:pu(i,"root"),styles:pu(i,"tweaker")},r=pu(t,"pages")||[],T=0,s=r.length;T<s;T++){var d=r[T];n.addPage({key:d.title,tab:bi(e,y).setActiveState(!1).resetDisplayContent({text:d.title}),page:Mw(e,S)})}return n.on("tab.focus",function(x,f){x.setActiveState(!0)}).on("tab.blur",function(x,f){x.setActiveState(!1)}),n};const wT=Phaser.Utils.Objects.GetValue;var tZ=function(e){var t=this.scene,i=wT(this.styles,"tab")||{};i.tweaker=this.styles,i.root=this.root;var n=_K(t,e,i);delete i.tweaker,delete i.root,this.add(n,{expand:!0});for(var y=wT(e,"pages")||[],S=[],r=0,T=0,s=y.length;T<s;T++){var d=n.getPage(T),x=y[T].show;x&&(r=T);var f=y[T].key;f&&this.root.addChildrenMap(f,d),S.push(d)}return n.swapPage(r,0),S};const RT=Phaser.Utils.Objects.GetValue,eZ={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){return this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=RT(e,"onGetValue"),this.onSetValue=RT(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},iZ={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},sZ={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=i.left+i.right,t.minWidth=e,this}},Ov=Phaser.Utils.Objects.GetValue;class Im extends wt{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var n=i.inputTitle,y=i.inputField,S=i.background,d=Ov(i,"proportion.title",0),r=Ov(i,"space.title",0),T;this.orientation===0?T={right:r}:T={bottom:r},this.add(n,{proportion:d,expand:!0,padding:T});var s=y.defaultProportion;s===void 0&&(s=i.parentOrientation===1?1:0);var d=Ov(i,"proportion.inputField",s);this.add(y,{proportion:d,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",n),this.addChildrenMap("inputField",y),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Im.prototype,eZ,iZ,sZ);var Aw=function(e,t,i){var n=new Pw(e,i);return e.add.existing(n),n},nZ=function(e){e===void 0&&(e=wt);class t extends e{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(n){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(n,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(n){return this.textFormatCallback?n=this.textFormatCallback(n):n=n.toString(),n}set value(n){if(this._value!==n&&(this.validate(n)||(n=this._value),this.displayValueCallback&&this.displayValueCallback(this,n),this._value!==n)){var y=this._value;this._value=n,this.syncValueFlag||this.emit("valuechange",n,y,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(n){return this.value=n,this}syncValue(n){return this.syncValueFlag=!0,this.value=n,this.syncValueFlag=!1,this}setup(n,y){return y===void 0&&(y=!1),(y||n.hasOwnProperty("format"))&&this.setTextFormatCallback(n.format),(y||n.hasOwnProperty("onValidate"))&&this.setValidateCallback(n.onValidate),this.setupCallback&&this.setupCallback(this,n,y),this}setSetupCallback(n){return this.setupCallback=n,this}setDisplayValueCallback(n){return this.displayValueCallback=n,this}setTextFormatCallback(n){return this.textFormatCallback=n,this}setValidateCallback(n){return this.validateCallback=n,this}}return t},rZ=function(e,t,i){for(var n,y=this.inputHandlers,S=0,r=y.length;S<r;S++){var T=y[S];if(T.accept(t)){var s=nZ(T.baseClass);n=new s(e),e.add.existing(n),n.setSetupCallback(T.setup).setDisplayValueCallback(T.displayValue),T.build(n,i);break}}return n&&n.setup(t,!0),n};const AT=Phaser.Utils.Objects.GetValue;var aZ=function(e,t,i){var n=rZ.call(this,e,t,i);if(!n)return null;var y=AT(i,"title")||{},S=Aw(e,t,y),r=AT(i,"background")||{},T=Bi(e,r),s=new Im(e,{...i,...t,inputTitle:S,inputField:n,background:T});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},oZ=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var n=this.styles.inputRow||{};n.parentOrientation=this.styles.orientation;var y=aZ.call(this,this.scene,i,n);if(!y)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;var S=y.childrenMap.inputField,r;return this.orientation===1?r=0:(r=this.itemWidth>0?0:1,y.setMinWidth(this.itemWidth)),this.add(y,{proportion:r,expand:!0}),i.onValueChange&&S.on("valuechange",i.onValueChange),y.setAutoUpdateEnable(i.autoUpdate),y.setBindingTarget(e,t),i.monitor&&y.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,y),this},hZ=function(e,t){var i=new $n(e,t);return e.add.existing(i),i};const lZ=Phaser.Utils.Objects.GetValue;var uZ=function(e,t){var i=lZ(t,"wrap",!1),n=i?Wn:Se,y=new n(e,t);return e.add.existing(y),y};const gu=Phaser.Utils.Objects.GetValue;var dZ=function(e,t,i){for(var n=gu(i,"title")||{},y=Aw(e,t,n),S=t.buttons,r=gu(i,"button")||{},T=[],s=0,d=S.length;s<d;s++){var x=bi(e,r);T.push(x);var f=S[s];x.resetDisplayContent(f.label),x.callback=f.callback}var l=uZ(e,{buttons:T,expand:!0,wrap:gu(t,"wrap",!1)});l.defaultProportion=1;var h=gu(i,"background")||{},a=hZ(e,h),u=new Im(e,{...i,inputTitle:y,inputField:l,background:a});return e.add.existing(u),u.setTitle(t),l.on("button.click",function(v){v.callback(u.bindingTarget)}),u};const fZ=Phaser.Utils.Objects.GetValue;var cZ=function(e){var t=this.scene;e===void 0&&(e={});var i=e.bindingTarget;delete e.bindingTarget;var n=fZ(this.styles,"inputRow")||{},y=dZ(t,e,n);return this.add(y,{expand:!0}),i&&y.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,y),this},vZ=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this};const pZ=Phaser.Utils.Objects.GetValue;var gZ=function(e){var t=this.scene,i=pZ(this.styles,"separator"),n=Dm(t,e,i);return this.add(n,{expand:!0}),this},mZ=function(e){for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.setBindingTarget&&y.setBindingTarget(e)}return this},xZ=function(){for(var e=0,t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(y.getMinTitleWidth?e=Math.max(e,y.getMinTitleWidth()):y.getMaxInputRowTitleWidth&&(e=Math.max(e,y.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},yZ=function(e){e-=this.getInnerPadding("left");for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(y.setMinTitleWidth?y.setMinTitleWidth(e):y.setInputRowTitleWidth&&y.setInputRowTitleWidth(e))}return this},CZ={registerInputHandler:WK,removeInputHandler:HK,addFolder:QK,addTab:tZ,addInput:oZ,addButtons:cZ,addButton:vZ,addSeparator:gZ,setBindingTarget:mZ,getMaxInputRowTitleWidth:xZ,setInputRowTitleWidth:yZ};const mu=Phaser.Utils.Objects.GetValue;class Bm extends wt{constructor(t,i){if(i===void 0&&(i={}),i.orientation===void 0&&(i.orientation=1),super(t,i),this.type="rexTweakerShell",this.root=i.root||this,this.styles=mu(i,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=mu(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var n=mu(i,"inputRow.alignTitle");if(n===void 0){var y=mu(this.styles,"inputRow.proportion.title");n=!y}else n&&et(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=n}else this.alignInputRowTitle=!1,this.inputHandlers=this.root.inputHandlers;var S=Dm(t,void 0,i.background);S&&this.addBackground(S)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(Bm.prototype,CZ);var TZ=function(e,t){t===void 0&&(t=!0);var i=e.getElement("inputText");i.setReadOnly(t)};const SZ={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var n=t.inputText,y=tl(i,n);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&TZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.getElement("inputText");i.setText(e.getFotmatText(t))}};var EZ=function(e,t,i){i===void 0&&(i=!0),i?t=t?mi(t):{}:t||(t={});var n=new wf(e,t);return e.add.existing(n),n},PZ=function(e,t){t===void 0&&(t=!0);var i=e.getElement("inputText");i.setReadOnly(t)};const MZ={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var n=t.inputTextArea;n===void 0&&(n={}),n.hasOwnProperty("text")||(n.text=t.inputText),n.hasOwnProperty("slider")||(n.slider=t.slider);var y=EZ(i,n);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&PZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.getElement("inputText");i.setText(e.getFotmatText(t))}};var wZ=function(e,t){t===void 0&&(t=!0);var i=e.getElement("inputText");i.setReadOnly(t)};const RZ={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var n=t.inputNumber||t.inputText,y=tl(i,n).setNumberInput();e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&wZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.getElement("inputText");i.setText(e.getFotmatText(t))}};var AZ=function(e,t){var i=new so(e,t);return e.add.existing(i),i};const Fv=Phaser.Utils.Objects.GetValue,LZ=Phaser.Math.Linear,OZ=Phaser.Math.Snap.Floor;var FZ=function(e,t,i,n){e.minValue=t,e.maxValue=i,e.step=n;var y=e.getElement("slider");y.setGap(n,t,i)},DZ=function(e,t){t===void 0&&(t=!0);var i=e.getElement("inputText");i.setReadOnly(t)};const IZ={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var n=t.slider,y=e.orientation===0?"track.height":"track.width",S=Fv(n,y),r=AZ(i,n),x=t.parentOrientation===1?2:0,f=Fv(t,"proportion.range.slider",x),T=S===void 0;e.add(r,{proportion:f,expand:T,key:"slider"});var s=t.inputNumber||t.inputText,d=tl(i,s).setNumberInput(),x=t.parentOrientation===1?1:0,f=Fv(t,"proportion.range.inputText",x);e.add(d,{proportion:f,expand:!0,key:"inputText"}),d.on("close",function(){e.setValue(d.value)}),r.on("valuechange",function(){var l=LZ(e.minValue,e.maxValue,r.value);e.step&&(l=OZ(l,e.step,e.minValue)),e.setValue(l)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&FZ(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&DZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.getElement("slider");i.setValue(t,e.minValue,e.maxValue);var n=e.getElement("inputText");n.setText("").setText(e.getFotmatText(t))}};var BZ=function(e,t,i){i===void 0&&(i=!0),i?t=t?mi(t):{}:t||(t={});var n=new Rf(e,t);return e.add.existing(n),n};const bZ={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var n=t.colorInput;n===void 0&&(n={}),n.hasOwnProperty("inputText")||(n.inputText=t.inputText);var y=BZ(i,n);e.add(y,{proportion:1,expand:!0,key:"colorInput"}),y.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.getElement("colorInput");i.setValue(t)}};var GZ=function(e,t){var i=new v0(e,t);return e.add.existing(i),i};const NZ={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var n=t.checkbox,y=GZ(i,n),S=n.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.add(y,{proportion:0,expand:!1,fitRatio:r,key:"checkbox"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.getElement("checkbox");i.setValue(t)}};var zZ=function(e,t){var i=new p0(e,t);return e.add.existing(i),i};const kZ={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var n=t.toggleSwitch,y=zZ(i,n),S=n.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.addSpace().add(y,{proportion:0,expand:!1,fitRatio:r,key:"toggleSwitch"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.getElement("toggleSwitch");i.setValue(t)}};var VZ=function(e,t){t=ZM(e,t);var i=new qh(e,t);return e.add.existing(i),i},Lw=function(e,t){for(var i=0,n=e.length;i<n;i++){var y=e[i];if(y.value===t)return i}},UZ=function(e,t){var i=Lw(e,t);if(i!=null)return e[i]},WZ=function(e,t){var i=e.getElement("list");i.setOptions(t)};const XZ={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var n=VZ(i,t.list);e.add(n,{proportion:1,expand:!0,key:"list"}),n.on("button.click",function(y,S,r,T,s,d){e.setValue(r.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&WZ(e,t.options)},displayValue(e,t){var i=e.getElement("list"),n=UZ(i.options,t);i.resetDisplayContent(n).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var YZ=function(e,t){var i=new Se(e,t);return e.add.existing(i),i},HZ=function(e,t){for(var i=0,n=e.length;i<n;i++){var y=e[i];y&&y.setActiveState(i===t)}};const $Z=Phaser.Utils.Objects.GetValue;var KZ=function(e,t){var i=e.getElement("list");i.options=t;var n=e.scene,y=i.buttonConfig;i.clearButtons(!0);for(var S=0,r=t.length;S<r;S++){var T=t[S],s=bi(n,y).setActiveState(!1).resetDisplayContent({text:T.text});i.addButton(s)}};const ZZ={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var n=t.button?mi(t.button):{},y=$Z(n,"expand",!0);y&&(n.align="center"),delete n.expand;var S=YZ(i,{expand:y});S.buttonConfig=n,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(r,T,s,d){var x=S.options[T];x&&(e._selectedIndex=T,e.setValue(x.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&KZ(e,t.options)},displayValue(e,t){var i=e.getElement("list"),n=e._selectedIndex;n===void 0&&(n=Lw(i.options,t)),HZ(i.getElement("buttons"),n)}};var JZ=function(){this.registerInputHandler(SZ).registerInputHandler(MZ).registerInputHandler(RZ).registerInputHandler(IZ).registerInputHandler(bZ).registerInputHandler(NZ).registerInputHandler(kZ).registerInputHandler(XZ).registerInputHandler(ZZ)};class Ow extends Bm{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",this.inputHandlers=[],JZ.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}st.register("tweaker",function(e){var t=new Ow(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tweaker",Ow);st.register("click",function(e,t){return new _s(e,t)});et(window,"RexPlugins.UI.Click",_s);st.register("clickOutside",function(e,t){return new K0(e,t)});et(window,"RexPlugins.UI.ClickOutside",K0);st.register("inTouching",function(e,t){return new $a(e,t)});et(window,"RexPlugins.UI.InTouching",$a);st.register("tap",function(e,t){return Ci(e)||(t=e,e=this.scene),new qd(e,t)});et(window,"RexPlugins.UI.Tap",qd);st.register("press",function(e,t){return Ci(e)||(t=e,e=this.scene),new _d(e,t)});et(window,"RexPlugins.UI.Press",_d);st.register("swipe",function(e,t){return Ci(e)||(t=e,e=this.scene),new Hh(e,t)});et(window,"RexPlugins.UI.Swipe",Hh);st.register("pan",function(e,t){return Ci(e)||(t=e,e=this.scene),new W2(e,t)});et(window,"RexPlugins.UI.Pan",W2);st.register("drag",function(e,t){return new Om(e,t)});et(window,"RexPlugins.UI.Drag",Om);st.register("pinch",function(e){return new X2(this.scene,e)});et(window,"RexPlugins.UI.Pinch",X2);st.register("rotate",function(e){return new J0(this.scene,e)});et(window,"RexPlugins.UI.Rotate",J0);const QZ=Phaser.Utils.Objects.IsPlainObject,LT=Phaser.Utils.Objects.GetValue;var OT=function(e,t,i){var n;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(QZ(e)){var y=e;e=LT(y,"key",i.texture.key),t=LT(y,"frame",i.frame.name)}else typeof e=="string"||(n=e);return n===void 0&&(n=function(S){S.setTexture(e,t)}),n};const Wo=Phaser.Utils.Objects.GetValue,jZ=Phaser.Utils.Objects.GetAdvancedValue,qZ=Phaser.Math.Linear;class Fw extends Ir{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(jZ(t,"duration",500)),this.setEase(Wo(t,"ease","Sine")),this.setOrientation(Wo(t,"orientation",0)),this.setFrontFace(Wo(t,"front",void 0)),this.setBackFace(Wo(t,"back",void 0)),this.setFace(Wo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=_Z[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=tJ[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=OT(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=OT(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,i){i.justRestart&&this.toggleFace();var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n);var y=qZ(this.scale0,0,n);this.orientation===0?t.scaleX=y:t.scaleY=y}}const _Z={x:0,horizontal:0,y:1,vertical:1},tJ={front:0,back:1};st.register("flip",function(e,t){return new Fw(e,t)});et(window,"RexPlugins.UI.Flip",Fw);st.register("shake",function(e,t){return new U0(e,t)});et(window,"RexPlugins.UI.Shake",U0);st.register("touchEventStop",function(e,t){return new Jd(e,t)});et(window,"RexPlugins.UI.TouchEventStop",Jd);st.register("perspective",function(e,t){return new lw(e,t)});et(window,"RexPlugins.UI.Perspective",lw);const Dw=Phaser.Math.RotateAround;var Dv=function(e,t,i){var n=e.width/2,y=e.height/2;return Ne.x=t-n,Ne.y=i-y,Dw(Ne,0,0,e.rotation),Ne.x*=e.scaleX,Ne.y*=e.scaleY,Ne.x+=e.x,Ne.y+=e.y,Ne},eJ=function(e,t,i){var n=e.width/2,y=e.height/2;return Ne.x=t-e.x,Ne.y=i-e.y,Ne.x/=e.scaleX,Ne.y/=e.scaleY,Dw(Ne,0,0,-e.rotation),Ne.x+=n,Ne.y+=y,Ne},Ne={x:0,y:0};class iJ{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var n=this.parent,y=n.height,S=n.frame.cutWidth/y/2,r=n.frame.cutHeight/y/2,T=t/y-S,s=i/y-r,d=this.vertex;return d.x=T,d.y=-s,n.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,n){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,n||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var n=eJ(this.parent,t,i);return this.setLocalXY(n.x,n.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return Dv(this.parent,this._localX,this._localY)}get x(){var t=Dv(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Dv(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const sJ=Phaser.Geom.Mesh.Vertex,nJ=Phaser.Geom.Mesh.Face;var rJ=function(e){for(var t=e.isNinePointMode,i=t?9:4,n=e.vertices,y=e.faces,S=e.controlPoints,r=0;r<i;r++){var T=new sJ;n.push(T),S.push(new iJ(e,T))}var s;t?s=hJ:e.fourPointsModeRTL?s=oJ:s=aJ;for(var r=0,d=s.length;r<d;r+=3){var x=n[s[r+0]],f=n[s[r+1]],l=n[s[r+2]];y.push(new nJ(x,f,l))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const aJ=[0,2,3,0,3,1],oJ=[1,3,2,1,2,0],hJ=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var lJ=function(e){var t,i=0,n=e.height,y=0,S=e.width;if(e.isNinePointMode){var r=(y+S)/2,T=(i+n)/2;t=[y,i,r,i,S,i,y,T,r,T,S,T,y,n,r,n,S,n]}else t=[y,i,S,i,y,n,S,n];return t};const uJ=Phaser.Utils.Objects.IsPlainObject,da=Phaser.Utils.Objects.GetValue;let dJ=class extends ew{constructor(t,i,n,y,S,r){uJ(i)&&(r=i,i=da(r,"x",0),n=da(r,"y",0),y=da(r,"key",null),S=da(r,"frame",null)),super(t,i,n,y,S),this.type="rexQuadImage",this.isNinePointMode=da(r,"ninePointMode",!1),this.fourPointsModeRTL=da(r,"rtl",!1),this.controlPoints=[],rJ(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,n=this.controlPoints.length;i<n;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=lJ(this),i=this.width,n=this.height,y=this.frame.cutWidth/n/2,S=this.frame.cutHeight/n/2,r=this.frame.u0,T=this.frame.u1,s=this.frame.v0,d=this.frame.v1,x=T-r,f=d-s,l=this.controlPoints,h=0,a=t.length;h<a;h+=2){var u=t[h+0],v=t[h+1],o=h/2,c=u/n-y,p=v/n-S,g=r+x*(u/i),m=s+f*(v/n);this.vertices[o].set(c,-p,0).setUVs(g,m),l[o].resetLocalXY(u,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var FT=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var n=e.width,y=e.height,S=n*.5,r=y*.5,T=Math.tan(t)*r,s=Math.tan(i)*S,d=e.controlPoints,x=0,f=d.length;x<f;x++){var l=d[x],h=l.localXOrigin,a=l.localYOrigin;l.localX=h+(a>r?T:-T),l.localY=a+(h>S?s:-s)}};const fJ=Phaser.Utils.Objects.IsPlainObject,xu=Phaser.Utils.Objects.GetValue,DT=Phaser.Math.DegToRad,IT=Phaser.Math.RadToDeg;class cJ extends dJ{constructor(t,i,n,y,S){if(fJ(i)){var r=i;i=xu(r,"x",0),n=xu(r,"y",0),y=xu(r,"key",null),S=xu(r,"frame",null)}super(t,i,n,y,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,FT(this,this._skewX,this._skewY)}get skewXDeg(){return IT(this._skewX)}set skewXDeg(t){this.skewX=DT(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,FT(this,this._skewX,this._skewY)}get skewYDeg(){return IT(this._skewY)}set skewYDeg(t){this.skewY=DT(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const vJ=Phaser.Utils.Objects.IsPlainObject,yu=Phaser.Utils.Objects.GetValue;class pJ extends cJ{constructor(t,i,n,y,S){if(vJ(i)){var r=i;i=yu(r,"x",0),n=yu(r,"y",0),y=yu(r,"width",32),S=yu(r,"height",32)}var T=rw(t,y,S);super(t,i,n,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class Iw extends hw(pJ){get skewState(){return this.isRunning}}st.register("skew",function(e,t){return new Iw(e,t)});et(window,"RexPlugins.UI.Skew",Iw);st.register("anchor",function(e,t){return new z0(e,t)});et(window,"RexPlugins.UI.Anchor",z0);st.register("textTyping",function(e,t){return new Sm(e,t)});et(window,"RexPlugins.UI.TextTyping",Sm);st.register("textPage",function(e,t){return new Ef(e,t)});et(window,"RexPlugins.UI.TextPage",Ef);var Ra=void 0,gJ=function(e){e!==Ra&&(Ra!==void 0&&Ra.close(),Ra=e)},mJ=function(e){e===Ra&&(Ra=void 0)};const Gs=Phaser.Utils.Objects.GetValue,xJ=Phaser.Utils.Objects.Clone;var yJ=function(e,t){t===void 0&&(t={}),t=xJ(t);var i=e.scene,n=e.style,y=Gs(t,"backgroundColor",n.backgroundColor);y===null&&(y="transparent"),t.text=Gs(t,"text",e.text),t.fontFamily=Gs(t,"fontFamily",n.fontFamily),t.fontSize=Gs(t,"fontSize",n.fontSize),t.color=Gs(t,"color",n.color),t.backgroundColor=y,t.direction=Gs(t,"rtl",n.rtl)?"rtl":"ltr",t.align=Gs(t,"align",CJ(n)),t.direction==="rtl"&&am(e)&&(t.align="right");var S=new af(i,e.x,e.y,Gs(t,"width",e.width),Gs(t,"height",e.height),t);S.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var r=e.parentContainer;return r?r.add(S):i.add.existing(S),S},CJ=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},TJ=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const fa=Phaser.Utils.Objects.GetValue,SJ=Phaser.Utils.Objects.Merge;var EJ=function(e,t){e===void 0&&(e={}),e=SJ(e,this.openConfig),gJ(this),Qs(e)&&(t=e,e=void 0);var i=fa(e,"inputType",void 0);i===void 0&&(i=fa(e,"type","text")),t===void 0&&(t=fa(e,"onClose",void 0));var n=fa(e,"onOpen",void 0),y=fa(e,"onTextChanged",void 0);return this.inputText=yJ(this.parent,e).on("textchange",function(S){var r=S.text;y?y(this.parent,r):this.parent.text=r},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,fa(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=TJ(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),n&&n(this.parent),this.emit("open",this.parent)},this),this},PJ=function(){return mJ(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},MJ={open:EJ,close:PJ};const wJ=Phaser.Utils.Objects.GetValue;class Af extends ae{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var n=wJ(i,"clickEnable",!0);n&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(Af.prototype,MJ);var RJ=function(e,t,i){return e._edit||(e._edit=new Af(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};st.register("textEdit",function(e,t){return new Af(e,t)});et(window,"RexPlugins.UI.TextEdit",Af);const Iv=65535;var vd=function(e,t,i){if(t==null)return e;if(t===0)return Bv(e,0,i),e;var n=e.text.length;if(n===0)return Bv(e,t,i),e;var y=Math.floor(t*1.5/n);i!==void 0&&y>i&&(y=Math.floor(i));for(var S={},r=bT(e,y,t,i,S),T=0;T<=Iv&&r!==0;T++){if(y+=r,y<0){y=0;break}r=bT(e,y,t,i,S)}return T===Iv&&console.warn(`FontSizeFit: Test count exceeds ${Iv}`),e.setFontSize(y),Bv(e,t,i),e},BT=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},bT=function(e,t,i,n,y){var S=BT(e,t,y),r=BT(e,t+1,y),T;if(n!==void 0)if(S.height<=n&&r.height>n)T=0;else{if(S.height>n)return-1;T=Math.floor(n-S.height)}var s;if(S.width<=i&&r.width>i)return 0;if(S.width>i)return-1;var s=Math.floor(i-S.width);return T===void 0?s:Math.min(s,T)},Bv=function(e,t,i){var n=e.style;n&&(n.fixedWidth=t,n.parent.width=t,i!==void 0&&(n.fixedHeight=i,n.parent.height=i),n.update(!1))};const bv=Phaser.Utils.Objects.GetValue;var AJ=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=bv(t,"minWidth",0),n=bv(t,"minHeight",0),y=bv(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=n,y?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,r){return vd(e,S,r),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),vd(e,S,void 0),e},e.resize=function(S,r){return e.width===S&&e.height===r||e.setFixedSize(S,r),e}),e};class Bw extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new st(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,i,n,y){return t.visible?Qd(t,i,n,y):!1}get viewport(){return _a(this.scene,this.scene.cameras.main,!0)}}var LJ={getParentSizer:yi,getTopmostSizer:P2,removeFromParent:gr,hide:En,show:Sn,isShown:W0,confirmAction:GM,edit:RJ,wrapExpandText:PM,fontSizeExpandText:AJ,fontSizeResize:vd,setFontSizeToFitWidth:vd,waitEvent:Ud,waitComplete:Oe,delayPromise:iM,setChildrenInteractive:Q0,fadeIn:$d,fadeOutDestroy:Kd,easeMoveTo:D2,easeMoveFrom:I2,modal:H0,modalPromise:e7,modalClose:k2,requestDrag:Tw,openFileChooser:nM};Object.assign(Bw.prototype,LJ);const OJ=e=>{e.create({key:"lizard-idle",frames:e.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_idle_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"lizard-run",frames:e.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_run_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"lizard-hit",frames:e.generateFrameNames("lizard",{start:0,end:0,prefix:"lizard_m_hit_anim_f",suffix:".png"}),repeat:-1,frameRate:10})},ca={ksenia:{text:"  , !       ,      !"},nastya:{text:" ,    !       ,    !"},anna:{text:",    , !        ,     !"},elena:{text:"  ,  !         !"},nataliaV:{text:"   8 ,  !         !     !"},nataliaP:{text:" ,    , !         !"}},GT=[{name:" ",greetings:ca.ksenia.text},{name:" ",greetings:ca.anna.text},{name:" ",greetings:ca.nataliaP.text},{name:" ",greetings:ca.nastya.text},{name:" ",greetings:ca.nataliaV.text},{name:" ",greetings:ca.elena.text}],NT=240;class FJ extends Ut.Scene{constructor(){super("Menu");ct(this,"window");ct(this,"text");ct(this,"state","none");ct(this,"startGame",()=>{this.scene.start("Game")})}create(){const n=this.cameras.main.width/2,y=this.cameras.main.height/2;this.cards=[],GT.forEach((S,r)=>{const T=r/GT.length*Math.PI*2,s=n+Math.cos(T)*NT,d=y+Math.sin(T)*NT,x=this.add.rectangle(s,d,160+50,100,16777215,1);x.setInteractive(),x.on("pointerdown",()=>{localStorage.setItem("girlName",S.name),localStorage.setItem("greetings",S.greetings),this.startGame()});const f=this.add.particles(0,0,"flare",{speed:24,lifespan:1500,quantity:5,scale:{start:.4,end:0},emitting:!1,emitZone:{type:"edge",source:x.getBounds(),quantity:42},duration:200});x.on("pointerover",()=>{f.start()}),this.add.text(x.x-x.width/2+16,x.y,S.name,{color:"pink"}),this.cards.push(x)})}}class DJ{constructor(t=0,i=0,n=0){ct(this,"index");ct(this,"x");ct(this,"y");ct(this,"targetY");ct(this,"speed");this.index=n,this.x=t,this.y=i,this.targetY=i,this.speed=.5}update(t,i){const n=this.targetY-this.y;this.speed+=i*n-this.speed*t,this.y+=this.speed}}class IJ{constructor(t,i=0,n=0,y=100,S=100,r=150,{dampening:T=.025,renderDepth:s=1,spread:d=.09,tension:x=.025,texture:f}={}){ct(this,"debug");ct(this,"x");ct(this,"y");ct(this,"w");ct(this,"h");ct(this,"emitter");ct(this,"context");if(typeof f>"u")throw new Error("This version of WaterBody requires explicitly setting a texture");this.debug=!1,this.x=i,this.y=n,this.w=y,this.h=S,this.tension=x,this.dampening=T,this.spread=d,this.depth=Math.min(r,this.h),this.texture=f;const l=[0,this.h-this.depth,this.w,this.h-this.depth];console.log(l);const a=new Ut.Geom.Line(...l).getPoints(0,20);this.columns=[...a,{x:this.w,y:l[1]}].map(({x:v,y:o},c)=>new DJ(v,o,c));const u=this.columns.reduce((v,{x:o,y:c})=>[...v,o,c],[]);if(this.body=t.add.polygon(i,n,[l[0],this.h,...u,l[2],this.h]).setFillStyle(1334737,0).setDepth(99).setOrigin(0,0),typeof f=="string"){this.background=t.add.tileSprite(this.x,this.y,this.w,this.h,this.texture).setAlpha(.75).setDepth(s).setOrigin(0,0),this.background.mask=new Ut.Display.Masks.GeometryMask(t,this.body),this.sensor=t.matter.add.rectangle(this.x+this.w/2,this.y+this.h-this.depth/2,y,this.depth,{isSensor:!1,isStatic:!0}),this.sensor.label="water",this.debugGraphic=t.add.graphics({fillStyle:{color:16777215}});const v=new Ut.Geom.Polygon(Object.values(this.body.geom.points).map(({x:o,y:c})=>[this.x+o,this.y+c]));this.emitter=t.add.particles(0,0,"droplet",{alpha:1,tint:741525,speed:{min:100,max:500},gravityY:1e3,lifespan:4e3,quantity:0,frequency:1e3,angle:{min:240,max:300},scale:{min:.5,max:.1},deathZone:{type:"onEnter",source:v},deathCallbackScope:this,deathCallback:this.onDropletDeath}),t.sys.events.on("update",this.update,this)}}update(){this.columns.forEach(y=>y.update(this.dampening,this.tension));const t=this.columns.reduce((y,{x:S,y:r})=>[...y,S,r],[]);this.body.geom.setTo([0,this.h,...t,this.w,this.h]),this.body.updateData(),this.debugGraphic.clear(),this.debug&&this.columns.forEach(({x:y,y:S})=>this.debugGraphic.fillRect(this.x+y-1,this.y+S-1,2,2));let i=Array(this.columns.length).fill(0),n=Array(this.columns.length).fill(0);for(let y=0;y<1;y++){for(let S=0;S<this.columns.length-1;S++){if(S>0){const r=this.columns[S],T=this.columns[S-1];i[S]=this.spread*(r.y-T.y),T.speed+=i[S]}if(S<this.columns.length-1){const r=this.columns[S],T=this.columns[S+1];n[S]=this.spread*(r.y-T.y),T.speed+=n[S]}}for(let S=0;S<this.columns.length-1;S++){if(S>0){const r=this.columns[S-1];r.y+=i[S]}if(S<this.columns.length-1){const r=this.columns[S+1];r.y+=n[S]}}}}splash(t,i=1,n=3){let y=this.columns[t];return y.speed=i,this.emitter.explode(n,this.x+y.x,this.y+y.y),this}ripple(t,i){let n=this.columns[t];return n.speed=i,this}setDebug(t){return this.debug=t,this}onDropletDeath({x:t}){const n=this.columns.length-1,y=this.columns.findIndex((T,s)=>this.x+T.x>=t&&s),S=Ut.Math.Clamp(y,0,n),r=.5;this.ripple(S,r)}}class BJ extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("water",this.createWaterBody)}createWaterBody(t,i,n,y,S,r){return new IJ(this.scene,t,i,n,y,S,r)}}const bJ=e=>{e.create({key:"ksenia_idle",frames:e.generateFrameNames("ksenia",{start:0,end:4,prefix:"ksenia_idle",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"ksenia_run",frames:e.generateFrameNames("ksenia_run",{start:0,end:7,prefix:"ksenia_run",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"ksenia_jump",frames:e.generateFrameNames("ksenia_jump",{start:0,end:3,prefix:"Char1_Jump-Up",suffix:".png"}),repeat:-1,frameRate:20}),e.create({key:"ksenia_down",frames:e.generateFrameNames("ksenia_down",{start:0,end:3,prefix:"Char1_Jump-Down",suffix:".png"}),repeat:-1,frameRate:20})};class GJ extends Ut.Physics.Matter.Sprite{constructor(i,n,y,S,r,T){super(i.matter.world,n,y,S,T,{label:"girl",frictionAir:.006});ct(this,"direction",3);ct(this,"hp",100);ct(this,"isTouchingGround",!1);ct(this,"text");this.flipX=!0,this.name=r,this.text=this.scene.add.text(this.x,this.y-20,this.name,{color:"#3807c4",fontFamily:"Arial",fontStyle:"bold",fontSize:22,align:"center"}).setOrigin(.5,.5),this.text.setDepth(11).setAlpha(0),this.text.postFX.addGlow(16777215,6,0,!1,.1,24),this.setRectangle(27,55),this.setOrigin(.5,.56),this.setScale(2),this.setFixedRotation(),this.setDepth(7),this.scene.add.existing(this),bJ(this.scene.anims),this.anims.play("ksenia_idle"),this.emitter=this.scene.add.particles(0,0,"flare",{speed:24,lifespan:1500,quantity:10,scale:{start:.4,end:0},emitting:!1,emitZone:{type:"edge",source:this.getBounds(),quantity:42},duration:500}),this.emitter.setDepth(7),this.setOnCollide(s=>{this.isTouchingGround=!0,console.log(this.isTouchingGround),this.emitter.setPosition(this.x,this.y+this.height/2),this.emitter.start()})}update(i){const{left:n,right:y,up:S,down:r,space:T}=i,s=4;this.emitter.copyPosition(this.x,this.y),!this.isTouchingGround&&this.body.velocity.y<0?(this.anims.play("ksenia_jump",!0),y.isDown?(this.setVelocityX(s),this.flipX=!0):n.isDown&&(this.setVelocityX(-s),this.flipX=!1)):!this.isTouchingGround&&this.body.velocity.y>0?(this.anims.play("ksenia_down",!0),y.isDown?(this.setVelocityX(s),this.flipX=!0):n.isDown&&(this.setVelocityX(-s),this.flipX=!1)):n.isDown?(this.setVelocityX(-s),this.flipX=!1,this.anims.play("ksenia_run",!0)):y.isDown?(this.setVelocityX(s),this.flipX=!0,this.anims.play("ksenia_run",!0)):this.anims.play("ksenia_idle",!0);const d=15;Ut.Input.Keyboard.JustDown(S)&&this.isTouchingGround&&(this.setVelocityY(-d),this.isTouchingGround=!1),this.text.copyPosition({x:this.x,y:this.y-60}),this.y>3e3&&(this.y=1800,this.setVelocityY(-10))}}class Gv extends Ut.Physics.Matter.Image{constructor(i,n,y,S,r){super(i.matter.world,n,y,S,r);ct(this,"startY",0);ct(this,"startX",0);this.startX=n,this.startY=y,this.setStatic(!0),this.setDepth(7),this.setFixedRotation(),this.setFriction(1,0,1/0),this.setIgnoreGravity(!0),this.scene.add.existing(this)}moveVertically(i){this.scene.tweens.addCounter({from:0,to:-900,duration:i,ease:Ut.Math.Easing.Sine.InOut,repeat:-1,yoyo:!0,onUpdate:(n,y)=>{const S=this.startY+y.value,r=S-this.y;this.y=S,this.setVelocityY(r)}})}moveHorizontally(i,n){this.scene.tweens.addCounter({from:0,to:-n,duration:i,ease:Ut.Math.Easing.Sine.InOut,repeat:-1,yoyo:!0,onUpdate:(y,S)=>{const r=this.startX+S.value,T=r-this.x;this.x=r,this.setVelocityX(T)}})}}class NJ extends Ut.GameObjects.Container{constructor(i,n,y,S,r,T){super(i,n,y);ct(this,"rectangle");ct(this,"text");ct(this,"paper");this.paper=new Ut.GameObjects.Image(i,0,0,"paper"),this.paper.setScale(1.1,.5),this.add(this.paper),this.setSize(S,r),this.text=new Ut.GameObjects.Text(i,this.x,this.y,T,{color:"#000000",wordWrap:{width:S-16},fontSize:28}),this.add(this.text),this.text.setPosition(this.width/2-S+16,this.height/2-this.height+16),this.setDepth(6),this.alpha=0,i.add.existing(this)}}const zJ=e=>{e.create({key:"chest-open",frames:e.generateFrameNames("chest",{start:20,end:29,prefix:"Chests",suffix:".png"}),frameRate:10})};class kJ extends Ut.Physics.Matter.Sprite{constructor(i,n,y,S,r){super(i.matter.world,n,y,S,r,{label:"chest"});ct(this,"open",!1);this.setScale(1.5),this.setStatic(!0),this.setFixedRotation(),this.setDepth(7),this.setIgnoreGravity(!0),zJ(this.scene.anims),this.scene.add.existing(this),this.setPipeline("Light2D")}openChest(){this.open=!0,console.log("open chest"),this.anims.play("chest-open")}update(i){}}const VJ=Ut.Math.DegToRad(-180);class UJ extends Ut.Scene{constructor(){super("Game");ct(this,"hook");ct(this,"lineGroup");ct(this,"cursors");ct(this,"stars");ct(this,"platform");ct(this,"platform2");ct(this,"platform3");ct(this,"chest");ct(this,"starsSummary",0);ct(this,"lizard");ct(this,"isTouchingGround",!1);ct(this,"level",1);ct(this,"loadNextLevel",!1);ct(this,"showDialog",!1);ct(this,"dialog");ct(this,"fish");ct(this,"dialogLevel",0);ct(this,"emitter",new Ut.Events.EventEmitter);ct(this,"water");ct(this,"stick");ct(this,"music");ct(this,"backgrounds",[]);ct(this,"velocityX",10);ct(this,"collisionCategory1",1);ct(this,"collisionCategory2",2);ct(this,"collisionCategory3",4);ct(this,"collisionCategory4",8);ct(this,"collisionWaterCategory",5)}preload(){this.cursors=this.input.keyboard.createCursorKeys()}create(){var f;this.sound.pauseOnBlur=!1,this.music=this.sound.add("music",{volume:.2,loop:!0}),this.sound.locked?this.sound.once(Ut.Sound.Events.UNLOCKED,()=>{this.music.play()}):this.music.play(),this.game.events.on(Ut.Core.Events.BLUR,()=>{console.log("blur event")}),document.addEventListener("visibilitychange",()=>{console.log("visibilitychange"),document.hidden}),this.tweener={x:VJ},OJ(this.anims),this.GROUND_COLLISION_GROUP=this.matter.world.nextCategory();const i=localStorage.getItem("happyName"),n={x:550,y:1945};this.lizard=new GJ(this,n.x,n.y,"ksenia",i,{label:"girl"}),this.platform=new Gv(this,2450,2e3,"platform",{}),this.platform2=new Gv(this,3e3,1200,"platform",{}),this.platform3=new Gv(this,4e3,1200,"platform",{}),this.chest=new kJ(this,this.platform3.x+30,this.platform3.y-40,"chest"),this.platform.moveVertically(2200),this.platform2.moveHorizontally(2e3,-700),this.lizard.setCollisionCategory(this.collisionCategory1),this.lizard.setCollidesWith(this.collisionCategory1|this.collisionCategory2|this.collisionCategory4),this.lizard.items=[],this.lizard.itemInArm=null,this.input.on("pointerdown",l=>{}),(f=this.input.keyboard)==null||f.addKey("E"),this.input.keyboard.addKey("space").on("down",()=>{}),this.matter.add.mouseSpring(),this.cameras.main.startFollow(this.lizard);const{width:S,height:r}=this.scale,T=this.add.graphics();T.fillStyle(0,1),this.backgrounds.push({ratioX:.07,ratioY:.009,sprite:this.add.tileSprite(0,0,S,r,"background_1").setOrigin(0,0).setScrollFactor(0,0).setScale(3.5,4)},{ratioX:.09,ratioY:.02,sprite:this.add.tileSprite(0,-120,S,r,"background_2").setOrigin(0,0).setScrollFactor(0,0).setScale(3.5,4)}),this.backgrounds.forEach(l=>{T.fillRect(0,0,this.cameras.main.width,this.cameras.main.height)});const s=this.make.tilemap({key:"happy-ground-tilemap"}),d=s.addTilesetImage("ground","happy-ground"),x=s.createLayer("ground",d);x==null||x.setName("ground"),x==null||x.setPipeline("Light2D"),x==null||x.setCollisionByProperty({collides:!0}),x==null||x.setCollisionCategory(this.collisionCategory2),x==null||x.setCollidesWith(this.collisionCategory1|this.collisionCategory3|this.collisionCategory4),this.add.graphics(),this.matter.world.convertTilemapLayer(x),this.matter.world.on("collisionend",(l,h,a)=>{l.pairs.some(u=>u.bodyA.label=="water"&&u.bodyB.label=="hook")}),this.matter.world.on("collisionstart",(l,h,a)=>{if(h===this.lizard.body&&a===this.chest.body||h===this.chest.body&&a===this.lizard.body){this.chest.openChest();const u=localStorage.getItem("greetings");{let v=new NJ(this,this.chest.x,this.chest.y-200,400,260,u);this.tweens.add({targets:v,alpha:1,ease:"Bounce",duration:1e3,repeat:0,yoyo:!1})}}if(l.pairs.some(u=>u.bodyA.label=="lizard"&&u.bodyB.label=="water")){const u=this.waterBody.columns.findIndex((c,p)=>c.x+370>=h.position.x&&p),v=h.speed*2,o=Math.ceil(h.speed)*5;this.lizard.setFrictionAir(.25),this.waterBody.splash(Ut.Math.Clamp(u,0,this.waterBody.columns.length-1),v,o)}}),this.matter.world.on("collisionactive",(l,h,a)=>{l.pairs.some(u=>u.bodyA.label=="water"&&u.bodyB.label=="hook")&&(this.rod.at(-2).inWater=!0),l.pairs.some(u=>u.bodyA.label=="lizard"&&u.bodyB.label=="hook")&&console.log(" ")}),this.emitter.on("lizard-dead",({x:l,y:h})=>{for(let a=0;a<20;a++)this.stars.create(l,h,"star")}),this.lights.enable(),this.lights.setAmbientColor(8421504),this.events.on("resume",()=>{}),this.light=this.lights.addLight(this.lizard.x,this.lizard.y,512).setIntensity(2),this.cameras.main.setFollowOffset(-30,80)}update(i,n){for(let y=0;y<this.backgrounds.length;++y){const S=this.backgrounds[y];S.sprite&&(S.sprite.tilePositionX=this.cameras.main.scrollX*S.ratioX)}this.light.x=this.lizard.x,this.light.y=this.lizard.y,this.cursors,this.lizard.update(this.cursors)}collectStar(i,n){(n==null?void 0:n.alpha)===1&&(n.disableBody(!0,!1),this.tweens.add({targets:n,x:-5e3,y:-2e3,ease:"Bounce",duration:3e3,repeat:0,yoyo:!1}),setTimeout(()=>{this.starsSummary+=5},500),setTimeout(()=>{n.disableBody(!0,!0),this.scene.remove(n)},2e3))}punchStar(i,n){}punchLizard(i,n){}}const WJ={type:Ut.WEBGL,width:1e3,height:600,scale:{mode:Ut.Scale.MAX_ZOOM,autoCenter:Ut.Scale.CENTER_BOTH},physics:{default:"matter",matter:{gravity:{y:1}}},scene:[vL,FJ,UJ],plugins:{global:[{key:"WaterBodyPlugin",mapping:"waterplugin",plugin:BJ,start:!0}],scene:[{key:"rexUI",plugin:Bw,mapping:"rexUI"}]}};new Ut.Game(WJ);zv.createRoot(document.getElementById("root")).render(Nv(_w.StrictMode,{children:Nv(fL,{})}));
